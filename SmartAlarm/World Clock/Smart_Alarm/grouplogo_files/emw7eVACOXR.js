if (self.CavalryLogger) { CavalryLogger.start_js(["Jpiux"]); }

__d("messengerMessageCountReact",["cx","fbt","bs_block","bs_curry","React","numberRe","ReasonReact","bs_js_primitive","MercuryThreadInformer"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(p){return c("bs_block").__(0,[p])}function k(p){return c("bs_block").__(1,[p])}var l=c("ReasonReact").reducerComponentWithRetainedProps("MessengerMessageCountReact");function m(p,q){if(p==null)return 0;else return c("bs_js_primitive").undefined_to_opt(p[q])}function n(p,q,r){__p&&__p();return[l[0],l[1],l[2],function(s){var t=+(s[3][0]===p.thread_id);if(t!==0)return s[2];else return p.message_count},l[4],l[5],l[6],l[7],l[8],function(s){return c("React").createElement("div",{className:"_60oa"},i._("Messages Sent:"),c("React").createElement("div",{className:"_397l"},c("ReasonReact").element(0,0,c("numberRe").make(s[2],[]))))},function(){return p.message_count},[p.thread_id],function(s,t){__p&&__p();if(s.tag){var u=m(s[0],p.thread_id);if(u&&u[0].source==="client_delete_messages")return c("bs_block").__(0,[t-1|0]);else return 0}else{var v=m(s[0],p.thread_id);if(v)return c("bs_block").__(0,[t+v[0].length|0]);else return 0}},function(s){__p&&__p();var t=s[1],u=c("MercuryThreadInformer").getForFBID(q);return[[function(){return u.subscribe("messages-received",function(r,v){return c("bs_curry")._2(t,j,v)})},function(v){v.unsubscribe();return 0}],[[function(){return u.subscribe("messages-reordered",function(r,v){return c("bs_curry")._2(t,k,v)})},function(v){v.unsubscribe();return 0}],0]]},l[14]]}var o=c("ReasonReact").wrapReasonForJs(l,function(p){return n(p.thread,p.viewer,[])});g.received=j;g.deleted=k;g.component=l;g.getThreadPayloadFromInform=m;g.make=n;g.jsComponent=o}),null);