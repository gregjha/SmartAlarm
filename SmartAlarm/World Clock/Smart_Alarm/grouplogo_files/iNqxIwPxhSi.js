if (self.CavalryLogger) { CavalryLogger.start_js(["uzktg"]); }

__d("BrowserExtensionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:BrowserExtensionsLoggerConfig",this.$BrowserExtensionsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:BrowserExtensionsLoggerConfig",this.$BrowserExtensionsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$BrowserExtensionsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$BrowserExtensionsTypedLogger1=babelHelpers["extends"]({},this.$BrowserExtensionsTypedLogger1,j);return this};h.prototype.setAPIEndpoint=function(j){this.$BrowserExtensionsTypedLogger1.api_endpoint=j;return this};h.prototype.setAppID=function(j){this.$BrowserExtensionsTypedLogger1.appid=j;return this};h.prototype.setAppversion=function(j){this.$BrowserExtensionsTypedLogger1.appversion=j;return this};h.prototype.setClientUserID=function(j){this.$BrowserExtensionsTypedLogger1.client_userid=j;return this};h.prototype.setClienttime=function(j){this.$BrowserExtensionsTypedLogger1.clienttime=j;return this};h.prototype.setCountry=function(j){this.$BrowserExtensionsTypedLogger1.country=j;return this};h.prototype.setDeviceid=function(j){this.$BrowserExtensionsTypedLogger1.deviceid=j;return this};h.prototype.setErrorCode=function(j){this.$BrowserExtensionsTypedLogger1.error_code=j;return this};h.prototype.setErrorMessage=function(j){this.$BrowserExtensionsTypedLogger1.error_message=j;return this};h.prototype.setExtraClientData=function(j){this.$BrowserExtensionsTypedLogger1.extra_client_data=j;return this};h.prototype.setIsemployee=function(j){this.$BrowserExtensionsTypedLogger1.isemployee=j;return this};h.prototype.setName=function(j){this.$BrowserExtensionsTypedLogger1.name=j;return this};h.prototype.setSessionid=function(j){this.$BrowserExtensionsTypedLogger1.sessionid=j;return this};h.prototype.setStartURL=function(j){this.$BrowserExtensionsTypedLogger1.start_url=j;return this};h.prototype.setStringPageID=function(j){this.$BrowserExtensionsTypedLogger1.string_page_id=j;return this};h.prototype.setThreadID=function(j){this.$BrowserExtensionsTypedLogger1.thread_id=j;return this};h.prototype.setWebsiteURL=function(j){this.$BrowserExtensionsTypedLogger1.website_url=j;return this};var i={api_endpoint:true,appid:true,appversion:true,client_userid:true,clienttime:true,country:true,deviceid:true,error_code:true,error_message:true,extra_client_data:true,isemployee:true,name:true,sessionid:true,start_url:true,string_page_id:true,thread_id:true,website_url:true};f.exports=h}),null);
__d("BrowserExtensionsAskPermissionsChatTabDialog.react",["cx","BrowserExtensionsTypedLogger","BrowserExtensionsPermissionsHelper","Image.react","React","URI","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_5_jw",src:this.props.profileImageUrl})),this.props.message),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:this.props.rejectButtonTitle,onClick:function(){this.$BrowserExtensionsAskPermissionsChatTabDialog1(false)}.bind(this)}),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:this.props.confirmButtonTitle,onClick:function(){this.$BrowserExtensionsAskPermissionsChatTabDialog1(true);c("BrowserExtensionsPermissionsHelper").grantPermissions(this.props.pageID,this.props.threadID,this.props.permissionToGrant,this.props.successCallback,this.props.errorCallback)}.bind(this),use:"confirm"})))};l.prototype.$BrowserExtensionsAskPermissionsChatTabDialog1=function(m){new(c("BrowserExtensionsTypedLogger"))().setAPIEndpoint("askPermission").setExtraClientData(JSON.stringify({source:"platform_api",extension_type:"messenger_extension",permission_requested:this.props.permissionToGrant,permission_accepted:m})).setName("browser_extensions_permission_dialog_action").setWebsiteURL(this.props.thirdPartyURI.toString()).setStartURL(this.props.thirdPartyURI.toString()).setStringPageID(this.props.pageID).setThreadID(this.props.threadID).log()};function l(){i.apply(this,arguments)}l.propTypes={thirdPartyURI:k.instanceOf(c("URI")).isRequired,pageID:k.string.isRequired,threadID:k.string.isRequired,message:k.string.isRequired,profileImageUrl:k.string.isRequired,confirmButtonTitle:k.string.isRequired,rejectButtonTitle:k.string.isRequired,permissionToGrant:k.string.isRequired,successCallback:k.func.isRequired,errorCallback:k.func.isRequired};f.exports=l}),null);
__d("BrowserExtensionsAskPermissionsMessengerDialog.react",["cx","BrowserExtensionsPermissionsHelper","BrowserExtensionsTypedLogger","Image.react","LayerFadeOnHide","MessengerDialog.react","messengerDialogsRe","messengerDialogBodyReact","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogFooter.react","React","URI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("messengerDialogBodyReact").jsComponent,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={clickedConfirm:false},this.$BrowserExtensionsAskPermissionsMessengerDialog1=function(s){if(!s){if(!this.state.clickedConfirm)this.props.successCallback({permissions:this.props.grantedPermissions});c("messengerDialogsRe").removeDialog()}}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("MessengerDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},hideOnEscape:true,onToggle:this.$BrowserExtensionsAskPermissionsMessengerDialog1,shown:true},c("React").createElement(k,null,c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_5_jw",src:this.props.profileImageUrl})),this.props.message),c("React").createElement(c("MessengerDialogFooter.react"),null,c("React").createElement(c("MessengerDialogCancelButton.react"),{label:this.props.rejectButtonTitle,onClick:function(){this.$BrowserExtensionsAskPermissionsMessengerDialog2(false)}.bind(this)}),c("React").createElement(c("MessengerDialogButton.react"),{action:"confirm",label:this.props.confirmButtonTitle,onClick:function(){this.setState({clickedConfirm:true},function(){this.$BrowserExtensionsAskPermissionsMessengerDialog2(true);c("messengerDialogsRe").removeDialog();c("BrowserExtensionsPermissionsHelper").grantPermissions(this.props.pageID,this.props.threadID,this.props.permissionToGrant,this.props.successCallback,this.props.errorCallback)}.bind(this))}.bind(this),type:"primary"})))};m.prototype.$BrowserExtensionsAskPermissionsMessengerDialog2=function(n){new(c("BrowserExtensionsTypedLogger"))().setAPIEndpoint("askPermission").setExtraClientData(JSON.stringify({source:"platform_api",extension_type:"messenger_extension",permission_requested:this.props.permissionToGrant,permission_accepted:n})).setName("browser_extensions_permission_dialog_action").setWebsiteURL(this.props.thirdPartyURI.toString()).setStartURL(this.props.thirdPartyURI.toString()).setStringPageID(this.props.pageID).setThreadID(this.props.threadID).log()};m.propTypes={thirdPartyURI:l.instanceOf(c("URI")).isRequired,pageID:l.string.isRequired,threadID:l.string.isRequired,message:l.string.isRequired,profileImageUrl:l.string.isRequired,confirmButtonTitle:l.string.isRequired,rejectButtonTitle:l.string.isRequired,permissionToGrant:l.string.isRequired,grantedPermissions:l.arrayOf(l.string).isRequired,successCallback:l.func.isRequired,errorCallback:l.func.isRequired};f.exports=m}),null);
__d("errorDesc",["fbt","invariant"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){i(0)}j.withParams=function(k,l){i(0)};j._=function(k,l){return k(h,l)};f.exports=j}),null);
__d("BrowserExtensionsErrorHandler",["errorCode","errorDesc"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={getExternalError:function k(l){__p&&__p();switch(l){case 2018062:return{code:2018062,message:i._(function(m,n){return m._("The URL provided is not whitelisted for messenger extensions")},{})};case 2018067:return{code:2018067,message:i._(function(m,n){return m._("Pages using Messenger Extensions must use https and not include any port.")},{})};case 2018164:return{code:2018164,message:i._(function(m,n){return m._("Please pass in a valid app ID.")},{})};case 2018166:return{code:2018166,message:i._(function(m,n){return m._("Permission not valid to call the SDK API.")},{})};case 2018159:return{code:2018159,message:i._(function(m,n){return m._("Invalid payload were passed to the share flow.")},{})};case 2018160:return{code:2018160,message:i._(function(m,n){return m._("The provided open graph template is not supported.")},{})};case 2018161:return{code:2018161,message:i._(function(m,n){return m._("Open graph URL in the preview content does not match the one in share content.")},{})};case 2018053:return{code:2018053,message:i._(function(m,n){return m._("Element button title cannot be empty.")},{})};case 2018125:return{code:2018125,message:i._(function(m,n){return m._("Invalid URL button fields provided. Please check documentation for details.")},{})};case 2018041:return{code:2018041,message:i._(function(m,n){return m._("Web url cannot be empty for url type button")},{})};case 2018158:return{code:2018158,message:i._(function(m,n){return m._("There was a problem creating the share attachment. Please try again later.")},{})};case 2018142:return{code:2018142,message:i._(function(m,n){return m._("Beginshare parameters are not valid.")},{})};case 2018034:return{code:2018034,message:i._(function(m,n){return m._("Message cannot be empty, must provide valid attachment or text")},{})};case 2018167:return{code:2018167,message:i._(function(m,n){return m._("Another API operation is in progress.")},{})};case 2018012:return{code:2018012,message:i._(function(m,n){return m._("Unexpected internal error")},{})};case 2018154:default:return{code:2018154,message:i._(function(m,n){return m._("Messenger Extensions unexpected error.")},{})}}}};f.exports=j}),null);
__d("MessengerPlatformGrantPermissionsMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1544630875548192"};j.getQueryID=function(){"use strict";return"611085139087610"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerPlatformPermissionWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1068951296538364"};j.getQueryID=function(){"use strict";return"1526731417350771"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("BrowserExtensionsPermissionsHelper",["AsyncRequest","BrowserExtensionsAskPermissionsChatTabDialog.react","BrowserExtensionsAskPermissionsMessengerDialog.react","BrowserExtensionsTypedLogger","DialogX","BrowserExtensionsErrorHandler","MessengerPlatformGrantPermissionsMutationWebGraphQLMutation","LayerDestroyOnHide","LayerFadeOnHide","LayerHideOnBlur","messengerDialogsRe","MessengerEnvironment","MessengerPlatformPermissionWebGraphQLQuery","React","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k,l,m,n,o,p,q,r,s,t){__p&&__p();var u;if(c("MessengerEnvironment").messengerui)c("messengerDialogsRe").showDialog(function(){return c("React").createElement(c("BrowserExtensionsAskPermissionsMessengerDialog.react"),{thirdPartyURI:j,pageID:k,threadID:l,message:m,profileImageUrl:n,confirmButtonTitle:o,rejectButtonTitle:p,permissionToGrant:q,grantedPermissions:r,successCallback:s,errorCallback:t})});else(function(){var v={width:400,addedBehaviors:[c("LayerDestroyOnHide"),c("LayerFadeOnHide"),c("LayerHideOnBlur")]},w=c("React").createElement(c("BrowserExtensionsAskPermissionsChatTabDialog.react"),{thirdPartyURI:j,pageID:k,threadID:l,message:m,profileImageUrl:n,confirmButtonTitle:o,rejectButtonTitle:p,permissionToGrant:q,successCallback:s,errorCallback:t}),x=new(c("DialogX"))(v,w),y=false;x.subscribe("confirm",function(){y=true});x.subscribe("hide",function(){if(!y)s({permissions:r})});x.show()})();new(c("BrowserExtensionsTypedLogger"))().setAPIEndpoint("askPermission").setName("browser_extensions_permission_dialog_shown").setWebsiteURL(j.toString()).setStartURL(j.toString()).setStringPageID(k).setThreadID(l).log()}var i={askPermissions:function j(k,l,m,n,o,p){__p&&__p();var q=c("MessengerPlatformPermissionWebGraphQLQuery").getURI({params:{page_id:l,thread_id:m},selected_permissions:[n]});new(c("AsyncRequest"))().setURI(q).setHandler(function(r){__p&&__p();var s,t,u,v=(s=r)!=null?(s=s.payload)!=null?(s=s.data)!=null?(s=s.messenger_platform_permission)!=null?(s=s.selected_permission_infos)!=null?s[0]:s:s:s:s:s,w=(t=r)!=null?(t=t.payload)!=null?(t=t.data)!=null?(t=t.messenger_platform_permission)!=null?t.granted_permission_infos:t:t:t:t,x=(u=r)!=null?(u=u.payload)!=null?(u=u.errors)!=null?u[0]:u:u:u;if(!w){var y=x?x.code:null;p(c("BrowserExtensionsErrorHandler").getExternalError(y))}else{var z=w.map(function(B){return B.permission_type});if(!v||v.is_granted)o({permissions:z});else{var A=v.dialog_info;h(k,l,m,A.title,A.profile_image.uri,A.confirm_button_text,A.reject_button_text,n,z,o,p)}}}).send()},grantPermissions:function j(k,l,m,n,o){__p&&__p();var p=c("MessengerPlatformGrantPermissionsMutationWebGraphQLMutation").getURI({page_id:k,thread_id:l,permissions:[m]});new(c("AsyncRequest"))().setURI(p).setHandler(function(q){var r,s,t=(r=q)!=null?(r=r.payload)!=null?(r=r.data)!=null?(r=r.messenger_platform_grant_permissions)!=null?r.granted_permission_infos:r:r:r:r,u=(s=q)!=null?(s=s.payload)!=null?(s=s.errors)!=null?s[0]:s:s:s;if(t){var v=t.map(function(x){return x.permission_type});n({permissions:v})}else{var w=u?u.code:null;o(c("BrowserExtensionsErrorHandler").getExternalError(w))}}).send()}};f.exports=i}),null);
__d("MessengerPlatformBeginShareMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1467034453348931"};j.getQueryID=function(){"use strict";return"294980674291966"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("BrowserExtensionsShareChatTabDialog.react",["cx","fbt","AbstractTextArea.react","AsyncRequest","MessengerPlatformBeginShareMutationWebGraphQLMutation","CurrentUser","BrowserExtensionsErrorHandler","Image.react","immutable","MessengerComposeViewHeader.react","MessengerTextWithEntities.react","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","XUISpinner.react","emptyFunction","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m="broadcast";j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={isSending:false,message:"",recipients:c("immutable").List()},this.$BrowserExtensionsShareChatTabDialog3=function(t){this.setState({recipients:this.state.recipients.push(t)})}.bind(this),this.$BrowserExtensionsShareChatTabDialog4=function(t){var u=this.state.recipients;this.setState({recipients:u["delete"](u.indexOf(t))})}.bind(this),this.$BrowserExtensionsShareChatTabDialog2=function(){this.setState({recipients:c("immutable").List()})}.bind(this),this.$BrowserExtensionsShareChatTabDialog6=function(){__p&&__p();this.setState({isSending:true});var t=this.state.recipients.map(function(v){return v.getUniqueID()}).toArray(),u=c("MessengerPlatformBeginShareMutationWebGraphQLMutation").getURI({content_for_preview:{button_url:this.props.buttonUrl,button_title:this.props.buttonTitle,image_url:this.props.imageUrl,item_url:this.props.itemUrl,open_graph_url:this.props.openGraphUrl,preview_type:this.props.previewType,subtitle:this.props.subtitle,target_display:this.props.targetDisplay,title:this.props.title,attachment_id:this.props.attachmentID,facebook_media_url:this.props.facebookMediaUrl,media_type:this.props.mediaType},content_for_share:this.props.contentForShare,message_text:this.state.message,page_id:this.props.pageID,thread_ids:this.props.sharingType===m?t:this.props.threadID,trigger:this.props.sharingType===m?"JS_BRIDGE_BROADCAST":"JS_BRIDGE_DIRECT"});new(c("AsyncRequest"))(u).setHandler(function(v){var w;if(this.$BrowserExtensionsShareChatTabDialog1)this.setState({isSending:false});var x=(w=v)!=null?(w=w.payload)!=null?(w=w.errors)!=null?w[0]:w:w:w;if(x){var y=x?x.code:null;this.props.errorCallback(c("BrowserExtensionsErrorHandler").getExternalError(y))}else this.props.successCallback({is_sent:true})}.bind(this)).send()}.bind(this),p}n.prototype.componentDidMount=function(){this.$BrowserExtensionsShareChatTabDialog1=true};n.prototype.componentWillUnmount=function(){this.$BrowserExtensionsShareChatTabDialog1=false};n.prototype.render=function(){var o=this.props.sharingType===m?i._("Share"):i._("Send To Current Thread"),p=this.props.sharingType===m?this.state.recipients.size!==0:true,q=this.props.sharingType===m?c("React").createElement(c("MessengerComposeViewHeader.react"),{className:"_189v",forceHideClearButton:false,onClear:this.$BrowserExtensionsShareChatTabDialog2,onAddRecipient:this.$BrowserExtensionsShareChatTabDialog3,onRemoveRecipient:this.$BrowserExtensionsShareChatTabDialog4,onResize:c("emptyFunction"),recipients:this.state.recipients,viewer:c("CurrentUser").getID()}):null,r=this.props.sharingType===m?c("React").createElement("div",{className:"_4te6"},c("React").createElement(c("AbstractTextArea.react"),{autoFocus:true,className:"_4te8",disabled:this.state.isSending,onChange:function(u){return this.setState({message:u.target.value})}.bind(this),placeholder:i._("Type a message..."),rows:2,value:this.state.message})):null,s=this.state.isSending?c("React").createElement(c("XUISpinner.react"),{size:"large"}):null,t=this.props.imageUrl?this.props.imageUrl:this.props.facebookMediaPreviewUrl;return c("React").createElement("div",null,c("React").createElement(c("XUIDialogHeader.react"),null,c("React").createElement(c("XUIDialogHeaderTitle.react"),null,o)),c("React").createElement(c("XUIDialogBody.react"),{className:"_189w"},q,r,c("React").createElement("div",{className:"_5l-3"},c("React").createElement("div",{className:"_4tea"},c("React").createElement(c("Image.react"),{src:t})),c("React").createElement("div",{className:"_4tef"},c("React").createElement("div",{style:{fontWeight:"bold"}},this.$BrowserExtensionsShareChatTabDialog5(this.props.title)),c("React").createElement("div",null,this.$BrowserExtensionsShareChatTabDialog5(this.props.subtitle)),c("React").createElement("div",null,this.$BrowserExtensionsShareChatTabDialog5(this.props.targetDisplay))))),c("React").createElement(c("XUIDialogFooter.react"),{leftContent:s},c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:this.state.isSending||!p,label:i._("Send"),onClick:this.$BrowserExtensionsShareChatTabDialog6,use:"default"})))};n.prototype.$BrowserExtensionsShareChatTabDialog5=function(o){return c("React").createElement(c("MessengerTextWithEntities.react"),{renderEmoji:true,text:o||""})};n.propTypes={buttonTitle:l.string,buttonUrl:l.string,contentForShare:l.string,imageUrl:l.string,itemUrl:l.string,openGraphUrl:l.string,facebookMediaUrl:l.string,facebookMediaPreviewUrl:l.string,attachmentID:l.string,mediaType:l.string,previewType:l.string,subtitle:l.string,targetDisplay:l.string,title:l.string,sharingType:l.string.isRequired,pageID:l.string.isRequired,threadID:l.string.isRequired,successCallback:l.func.isRequired,errorCallback:l.func.isRequired};f.exports=n}),null);
__d("BrowserExtensionsShareMessengerDialog.react",["cx","fbt","AbstractTextArea.react","AsyncRequest","MessengerPlatformBeginShareMutationWebGraphQLMutation","CurrentUser","BrowserExtensionsErrorHandler","Image.react","immutable","LayerFadeOnHide","MessengerComposeViewHeader.react","MessengerDialog.react","messengerDialogsRe","messengerDialogBodyReact","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogFooter.react","MessengerDialogHeader.react","MessengerDialogTitle.react","MessengerSpinner.react","MessengerTextWithEntities.react","React","emptyFunction","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("messengerDialogBodyReact").jsComponent,m=c("React").PropTypes,n="broadcast";j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={clickedSend:false,isSending:false,message:"",recipients:c("immutable").List()},this.$BrowserExtensionsShareMessengerDialog3=function(u){this.setState({recipients:this.state.recipients.push(u)})}.bind(this),this.$BrowserExtensionsShareMessengerDialog4=function(u){var v=this.state.recipients;this.setState({recipients:v["delete"](v.indexOf(u))})}.bind(this),this.$BrowserExtensionsShareMessengerDialog2=function(){this.setState({recipients:c("immutable").List()})}.bind(this),this.$BrowserExtensionsShareMessengerDialog7=function(){__p&&__p();this.setState({clickedSend:true,isSending:true});var u=this.state.recipients.map(function(w){return w.getUniqueID()}).toArray(),v=c("MessengerPlatformBeginShareMutationWebGraphQLMutation").getURI({content_for_preview:{button_url:this.props.buttonUrl,button_title:this.props.buttonTitle,image_url:this.props.imageUrl,item_url:this.props.itemUrl,open_graph_url:this.props.openGraphUrl,preview_type:this.props.previewType,subtitle:this.props.subtitle,target_display:this.props.targetDisplay,title:this.props.title,attachment_id:this.props.attachmentID,facebook_media_url:this.props.facebookMediaUrl,media_type:this.props.mediaType},content_for_share:this.props.contentForShare,message_text:this.state.message,page_id:this.props.pageID,thread_ids:this.props.sharingType===n?u:this.props.threadID,trigger:this.props.sharingType===n?"JS_BRIDGE_BROADCAST":"JS_BRIDGE_DIRECT"});new(c("AsyncRequest"))(v).setHandler(function(w){__p&&__p();var x;if(this.$BrowserExtensionsShareMessengerDialog1)this.setState({isSending:false},function(){c("messengerDialogsRe").removeDialog()});var y=(x=w)!=null?(x=x.payload)!=null?(x=x.errors)!=null?x[0]:x:x:x;if(y){var z=y?y.code:null;this.props.errorCallback(c("BrowserExtensionsErrorHandler").getExternalError(z))}else this.props.successCallback({is_sent:true})}.bind(this)).send()}.bind(this),this.$BrowserExtensionsShareMessengerDialog5=function(u){if(!u){if(!this.state.clickedSend)this.props.successCallback({is_sent:false});c("messengerDialogsRe").removeDialog()}}.bind(this),q}o.prototype.componentDidMount=function(){this.$BrowserExtensionsShareMessengerDialog1=true};o.prototype.componentWillUnmount=function(){this.$BrowserExtensionsShareMessengerDialog1=false};o.prototype.render=function(){var p=this.props.sharingType===n?i._("Share"):i._("Send To Current Thread"),q=this.props.sharingType===n?this.state.recipients.size!==0:true,r=this.props.sharingType===n?c("React").createElement(c("MessengerComposeViewHeader.react"),{className:"_189v",forceHideClearButton:false,onClear:this.$BrowserExtensionsShareMessengerDialog2,onAddRecipient:this.$BrowserExtensionsShareMessengerDialog3,onRemoveRecipient:this.$BrowserExtensionsShareMessengerDialog4,onResize:c("emptyFunction"),recipients:this.state.recipients,viewer:c("CurrentUser").getID()}):null,s=this.props.sharingType===n?c("React").createElement("div",{className:"_4te6"},c("React").createElement(c("AbstractTextArea.react"),{autoFocus:true,className:"_4te8",disabled:this.state.isSending,onChange:function(v){return this.setState({message:v.target.value})}.bind(this),placeholder:i._("Type a message..."),rows:2,value:this.state.message})):null,t=this.state.isSending?c("React").createElement(c("MessengerSpinner.react"),null):null,u=this.props.imageUrl?this.props.imageUrl:this.props.facebookMediaPreviewUrl;return c("React").createElement(c("MessengerDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},hideOnEscape:true,onToggle:this.$BrowserExtensionsShareMessengerDialog5,shown:true,width:500},c("React").createElement(c("MessengerDialogHeader.react"),null,c("React").createElement(c("MessengerDialogTitle.react"),null,p)),c("React").createElement(l,{className:"_189w"},r,s,c("React").createElement("div",{className:"_5l-3"},c("React").createElement("div",{className:"_4tea"},c("React").createElement(c("Image.react"),{src:u})),c("React").createElement("div",{className:"_4tef"},c("React").createElement("div",{style:{fontWeight:"bold"}},this.$BrowserExtensionsShareMessengerDialog6(this.props.title)),c("React").createElement("div",null,this.$BrowserExtensionsShareMessengerDialog6(this.props.subtitle)),c("React").createElement("div",null,this.$BrowserExtensionsShareMessengerDialog6(this.props.targetDisplay))))),c("React").createElement(c("MessengerDialogFooter.react"),{leftContent:t},c("React").createElement(c("MessengerDialogCancelButton.react"),null),c("React").createElement(c("MessengerDialogButton.react"),{action:"confirm",disabled:this.state.isSending||!q,label:i._("Send"),onClick:this.$BrowserExtensionsShareMessengerDialog7,type:"primary"})))};o.prototype.$BrowserExtensionsShareMessengerDialog6=function(p){return c("React").createElement(c("MessengerTextWithEntities.react"),{renderEmoji:true,text:p||""})};o.propTypes={buttonTitle:m.string,buttonUrl:m.string,contentForShare:m.string,imageUrl:m.string,itemUrl:m.string,openGraphUrl:m.string,facebookMediaUrl:m.string,facebookMediaPreviewUrl:m.string,attachmentID:m.string,mediaType:m.string,previewType:m.string,subtitle:m.string,targetDisplay:m.string,title:m.string,sharingType:m.string.isRequired,pageID:m.string.isRequired,threadID:m.string.isRequired,successCallback:m.func.isRequired,errorCallback:m.func.isRequired};f.exports=o}),null);
__d("MessengerPlatformMediaAttachmentPreviewWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1480172682071484"};j.getQueryID=function(){"use strict";return"1145458142265315"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("XShareScrapeAttachmentAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/message_share_attachment/fromURI/",{})}),null);
__d("BrowserExtensionsBeginShareHelper",["AsyncRequest","BrowserExtensionsShareChatTabDialog.react","BrowserExtensionsShareMessengerDialog.react","DialogX","BrowserExtensionsErrorHandler","LayerDestroyOnHide","LayerFadeOnHide","LayerHideOnBlur","MessengerPlatformMediaAttachmentPreviewWebGraphQLQuery","messengerDialogsRe","MessengerEnvironment","React","WebGraphQL","XShareScrapeAttachmentAsyncController","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="OPEN_GRAPH",i=150,j=150;function k(m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E){__p&&__p();var F;if(c("MessengerEnvironment").messengerui)c("messengerDialogsRe").showDialog(function(){return c("React").createElement(c("BrowserExtensionsShareMessengerDialog.react"),{buttonTitle:m,buttonUrl:n,contentForShare:o,imageUrl:p,itemUrl:q,openGraphUrl:r,facebookMediaUrl:s,facebookMediaPreviewUrl:t,attachmentID:u,mediaType:v,previewType:w,subtitle:x,targetDisplay:y,title:z,sharingType:A,pageID:B,threadID:C,successCallback:D,errorCallback:E})});else(function(){var G={width:500,addedBehaviors:[c("LayerDestroyOnHide"),c("LayerFadeOnHide"),c("LayerHideOnBlur")]},H=c("React").createElement(c("BrowserExtensionsShareChatTabDialog.react"),{buttonTitle:m,buttonUrl:n,contentForShare:o,imageUrl:p,itemUrl:q,openGraphUrl:r,facebookMediaUrl:s,facebookMediaPreviewUrl:t,attachmentID:u,mediaType:v,previewType:w,subtitle:x,targetDisplay:y,title:z,sharingType:A,pageID:B,threadID:C,successCallback:D,errorCallback:E}),I=new(c("DialogX"))(G,H);I.subscribe("confirm",function(){I.hide()});I.subscribe("cancel",function(){D({is_sent:false})});I.show()})()}var l={beginShareFlow:function m(n,o,p,q,r,s,t){__p&&__p();if(r.preview_type===h){var u=c("XShareScrapeAttachmentAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(u).setData({image_height:i,image_width:j,uri:r.open_graph_url}).setHandler(function(v){var w,x,y,z=(w=v)!=null?(w=w.payload)!=null?(w=w.media)!=null?w.image:w:w:w,A=(x=v)!=null?(x=x.payload)!=null?x.title:x:x,B=(y=v)!=null?(y=y.payload)!=null?(y=y.target)!=null?(y=y.artists)!=null?y[0]:y:y:y:y;k(r.button_title,r.button_url,q,z,r.item_url,r.open_graph_url,null,null,null,null,r.preview_type,B,r.target_display,A,p,n,o,s,t)}).send()}else if(!r.image_url)c("WebGraphQL").exec(new(c("MessengerPlatformMediaAttachmentPreviewWebGraphQLQuery"))({params:{attachment_id:r.attachment_id,page_id:n,url:r.facebook_media_url,media_type:r.media_type}})).done(function(v){var w=v.messenger_platform_media_attachment_preview_info;k(r.button_title,r.button_url,q,null,r.item_url,r.open_graph_url,r.facebook_media_url,w.media_attachment.image.uri,r.attachment_id,r.media_type,r.preview_type,r.subtitle,r.target_display,r.title,p,n,o,s,t)},function(v){var w,x=(w=v)!=null?(w=w.errors)!=null?(w=w[0])!=null?w.code:w:w:w;t(c("BrowserExtensionsErrorHandler").getExternalError(x))});else k(r.button_title,r.button_url,q,r.image_url,r.item_url,r.open_graph_url,r.facebook_media_url,null,r.attachment_id,r.media_type,r.preview_type,r.subtitle,r.target_display,r.title,p,n,o,s,t)}};f.exports=l}),null);
__d("JSONRPC",["Log"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$JSONRPC1=0;this.$JSONRPC2={};this.remote=function(j){this.$JSONRPC3=j;return this.remote}.bind(this);this.local={};this.$JSONRPC4=i}h.prototype.stub=function(i){"use strict";__p&&__p();this.remote[i]=function(){var j={jsonrpc:"2.0",method:i};for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];if(typeof l[l.length-1]=="function"){j.id=++this.$JSONRPC1;this.$JSONRPC2[j.id]=l.pop()}j.params=l;this.$JSONRPC4(JSON.stringify(j),this.$JSONRPC3||{method:i})}.bind(this)};h.prototype.read=function(i,j){"use strict";__p&&__p();var k=JSON.parse(i),l=k.id;if(!k.method){if(!this.$JSONRPC2[l]){c("Log").warn("Could not find callback %s",l);return}var m=this.$JSONRPC2[l];delete this.$JSONRPC2[l];delete k.id;delete k.jsonrpc;m(k);return}var n=this,o=this.local[k.method],p;if(l)p=function p(s,t){var u={jsonrpc:"2.0",id:l};u[s]=t;setTimeout(function(){n.$JSONRPC4(JSON.stringify(u),j)},0)};else p=function p(){};if(!o){c("Log").error('Method "%s" has not been defined',k.method);p("error",{code:-32601,message:"Method not found",data:k.method});return}k.params.push(p.bind(null,"result"));k.params.push(p.bind(null,"error"));try{var q=o.apply(j||null,k.params);if(typeof q!=="undefined")p("result",q)}catch(r){c("Log").error("Invokation of RPC method %s resulted in the error: %s",k.method,r.message);p("error",{code:-32603,message:"Internal error",data:r.message})}};f.exports=h}),null);
__d("MessengerPlatformGetContextMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1350985785027565"};j.getQueryID=function(){"use strict";return"182243942324918"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("BrowserExtensionsDesktopController",["AsyncRequest","BrowserExtensionsBeginShareHelper","BrowserExtensionsPermissionsHelper","BrowserExtensionsTypedLogger","DOMEventListener","BrowserExtensionsErrorHandler","MessengerPlatformGetContextMutationWebGraphQLMutation","JSONRPC","MessengerPlatformPermissionWebGraphQLQuery","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="MESSENGER_EXTENSIONS_RPC:";function i(m,n,o,p,q,r,s){var t=c("MessengerPlatformGetContextMutationWebGraphQLMutation").getURI({actor_id:p,app_id:q,page_id:n,thread_id:o,extension_uri:m.getOrigin()});new(c("AsyncRequest"))().setURI(t).setHandler(function(u){var v,w,x=(v=u)!=null?(v=v.payload)!=null?(v=v.data)!=null?v.messenger_platform_get_context:v:v:v,y=(w=u)!=null?(w=w.payload)!=null?(w=w.errors)!=null?w[0]:w:w:w;if(x)r(x);else{var z=y?y.code:null;s(c("BrowserExtensionsErrorHandler").getExternalError(z))}}).send()}function j(m,n,o,p){__p&&__p();var q=c("MessengerPlatformPermissionWebGraphQLQuery").getURI({params:{page_id:m,thread_id:n}});new(c("AsyncRequest"))().setURI(q).setHandler(function(r){var s,t,u=(s=r)!=null?(s=s.payload)!=null?(s=s.data)!=null?(s=s.messenger_platform_permission)!=null?s.granted_permission_infos:s:s:s:s,v=(t=r)!=null?(t=t.payload)!=null?(t=t.errors)!=null?t[0]:t:t:t;if(u){var w=u.map(function(y){return y.permission_type});o({permissions:w})}else{var x=v?v.code:null;p(c("BrowserExtensionsErrorHandler").getExternalError(x))}}).send()}function k(m,n,o){m(n)}function l(m,n,o,p,q,r){__p&&__p();var s=new(c("JSONRPC"))(function(u){var v=m instanceof HTMLIFrameElement?m.contentWindow:m;v.postMessage(h+u,n.getOrigin())});this.$BrowserExtensionsDesktopController1=c("DOMEventListener").add(window,"message",function(event){if(typeof event.data!=="string"||!event.data.startsWith(h))return;s.read(event.data.substring(h.length))},false);function t(u){new(c("BrowserExtensionsTypedLogger"))().setAPIEndpoint(u).setName("browser_extensions_native_bridge_called").setWebsiteURL(n.toString()).setStartURL(n.toString()).setStringPageID(o).setThreadID(p).log()}s.local.askPermission=function(u,v,w){t("askPermission");c("BrowserExtensionsPermissionsHelper").askPermissions(n,o,p,u,v,w)};s.local.beginShareFlow=function(u,v,w,x,y){t("beginShareFlow");c("BrowserExtensionsBeginShareHelper").beginShareFlow(o,p,u,v,w,x,y)};s.local.getContext=function(u,v,w){t("getContext");i(n,o,p,q,u,v,w)};s.local.getGrantedPermissions=function(u,v){t("getGrantedPermissions");j(o,p,u,v)};s.local.requestCloseBrowser=function(u,v){t("requestCloseBrowser");k(r,u,v)}}l.prototype.getListener=function(){return this.$BrowserExtensionsDesktopController1};f.exports=l}),null);
__d("BrowserExtensionsDesktopCoordinator",["BrowserExtensionsDesktopController"],(function a(b,c,d,e,f,g){"use strict";var h=void 0,i={setActiveBridge:function j(k,l,m,n,o,p){if(h)h.remove();var q=new(c("BrowserExtensionsDesktopController"))(k,l,m,n,o,p);h=q.getListener()}};f.exports=i}),null);
__d("XConsentCookieController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/cookie/consent/",{})}),null);
__d("DeferredCookie",["Cookie","Env","Map","SubscriptionList","XAsyncRequest","XConsentCookieController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("Map"))(),i={shouldAddDefaultListener:true,defaultHandler:null,autoFlushCookies:false,sentConsentToServer:false,callbacks:new(c("SubscriptionList"))(),addToQueue:function j(k,l,m,n,o,p,q){__p&&__p();if(this.autoFlushCookies){if(o)c("Cookie").setWithoutChecksIfFirstPartyContext(k,l,m,n,q);else c("Cookie").setWithoutChecks(k,l,m,n,q);return}if(h.has(k))return;h.set(k,{name:k,value:l,nMilliSecs:m,path:n,firstPartyOnly:o,secure:q});if(p)this.addDefaultInteractionListener()},flushAllCookiesWithoutRequestingConsentSeePrivacyXFNBeforeUsing:function j(){delete c("Env").defer_cookies;h.forEach(function(k,l){if(k.firstPartyOnly)c("Cookie").setWithoutChecksIfFirstPartyContext(k.name,k.value,k.nMilliSecs,k.path,k.secure);else c("Cookie").setWithoutChecks(k.name,k.value,k.nMilliSecs,k.path,k.secure)});this.callbacks.fireCallbacks();this.autoFlushCookies=true;h=new(c("Map"))();this.removeDefaultInteractionListener()},flushAllCookies:function j(){this.flushAllCookiesWithoutRequestingConsentSeePrivacyXFNBeforeUsing();if(!this.sentConsentToServer){this.sentConsentToServer=true;var k=c("XConsentCookieController").getURIBuilder().getURI();new(c("XAsyncRequest"))(k).send()}},removeDefaultInteractionListener:function j(){if(this.defaultHandler){if(window.removeEventListener)window.removeEventListener("click",this.defaultHandler,true);else if(document.detachEvent)document.detachEvent("onclick",this.defaultHandler);this.defaultHandler=null}},addDefaultInteractionListener:function j(){if(this.shouldAddDefaultListener){this.shouldAddDefaultListener=false;this.defaultHandler=this.baseInteractionHandler.bind(this);if(window.addEventListener)window.addEventListener("click",this.defaultHandler,true);else if(document.attachEvent)document.attachEvent("onclick",this.defaultHandler)}},registerCallbackOnCookieFlush:function j(k){if(this.autoFlushCookies)k();else this.callbacks.add(k)},baseInteractionHandler:function j(){this.flushAllCookies()},canEmbedThirdPartyPixel:function j(){if(c("Env").no_cookies||c("Env").defer_cookies)return false;return this.autoFlushCookies||h.size===0}};f.exports=i}),null);
__d("XRefererFrameController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/common/referer_frame.php",{v:{type:"Int"}})}),null);
__d("isOculusDotComURI",["URI"],(function a(b,c,d,e,f,g){var h=new RegExp("(^|\\.)oculus\\.com$","i"),i=["https"];function j(k){if(k.isEmpty()&&k.toString()!=="#")return false;if(!k.getDomain()&&!k.getProtocol())return false;return i.indexOf(k.getProtocol())!==-1&&h.test(k.getDomain())}f.exports=j}),null);
__d("ControlledReferer",["Bootloader","DeferredCookie","URI","UserAgent","XRefererFrameController","isBonfireURI","isMessengerDotComURI","isOculusDotComURI","lowerFacebookDomain"],(function a(b,c,d,e,f,g){__p&&__p();var h={useFacebookReferer:function i(j,k,l){__p&&__p();if(!c("DeferredCookie").canEmbedThirdPartyPixel()){c("Bootloader").loadModules(["BanzaiODS"],function(p){p.bumpEntityKey("defer_cookies","block_controlled_referer_iframe")},"ControlledReferer");return}var m=false;function n(){if(m)return;var p=j.contentWindow.location.pathname;if(p!=="/intern/common/referer_frame.php"&&p!=="/common/referer_frame.php")return;m=true;j.contentWindow.document.body.style.margin=0;k()}var o=void 0;if(c("isMessengerDotComURI")(c("URI").getRequestURI())||c("isBonfireURI")(c("URI").getRequestURI()))o=c("XRefererFrameController").getURIBuilder().getURI().toString();else if(c("isOculusDotComURI")(c("URI").getRequestURI()))o="/common/referer_frame.php";else if(!c("lowerFacebookDomain").isValidDocumentDomain())o="/intern/common/referer_frame.php";else if(c("UserAgent").isBrowser("Opera"))o=c("XRefererFrameController").getURIBuilder().getURI().toString();else o=c("XRefererFrameController").getURIBuilder().getURI().qualify().setProtocol("https").setSubdomain("staticxx").toString();if(l)o+="?fb_source="+l;j.onload=n;j.src=o},useFacebookRefererHtml:function i(j,k,l){h.useFacebookReferer(j,function(){j.contentWindow.document.body.innerHTML=k},l)}};f.exports=h}),null);
__d("StaticContainer.react",["React"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.shouldComponentUpdate=function(k){"use strict";return!!k.shouldUpdate};j.prototype.render=function(){"use strict";var k=this.props.children;if(k===null||k===false)return null;return c("React").Children.only(k)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("ControlledRefererIFrame.react",["ControlledReferer","ControlledRefererIFrameConfig","React","StaticContainer.react","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.mountFrameRef=function(k){this.frame=k};j.prototype.updateFrame=function(){__p&&__p();var k=this.frame;if(!k)return;c("ControlledReferer").useFacebookReferer(k,function(){__p&&__p();var l=k.contentWindow.document;l.body.innerHTML='\n        <form method="GET" id="theform"></form>\n        '+c("ControlledRefererIFrameConfig").additional_markup+"\n      ";var m=new(c("URI"))(this.props.src).qualify(),n=l.getElementById("theform");n.action=m.toString();var o=m.getQueryData();for(var p in o)if(Object.prototype.hasOwnProperty.call(o,p)){var q=l.createElement("input");q.name=p;q.value=o[p];q.autocomplete="off";q.type="hidden";n.appendChild(q)}l.body.innerHTML+='\n        <iframe\n          frameborder="0"\n          width="1"\n          height="1"\n          onload="document.getElementById(\'theform\').submit()"\n        />\n      '}.bind(this))};j.prototype.componentDidMount=function(){this.updateFrame()};j.prototype.componentDidUpdate=function(k){if(k.src!==this.props.src)this.updateFrame()};j.prototype.componentWillReceiveProps=function(k){var l=this.frame;if(l&&(k.width!==this.props.width||k.height!==this.props.height)){if(k.width!=null)l.width=""+k.width;if(k.height!=null)l.height=""+k.height}};j.prototype.render=function(){var k=this.props,l=k.src,m=babelHelpers.objectWithoutProperties(k,["src"]);return c("React").createElement(c("StaticContainer.react"),null,c("React").createElement("iframe",babelHelpers["extends"]({},m,{ref:function(n){return this.mountFrameRef(n)}.bind(this)})))};j.prototype.postMessage=function(k,l){if(this.frame)this.frame.contentWindow.postMessage(k,l)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("BrowserExtensionsIframe.react",["BrowserExtensionsDesktopCoordinator","BrowserExtensionsTypedLogger","ControlledRefererIFrame.react","MessengerEnvironment","React","URI","isFacebookURI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.componentDidMount=function(){if(this.refs.iframeRef){c("BrowserExtensionsDesktopCoordinator").setActiveBridge(this.refs.iframeRef,this.props.thirdPartyURI,this.props.pageID,this.props.threadID,this.props.userID,this.props.closeDialogHandler);new(c("BrowserExtensionsTypedLogger"))().setName("browser_extensions_browser_open").setWebsiteURL(this.props.thirdPartyURI.toString()).setStartURL(this.props.thirdPartyURI.toString()).setStringPageID(this.props.pageID).setThreadID(this.props.threadID).log()}};k.prototype.componentWillUnmount=function(){new(c("BrowserExtensionsTypedLogger"))().setName("browser_extensions_browser_closed").setWebsiteURL(this.props.thirdPartyURI.toString()).setStartURL(this.props.thirdPartyURI.toString()).setStringPageID(this.props.pageID).setThreadID(this.props.threadID).log()};k.prototype.render=function(){var l=new(c("URI"))(window.location.href),m=this.props.thirdPartyURI,n={ref:"iframeRef",src:m.addQueryData("fb_iframe_origin",l.getOrigin()).toString(),name:c("isFacebookURI")(l)?"facebook_ref":"messenger_ref",style:{border:0,height:this.props.height,width:this.props.width}};return c("isFacebookURI")(m)?c("React").createElement("iframe",n):c("React").createElement(c("ControlledRefererIFrame.react"),n)};function k(){h.apply(this,arguments)}k.propTypes={thirdPartyURI:j.instanceOf(c("URI")).isRequired,pageID:j.string.isRequired,threadID:j.string.isRequired,userID:j.string.isRequired,height:j.number.isRequired,width:j.number.isRequired,closeDialogHandler:j.func.isRequired};f.exports=k}),null);
__d("MessengerConstants",[],(function a(b,c,d,e,f,g){"use strict";var h={NEW_THREAD_KEY:"new",BROWSER_EXTENSIONS_DIALOG_DIMENSIONS:{HEIGHT:604,WIDTH:405}};f.exports=h}),null);
__d("MessengerPageInfoWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1340699622714874"};j.getQueryID=function(){"use strict";return"794225320759977"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("BrowserExtensionsChatTabDialog.react",["cx","fbt","MessengerConstants","AsyncRequest","BrowserExtensionsIframe.react","Image.react","MessengerPageInfoWebGraphQLQuery","React","URI","XUICloseButton.react","XUIDialogBody.react","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("MessengerConstants").BROWSER_EXTENSIONS_DIALOG_DIMENSIONS,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={profilePicUrl:null,title:null},p}n.prototype.componentDidMount=function(){var o=c("MessengerPageInfoWebGraphQLQuery").getURI({node_id:this.props.pageID});new(c("AsyncRequest"))().setURI(o).setHandler(function(p){var q,r,s=(q=p)!=null?(q=q.payload)!=null?(q=q.data)!=null?(q=q.node)!=null?(q=q.profile_picture)!=null?q.uri:q:q:q:q:q,t=(r=p)!=null?(r=r.payload)!=null?(r=r.data)!=null?(r=r.node)!=null?r.name:r:r:r:r;this.setState({profilePicUrl:s,title:t})}.bind(this)).send()};n.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_4-i0"},c("React").createElement("div",{className:"_5l-3 _3qur"},c("React").createElement("div",{className:"_3o_f"},c("React").createElement(c("Image.react"),{className:"_3o_g",src:this.state.profilePicUrl})),c("React").createElement("div",{className:"_3o_i"},this.state.title),c("React").createElement("div",{className:"_3qus"},c("React").createElement(c("XUICloseButton.react"),{className:"layerCancel _51-t",label:i._("Close")})))),c("React").createElement(c("XUIDialogBody.react"),{className:"_3o_l"},c("React").createElement(c("BrowserExtensionsIframe.react"),{thirdPartyURI:this.props.thirdPartyURI,pageID:this.props.pageID,threadID:this.props.threadID,userID:this.props.userID,height:this.props.height,width:this.props.width,closeDialogHandler:this.props.closeDialogHandler})))};n.defaultProps={height:l.HEIGHT,width:l.WIDTH};n.propTypes={thirdPartyURI:m.instanceOf(c("URI")).isRequired,pageID:m.string.isRequired,threadID:m.string.isRequired,userID:m.string.isRequired,height:m.number,width:m.number,closeDialogHandler:m.func.isRequired};f.exports=n}),null);
__d("BrowserExtensionsMessengerDialog.react",["cx","MessengerConstants","AsyncRequest","BrowserExtensionsIframe.react","Image.react","LayerFadeOnHide","MessengerDialog.react","messengerDialogsRe","messengerDialogBodyReact","MessengerDialogButton.react","MessengerDialogHeader.react","MessengerPageInfoWebGraphQLQuery","React","URI","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("MessengerConstants").BROWSER_EXTENSIONS_DIALOG_DIMENSIONS,l=c("messengerDialogBodyReact").jsComponent,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.state={profilePicUrl:null,title:null,shown:true},this.$BrowserExtensionsMessengerDialog3=function(t){this.setState({shown:false},t)}.bind(this),p}n.prototype.componentDidMount=function(){var o=c("MessengerPageInfoWebGraphQLQuery").getURI({node_id:this.props.pageID});this.$BrowserExtensionsMessengerDialog1=new(c("AsyncRequest"))().setURI(o).setHandler(function(p){var q,r,s=(q=p)!=null?(q=q.payload)!=null?(q=q.data)!=null?(q=q.node)!=null?(q=q.profile_picture)!=null?q.uri:q:q:q:q:q,t=(r=p)!=null?(r=r.payload)!=null?(r=r.data)!=null?(r=r.node)!=null?r.name:r:r:r:r;this.setState({profilePicUrl:s,title:t})}.bind(this));this.$BrowserExtensionsMessengerDialog1.send()};n.prototype.componentWillUnmount=function(){this.$BrowserExtensionsMessengerDialog1&&this.$BrowserExtensionsMessengerDialog1.abandon()};n.prototype.render=function(){return c("React").createElement(c("MessengerDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},hideOnEscape:true,onToggle:this.$BrowserExtensionsMessengerDialog2,shown:this.state.shown,type:"default",width:this.props.width},c("React").createElement(c("MessengerDialogHeader.react"),null,c("React").createElement("div",{className:"_5l-3 _3o_e"},c("React").createElement("div",{className:"_3o_f"},c("React").createElement(c("Image.react"),{className:"_3o_g",src:this.state.profilePicUrl})),c("React").createElement("div",{className:"_3o_i"},this.state.title),c("React").createElement("div",{className:"_3o_f"},c("React").createElement(c("MessengerDialogButton.react"),{action:"cancel",className:"_3o_k",label:"",type:"primary",use:"default"})))),c("React").createElement(l,{className:"_3o_l"},c("React").createElement(c("BrowserExtensionsIframe.react"),{thirdPartyURI:this.props.thirdPartyURI,pageID:this.props.pageID,threadID:this.props.threadID,userID:this.props.userID,height:this.props.height,width:this.props.width,closeDialogHandler:this.$BrowserExtensionsMessengerDialog3})))};n.prototype.$BrowserExtensionsMessengerDialog2=function(o){if(!o)c("messengerDialogsRe").removeDialog()};n.defaultProps={height:k.HEIGHT,width:k.WIDTH};n.propTypes={thirdPartyURI:m.instanceOf(c("URI")).isRequired,pageID:m.string.isRequired,threadID:m.string.isRequired,userID:m.string.isRequired,height:m.number,width:m.number};f.exports=n}),null);
__d("BrowserExtensionsDialog",["MessengerConstants","BrowserExtensionsChatTabDialog.react","BrowserExtensionsMessengerDialog.react","DialogX","LayerDestroyOnHide","LayerFadeOnHide","LayerHideOnBlur","messengerDialogsRe","MessengerEnvironment","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("MessengerConstants").BROWSER_EXTENSIONS_DIALOG_DIMENSIONS,i={show:function j(k,l,m,n){var o;if(c("MessengerEnvironment").messengerui)c("messengerDialogsRe").showDialog(function(){return c("React").createElement(c("BrowserExtensionsMessengerDialog.react"),{thirdPartyURI:k,pageID:l,threadID:m,userID:n})});else(function(){var p=void 0,q={width:h.WIDTH,addedBehaviors:[c("LayerDestroyOnHide"),c("LayerFadeOnHide"),c("LayerHideOnBlur")]},r=c("React").createElement(c("BrowserExtensionsChatTabDialog.react"),{thirdPartyURI:k,pageID:l,threadID:m,userID:n,closeDialogHandler:function s(t){return i.hideChatTabDialog(p,t)}});p=new(c("DialogX"))(q,r);p.show()})()},hideChatTabDialog:function j(k,l){if(k){k.hide();l()}}};f.exports=i}),null);
__d("XMNCommercePostbackCTAController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messages/commerce/postback/",{cta_id:{type:"String",required:true},message_id:{type:"String"},ref:{type:"String"},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1}})}),null);
__d("MNCommercePostbackCTADataManager",["AsyncRequest","BanzaiODS","CurrentUser","getPageIDFromThreadID","MercuryMessageActions","MercuryMessageObject","MercurySourceType","MNPlatformTagsDataManager","XMNCommercePostbackCTAController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("MercuryMessageActions").get();i.prototype.send=function(j){var k=arguments.length<=1||arguments[1]===undefined?null:arguments[1],l=arguments.length<=2||arguments[2]===undefined?null:arguments[2],m=arguments.length<=3||arguments[3]===undefined?null:arguments[3],n=c("XMNCommercePostbackCTAController").getURIBuilder().setString("cta_id",j).setString("ref",l).setString("message_id",m).getURI();if(k!==null)new(c("AsyncRequest"))().setURI(n).setMethod("POST").setErrorHandler(k).send();else new(c("AsyncRequest"))().setURI(n).setMethod("POST").send()};i.prototype.sendAndConfirm=function(j,k,l,m){var n=arguments.length<=4||arguments[4]===undefined?null:arguments[4],o=arguments.length<=5||arguments[5]===undefined?null:arguments[5],p=arguments.length<=6||arguments[6]===undefined?[]:arguments[6],q=arguments.length<=7||arguments[7]===undefined?null:arguments[7];if(k!==null)this.sendConfirmationText(k,l,m,p);this.send(j,n,o,q)};i.prototype.sendConfirmationText=function(j,k,l){if(!k)c("BanzaiODS").bumpEntityKey("messenger_commerce","confirm_message_failed.empty_threadID");else{var m=new(c("MercuryMessageObject"))(c("CurrentUser").getID()),n=[],o=c("getPageIDFromThreadID")(k);if(c("MNPlatformTagsDataManager").hasThreadTags(o))n=c("MNPlatformTagsDataManager").getThreadTags();h.send(m.constructCTAConfirmationMessageObject(j,c("MercurySourceType").TITAN_WEB,k,l,n));if(n&&n.length>0)c("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread()}};function i(){}f.exports=new i()}),null);
__d("MNCommerceItemTextReact",["cx","fbt","React","utilsRe","ReasonReact","joinClasses","MNCommerceOrderItemsStatus"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("ReasonReact").statelessComponent("MNCommerceItemText");function k(l,m,n,o,p,q,r,s){__p&&__p();var t=function t(x){if(p!==0)return null;else{var y=x?x[0]:null;if(q&&q[0]===c("MNCommerceOrderItemsStatus").CANCELED)return c("React").createElement("div",undefined,c("React").createElement("span",{className:"__hz"},i._("Canceled")," \xb7"),y);else return c("React").createElement("div",undefined,y)}},u=function u(x){if(x)return c("React").createElement("div",undefined,x[0]);else return null},v=function v(){if(n){var x=n[0];return c("React").createElement("div",undefined,u(x[0]),u(x[1]),t(x[2]))}else return null},w=j.slice();w[9]=function(){return c("React").createElement("div",{className:c("joinClasses")(c("utilsRe").$pipe$unknown(l,""),"_swr"+((p!==0?true:false)?" _sws":"")),style:{left:m,paddingLeft:o},title:c("utilsRe").$pipe$unknown(r,"")},c("React").createElement("div",{className:"_51fw"},r?r[0]:null),c("React").createElement("div",{className:"_2y0f"},v(0)))};return w}g.component=j;g.make=k}),null);
__d("MNCommerceSingleListItemReact",["cx","React","utilsRe","imageReact","bs_pervasives","ReasonReact","joinClasses","bs_js_primitive","MNCommerceItemTextReact"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("ReasonReact").statelessComponent("MNCommerceSingleListItem");function j(l,m,n,o,p,q,r,s,t){var u=function u(){if(m)return c("React").createElement("div",{className:"_1fld"},c("ReasonReact").element(0,0,c("imageReact").make(["_1fle"],0,[m[0]],[n],0,[n],0,[])));else return null},v=i.slice();v[9]=function(){return c("React").createElement("div",{className:c("joinClasses")(c("utilsRe").$pipe$unknown(l,""),"_39q_"),style:{height:c("bs_pervasives").string_of_int(n)+"px",width:c("utilsRe").$pipe$unknown(q,"auto")}},u(0),c("ReasonReact").element(0,0,c("MNCommerceItemTextReact").make(["_1flf"],m?c("bs_pervasives").string_of_int(n)+"px":"auto",r,m?"6px":"auto",o,p,s,[])))};return v}var k=c("ReasonReact").wrapReasonForJs(i,function(l){var m=l.width,n=l.metalines;return j(c("bs_js_primitive").null_undefined_to_opt(l.className),c("bs_js_primitive").null_undefined_to_opt(l.thumbURL),l.imageDimension,l.size==="large"?0:1,c("bs_js_primitive").null_undefined_to_opt(l.statusType),m==null?0:[c("bs_pervasives").string_of_int(m)+"px"],n==null?0:[[c("bs_js_primitive").null_undefined_to_opt(n.metaline_1),c("bs_js_primitive").null_undefined_to_opt(n.metaline_2),c("bs_js_primitive").null_undefined_to_opt(n.metaline_3)]],c("bs_js_primitive").null_undefined_to_opt(l.title),[])});g.component=i;g.make=j;g.jsComponent=k}),null);
__d("mNCommerceLogoHeaderReact",["cx","React","imageReact","ReasonReact","bs_js_primitive"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="24px",j="12px",k=c("ReasonReact").statelessComponent("MNCommerceLogoHeader");function l(p,q,r,s){__p&&__p();var t=function t(){if(p){var v=p[0],w=v.src;if(w==null)return null;else{var x=v.width/v.height,y=Math.abs(3-x)<=.75?j:i;return c("React").createElement("div",{key:"logo",className:"_b0-"},c("React").createElement("div",{className:"_fz0"},c("ReasonReact").element(0,0,c("imageReact").make(["_56rs"],0,[w],[v.height],0,[v.width],[{maxHeight:y}],[]))))}}else return null},u=k.slice();u[9]=function(){__p&&__p();var v=t(0);if(s.length!==0){var w=c("React").createElement("div",{key:"children",className:"_fy-"+((q!==0?0:1)?" _fy_":"")},c("React").createElement("div",{className:"_56rv"},s)),x;if(p){var y=p[0].src;x=y==null?[1,[w]]:q!==0?[0,[w,v]]:[0,[v,w]]}else x=[1,[w]];return c("React").createElement("div",{className:(x[0]&&(r!==0?1:0)?"_fy_":"")+" _56rt"},x[1])}else return v};return u}var m=c("ReasonReact").wrapReasonForJs(k,function(p){var q=p.children;return l(c("bs_js_primitive").null_undefined_to_opt(p.logo),p.logoPosition==="right"?1:0,p.childPosition==="right"?1:0,q==null?[]:[].concat(q))}),n=3,o=.75;g.defaultMaxHeight=i;g.defaultHalfMaxHeight=j;g.defaultAspectRatio=n;g.aspectRatioMargin=o;g.component=k;g.make=l;g.jsComponent=m}),null);