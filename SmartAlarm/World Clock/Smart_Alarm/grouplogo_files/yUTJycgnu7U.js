if (self.CavalryLogger) { CavalryLogger.start_js(["fNdn4"]); }

__d("MessengerContextInformationStore",["AsyncRequest","EventEmitter","Map","TimeSlice","XMessengerContextBannerController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=new(c("Map"))(),k=new(c("Map"))();h=babelHelpers.inherits(l,c("EventEmitter"));i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.$MessengerContextInformationStore1=function(r){if(k.get(r))return;var s=c("XMessengerContextBannerController").getURIBuilder().setInt("profile_id",r).getURI(),t=new(c("AsyncRequest"))().setAllowCrossPageTransition(true).setURI(s).setHandler(this.$MessengerContextInformationStore2.bind(this,r));k.set(r,t);t.send()}.bind(this),n}l.prototype.getOrFetch=function(m){var n=j.get(m);n||c("TimeSlice").guard(this.$MessengerContextInformationStore1,"Chat Tab Messenger Context Banner Fetch",{isContinuation:false})(m);return n};l.prototype.$MessengerContextInformationStore2=function(m,n){j.set(m,{connectionContext:n.payload.connection_context||"",contextItems:n.payload.context_items||[]});k["delete"](m);this.emit("change")};f.exports=new l()}),null);