if (self.CavalryLogger) { CavalryLogger.start_js(["AsNwe"]); }

__d("MessengerInfoPanelGroupSection.react",["cx","fbt","FBToggleSwitch.react","immutable","MercuryIDs","MercuryParticipants","MercuryThreadActions","MessengerAdminGroupUtils","MessengerApprovalModeTypes","MessengerApprovalRequester.react","messengerInfoPanelSectionReact","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("MercuryThreadActions").get(),m=c("messengerInfoPanelSectionReact").jsComponent;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.state={approvalQueue:c("immutable").Map()}}n.prototype.componentDidMount=function(){this.$MessengerInfoPanelGroupSection1(this.props.thread)};n.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(m,{customColor:this.props.thread.custom_color,isCollapsible:true,isCollapsed:this.props.isOptionsCollapsed,onToggle:this.props.onOptionsToggle,title:i._("Group Options")},c("React").createElement("div",{className:"_3iho"},this.$MessengerInfoPanelGroupSection2(),this.$MessengerInfoPanelGroupSection3())),this.$MessengerInfoPanelGroupSection4())};n.prototype.componentWillReceiveProps=function(o){this.$MessengerInfoPanelGroupSection1(o.thread)};n.prototype.$MessengerInfoPanelGroupSection1=function(o){var p=o&&o.approval_queue_ids;if(p)c("MercuryParticipants").getMulti(p,function(q){this.setState({approvalQueue:c("immutable").Map(q)})}.bind(this))};n.prototype.$MessengerInfoPanelGroupSection2=function(){var o=this.props.thread,p=o.joinable_mode.link;if(!c("MessengerAdminGroupUtils").showJoinableLink(o))return null;return c("React").createElement("div",{className:"_3szn _3szo"},c("React").createElement("div",{className:"_3szq"},i._("Share the link"),c("React").createElement("div",{className:"_3ihp _3oh-"},p)))};n.prototype.$MessengerInfoPanelGroupSection3=function(){var o=this.props,p=o.viewer,q=o.thread,r=c("MessengerAdminGroupUtils").isApprovalOpenThread(q);if(!c("MessengerAdminGroupUtils").showJoinableApprovalToggle(q,p))return null;return c("React").createElement("div",{className:"_3szn _3szo"},c("React").createElement("div",{className:"_3szq"},i._("New member approval"),c("React").createElement("div",{className:"_3ihp"},i._("Approve who can join the group"))),c("React").createElement("div",{className:"_3ihq"},c("React").createElement(c("FBToggleSwitch.react"),{animate:true,checked:!r,onToggle:function s(t){return l.setApprovalMode(t?c("MessengerApprovalModeTypes").APPROVALS:c("MessengerApprovalModeTypes").OPEN,q)}})))};n.prototype.$MessengerInfoPanelGroupSection4=function(){var o=this.props,p=o.viewer,q=o.thread,r=0;if(q&&q.approval_queue_ids&&q.approval_queue_ids.length)r=q.approval_queue_ids.length;if(!c("MessengerAdminGroupUtils").showApprovalQueue(q,p))return null;return c("React").createElement(m,{customColor:this.props.thread.custom_color,isCollapsible:true,isCollapsed:this.props.isApprovalsCollapsed,onToggle:this.props.onApprovalToggle,title:i._("Pending Requests ({pendingRequestCount})",[i.param("pendingRequestCount",r)])},c("React").createElement("div",{className:"_3iho _3oh-"},this.state.approvalQueue.map(function(s){return c("React").createElement(c("MessengerApprovalRequester.react"),{key:s.id,imageSRC:s.image_src,isMessengerUser:s.is_messenger_user,name:s.name,threadFBID:this.props.thread.thread_fbid,userID:c("MercuryIDs").getUserIDFromParticipantID(s.id)})}.bind(this)).toArray()))};f.exports=n}),null);