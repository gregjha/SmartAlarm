if (self.CavalryLogger) { CavalryLogger.start_js(["766Lz"]); }

__d("ChromecastScannerEnum",[],(function a(b,c,d,e,f,g){f.exports={INIT:"init",CAST:"cast",ERROR:"error",NEW_SESSION:"new_session",RECEIVER_STATUS_CHANGED:"receiver_status_changed",SESSION_REQUESTED:"session_requested",SESSION_CANCELLED:"session_cancelled",SESSION_STARTED:"session_started",SESSION_DISCONNECTING:"session_disconnecting",SESSION_DISCONNECTED:"session_disconnected"}}),null);
__d("ChromecastSessionEnum",[],(function a(b,c,d,e,f,g){f.exports={ERROR:"error",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",VIDEO_LOADING:"video_loading",VIDEO_LOADED:"video_loaded",VIDEO_PLAYING:"video_playing",VIDEO_PAUSED:"video_paused",VIDEO_SEEK:"video_seek"}}),null);
__d("CurrentLocale",["LocaleInitialData"],(function a(b,c,d,e,f,g){var h={};h.get=function(){return c("LocaleInitialData").locale};f.exports=h}),null);
__d("SystemEvents",["ArbiterMixin","ErrorUtils","SystemEventsInitialData","UserAgent_DEPRECATED","TimeSlice","mixin","setIntervalAcrossTransitions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=1e3;h=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function k(){i.constructor.call(this);this.USER="SystemEvents/USER";this.ONLINE="SystemEvents/ONLINE";this.TIME_TRAVEL="SystemEvents/TIME_TRAVEL";this.$SystemEvents1=c("SystemEventsInitialData").ORIGINAL_USER_ID;this.$SystemEvents2=this.$SystemEvents1;this.$SystemEvents3=navigator.onLine;this.$SystemEvents4=Date.now();this.$SystemEvents5()}k.prototype.isPageOwner=function(l){return(l||this.$SystemEvents6())==this.$SystemEvents1};k.prototype.isOnline=function(){return!!(c("UserAgent_DEPRECATED").chrome()||this.$SystemEvents3)};k.prototype.checkTimeTravel=function(){var l=Date.now(),m=l-this.$SystemEvents4;this.$SystemEvents4=l;if(m<0||m>1e4)this.inform(this.TIME_TRAVEL,m)};k.prototype.$SystemEvents5=function(){this.$SystemEvents7();this.$SystemEvents8();this.$SystemEvents9();this.$SystemEvents10()};k.prototype.$SystemEvents7=function(){__p&&__p();var l=c("TimeSlice").guard(function(){if(!this.$SystemEvents3){this.$SystemEvents3=true;this.inform(this.ONLINE,this.$SystemEvents3)}}.bind(this),"SystemEvents onOnline"),m=c("TimeSlice").guard(function(){if(this.$SystemEvents3){this.$SystemEvents3=false;this.inform(this.ONLINE,this.$SystemEvents3)}}.bind(this),"SystemEvents onOffline");if(c("UserAgent_DEPRECATED").ie())if(c("UserAgent_DEPRECATED").ie()>=11){window.addEventListener("online",l,false);window.addEventListener("offline",m,false)}else if(c("UserAgent_DEPRECATED").ie()>=8)window.attachEvent("onload",function(){document.body.ononline=l;document.body.onoffline=m});else c("setIntervalAcrossTransitions")(function(){(navigator.onLine?l:m)()},j);else if(window.addEventListener){window.addEventListener("online",l,false);window.addEventListener("offline",m,false)}};k.prototype.$SystemEvents8=function(){c("setIntervalAcrossTransitions")(function(){var l=this.$SystemEvents6();if(this.$SystemEvents2!=l){this.$SystemEvents2=l;this.inform(this.USER,l)}}.bind(this),j)};k.prototype.$SystemEvents9=function(){c("setIntervalAcrossTransitions")(this.checkTimeTravel.bind(this),j)};k.prototype.$SystemEvents10=function(){c("setIntervalAcrossTransitions")(function(){if(window.onerror!=c("ErrorUtils").onerror)window.onerror=c("ErrorUtils").onerror},j)};k.prototype.$SystemEvents6=function(){return/c_user=(\d+)/.test(document.cookie)&&RegExp.$1||"0"};f.exports=new k()}),19);
__d("UserActivity",["Arbiter","Event"],(function a(b,c,d,e,f,g){__p&&__p();var h=5e3,i=500,j=-5,k=Date.now(),l=k,m=false,n=Date.now(),o=document.hasFocus?document.hasFocus():true,p=0,q=Date.now(),r=-1,s=-1,t={EVENT_INTERVAL_MS:i,subscribeOnce:function x(y){var z=t.subscribe(function(A,B){t.unsubscribe(z);y(B)});return z},subscribe:function x(y){return c("Arbiter").subscribe("useractivity/activity",y)},unsubscribe:function x(y){y.unsubscribe()},isActive:function x(y){return new Date()-k<(y||h)},isOnTab:function x(){return o},hasBeenInactive:function x(){return m},resetActiveStatus:function x(){o=true;m=false},getLastInActiveEnds:function x(){return n},getLastActive:function x(){return k},setIdleTime:function x(y){p=y},getLastLeaveTime:function x(){return q},getLastInformTime:function x(){return l},reset:function x(){k=Date.now();l=k;m=false;n=Date.now();o=document.hasFocus?document.hasFocus():true;p=0;q=Date.now();r=-1;s=-1}};function u(event){__p&&__p();var x=b.MouseEvent;if(x&&event instanceof x){if(event.pageX==r&&event.pageY==s&&event.type!="click")return;r=event.pageX;s=event.pageY}k=Date.now();var y=k-l;if(y>i){l=k;if(!o)q=k;if(y>=(p||h)){m=true;n=k}c("Arbiter").inform("useractivity/activity",{event:event,idleness:y,last_inform:l})}else if(y<j)l=k}function v(event){o=true;n=Date.now();u(event)}function w(event){o=false;m=true;q=Date.now()}c("Event").listen(window,"scroll",u);c("Event").listen(window,"focus",v);c("Event").listen(window,"blur",w);c("Event").listen(document.documentElement,{DOMMouseScroll:u,mousewheel:u,keydown:u,mouseover:u,mousemove:u,click:u},undefined,undefined,{passive:true});c("Arbiter").subscribe("Event/stop",function(x,y){u(y.event)});f.exports=t}),null);
__d("RTISubscriptionManager",["invariant","Arbiter","ChannelConstants","CurrentLocale","CurrentUser","ErrorUtils","RTIFriendFanoutConfig","RTISubscriptionManagerConfig","Run","SystemEvents","UserActivity","idx","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={SUBSCRIBE:"s",UNSUBSCRIBE:"u"},j=300,k=20;function l(t){if(m(t)===false)return null;return t.split("/",2)[1]}function m(t){return t.startsWith("gqls/")}var n=void 0;function o(){if(n===undefined){var t,u=(t=c("RTISubscriptionManagerConfig"))!=null?(t=t.config)!=null?t.www_unevictable_topic_regexes:t:t;n=u?u.map(function(v){return new RegExp(v)}):null}return n}function p(t){var n=o();return n==null||n.every(function(u){return u.test(t)===false})}function q(){__p&&__p();this.$RTISubscriptionManager1={};this.$RTISubscriptionManager2=[];this.$RTISubscriptionManager3={};this.$RTISubscriptionManager4=null;this.$RTISubscriptionManager5;this.$RTISubscriptionManager6=false;this.$RTISubscriptionManager7=false;this.$RTISubscriptionManager8=false;this.$RTISubscriptionManager9=true;this.$RTISubscriptionManager10=document.readyState==="complete";c("Run").onAfterLoad(function(){this.$RTISubscriptionManager10=true;this.flush()}.bind(this));this.$RTISubscriptionManager11=null;c("Arbiter").subscribe(c("ChannelConstants").ON_ENTER_STATE,function(t,u){__p&&__p();if(!this.$RTISubscriptionManager11)return;var v=/pull/.test(u.state);if(!this.$RTISubscriptionManager4&&v){this.$RTISubscriptionManager5=true;if(!this.$RTISubscriptionManager6){this.$RTISubscriptionManager6=true;c("setTimeoutAcrossTransitions")(function(){this.$RTISubscriptionManager4=this.$RTISubscriptionManager5;this.$RTISubscriptionManager6=false;if(this.$RTISubscriptionManager4)this.flush()}.bind(this),q.PULL_HINT_DELAY_MILLIS)}}else if(!v){this.$RTISubscriptionManager5=false;this.$RTISubscriptionManager4=false}else if(v){this.$RTISubscriptionManager4=true;this.flush()}}.bind(this));c("SystemEvents").subscribe(c("SystemEvents").ONLINE,function(t,u){if(!u){this.$RTISubscriptionManager4=false;this.$RTISubscriptionManager5=false}}.bind(this));c("SystemEvents").subscribe(c("SystemEvents").USER,function(t,u){this.$RTISubscriptionManager4=false;this.$RTISubscriptionManager5=false;this.$RTISubscriptionManager1={};this.$RTISubscriptionManager2=[];this.$RTISubscriptionManager3={}}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").RTI_SESSION,function(t,u){if(!this.$RTISubscriptionManager11&&u)this.deleteSubscriptions(function(v){return v.getState()===i.UNSUBSCRIBE});this.$RTISubscriptionManager11=u;if(this.$RTISubscriptionManager11){this.$RTISubscriptionManager4=true;this.flush()}}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").ON_INVALID_HISTORY,function(){this.$RTISubscriptionManager4=true;this.forEachSubscription(function(t,u){u.setDirty(true)});this.getCurrentSession()}.bind(this));this.getCurrentSession();c("Arbiter").subscribe(c("ChannelConstants").SKYWALKER,function(t,u){var v=u.obj.topic,w={};if(u.obj.payloads===undefined)w.obj=[u.obj.payload];else w.obj=u.obj.payloads;c("Arbiter").inform(c("ChannelConstants").getSkywalkerArbiterType(v),w)})}q.prototype.subscribe=function(t,u,v,w,x){var y=this.subscribeInternal(t,u,v,w,x),z=t.substr(0,t.lastIndexOf("/"));if(!c("RTIFriendFanoutConfig").passFriendFanoutSubscribeGK||c("RTIFriendFanoutConfig").topicPrefixes.indexOf(z)<0)return y;var A=t+"_user_id_"+c("CurrentUser").getID();this.subscribeInternal(A,u,v);return y};q.prototype.subscribeInternal=function(t,u,v,w,x){__p&&__p();var y,z=this;t||h(0);u||h(0);var A=this.getMaxSubscriptions(),B=Object.keys(this.$RTISubscriptionManager1).length-Object.keys(this.$RTISubscriptionManager3).length;if(B>=A){var y=function(){__p&&__p();var I=z.getEvictionBatchSize();if(I===0)return{v:null};var J=0;z.$RTISubscriptionManager2=z.$RTISubscriptionManager2.filter(function(t){__p&&__p();if(!this.isSubscribed(t)||this.$RTISubscriptionManager1[t].getState()!==i.SUBSCRIBE)return false;if(J===0&&B<A)return true;if(J<I)if(p(t)){this.unsubscribe(t);J++;B--;if(J>=I)J=0;return false}return true}.bind(z));if(z.$RTISubscriptionManager2.length===0&&B>=A)return{v:null}}();if(typeof y==="object")return y.v}v=v||{};v.locale=c("CurrentLocale").get();if(c("RTISubscriptionManagerConfig").assimilator){v.tierType=c("RTISubscriptionManagerConfig").assimilator.tierType;v.sandboxIP=c("RTISubscriptionManagerConfig").assimilator.sandboxIP;v.sandboxPort=c("RTISubscriptionManagerConfig").assimilator.sandboxPort;v.sandboxHostname=c("RTISubscriptionManagerConfig").assimilator.sandboxHostname}var C=new s(t,u,v,w,x);if(this.isSubscribed(t)){var D=this.$RTISubscriptionManager1[t],E=JSON.stringify(C.getContext())===JSON.stringify(D.getContext());if(t in this.$RTISubscriptionManager3)if(E){C.setDirty(false);C.setSent(true);delete this.$RTISubscriptionManager3[t]}else this.flush();else{if(D&&D.getArbiterToken()){c("Arbiter").unsubscribe(D.getArbiterToken());D.setArbiterToken(null)}C.setDirty(D.isDirty());C.setSent(D.isSent());m(t)}}var F=new r(C);this.$RTISubscriptionManager1[t]=C;this.$RTISubscriptionManager2.push(t);var G=c("ChannelConstants").getSkywalkerArbiterType(t),H=c("Arbiter").subscribe(G,function(I,event){var J=event.obj.length;for(var K=0;K<J;K++){var L={topic:t,payload:event.obj[K]};c("ErrorUtils").applyWithGuard(u,this,[L])}this.$RTISubscriptionManager12()}.bind(this));C.setArbiterToken(H);this.flush();return F};q.prototype.unsubscribe=function(t){__p&&__p();t||h(0);if(t in this.$RTISubscriptionManager1){var u=this.$RTISubscriptionManager1[t];u.prepareUnsubscribe();if(u.getArbiterToken()){c("Arbiter").unsubscribe(u.getArbiterToken());u.setArbiterToken(null)}this.$RTISubscriptionManager3[t]=true}};q.prototype.unsubscribeAll=function(){if(this.isReady()){var t={reset:"t"};this.$RTISubscriptionManager11.issueRequest("/sub",t,{},function(u){})}};q.prototype.activePing=function(){if(this.isReady()){var t={state:"active"};this.$RTISubscriptionManager11.issueRequest("/active_ping",t,{},function(u){})}};q.prototype.flush=function(){__p&&__p();var t,u=this;if(this.isReady()&&!this.$RTISubscriptionManager7){var v;(function(){__p&&__p();u.$RTISubscriptionManager7=true;u.$RTISubscriptionManager8=false;var w=[],x={},y=false;u.forEachSubscription(function(C,D){__p&&__p();if(D.isDirty()){var E="subscriptions",F=x[E];if(!F){F=[];x[E]=F}w.push(D);D.setDirty(false);D.setSent(false);var G={topic:D.getTopic(),state:D.getState(),context:D.getContext()};F.push(G)}else y=true});if(!y&&x.subscriptions&&x.subscriptions.length>0){var z=[];for(v=0;v<x.subscriptions.length;v++)if(x.subscriptions[v].state!==i.UNSUBSCRIBE)z.push(x.subscriptions[v]);x.subscriptions=z;u.$RTISubscriptionManager9=true}var A=function(C){__p&&__p();var D=C.data!=null;if(this.$RTISubscriptionManager9&&D)this.$RTISubscriptionManager9=false;for(var E=0;E<w.length;E++){var F=w[E];F.setSent(D);F.setDirty(!D);if(F.getState()===i.SUBSCRIBE){var G=F.getSubscribeCallback();if(G!==null)c("ErrorUtils").applyWithGuard(G,this,[C])}else if(D)delete this.$RTISubscriptionManager3[F.getTopic()]}this.deleteSubscriptions(function(F){return F.getState()===i.UNSUBSCRIBE&&F.isSent()});this.$RTISubscriptionManager7=false;if(this.$RTISubscriptionManager8){this.$RTISubscriptionManager8=false;this.flush()}}.bind(u);if(Object.keys(x).length>0){var B={};if(u.$RTISubscriptionManager9)B.reset="t";u.$RTISubscriptionManager11.issueRequest("/sub",B,x,A)}else u.$RTISubscriptionManager7=false})()}else{this.$RTISubscriptionManager8=true;if(this.$RTISubscriptionManager11===null)this.getCurrentSession()}};q.prototype.deleteSubscriptions=function(t){t||h(0);var u=[];this.forEachSubscription(function(w,x){if(t.apply(this,[x]))u.push(w)});for(var v=0;v<u.length;v++)delete this.$RTISubscriptionManager1[u[v]]};q.prototype.forEachSubscription=function(t){t||h(0);for(var u in this.$RTISubscriptionManager1)if(Object.prototype.hasOwnProperty.call(this.$RTISubscriptionManager1,u))t.apply(this,[u,this.$RTISubscriptionManager1[u]])};q.prototype.getSubscriptions=function(){var t=[];this.forEachSubscription(function(u,v){t.push(v)});return t};q.prototype.isUnflushedUnsubscribe=function(t){t||h(0);return t in this.$RTISubscriptionManager3};q.prototype.isSubscribed=function(t){t||h(0);return t in this.$RTISubscriptionManager1};q.prototype.isReady=function(){if(this.$RTISubscriptionManager11&&this.$RTISubscriptionManager4!==null&&this.$RTISubscriptionManager4&&this.$RTISubscriptionManager10)return true;return false};q.prototype.getCurrentSession=function(){c("Arbiter").inform(c("ChannelConstants").GET_RTI_SESSION_REQUEST)};q.prototype.getEvictionBatchSize=function(){if(c("RTISubscriptionManagerConfig").config&&Object.prototype.hasOwnProperty.call(c("RTISubscriptionManagerConfig").config,"eviction_batch_size"))return c("RTISubscriptionManagerConfig").config.eviction_batch_size;else return k};q.prototype.getMaxSubscriptions=function(){if(c("RTISubscriptionManagerConfig").config&&Object.prototype.hasOwnProperty.call(c("RTISubscriptionManagerConfig").config,"max_subscriptions"))return c("RTISubscriptionManagerConfig").config.max_subscriptions;else return j};q.prototype.$RTISubscriptionManager12=function(){__p&&__p();var t=null,u=null;if(c("RTISubscriptionManagerConfig").config){t=c("RTISubscriptionManagerConfig").config.www_idle_unsubscribe_min_time_ms;u=c("RTISubscriptionManagerConfig").config.www_idle_unsubscribe_times_ms}if(!t||!u)return;if(c("UserActivity").isActive(t))return;this.forEachSubscription(function(v,w){var x=w.getTopic(),y=false,z=l(x);if(z!==null&&p(x))if(u!==null&&typeof u==="object"&&u[z]!==undefined)y=!c("UserActivity").isActive(u[z]);else y=false;if(y)this.unsubscribe(x)}.bind(this))};function r(t){this.$SubscriptionToken1=t}r.prototype.getContext=function(){return this.$SubscriptionToken1.getContext()};r.prototype.unsubscribe=function(){var t=this.$SubscriptionToken1.getUnsubscribeHook();if(t)t();var u=this.$SubscriptionToken1.getTopic();q.unsubscribe(u);var v=u.substr(0,u.lastIndexOf("/"));if(!c("RTIFriendFanoutConfig").passFriendFanoutSubscribeGK||c("RTIFriendFanoutConfig").topicPrefixes.indexOf(v)<0)return;q.unsubscribe(u+"_user_id_"+c("CurrentUser").getID())};r.prototype.fastUnsubscribe=function(){this.unsubscribe();q.flush()};function s(t,u,v,w,x){__p&&__p();this.$SubscriptionData1=t;this.$SubscriptionData2=u;this.$SubscriptionData3=true;this.$SubscriptionData4=false;this.$SubscriptionData5=i.SUBSCRIBE;this.$SubscriptionData6=null;this.$SubscriptionData7=Date.now();if(v)this.$SubscriptionData8=v;else this.$SubscriptionData8={};this.$SubscriptionData9=w?w:null;this.$SubscriptionData10=x?x:null}s.prototype.getCreatedTime=function(){return this.$SubscriptionData7};s.prototype.getTopic=function(){return this.$SubscriptionData1};s.prototype.getListener=function(){return this.$SubscriptionData2};s.prototype.getSubscribeCallback=function(){return this.$SubscriptionData9};s.prototype.getUnsubscribeHook=function(){return this.$SubscriptionData10};s.prototype.getArbiterToken=function(){return this.$SubscriptionData6};s.prototype.setArbiterToken=function(t){this.$SubscriptionData6=t};s.prototype.isDirty=function(){return this.$SubscriptionData3};s.prototype.setDirty=function(t){this.$SubscriptionData3=t};s.prototype.getState=function(){return this.$SubscriptionData5};s.prototype.setState=function(t){this.$SubscriptionData5=t};s.prototype.getContext=function(){return this.$SubscriptionData8};s.prototype.isSent=function(){return this.$SubscriptionData4};s.prototype.setSent=function(t){this.$SubscriptionData4=t};s.prototype.prepareUnsubscribe=function(){this.setState(i.UNSUBSCRIBE);this.setDirty(true);this.setSent(false);this.$SubscriptionData2=null};c("Run").onUnload(function(){q.unsubscribeAll()});q.PULL_HINT_DELAY_MILLIS=1e4;Object.keys(q.prototype).forEach(function(t){q[t]=function(){var u=q;return q.prototype[t].apply(u,arguments)}});q.call(q);f.exports=q}),null);
__d("ChromecastAPI",["Promise","regeneratorRuntime"],(function a(b,c,d,e,f,g){__p&&__p();var h=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","boadgeojelhgndaghljhdicfkmllpafd","dliochdbjfkdbacpmhlcpmleaejidimm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"],i=null,j=null,k={};f.exports=k;k.getSenderAPI=function(){__p&&__p();if(i)return i;if(!b.chrome){i=c("Promise").reject(new Error("Browser not supported"));return i}if(b.chrome.cast&&b.chrome.cast.isAvailable){i=c("Promise").resolve(b.chrome.cast);return i}i=c("Promise").resolve().then(function(){return l()}).then(function(o){__p&&__p();return new(c("Promise"))(function(p,q){__p&&__p();b.chrome.cast=b.chrome.cast||{};b.chrome.cast.extensionId=o;b.__onGCastApiAvailable=function(s,t){if(t)q(t);else p(b.chrome.cast)};var r=document.createElement("script");r.onerror=q;r.src=n(o);(document.head||document.documentElement).appendChild(r)})});return i};function l(){__p&&__p();var o,p,q;return c("regeneratorRuntime").async(function r(s){__p&&__p();while(1)switch(s.prev=s.next){case 0:o=0;case 1:if(!(o<h.length)){s.next=11;break}p=h[o];s.next=5;return c("regeneratorRuntime").awrap(m(p));case 5:q=s.sent;if(!q){s.next=8;break}return s.abrupt("return",p);case 8:o++;s.next=1;break;case 11:return s.abrupt("return",null);case 12:case"end":return s.stop()}},null,this)}function m(o){__p&&__p();return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:return q.abrupt("return",new(c("Promise"))(function(r,s){var t=n(o),u=new XMLHttpRequest();u.onreadystatechange=function(){if(u.readyState===4)r(u.status===200)};u.onerror=function(){r(false)};u.open("GET",t,true);u.send()}));case 1:case"end":return q.stop()}},null,this)}function n(o){return"chrome-extension://"+o+"/cast_sender.js"}}),null);
__d("ChromecastSession",["invariant","regeneratorRuntime","Promise","ChromecastSessionEnum","EventEmitter","ChromecastAPI"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("ChromecastAPI").getSenderAPI;i=babelHelpers.inherits(l,c("EventEmitter"));j=i&&i.prototype;function l(m,n,o){"use strict";j.constructor.call(this);this.$ChromecastSession1=m;this.$ChromecastSession2=this.$ChromecastSession5.bind(this);this.$ChromecastSession3=n;this.$ChromecastSession4=o;o.addMessageListener(this.$ChromecastSession3,this.$ChromecastSession2)}l.prototype.destroy=function(){"use strict";var m=this.$ChromecastSession4;if(m)m.removeMessageListener(this.$ChromecastSession3,this.$ChromecastSession2);this.removeAllListeners()};l.prototype.isCasting=function(){"use strict";return!!this.$ChromecastSession4};l.prototype.isPlaying=function m(){__p&&__p();var n;return c("regeneratorRuntime").async(function o(p){while(1)switch(p.prev=p.next){case 0:"use strict";p.next=3;return c("regeneratorRuntime").awrap(k());case 3:n=p.sent;return p.abrupt("return",!!(this.$ChromecastSession4&&this.$ChromecastSession4.media&&this.$ChromecastSession4.media[0]&&this.$ChromecastSession4.media[0].playerState===n.media.PlayerState.PLAYING));case 5:case"end":return p.stop()}},null,this)};l.prototype.hasMedia=function(){"use strict";return!!(this.$ChromecastSession4&&this.$ChromecastSession4.media&&this.$ChromecastSession4.media[0])};l.prototype.disconnect=function m(){__p&&__p();return c("regeneratorRuntime").async(function n(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:"use strict";this.emit(c("ChromecastSessionEnum").DISCONNECTING);o.prev=2;o.next=5;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(p,q){if(this.$ChromecastSession4)this.$ChromecastSession4.stop(p,q);else p()}.bind(this)));case 5:o.next=11;break;case 7:o.prev=7;o.t0=o["catch"](2);this.emit(c("ChromecastSessionEnum").ERROR,o.t0);throw o.t0;case 11:o.prev=11;this.$ChromecastSession4=null;this.emit(c("ChromecastSessionEnum").DISCONNECTED);this.removeAllListeners();return o.finish(11);case 16:case"end":return o.stop()}},null,this,[[2,7,11,16]])};l.prototype.loadVideo=function m(n,o,p){__p&&__p();var q,r=this;return c("regeneratorRuntime").async(function s(t){__p&&__p();while(1)switch(t.prev=t.next){case 0:"use strict";t.prev=1;t.next=4;return c("regeneratorRuntime").awrap(function u(){__p&&__p();var v,w;return c("regeneratorRuntime").async(function x(y){__p&&__p();while(1)switch(y.prev=y.next){case 0:y.next=2;return c("regeneratorRuntime").awrap(k());case 2:v=y.sent;w=r.$ChromecastSession4;if(!o)o="video/mp4";y.next=7;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(z,A){__p&&__p();w||h(0);this.emit(c("ChromecastSessionEnum").VIDEO_LOADING);var B=new v.media.MediaInfo(n,o);B.streamType=v.media.StreamType.BUFFERED;var C=new v.media.LoadRequest(B);C.autoplay=true;if(p)C.currentTime=p;w.loadMedia(C,function(D){var E=function(){D.removeUpdateListener(E);this.emit(c("ChromecastSessionEnum").VIDEO_LOADED);z()}.bind(this);D.addUpdateListener(E)}.bind(this),A)}.bind(r)));case 7:r.emit(c("ChromecastSessionEnum").VIDEO_PLAYING);case 8:case"end":return y.stop()}},null,r)}());case 4:t.next=10;break;case 6:t.prev=6;t.t0=t["catch"](1);this.emit(c("ChromecastSessionEnum").ERROR,t.t0);throw t.t0;case 10:case"end":return t.stop()}},null,this,[[1,6]])};l.prototype.playVideo=function m(){__p&&__p();var n,o=this;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:"use strict";q.prev=1;q.next=4;return c("regeneratorRuntime").awrap(function r(){__p&&__p();var s,t;return c("regeneratorRuntime").async(function u(v){__p&&__p();while(1)switch(v.prev=v.next){case 0:v.next=2;return c("regeneratorRuntime").awrap(k());case 2:s=v.sent;t=o.$ChromecastSession4;v.next=6;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(w,x){t||h(0);t.media&&t.media[0]||h(0);var y=new s.media.PlayRequest();t.media[0].play(y,w,x)}));case 6:o.emit(c("ChromecastSessionEnum").VIDEO_PLAYING);case 7:case"end":return v.stop()}},null,o)}());case 4:q.next=10;break;case 6:q.prev=6;q.t0=q["catch"](1);this.emit(c("ChromecastSessionEnum").ERROR,q.t0);throw q.t0;case 10:case"end":return q.stop()}},null,this,[[1,6]])};l.prototype.pauseVideo=function m(){__p&&__p();var n,o=this;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:"use strict";q.prev=1;q.next=4;return c("regeneratorRuntime").awrap(function r(){__p&&__p();var s,t;return c("regeneratorRuntime").async(function u(v){__p&&__p();while(1)switch(v.prev=v.next){case 0:v.next=2;return c("regeneratorRuntime").awrap(k());case 2:s=v.sent;t=o.$ChromecastSession4;v.next=6;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(w,x){t||h(0);t.media&&t.media[0]||h(0);var y=new s.media.PauseRequest();t.media[0].pause(y,w,x)}));case 6:o.emit(c("ChromecastSessionEnum").VIDEO_PAUSED);case 7:case"end":return v.stop()}},null,o)}());case 4:q.next=10;break;case 6:q.prev=6;q.t0=q["catch"](1);this.emit(c("ChromecastSessionEnum").ERROR,q.t0);throw q.t0;case 10:case"end":return q.stop()}},null,this,[[1,6]])};l.prototype.seekVideo=function m(n){__p&&__p();var o,p=this;return c("regeneratorRuntime").async(function q(r){__p&&__p();while(1)switch(r.prev=r.next){case 0:"use strict";r.prev=1;r.next=4;return c("regeneratorRuntime").awrap(function s(){__p&&__p();var t,u;return c("regeneratorRuntime").async(function v(w){__p&&__p();while(1)switch(w.prev=w.next){case 0:w.next=2;return c("regeneratorRuntime").awrap(k());case 2:t=w.sent;u=p.$ChromecastSession4;w.next=6;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(x,y){u||h(0);u.media&&u.media[0]||h(0);var z=new t.media.SeekRequest();z.currentTime=n;u.media[0].seek(z,x,y)}));case 6:p.emit(c("ChromecastSessionEnum").VIDEO_PLAYING);case 7:case"end":return w.stop()}},null,p)}());case 4:r.next=10;break;case 6:r.prev=6;r.t0=r["catch"](1);this.emit(c("ChromecastSessionEnum").ERROR,r.t0);throw r.t0;case 10:case"end":return r.stop()}},null,this,[[1,6]])};l.prototype.getVolume=function(){"use strict";var m=this.$ChromecastSession6();return m?m.level:null};l.prototype.setVolume=function m(n){__p&&__p();var o,p=this;return c("regeneratorRuntime").async(function q(r){__p&&__p();while(1)switch(r.prev=r.next){case 0:"use strict";r.prev=1;r.next=4;return c("regeneratorRuntime").awrap(function s(){__p&&__p();var t;return c("regeneratorRuntime").async(function u(v){while(1)switch(v.prev=v.next){case 0:t=p.$ChromecastSession4;v.next=3;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(w,x){t||h(0);t.setReceiverVolumeLevel(n,w,x)}));case 3:case"end":return v.stop()}},null,p)}());case 4:r.next=10;break;case 6:r.prev=6;r.t0=r["catch"](1);this.emit(c("ChromecastSessionEnum").ERROR,r.t0);throw r.t0;case 10:case"end":return r.stop()}},null,this,[[1,6]])};l.prototype.isMuted=function(){"use strict";var m=this.$ChromecastSession6();return m?m.muted:null};l.prototype.mute=function m(){return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:"use strict";o.next=3;return c("regeneratorRuntime").awrap(this.$ChromecastSession7(true));case 3:case"end":return o.stop()}},null,this)};l.prototype.unmute=function m(){return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:"use strict";o.next=3;return c("regeneratorRuntime").awrap(this.$ChromecastSession7(false));case 3:case"end":return o.stop()}},null,this)};l.prototype.sendMessage=function m(n){__p&&__p();return c("regeneratorRuntime").async(function o(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:"use strict";p.prev=1;p.next=4;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(q,r){var s=this.$ChromecastSession4;s||h(0);s.sendMessage(this.$ChromecastSession3,n,q,r)}.bind(this)));case 4:p.next=10;break;case 6:p.prev=6;p.t0=p["catch"](1);this.emit(c("ChromecastSessionEnum").ERROR,p.t0);throw p.t0;case 10:case"end":return p.stop()}},null,this,[[1,6]])};l.prototype.$ChromecastSession6=function(){"use strict";return this.$ChromecastSession4&&this.$ChromecastSession4.receiver&&this.$ChromecastSession4.receiver.volume};l.prototype.$ChromecastSession7=function m(n){__p&&__p();var o,p=this;return c("regeneratorRuntime").async(function q(r){__p&&__p();while(1)switch(r.prev=r.next){case 0:"use strict";r.prev=1;r.next=4;return c("regeneratorRuntime").awrap(function s(){__p&&__p();var t;return c("regeneratorRuntime").async(function u(v){while(1)switch(v.prev=v.next){case 0:t=p.$ChromecastSession4;v.next=3;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(w,x){t||h(0);t.setReceiverMuted(n,w,x)}));case 3:case"end":return v.stop()}},null,p)}());case 4:r.next=10;break;case 6:r.prev=6;r.t0=r["catch"](1);this.emit(c("ChromecastSessionEnum").ERROR,r.t0);throw r.t0;case 10:case"end":return r.stop()}},null,this,[[1,6]])};l.prototype.getVideoTime=function(){"use strict";var m=null,n=this.$ChromecastSession4&&this.$ChromecastSession4.media[0];if(n)m=n.getEstimatedTime();return m};l.prototype.$ChromecastSession5=function(m,n){"use strict";if(m===this.$ChromecastSession3)this.emit("message",n);else this.emit("invalid_message",{namespace:m,message:n})};f.exports=l}),null);
__d("ConnectedTVLoggerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTION:"action",APP_BACKGROUNDED:"app_backgrounded",APP_FOREGROUNDED:"app_foregrounded",CHANGED_TAB:"changed_tab",CHANGED_SECTION:"changed_section",CHANGED_UNIT:"changed_unit",WATCH_SUMMARY:"watch_summary",PAGE_IMPRESSION:"page_impression",CAST_REQUESTED:"cast_requested",CAST_STARTED:"cast_started",CAST_FAILED:"cast_failed",CAST_ACTIVITY:"cast_activity",CAST_AVAILABILITY:"cast_availability",CAST_BACKGROUNDED:"cast_backgrounded",CASTING_DEVICE_DISCOVERED:"casting_device_discovered",DIAL_DEVICE_DISCOVERED:"dial_device_discovered",GRAPHQL_MUTATION:"graphql_mutation",GRAPHQL_QUERY:"graphql_query",ACCIDENTAL_SWIPE:"accidental_swipe",DISPLAYED_FIRST_SCREEN:"displayed_first_screen",EXITED_APP:"exited_app",INLINE_ACTIONS_OPENED:"inline_actions_opened",LAUNCHED_APP:"launched_app",LOGIN_CODE_FETCHED:"login_code_fetched",LOGIN_CODE_FETCH_FAILED:"login_code_fetch_failed",LOGIN_CODE_PAGE_HIT_DESKTOP:"login_code_page_hit_desktop",LOGIN_CODE_PAGE_HIT_MOBILE:"login_code_page_hit_mobile",LOGIN_CODE_PAGE_GDP_APPROVED:"login_code_page_gdp_approved",LOGIN_CODE_PAGE_GDP_CANCELLED:"login_code_page_gdp_cancelled",LOGIN_CODE_PAGE_GDP_SHOWN:"login_code_page_gdp_shown",LOGIN_CODE_SHOWN:"login_code_shown",LOGIN_ERROR_NONCE_INVALID:"login_error_nonce_invalid",LOGIN_OPTION_SELECTED:"login_option_selected",LOGIN_QR_CODE_FETCHED:"login_qr_code_fetched",LOGIN_SUCCESS:"login_success",LOGIN_ERROR:"login_error",LOGIN_TIMEOUT_REFETCH_CODE:"login_timeout_refetch_code",LOGGED_OUT:"logged_out",LOGGED_OUT_PLAYBACK_DISABLED:"logged_out_playback_disabled",SEARCH_RESULTS_DISPLAYED:"search_results_displayed",SEARCH_RESULTS_INTERACTED:"search_results_interacted",SEARCH_TRENDING_TOPIC_SELECTED:"search_trending_topic_selected",SEARCH_TYPEAHEAD_SELECTED:"search_typeahead_selected",SECTION_COMPONENT_SELECTED:"section_component_selected",VIEWPORT_DURATION:"viewport_duration",MODAL_OPEN:"modal_open",MODAL_CLOSE:"modal_close",SENDER_SESSION_REQUESTED:"sender_session_requested",SENDER_SESSION_STARTED:"sender_session_started",SENDER_SESSION_FAILED:"sender_session_failed",RECEIVER_PAGE_LOAD:"receiver_page_load",RECEIVER_LOADED:"receiver_loaded",RECEIVER_EXPERIENCE_MANAGER_LOADED:"receiver_experience_manager_loaded",RECEIVER_LAUNCHING_EXPERIENCE:"receiver_launching_experience",RECEIVER_LAUNCHED_EXPERIENCE:"receiver_launched_experience",RECEIVER_EXPERIENCE_JOINED:"receiver_experience_joined",RECEIVER_EXPERIENCE_ENDED:"receiver_experience_ended",RECEIVER_GOT_PAYLOAD:"receiver_got_payload",RECEIVER_GOT_METADATA:"receiver_got_metadata",RECEIVER_PLAYBACK_STARTED:"receiver_playback_started",RECEIVER_PLAYBACK_ENDED:"receiver_playback_ended",RECEIVER_DEVICE_CONNECTED:"receiver_device_connected",RECEIVER_DEVICE_DISCONNECTED:"receiver_device_disconnected",RECEIVER_CONNECTION_ESTABLISHED:"receiver_connection_established",RECEIVER_RECEIVED_MESSAGE:"receiver_received_message",RECEIVER_SENT_MESSAGE:"receiver_sent_message",RECEIVER_FETCHED_NEXT:"receiver_fetched_next",RECEIVER_IDLED:"receiver_idled",RECEIVER_BUG_REPORT_SHOWN:"receiver_bug_report_shown",RECEIVER_REMOTE_CLICK:"receiver_remote_click",RECEIVER_ERROR:"receiver_error",RECEIVER_WARNING:"receiver_warning",RECEIVER_PLAYER_ERROR:"receiver_player_error",SAMSUNG_EDEN_TILE_SELECTED:"samsung_eden_tile_selected",SECTION_MIN_COUNT_CHECK:"section_min_count_check",SERVER_ERROR:"server_error",APK_ERROR:"apk_error",VIDEO_CHANNEL_NAVIGATION_ENDED:"video_channel_navigation_ended",VIDEO_CHANNEL_PLAYBACK_ENDED:"video_channel_playback_ended",TOP_SHELF_REQUESTED:"top_shelf_requested",TOP_SHELF_FINISHED:"top_shelf_finished",TOP_SHELF_OPENED:"top_shelf_opened",OSMETA_AUTH_COPY:"connected_tv_osmeta_auth_copy"})}),null);
__d("ConnectedTVTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("ctv_proxy:ConnectedTVLoggerConfig",this.$ConnectedTVTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("ctv_proxy:ConnectedTVLoggerConfig",this.$ConnectedTVTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ConnectedTVTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ConnectedTVTypedLogger1=babelHelpers["extends"]({},this.$ConnectedTVTypedLogger1,j);return this};h.prototype.setAccessToken=function(j){this.$ConnectedTVTypedLogger1.access_token=j;return this};h.prototype.setActionMethod=function(j){this.$ConnectedTVTypedLogger1.action_method=j;return this};h.prototype.setActionSurface=function(j){this.$ConnectedTVTypedLogger1.action_surface=j;return this};h.prototype.setActionTarget=function(j){this.$ConnectedTVTypedLogger1.action_target=j;return this};h.prototype.setCampaignID=function(j){this.$ConnectedTVTypedLogger1.campaign_id=j;return this};h.prototype.setCastActivityName=function(j){this.$ConnectedTVTypedLogger1.cast_activity_name=j;return this};h.prototype.setCastClientAppID=function(j){this.$ConnectedTVTypedLogger1.cast_client_app_id=j;return this};h.prototype.setCastClientAppVersion=function(j){this.$ConnectedTVTypedLogger1.cast_client_app_version=j;return this};h.prototype.setCastClientSeqNum=function(j){this.$ConnectedTVTypedLogger1.cast_client_seq_num=j;return this};h.prototype.setCastClientTimeMs=function(j){this.$ConnectedTVTypedLogger1.cast_client_time_ms=j;return this};h.prototype.setCastDeviceCount=function(j){this.$ConnectedTVTypedLogger1.cast_device_count=j;return this};h.prototype.setCastSessionID=function(j){this.$ConnectedTVTypedLogger1.cast_session_id=j;return this};h.prototype.setCastingDeviceType=function(j){this.$ConnectedTVTypedLogger1.casting_device_type=j;return this};h.prototype.setChainingDepthLevel=function(j){this.$ConnectedTVTypedLogger1.chaining_depth_level=j;return this};h.prototype.setClientSessionStartTimeMs=function(j){this.$ConnectedTVTypedLogger1.client_session_start_time_ms=j;return this};h.prototype.setClientVideoBandwidth=function(j){this.$ConnectedTVTypedLogger1.client_video_bandwidth=j;return this};h.prototype.setDeviceUniqueID=function(j){this.$ConnectedTVTypedLogger1.device_unique_id=j;return this};h.prototype.setDurationMs=function(j){this.$ConnectedTVTypedLogger1.duration_ms=j;return this};h.prototype.setErrorDetails=function(j){this.$ConnectedTVTypedLogger1.error_details=j;return this};h.prototype.setErrorMessage=function(j){this.$ConnectedTVTypedLogger1.error_message=j;return this};h.prototype.setEvent=function(j){this.$ConnectedTVTypedLogger1.event=j;return this};h.prototype.setEventDescription=function(j){this.$ConnectedTVTypedLogger1.event_description=j;return this};h.prototype.setExperience=function(j){this.$ConnectedTVTypedLogger1.experience=j;return this};h.prototype.setExperienceView=function(j){this.$ConnectedTVTypedLogger1.experience_view=j;return this};h.prototype.setExternalLogID=function(j){this.$ConnectedTVTypedLogger1.external_log_id=j;return this};h.prototype.setExternalLogType=function(j){this.$ConnectedTVTypedLogger1.external_log_type=j;return this};h.prototype.setGraphqlQueryName=function(j){this.$ConnectedTVTypedLogger1.graphql_query_name=j;return this};h.prototype.setInitialCast=function(j){this.$ConnectedTVTypedLogger1.initial_cast=j;return this};h.prototype.setInitialLogin=function(j){this.$ConnectedTVTypedLogger1.initial_login=j;return this};h.prototype.setIsAppVisible=function(j){this.$ConnectedTVTypedLogger1.is_app_visible=j;return this};h.prototype.setIsShowVideo=function(j){this.$ConnectedTVTypedLogger1.is_show_video=j;return this};h.prototype.setManufacturer=function(j){this.$ConnectedTVTypedLogger1.manufacturer=j;return this};h.prototype.setMemorySize=function(j){this.$ConnectedTVTypedLogger1.memory_size=j;return this};h.prototype.setMinCountNumFetched=function(j){this.$ConnectedTVTypedLogger1.min_count_num_fetched=j;return this};h.prototype.setModelName=function(j){this.$ConnectedTVTypedLogger1.model_name=j;return this};h.prototype.setMostRecentSenderUserAgent=function(j){this.$ConnectedTVTypedLogger1.most_recent_sender_user_agent=j;return this};h.prototype.setOwnerID=function(j){this.$ConnectedTVTypedLogger1.owner_id=j;return this};h.prototype.setOwnerType=function(j){this.$ConnectedTVTypedLogger1.owner_type=j;return this};h.prototype.setPerfTimeMs=function(j){this.$ConnectedTVTypedLogger1.perf_time_ms=j;return this};h.prototype.setPlaybackIsLiveStreaming=function(j){this.$ConnectedTVTypedLogger1.playback_is_live_streaming=j;return this};h.prototype.setPlayerFormat=function(j){this.$ConnectedTVTypedLogger1.player_format=j;return this};h.prototype.setPlayerOrigin=function(j){this.$ConnectedTVTypedLogger1.player_origin=j;return this};h.prototype.setPlayerSuborigin=function(j){this.$ConnectedTVTypedLogger1.player_suborigin=j;return this};h.prototype.setPlayerVersion=function(j){this.$ConnectedTVTypedLogger1.player_version=j;return this};h.prototype.setPositionInChannel=function(j){this.$ConnectedTVTypedLogger1.position_in_channel=j;return this};h.prototype.setPreviousState=function(j){this.$ConnectedTVTypedLogger1.previous_state=j;return this};h.prototype.setPreviousTvSessionID=function(j){this.$ConnectedTVTypedLogger1.previous_tv_session_id=j;return this};h.prototype.setProjection=function(j){this.$ConnectedTVTypedLogger1.projection=j;return this};h.prototype.setReferer=function(j){this.$ConnectedTVTypedLogger1.referer=j;return this};h.prototype.setRetryCount=function(j){this.$ConnectedTVTypedLogger1.retry_count=j;return this};h.prototype.setSectionTypeOverride=function(j){this.$ConnectedTVTypedLogger1.section_type_override=j;return this};h.prototype.setSessionFailureCode=function(j){this.$ConnectedTVTypedLogger1.session_failure_code=j;return this};h.prototype.setSessionFailureDescription=function(j){this.$ConnectedTVTypedLogger1.session_failure_description=j;return this};h.prototype.setShowVideoType=function(j){this.$ConnectedTVTypedLogger1.show_video_type=j;return this};h.prototype.setStallCount=function(j){this.$ConnectedTVTypedLogger1.stall_count=j;return this};h.prototype.setStallTimeForStartMs=function(j){this.$ConnectedTVTypedLogger1.stall_time_for_start_ms=j;return this};h.prototype.setStallTimeMs=function(j){this.$ConnectedTVTypedLogger1.stall_time_ms=j;return this};h.prototype.setStoryID=function(j){this.$ConnectedTVTypedLogger1.story_id=j;return this};h.prototype.setStreamingFormat=function(j){this.$ConnectedTVTypedLogger1.streaming_format=j;return this};h.prototype.setTabType=function(j){this.$ConnectedTVTypedLogger1.tab_type=j;return this};h.prototype.setTvAppVersion=function(j){this.$ConnectedTVTypedLogger1.tv_app_version=j;return this};h.prototype.setTvSeqNum=function(j){this.$ConnectedTVTypedLogger1.tv_seq_num=j;return this};h.prototype.setTvSessionID=function(j){this.$ConnectedTVTypedLogger1.tv_session_id=j;return this};h.prototype.setTvTimeMs=function(j){this.$ConnectedTVTypedLogger1.tv_time_ms=j;return this};h.prototype.setVC=function(j){this.$ConnectedTVTypedLogger1.vc=j;return this};h.prototype.setVideoChannelID=function(j){this.$ConnectedTVTypedLogger1.video_channel_id=j;return this};h.prototype.setVideoIDOverride=function(j){this.$ConnectedTVTypedLogger1.video_id_override=j;return this};h.prototype.setViewCount=function(j){this.$ConnectedTVTypedLogger1.view_count=j;return this};h.prototype.setViewCount100=function(j){this.$ConnectedTVTypedLogger1.view_count_100=j;return this};h.prototype.setViewCount10s=function(j){this.$ConnectedTVTypedLogger1.view_count_10s=j;return this};h.prototype.setViewCount15s=function(j){this.$ConnectedTVTypedLogger1.view_count_15s=j;return this};h.prototype.setViewCount30s=function(j){this.$ConnectedTVTypedLogger1.view_count_30s=j;return this};h.prototype.setViewCount75=function(j){this.$ConnectedTVTypedLogger1.view_count_75=j;return this};h.prototype.setViewCount95=function(j){this.$ConnectedTVTypedLogger1.view_count_95=j;return this};h.prototype.setViewportDuration=function(j){this.$ConnectedTVTypedLogger1.viewport_duration=j;return this};h.prototype.setVoiceOverEnabled=function(j){this.$ConnectedTVTypedLogger1.voice_over_enabled=j;return this};h.prototype.setWatchTimeChannelMs=function(j){this.$ConnectedTVTypedLogger1.watch_time_channel_ms=j;return this};h.prototype.setWatchTimeFullScreenMs=function(j){this.$ConnectedTVTypedLogger1.watch_time_full_screen_ms=j;return this};h.prototype.setWatchTimeInlineMs=function(j){this.$ConnectedTVTypedLogger1.watch_time_inline_ms=j;return this};h.prototype.setWatchTimeMs=function(j){this.$ConnectedTVTypedLogger1.watch_time_ms=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$ConnectedTVTypedLogger1=babelHelpers["extends"]({},this.$ConnectedTVTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={access_token:true,action_method:true,action_surface:true,action_target:true,campaign_id:true,cast_activity_name:true,cast_client_app_id:true,cast_client_app_version:true,cast_client_seq_num:true,cast_client_time_ms:true,cast_device_count:true,cast_session_id:true,casting_device_type:true,chaining_depth_level:true,client_session_start_time_ms:true,client_video_bandwidth:true,device_unique_id:true,duration_ms:true,error_details:true,error_message:true,event:true,event_description:true,experience:true,experience_view:true,external_log_id:true,external_log_type:true,graphql_query_name:true,initial_cast:true,initial_login:true,is_app_visible:true,is_show_video:true,manufacturer:true,memory_size:true,min_count_num_fetched:true,model_name:true,most_recent_sender_user_agent:true,owner_id:true,owner_type:true,perf_time_ms:true,playback_is_live_streaming:true,player_format:true,player_origin:true,player_suborigin:true,player_version:true,position_in_channel:true,previous_state:true,previous_tv_session_id:true,projection:true,referer:true,retry_count:true,section_type_override:true,session_failure_code:true,session_failure_description:true,show_video_type:true,stall_count:true,stall_time_for_start_ms:true,stall_time_ms:true,story_id:true,streaming_format:true,tab_type:true,tv_app_version:true,tv_seq_num:true,tv_session_id:true,tv_time_ms:true,vc:true,video_channel_id:true,video_id_override:true,view_count:true,view_count_100:true,view_count_10s:true,view_count_15s:true,view_count_30s:true,view_count_75:true,view_count_95:true,viewport_duration:true,voice_over_enabled:true,watch_time_channel_ms:true,watch_time_full_screen_ms:true,watch_time_inline_ms:true,watch_time_ms:true};f.exports=h}),null);
__d("ChromecastScanner",["regeneratorRuntime","Promise","ChromecastScannerEnum","ChromecastSession","ChromecastSessionEnum","ConnectedTVLoggerEvents","ConnectedTVTypedLogger","EventEmitter","Set","emptyFunction","ChromecastAPI","performanceAbsoluteNow"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("ChromecastAPI").getSenderAPI,k=3*60*1e3;h=babelHelpers.inherits(l,c("EventEmitter"));i=h&&h.prototype;l.getInstance=function m(n,o,p){__p&&__p();var q;return c("regeneratorRuntime").async(function r(s){while(1)switch(s.prev=s.next){case 0:"use strict";q=new l(n,o,p);s.next=4;return c("regeneratorRuntime").awrap(q.ready());case 4:return s.abrupt("return",q);case 5:case"end":return s.stop()}},null,this)};function l(m,n,o){"use strict";__p&&__p();i.constructor.call(this);this.$ChromecastScanner1=m||null;this.$ChromecastScanner2=n||null;this.$ChromecastScanner3=o||false;this.$ChromecastScanner6=false;this.$ChromecastScanner4=false;this.$ChromecastScanner5=false;this.$ChromecastScanner7=new(c("Set"))();this.$ChromecastScanner8=this.$ChromecastScanner9()}l.prototype.$ChromecastScanner9=function m(){__p&&__p();var n;return c("regeneratorRuntime").async(function o(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:"use strict";p.next=3;return c("regeneratorRuntime").awrap(j());case 3:n=p.sent;this.$ChromecastScanner5=true;if(this.$ChromecastScanner5&&this.$ChromecastScanner1===null)this.$ChromecastScanner1=n.media.DEFAULT_MEDIA_RECEIVER_APP_ID;p.prev=6;p.next=9;return c("regeneratorRuntime").awrap(this.$ChromecastScanner10());case 9:this.emit(c("ChromecastScannerEnum").INIT);if(!this.$ChromecastScanner3){p.next=13;break}p.next=13;return c("regeneratorRuntime").awrap(this.scanForReceivers());case 13:p.next=19;break;case 15:p.prev=15;p.t0=p["catch"](6);this.emit(c("ChromecastScannerEnum").ERROR,p.t0);throw p.t0;case 19:case"end":return p.stop()}},null,this,[[6,15]])};l.prototype.ready=function m(){return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:"use strict";o.next=3;return c("regeneratorRuntime").awrap(this.$ChromecastScanner8);case 3:case"end":return o.stop()}},null,this)};l.prototype.destroy=function(){"use strict";this.removeAllListeners();this.$ChromecastScanner7.forEach(function(m){return m.destroy()})};l.prototype.hasSupport=function(){"use strict";return this.$ChromecastScanner5};l.prototype.hasFoundReceiver=function(){"use strict";return this.$ChromecastScanner6};l.prototype.scanForReceivers=function m(){__p&&__p();var n,o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:"use strict";if(!this.$ChromecastScanner4){q.next=3;break}return q.abrupt("return");case 3:this.$ChromecastScanner4=true;q.next=6;return c("regeneratorRuntime").awrap(j());case 6:n=q.sent;o=new(c("Promise"))(function(r,s){var t=function(w){var x=this.$ChromecastScanner11(w);this.emit(c("ChromecastScannerEnum").SESSION_STARTED,x)}.bind(this),u=function(w){this.$ChromecastScanner6=w===n.ReceiverAvailability.AVAILABLE;this.emit(c("ChromecastScannerEnum").RECEIVER_STATUS_CHANGED,{foundReceiver:this.$ChromecastScanner6});r()}.bind(this),v=new n.ApiConfig(new n.SessionRequest(this.$ChromecastScanner1),t,u,n.AutoJoinPolicy.ORIGIN_SCOPED,n.DefaultActionPolicy.CAST_THIS_TAB);n.initialize(v,c("emptyFunction"),s)}.bind(this));o=o["catch"](function(r){this.$ChromecastScanner4=false;this.emit(c("ChromecastScannerEnum").ERROR,r);throw r}.bind(this));q.next=11;return c("regeneratorRuntime").awrap(o);case 11:case"end":return q.stop()}},null,this)};l.prototype.getSession=function m(){__p&&__p();var n,o,p;return c("regeneratorRuntime").async(function q(r){__p&&__p();while(1)switch(r.prev=r.next){case 0:"use strict";if(this.$ChromecastScanner6){r.next=3;break}throw new Error("No receivers found");case 3:this.emit(c("ChromecastScannerEnum").SESSION_REQUESTED);n=this.$ChromecastScanner12();n["catch"](function(s){this.emit(c("ChromecastScannerEnum").SESSION_CANCELLED);this.emit(c("ChromecastScannerEnum").SESSION_DISCONNECTED);throw s}.bind(this));r.next=8;return c("regeneratorRuntime").awrap(n);case 8:o=r.sent;p=this.$ChromecastScanner11(o);this.$ChromecastScanner7.add(p);this.emit(c("ChromecastScannerEnum").SESSION_STARTED,p);return r.abrupt("return",p);case 13:case"end":return r.stop()}},null,this)};l.prototype.$ChromecastScanner12=function m(){__p&&__p();var n,o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:"use strict";q.next=3;return c("regeneratorRuntime").awrap(j());case 3:n=q.sent;q.next=6;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(r,s){new(c("ConnectedTVTypedLogger"))().setEvent(c("ConnectedTVLoggerEvents").SENDER_SESSION_REQUESTED).log();var t=c("performanceAbsoluteNow")(),u=new n.SessionRequest(this.$ChromecastScanner1,[n.Capability.VIDEO_OUT,n.Capability.AUDIO_OUT],k);n.requestSession(function(o){new(c("ConnectedTVTypedLogger"))().setEvent(c("ConnectedTVLoggerEvents").SENDER_SESSION_STARTED).setPerfTimeMs(Math.floor(c("performanceAbsoluteNow")()-t)).log();return r(o)},function(v){new(c("ConnectedTVTypedLogger"))().setEvent(c("ConnectedTVLoggerEvents").SENDER_SESSION_FAILED).setSessionFailureCode(v.code).setSessionFailureDescription(v.description).setPerfTimeMs(Math.floor(c("performanceAbsoluteNow")()-t)).log();return s(v)},u)}.bind(this)));case 6:o=q.sent;return q.abrupt("return",o);case 8:case"end":return q.stop()}},null,this)};l.prototype.$ChromecastScanner11=function(m){"use strict";__p&&__p();var n=new(c("ChromecastSession"))(this.$ChromecastScanner1||"",this.$ChromecastScanner2||"",m);n.addListener(c("ChromecastSessionEnum").DISCONNECTING,function(){this.emit(c("ChromecastScannerEnum").SESSION_DISCONNECTING,n)}.bind(this));n.addListener(c("ChromecastSessionEnum").DISCONNECTED,function(){this.emit(c("ChromecastScannerEnum").SESSION_DISCONNECTED,n);this.$ChromecastScanner7["delete"](n)}.bind(this));n.addListener(c("ChromecastSessionEnum").ERROR,function(o){this.emit(c("ChromecastScannerEnum").ERROR,o)}.bind(this));return n};l.prototype.$ChromecastScanner10=function m(){__p&&__p();var n;return c("regeneratorRuntime").async(function o(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:"use strict";p.next=3;return c("regeneratorRuntime").awrap(j());case 3:n=p.sent;n.addReceiverActionListener(function(q,r){switch(r){case n.ReceiverAction.CAST:this.emit(c("ChromecastScannerEnum").CAST,q);break;case n.ReceiverAction.STOP:this.$ChromecastScanner7.forEach(function(s){return s.disconnect()});break}}.bind(this));case 5:case"end":return p.stop()}},null,this)};f.exports=l}),null);
__d("VideoPlayerAbrTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("vpabr_proxy:VideoPlayerAbrLoggerConfig",this.$VideoPlayerAbrTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("vpabr_proxy:VideoPlayerAbrLoggerConfig",this.$VideoPlayerAbrTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoPlayerAbrTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoPlayerAbrTypedLogger1=babelHelpers["extends"]({},this.$VideoPlayerAbrTypedLogger1,j);return this};h.prototype.setBandwidthEstimate=function(j){this.$VideoPlayerAbrTypedLogger1.bandwidth_estimate=j;return this};h.prototype.setBufferedAhead=function(j){this.$VideoPlayerAbrTypedLogger1.buffered_ahead=j;return this};h.prototype.setBytes=function(j){this.$VideoPlayerAbrTypedLogger1.bytes=j;return this};h.prototype.setClientTime=function(j){this.$VideoPlayerAbrTypedLogger1.client_time=j;return this};h.prototype.setClientTimeBegin=function(j){this.$VideoPlayerAbrTypedLogger1.client_time_begin=j;return this};h.prototype.setClientTimeEnd=function(j){this.$VideoPlayerAbrTypedLogger1.client_time_end=j;return this};h.prototype.setDelayMs=function(j){this.$VideoPlayerAbrTypedLogger1.delay_ms=j;return this};h.prototype.setEvent=function(j){this.$VideoPlayerAbrTypedLogger1.event=j;return this};h.prototype.setPlayhead=function(j){this.$VideoPlayerAbrTypedLogger1.playhead=j;return this};h.prototype.setReason=function(j){this.$VideoPlayerAbrTypedLogger1.reason=j;return this};h.prototype.setRepresentationID=function(j){this.$VideoPlayerAbrTypedLogger1.representation_id=j;return this};h.prototype.setSession=function(j){this.$VideoPlayerAbrTypedLogger1.session=j;return this};h.prototype.setUnsampledReason=function(j){this.$VideoPlayerAbrTypedLogger1.unsampled_reason=j;return this};h.prototype.setVC=function(j){this.$VideoPlayerAbrTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoPlayerAbrTypedLogger1.video_id=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$VideoPlayerAbrTypedLogger1=babelHelpers["extends"]({},this.$VideoPlayerAbrTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={bandwidth_estimate:true,buffered_ahead:true,bytes:true,client_time:true,client_time_begin:true,client_time_end:true,delay_ms:true,event:true,playhead:true,reason:true,representation_id:true,session:true,unsampled_reason:true,vc:true,video_id:true};f.exports=h}),null);
__d("VideoPlayerShakaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$VideoPlayerShakaPerformanceTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$VideoPlayerShakaPerformanceTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoPlayerShakaPerformanceTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1=babelHelpers["extends"]({},this.$VideoPlayerShakaPerformanceTypedLogger1,j);return this};h.prototype.setAccessToken=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.access_token=j;return this};h.prototype.setAdditionalBufferedRanges=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.additional_buffered_ranges=j;return this};h.prototype.setBandwidthEstimate=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.bandwidth_estimate=j;return this};h.prototype.setClientTimeBegin=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.client_time_begin=j;return this};h.prototype.setClientTimeEnd=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.client_time_end=j;return this};h.prototype.setCode=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.code=j;return this};h.prototype.setDroppedFrames=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.dropped_frames=j;return this};h.prototype.setError=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.error=j;return this};h.prototype.setEvent=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.event=j;return this};h.prototype.setExpectedLength=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.expected_length=j;return this};h.prototype.setInitiator=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.initiator=j;return this};h.prototype.setIsLive=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.is_live=j;return this};h.prototype.setLastBufferedEnd=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.last_buffered_end=j;return this};h.prototype.setLastBufferedStart=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.last_buffered_start=j;return this};h.prototype.setLastPlayingEventTime=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.last_playing_event_time=j;return this};h.prototype.setLength=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.length=j;return this};h.prototype.setLiveheadDelta=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.livehead_delta=j;return this};h.prototype.setLogicalCpuCount=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.logical_cpu_count=j;return this};h.prototype.setParentID=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.parent_id=j;return this};h.prototype.setPlayerOriginCallerSpecified=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.player_origin_caller_specified=j;return this};h.prototype.setPlayerSuborigin=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.player_suborigin=j;return this};h.prototype.setPlayhead=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.playhead=j;return this};h.prototype.setPriority=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.priority=j;return this};h.prototype.setPushed=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.pushed=j;return this};h.prototype.setReason=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.reason=j;return this};h.prototype.setRepresentationID=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.representation_id=j;return this};h.prototype.setRescheduleCount=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.reschedule_count=j;return this};h.prototype.setResource=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.resource=j;return this};h.prototype.setResult=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.result=j;return this};h.prototype.setScriptPath=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.script_path=j;return this};h.prototype.setSegmentEndTime=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.segment_end_time=j;return this};h.prototype.setSegmentStartTime=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.segment_start_time=j;return this};h.prototype.setSegmentTimeGap=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.segment_time_gap=j;return this};h.prototype.setSequentialID=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.sequential_id=j;return this};h.prototype.setSession=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.session=j;return this};h.prototype.setState=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.state=j;return this};h.prototype.setStreamSwitchReason=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.stream_switch_reason=j;return this};h.prototype.setTimeToFirstByte=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.time_to_first_byte=j;return this};h.prototype.setTimeToLastByte=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.time_to_last_byte=j;return this};h.prototype.setTimeToRequestSent=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.time_to_request_sent=j;return this};h.prototype.setTimeToRequestStart=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.time_to_request_start=j;return this};h.prototype.setType=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.type=j;return this};h.prototype.setVC=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.vc=j;return this};h.prototype.setVideoDuration=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.video_duration=j;return this};h.prototype.setVideoID=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.video_id=j;return this};h.prototype.setWasDelayed=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.was_delayed=j;return this};var i={access_token:true,additional_buffered_ranges:true,bandwidth_estimate:true,client_time_begin:true,client_time_end:true,code:true,dropped_frames:true,error:true,event:true,expected_length:true,initiator:true,is_live:true,last_buffered_end:true,last_buffered_start:true,last_playing_event_time:true,length:true,livehead_delta:true,logical_cpu_count:true,parent_id:true,player_origin_caller_specified:true,player_suborigin:true,playhead:true,priority:true,pushed:true,reason:true,representation_id:true,reschedule_count:true,resource:true,result:true,script_path:true,segment_end_time:true,segment_start_time:true,segment_time_gap:true,sequential_id:true,session:true,state:true,stream_switch_reason:true,time_to_first_byte:true,time_to_last_byte:true,time_to_request_sent:true,time_to_request_start:true,type:true,vc:true,video_duration:true,video_id:true,was_delayed:true};f.exports=h}),null);
__d("TaggedTimeRanges",["sprintf"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$TaggedTimeRanges1=[];this.$TaggedTimeRanges2=0;this.$TaggedTimeRanges3=0;this.$TaggedTimeRanges4=i?i:function(j,k){return j===k}}h.prototype.add=function(i,j,k){"use strict";__p&&__p();if(j<i)return;if(j===i)return;if(this.$TaggedTimeRanges1.length===0){this.$TaggedTimeRanges1.push({start:i,end:j,tag:k});return}var l=0,m=0;for(var n=0;n<this.$TaggedTimeRanges1.length;n++){if(i===this.$TaggedTimeRanges1[n].start&&j===this.$TaggedTimeRanges1[n].end){l=n;m=n+1;break}if(i>=this.$TaggedTimeRanges1[n].start)l=n+1;if(j<=this.$TaggedTimeRanges1[n].end)m=n;if(j<this.$TaggedTimeRanges1[n].start)break}this.$TaggedTimeRanges1.splice(l,m-l,{start:i,end:j,tag:k});this.$TaggedTimeRanges5(l)};h.prototype.$TaggedTimeRanges5=function(i){"use strict";__p&&__p();var j=this.$TaggedTimeRanges1[i],k=null;if(i!==0)k=this.$TaggedTimeRanges1[i-1];if(k!==null)if(this.$TaggedTimeRanges4(k.tag,j.tag)){if(k.end>=j.start){this.$TaggedTimeRanges1.splice(i-1,2,{start:k.start,end:Math.max(j.end,k.end),tag:j.tag});i--}}else{if(k.end>j.start&&k.start===j.start){this.$TaggedTimeRanges1.splice(i-1,1);i--}else if(k.end>j.start)this.$TaggedTimeRanges1.splice(i-1,1,{start:k.start,end:j.start,tag:k.tag});if(k.end>j.end)this.$TaggedTimeRanges1.splice(i+1,0,{start:j.end,end:k.end,tag:k.tag})}var l=null;if(i!==this.$TaggedTimeRanges1.length-1)l=this.$TaggedTimeRanges1[i+1];if(l)if(this.$TaggedTimeRanges4(l.tag,j.tag)){if(l.start<=j.end)this.$TaggedTimeRanges1.splice(i,2,{start:j.start,end:Math.max(l.end,j.end),tag:j.tag})}else if(l.start<=j.end)if(l.end<j.end){this.$TaggedTimeRanges1.splice(i,1,{start:j.start,end:l.start,tag:j.tag});this.$TaggedTimeRanges1.push({start:l.end,end:j.end,tag:j.tag})}else this.$TaggedTimeRanges1.splice(i+1,1,{start:j.end,end:l.end,tag:l.tag})};h.prototype.get=function(i){"use strict";__p&&__p();var j=i>=this.$TaggedTimeRanges3?this.$TaggedTimeRanges2:0,k=null;for(var l=j;l<this.$TaggedTimeRanges1.length;l++)if(this.$TaggedTimeRanges1[l].start<=i&&i<this.$TaggedTimeRanges1[l].end){k=l;break}this.$TaggedTimeRanges2=k===null?0:k;this.$TaggedTimeRanges3=i;return k===null?null:this.$TaggedTimeRanges1[k].tag};h.prototype.getLength=function(){"use strict";return this.$TaggedTimeRanges1.length};f.exports=h}),null);
__d("dispatchCustomEvent",[],(function a(b,c,d,e,f,g){function h(i,j,k){var l=void 0;if(typeof b.CustomEvent==="function")l=new b.CustomEvent(j,{detail:k});else{l=b.document.createEvent("CustomEvent");l.initCustomEvent(j,true,true,k)}i.dispatchEvent(l)}f.exports=h}),null);
__d("XRlAbrController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/repomen/",{query:{type:"FloatVector",required:true}})}),null);
__d("RlAbrUtils",["Promise","AsyncRequest","XRlAbrController"],(function a(b,c,d,e,f,g){__p&&__p();var h={getRlAbrFeatures:function i(j,k,l,m,n){var o=j.currentTime||0,p=j.duration||0,q=l?l.bandwidth||0:0,r=["1080p","1440p","144p","2160p","240p","360p","4320p","480p","720p"],s=r.map(function(w){var x=k.find(function(x){return x.fbQualityLabel===w});return x?x.bandwidth:0}),t=[m],u=[q,Math.max(p-o,0)],v=[].concat(s,t,u);return v},genRlAbrRecommendation:function i(j,k){var l=c("XRlAbrController").getURIBuilder().setFloatVector("query",j).getURI();return new(c("Promise"))(function(m,n){new(c("AsyncRequest"))(l).setMethod("GET").setURI(l).setReadOnly(true).setHandler(function(o){var p=o.payload.data;m(p||[])}).setErrorHandler(function(o){n([])}).setTimeoutHandler(k,function(o){n([])}).send()})}};f.exports=h}),null);
__d("VideoPushParametersHelper",["URI","VideoPlayerShakaConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h=/(.*)\.(xx|fna)\.fbcdn\.net/;function i(j){"use strict";this.$VideoPushParametersHelper1=new(c("URI"))(j);return this}i.prototype.setStreamEndOffset=function(j){"use strict";this.$VideoPushParametersHelper2=Math.min(Math.floor(j)+1,c("VideoPlayerShakaConfig").getGlobalNumber("live_max_segments_to_push",2));this.$VideoPushParametersHelper4=Math.floor(j)+1;return this};i.prototype.setSegmentStartTime=function(j){"use strict";this.$VideoPushParametersHelper3=j;return this};i.prototype.setPushVideoRepresentationID=function(j){"use strict";this.$VideoPushParametersHelper5=j;return this};i.prototype.setPushAudioRepresentationID=function(j){"use strict";this.$VideoPushParametersHelper6=j;return this};i.prototype.setUseLongCacheForManifest=function(j){"use strict";this.$VideoPushParametersHelper7=j;return this};i.prototype.getURL=function(){"use strict";var j=this.getPushQueryParameters();j.forEach(function(k,l){this.$VideoPushParametersHelper1.addQueryData(l,k)}.bind(this));return this.$VideoPushParametersHelper1.toString()};i.prototype.getPushQueryParameters=function(){"use strict";__p&&__p();var j=new Map(),k=h.test(this.$VideoPushParametersHelper1.toString());if(k&&c("VideoPlayerShakaConfig").getGlobalBool("live_send_push_headers",true)){if(this.$VideoPushParametersHelper2!=null)j.set("_nc_p_n",this.$VideoPushParametersHelper2);if(this.$VideoPushParametersHelper3!=null)j.set("_nc_p_ts",this.$VideoPushParametersHelper3);else if(this.$VideoPushParametersHelper4!=null)j.set("_nc_p_o",this.$VideoPushParametersHelper4);if(this.$VideoPushParametersHelper5!=null&&this.$VideoPushParametersHelper6!=null){j.set("_nc_p_rid",this.$VideoPushParametersHelper5);j.set("_nc_p_arid",this.$VideoPushParametersHelper6)}if(this.$VideoPushParametersHelper7)j.set("_nc_nc","1")}return j};i.prototype.getSegmentsToPush=function(){"use strict";return this.$VideoPushParametersHelper2};i.prototype.getSegmentStartTime=function(){"use strict";return this.$VideoPushParametersHelper3};i.prototype.getSegmentOffset=function(){"use strict";return this.$VideoPushParametersHelper4};i.prototype.getPushVideoRepresentationID=function(){"use strict";return this.$VideoPushParametersHelper5};i.prototype.getPushAudioRepresentationID=function(){"use strict";return this.$VideoPushParametersHelper6};i.prototype.getUseLongCacheForManifest=function(){"use strict";return this.$VideoPushParametersHelper7};i.getDefaultLiveStreamEndOffset=function(){"use strict";return c("VideoPlayerShakaConfig").getGlobalNumber("live_default_stream_end_offset",3)};f.exports=i}),null);
__d("XVideoDataAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/video_data_async/",{video_id:{type:"String",required:true},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:true},is_ad:{type:"Bool",defaultValue:false},force_flash:{type:"Bool",defaultValue:false},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:false},allow_dash_prefetch:{type:"Bool",defaultValue:false},force_hd:{type:"Bool",defaultValue:false}})}),null);
__d("VideoPlayerMetaData",["invariant","regeneratorRuntime","Promise","AsyncResponse","AsyncRequest","VideoDashPrefetchCache","VideoData","VideoPushParametersHelper","XVideoDataAsyncController","isHTML5VideoImplementationUnavailable"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={},j=12e4;function k(l){this.videoID=l}k.prototype.getVideoID=function(){return this.videoID};k.prototype.genVideoData=function l(){__p&&__p();var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=arguments[1],o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:q.prev=0;o=this.$VideoPlayerMetaData1;if(!o||m.forceRefetch){if(this.$VideoPlayerMetaData2){clearTimeout(this.$VideoPlayerMetaData2);this.$VideoPlayerMetaData2=null}o=this.$VideoPlayerMetaData1=this.$VideoPlayerMetaData3(m);this.$VideoPlayerMetaData2=setTimeout(function(){this.$VideoPlayerMetaData1=null;n()}.bind(this),m.cacheTimeout||j)}q.next=5;return c("regeneratorRuntime").awrap(o);case 5:return q.abrupt("return",q.sent);case 8:q.prev=8;q.t0=q["catch"](0);throw q.t0;case 11:case"end":return q.stop()}},null,this,[[0,8]])};k.prototype.$VideoPlayerMetaData3=function(l){__p&&__p();var m=c("XVideoDataAsyncController").getURIBuilder().setString("video_id",this.videoID).setBool("supports_html5_video",!c("isHTML5VideoImplementationUnavailable")(true)),n=l.forceFlash,o=l.allowDashPrefetch,p=l.forceHD;if(n!==undefined)m=m.setBool("force_flash",n);if(o!==undefined)m=m.setBool("allow_dash_prefetch",o);if(p!==undefined)m=m.setBool("force_hd",p);var q=m.getURI();return new(c("Promise"))(function(r,s){new(c("AsyncRequest"))(q).setMethod("GET").setURI(q).setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(t){var u=t.payload;if(!u.error)r(new(c("VideoData"))(u));else s(u.error)}).setErrorHandler(function(t){s(t.getErrorDescription())}).send()})};k.get=function(l){if(!i[l])i[l]=new k(l);return i[l]};k.genVideoData=function l(m){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],o=arguments.length<=2||arguments[2]===undefined?function(){}:arguments[2];return c("regeneratorRuntime").async(function p(q){while(1)switch(q.prev=q.next){case 0:q.next=2;return c("regeneratorRuntime").awrap(k.get(m).genVideoData(n,o));case 2:return q.abrupt("return",q.sent);case 3:case"end":return q.stop()}},null,this)};f.exports=k}),null);
__d("VideoPlayerUtils",[],(function a(b,c,d,e,f,g){var h={getBufferedAheadOf:function i(j){var k=1/60,l=j.currentTime,m=j.buffered;for(var n=0;n<m.length;n++){var o=m.start(n)-k,p=m.end(n)+k;if(l>=o&&l<=p)return Math.max(m.end(n)-l,0)}return 0}};f.exports=h}),null);
__d("CastingExperienceManager",["invariant","regeneratorRuntime","Promise","ChromecastConfig","ChromecastScanner","ChromecastScannerEnum","EventEmitter","Map","Random","SubscriptionsHandler","WebStorage"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("WebStorage").getLocalStorage(),l=null;i=babelHelpers.inherits(m,c("EventEmitter"));j=i&&i.prototype;function m(){__p&&__p();j.constructor.call(this);this.$CastingExperienceManager5=new(c("ChromecastScanner"))(c("ChromecastConfig").APP_ID,c("ChromecastConfig").NAMESPACE,c("ChromecastConfig").AUTO_SCAN);this.$CastingExperienceManager2=null;this.$CastingExperienceManager1=false;this.$CastingExperienceManager4=0;this.$CastingExperienceManager7=null;this.$CastingExperienceManager10=new(c("Map"))();var n=new(c("SubscriptionsHandler"))();n.addSubscriptions(this.$CastingExperienceManager5.addListener(c("ChromecastScannerEnum").RECEIVER_STATUS_CHANGED,function(o){return this.$CastingExperienceManager11(o)}.bind(this)),this.$CastingExperienceManager5.addListener(c("ChromecastScannerEnum").SESSION_DISCONNECTED,function(){return this.$CastingExperienceManager12()}.bind(this)),this.$CastingExperienceManager5.addListener(c("ChromecastScannerEnum").SESSION_STARTED,function(o){return this.$CastingExperienceManager13(o)}.bind(this)),this.$CastingExperienceManager5.addListener(c("ChromecastScannerEnum").SESSION_DISCONNECTED,function(){return this.$CastingExperienceManager14()}.bind(this)),this.$CastingExperienceManager5.addListener(c("ChromecastScannerEnum").ERROR,function(o){return this.$CastingExperienceManager15(o)}.bind(this)));this.$CastingExperienceManager8=this.$CastingExperienceManager5.ready();this.$CastingExperienceManager8.then(function(){this.$CastingExperienceManager2=true;this.$CastingExperienceManager1=true;this.emit(m.READY)}.bind(this),function(o){this.$CastingExperienceManager2=false;n.release();this.emit(m.NOT_SUPPORTED,o)}.bind(this)).done()}m.getInstance=function(){if(!l)l=new m();return l};m.prototype.ready=function n(){return c("regeneratorRuntime").async(function o(p){while(1)switch(p.prev=p.next){case 0:p.next=2;return c("regeneratorRuntime").awrap(this.$CastingExperienceManager8);case 2:case"end":return p.stop()}},null,this)};m.prototype.getLastError=function(){return this.$CastingExperienceManager3};m.prototype.hasSupport=function(){return this.$CastingExperienceManager2};m.prototype.hasFoundReceiver=function(){return this.$CastingExperienceManager5.hasFoundReceiver()};m.prototype.getSession=function n(){__p&&__p();var o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:q.next=2;return c("regeneratorRuntime").awrap(this.ready());case 2:if(!this.$CastingExperienceManager6){q.next=4;break}return q.abrupt("return",this.$CastingExperienceManager6);case 4:if(!this.$CastingExperienceManager9)this.$CastingExperienceManager9=this.$CastingExperienceManager16();o=null;q.prev=6;q.next=9;return c("regeneratorRuntime").awrap(this.$CastingExperienceManager9);case 9:o=q.sent;q.next=16;break;case 12:q.prev=12;q.t0=q["catch"](6);this.emit(m.ERROR,q.t0);throw q.t0;case 16:q.prev=16;this.$CastingExperienceManager9=null;return q.finish(16);case 19:return q.abrupt("return",o);case 20:case"end":return q.stop()}},null,this,[[6,12,16,19]])};m.prototype.$CastingExperienceManager16=function n(){__p&&__p();var o;return c("regeneratorRuntime").async(function p(q){while(1)switch(q.prev=q.next){case 0:q.next=2;return c("regeneratorRuntime").awrap(this.$CastingExperienceManager5.getSession());case 2:o=q.sent;if(!this.$CastingExperienceManager6)this.$CastingExperienceManager6=o;return q.abrupt("return",this.$CastingExperienceManager6);case 5:case"end":return q.stop()}},null,this)};m.prototype.isRequestingSession=function(){return!!this.$CastingExperienceManager9};m.prototype.getSessionKey=function(){var n=null;if(k)n=k.getItem("CastingSessionKey");if(!n){n=c("Random").uint32().toString(16);if(k)k.setItem("CastingSessionKey",n)}return n};m.prototype.isCasting=function(n){var o=!!this.$CastingExperienceManager6&&this.$CastingExperienceManager6.isCasting();if(o&&n)o=!!this.$CastingExperienceManager7&&this.$CastingExperienceManager7.indexOf(n)>=0;return o};m.prototype.startCasting=function n(o,p,q){__p&&__p();var r,s,t;return c("regeneratorRuntime").async(function u(v){__p&&__p();while(1)switch(v.prev=v.next){case 0:if(this.isCasting(o)){v.next=14;break}r=null;if(!(c("ChromecastConfig").VERSION_LAUNCH_MESSAGE&&q)){v.next=8;break}v.next=5;return c("regeneratorRuntime").awrap(this.sendVersionLaunch(o,p,q));case 5:r=v.sent;v.next=11;break;case 8:v.next=10;return c("regeneratorRuntime").awrap(this.sendLaunch(o));case 10:r=v.sent;case 11:s=r;t=s.target;this.$CastingExperienceManager7=t;case 14:case"end":return v.stop()}},null,this)};m.prototype.stopCasting=function n(){__p&&__p();var o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:if(!this.isCasting()){q.next=6;break}q.next=3;return c("regeneratorRuntime").awrap(this.getSession());case 3:o=q.sent;q.next=6;return c("regeneratorRuntime").awrap(o.disconnect());case 6:this.$CastingExperienceManager17();case 7:case"end":return q.stop()}},null,this)};m.prototype.$CastingExperienceManager17=function(){this.$CastingExperienceManager6=null;this.$CastingExperienceManager7=null};m.prototype.getTarget=function n(){__p&&__p();var o,p;return c("regeneratorRuntime").async(function q(r){__p&&__p();while(1)switch(r.prev=r.next){case 0:if(this.$CastingExperienceManager7){r.next=10;break}r.next=3;return c("regeneratorRuntime").awrap(this.getSession());case 3:r.next=5;return c("regeneratorRuntime").awrap(this.sendVersion());case 5:o=r.sent;p=o.currently_running_experience;if(p){r.next=9;break}throw new Error("Session has no target");case 9:this.$CastingExperienceManager7=p;case 10:return r.abrupt("return",this.$CastingExperienceManager7);case 11:case"end":return r.stop()}},null,this)};m.prototype.setVolume=function(n){if(this.isCasting())this.$CastingExperienceManager6&&this.$CastingExperienceManager6.setVolume(n)};m.prototype.mute=function(){if(this.isCasting())this.$CastingExperienceManager6&&this.$CastingExperienceManager6.mute()};m.prototype.unmute=function(){if(this.isCasting())this.$CastingExperienceManager6&&this.$CastingExperienceManager6.unmute()};m.prototype.isFeedbackEnabled=function n(){__p&&__p();var o,p;return c("regeneratorRuntime").async(function q(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return c("regeneratorRuntime").awrap(this.getExperienceState());case 2:o=r.sent;p=o.feedback_disabled;return r.abrupt("return",!!p);case 5:case"end":return r.stop()}},null,this)};m.prototype.setFeedbackEnabled=function n(o){__p&&__p();var p;return c("regeneratorRuntime").async(function q(r){__p&&__p();while(1)switch(r.prev=r.next){case 0:if(this.isCasting()){r.next=2;break}return r.abrupt("return");case 2:p=o?"turn_on_feedback":"turn_off_feedback";r.next=5;return c("regeneratorRuntime").awrap(this.sendCommand(p));case 5:case"end":return r.stop()}},null,this)};m.prototype.sendMessage=function n(o,p,q){__p&&__p();var r,s;return c("regeneratorRuntime").async(function t(u){__p&&__p();while(1)switch(u.prev=u.next){case 0:u.next=2;return c("regeneratorRuntime").awrap(this.getSession());case 2:r=u.sent;r||h(0);s={target:o,type:p,data:q,num:this.$CastingExperienceManager4+=2,timestamp:Date.now()};u.next=7;return c("regeneratorRuntime").awrap(r.sendMessage(s));case 7:return u.abrupt("return",{msgNum:s.num});case 8:case"end":return u.stop()}},null,this)};m.prototype.receiveMessage=function n(o){__p&&__p();var p;return c("regeneratorRuntime").async(function q(r){__p&&__p();while(1)switch(r.prev=r.next){case 0:r.next=2;return c("regeneratorRuntime").awrap(this.getSession());case 2:p=r.sent;p||h(0);return r.abrupt("return",new(c("Promise"))(function(s,t){var u=p.addListener("message",function(v){try{var w=JSON.parse(v),x=!o||o(w);if(x){u.remove();s(w)}}catch(y){u.remove();t(y)}})}));case 5:case"end":return r.stop()}},null,this)};m.prototype.sendVersion=function n(){__p&&__p();var o,p,q,r;return c("regeneratorRuntime").async(function s(t){__p&&__p();while(1)switch(t.prev=t.next){case 0:o=this.getSessionKey();t.next=3;return c("regeneratorRuntime").awrap(this.sendMessage("version","version_request",{version:m.VERSION,client_cast_session:o}));case 3:p=t.sent;q=p.msgNum;t.next=7;return c("regeneratorRuntime").awrap(this.receiveMessage(function(u){return u.response_num===q}));case 7:r=t.sent;r.type==="version_response"||h(0);r.data||h(0);return t.abrupt("return",r.data);case 11:case"end":return t.stop()}},null,this)};m.prototype.sendLaunch=function n(o){__p&&__p();var p,q,r;return c("regeneratorRuntime").async(function s(t){__p&&__p();while(1)switch(t.prev=t.next){case 0:t.next=2;return c("regeneratorRuntime").awrap(this.sendMessage("experience","launch",{name:o}));case 2:p=t.sent;q=p.msgNum;t.next=6;return c("regeneratorRuntime").awrap(this.receiveMessage(function(u){return u.response_num===q}));case 6:r=t.sent;r.type==="launch_response"||h(0);return t.abrupt("return",r.data);case 9:case"end":return t.stop()}},null,this)};m.prototype.sendVersionLaunch=function n(o,p,q){__p&&__p();var r,s,t,u;return c("regeneratorRuntime").async(function v(w){__p&&__p();while(1)switch(w.prev=w.next){case 0:r=this.getSessionKey();w.next=3;return c("regeneratorRuntime").awrap(this.sendMessage("version_launch","version_launch",{version:m.VERSION,client_cast_session:r,name:o,params:p,payload:q}));case 3:s=w.sent;t=s.msgNum;w.next=7;return c("regeneratorRuntime").awrap(this.receiveMessage(function(x){return x.response_num===t}));case 7:u=w.sent;u.type==="version_launch_response"||h(0);return w.abrupt("return",u.data);case 10:case"end":return w.stop()}},null,this)};m.prototype.sendCommand=function n(o,p,q){__p&&__p();var r,s,t,u;return c("regeneratorRuntime").async(function v(w){__p&&__p();while(1)switch(w.prev=w.next){case 0:w.next=2;return c("regeneratorRuntime").awrap(this.getTarget());case 2:r=w.sent;w.next=5;return c("regeneratorRuntime").awrap(this.sendMessage(r,"experience_command",{cmd:o,params:p,payload:q}));case 5:s=w.sent;t=s.msgNum;w.next=9;return c("regeneratorRuntime").awrap(this.receiveMessage(function(x){return x.response_num===t}));case 9:u=w.sent;u.type==="command_result"||h(0);if(o==="stop_showing_photo")this.emit(m.STOP_VIEW);return w.abrupt("return",u.data);case 13:case"end":return w.stop()}},null,this)};m.prototype.getExperienceState=function n(o){__p&&__p();var p,q,r;return c("regeneratorRuntime").async(function s(t){__p&&__p();while(1)switch(t.prev=t.next){case 0:p=o||"";q=this.$CastingExperienceManager10.get(p);if(!q){q=this.$CastingExperienceManager18(o);this.$CastingExperienceManager10.set(p,q);r=function(){return this.$CastingExperienceManager10["delete"](p)}.bind(this);q.then(r,r).done()}return t.abrupt("return",q);case 4:case"end":return t.stop()}},null,this)};m.prototype.$CastingExperienceManager18=function n(o){__p&&__p();var p,q,r;return c("regeneratorRuntime").async(function s(t){__p&&__p();while(1)switch(t.prev=t.next){case 0:if(o){t.next=4;break}t.next=3;return c("regeneratorRuntime").awrap(this.getTarget());case 3:o=t.sent;case 4:t.next=6;return c("regeneratorRuntime").awrap(this.sendMessage(o,"get_experience_state",{}));case 6:p=t.sent;q=p.msgNum;t.next=10;return c("regeneratorRuntime").awrap(this.receiveMessage(function(u){return u.response_num===q}));case 10:r=t.sent;r.type==="experience_state"||h(0);return t.abrupt("return",r.data);case 13:case"end":return t.stop()}},null,this)};m.prototype.$CastingExperienceManager11=function(n){var o=n.foundReceiver;this.emit(m.RECEIVER_STATUS_CHANGED,!!o)};m.prototype.$CastingExperienceManager12=function(){this.$CastingExperienceManager17();this.emit(m.RECEIVER_DISCONNECTED)};m.prototype.$CastingExperienceManager13=function n(o){__p&&__p();var p,q,r,s;return c("regeneratorRuntime").async(function t(u){__p&&__p();while(1)switch(u.prev=u.next){case 0:this.$CastingExperienceManager6=o;p="extension";if(this.$CastingExperienceManager9)p="site";u.next=5;return c("regeneratorRuntime").awrap(this.sendVersion());case 5:q=u.sent;r=q.success;s=q.currently_running_experience;if(r){u.next=10;break}throw new Error("Failed to sync versions with session");case 10:if(s)this.$CastingExperienceManager7=s;this.emit(m.SESSION_STARTED,{session:o,source:p,success:r,target:this.$CastingExperienceManager7});o.addListener("message",function(v){try{var w=JSON.parse(v);this.$CastingExperienceManager19(w)}catch(x){this.emit(m.ERROR,x)}}.bind(this));case 13:case"end":return u.stop()}},null,this)};m.prototype.$CastingExperienceManager14=function(){var n=this.$CastingExperienceManager6;this.$CastingExperienceManager17();this.emit(m.SESSION_DISCONNECTED,n)};m.prototype.$CastingExperienceManager19=function(n){this.emit(m.SESSION_MESSAGE,n);if(n.type==="experience_ended"){this.$CastingExperienceManager7=null;this.emit(m.EXPERIENCE_ENDED)}};m.prototype.$CastingExperienceManager15=function(n){this.$CastingExperienceManager3=n;this.emit(m.ERROR,n)};m.VERSION="1.2.0";m.RECEIVER_STATUS_CHANGED="receiverstatuschanged";m.RECEIVER_DISCONNECTED="receiverdisconnected";m.SESSION_STARTED="sessionstarted";m.SESSION_MESSAGE="sessionmessage";m.SESSION_DISCONNECTED="sessiondisconnected";m.EXPERIENCE_ENDED="experienceended";m.ERROR="error";m.NOT_SUPPORTED="notsupported";m.READY="ready";m.STOP_VIEW="stopview";f.exports=m}),null);
__d("StreamingReactionsTrayEvents",[],(function a(b,c,d,e,f,g){var h="streamingReactionsTray/AddReactionAnimate",i="streamingReactionsTray/HideChannelViewDetails",j="streamingReactionsTray/ShowChannelViewDetails",k="streamingReactionsTray/UpdateSurface",l="streamingReactionsTray/ResizeChannelViewWindow",m="streamingReactionsTray/ReactionStateChange",n="streamingReactionsTray/FireworksAnimating",o="streamingReactionsTray/DisableReactions",p="streamingReactionsTray/EnableReactions",q={AddReactionAnimate:h,HideChannelViewDetails:i,ReactionStateChange:m,ResizeChannelViewWindow:l,ShowChannelViewDetails:j,UpdateSurface:k,FireworksAnimating:n,DisableReactions:o,EnableReactions:p};f.exports=q}),null);
__d("VideoPlayerLoggerEventField",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ABANDON_IN_STALL:"abandon_in_stall",ACCESS_TOKEN:"access_token",AD_CLIENT_TOKEN:"ad_client_token",AD_ID:"ad_id",API_CONFIG:"api_config",APP_ID:"app_id",APP_VERSION:"app_version",APPENDED_BYTE_SIZE:"appended_byte_size",AUDIO_CHANNEL_LAYOUT:"audio_ch_conf",AUTH_FLAG:"auth_flag",AUTOPLAY_ELIGIBLE:"autoplay_eligible",AUTOPLAY_FAILURE_REASONS:"autoplay_failure_reasons",AUTOPLAY_SETTING:"autoplay_setting",AVAILABLE_QUALITIES:"available_qualities",BATTERY_LEVEL:"battery_level",BROADCASTER_ORIGIN:"broadcaster_origin",BUILD_VERSION:"build_version",CAPTION_STATE:"caption_state",CAST_CLIENT_APP_ID:"cast_client_app_id",CAST_CLIENT_APP_VERSION:"cast_client_app_version",CAST_SESSION_ID:"cast_session_id",CHANNEL_ELIGIBILITY:"channel_eligibility",CHROMECAST_RECEIVER_AVAILABLE:"chromecast_receiver_available",CONNECTIVITY_SUBTYPE:"connectivity_subtype",CONNECTIVITY_TYPE:"connectivity_type",CREATOR_APP_ID:"creator_app_id",CURRENT_VIEWABILITY_PERCENTAGE:"current_viewability_percentage",VIEWABILITY_DEBUG_REASON:"viewability_debug_reason",CURRENT_VOLUME:"current_volume",DATA_CONNECTION_QUALITY:"data_connection_quality",DEBUG_REASON:"debug_reason",DEVICE_ID:"device_id",DURATION:"duration",ERROR:"error",ERROR_CODE:"error_code",ERROR_DESCRIPTION:"error_description",ERROR_DOMAIN:"error_domain",ERROR_USER_INFO:"error_user_info",EVENT_NAME:"name",EXTERNAL_LOG_ID:"external_log_id",EXTERNAL_LOG_TYPE:"external_log_type",FB_BANDWIDTH:"fb_bandwidth",FEED_POSITION:"feed_position",FIRST_STALL_START_POSITION:"first_stall_start_position",FIRST_STALL_TIME:"first_stall_time",FT:"ft",GKS:"gks",HAS_BEEN_LIVE:"has_been_live",HD:"hd",HEADSET_STATE:"headset_state",HLS_CURRENT_SEGMENT_URI:"current_segment_uri",HLS_LOADING_SEGMENT_URI:"loading_segment_uri",HLS_SEGMENT_URI:"segment_uri",HLS_STREAM_DATA:"stream_data",HOST_VIDEO_ID:"host_video_id",INLINE:"inline",INSTREAM_VIDEO_AD_BREAK_INDEX:"instream_video_ad_break_index",INSTREAM_VIDEO_AD_BREAK_VIDEO_ID:"instream_video_ad_break_video_id",INTERRUPT_COUNT:"interrupt_count",INTERRUPT_TIME:"interrupt_time",IS_ABR_ENABLED:"is_abr_enabled",IS_AUTO_ADVANCED:"is_auto_advanced",IS_FREE:"is_free",IS_HDS:"is_hds",IS_LIVE_STREAMING:"is_live_streaming",IS_SHOW_VIDEO:"is_show_video",IS_STALLING:"is_stalling",LAST_VIEWABILITY_PERCENTAGE:"last_viewability_percentage",NEXT_REPRESENTATION_ID:"next_representation_id",ORIGINAL_VIDEO_ID:"original_video_id",OUTER_STORY_IDENTIFIER:"outer_story_identifier",PLAYBACK_BROADCAST_STATUS:"playback_broadcast_status",PLAYBACK_DURATION:"playback_duration",PLAYBACK_IS_LIVE_STREAMING:"playback_is_live_streaming",PLAYER_FORMAT:"player_format",PLAYER_ORIGIN:"player_origin",PLAYER_STATE:"player_state",PLAYER_SUBORIGIN:"player_suborigin",PLAYER_VERSION:"player_version",POSITION_IN_CHANNEL:"position_in_channel",POSITION_IN_UNIT:"position_in_unit",PROJECTION:"projection",QES:"qes",REACTION_VIDEO_CHANNEL_ID:"video_channel_id",REACTION_VIDEO_CHANNEL_TYPE:"reaction_video_channel_type",REACTION_VIDEO_CHANNEL_SUBTYPE:"reaction_video_channel_subtype",REASON:"reason",RECENT_STALLS_COUNT:"recent_stalls_count",RECENT_STALLS_TOTAL_COUNT:"recent_stalls_total_count",REFERRER:"referrer",REPRESENTATION_ID:"representation_id",RESOURCE_URL:"resource_url",SAVED_OFFLINE:"saved_offline",SEQ_NUM:"seq_num",SESSION_START_TIME:"session_start_time",SHOW_VIDEO_TYPE:"show_video_type",SOURCE:"source",SPHERICAL_FALLBACK_TYPE:"spherical_fallback_type",STALL_COUNT:"stall_count",STALL_TIME:"stall_time",STATE:"state",STREAM_TYPE:"stream_type",STREAMING_FORMAT:"streaming_format",TIME:"time",TIME_DELTA:"time_delta",TIME_MS:"time_ms",TIME_SINCE_CREATION:"time_since_creation",TIME_SPENT_ID:"time_spent_id",TIME_UNTIL_INTERRUPT:"time_until_interrupt",TOTAL_STALL_TIME:"total_stall_time",TRACKING:"tracking",TV_SESSION_ID:"tv_session_id",UNIT_POSITION:"unit_position",USER_ASN:"user_asn",USER_ID:"user_id",V2_HEART_BEAT:"v2_heart_beat",VIDEO_BANDWIDTH:"video_bandwidth",VIDEO_CHAINING_DEPTH_LEVEL:"video_chaining_depth_level",VIDEO_CHAINING_SESSION_ID:"video_chaining_session_id",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_HOME_SESSION_ID:"video_home_session_id",VIDEO_ID:"video_id",VIDEO_LAST_START_TIME_POSITION:"video_last_start_time_position",VIDEO_PLAY_REASON:"video_play_reason",VIDEO_PLAYER_HEIGHT:"video_player_height",VIDEO_PLAYER_WIDTH:"video_player_width",VIDEO_QUALITY:"video_quality",VIDEO_TIME_POSITION:"video_time_position",VIDEO_TIME_RATIO:"video_time_ratio",VIEWABILITY_PERCENTAGE:"viewability_percentage",WATCH_AND_GO_SESSION_ID:"watch_and_go_session_id"})}),null);
__d("XCastingVideoPayloadAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/cast/async/video/payload/",{})}),null);
__d("VideoCastingComponent",["cx","invariant","regeneratorRuntime","Promise","AsyncRequest","Arbiter","ChromecastConfig","collectDataAttributes","CSS","FunnelLogger","Random","ScriptPath","StreamingReactionsTrayEvents","SubscriptionsHandler","CastingExperienceManager","XCastingVideoPayloadAsyncController","VideoPlayerReason","VideoPlayerLoggerEvent","VideoPlayerLoggerEventField"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j="WWW_VIDEOS_CASTING_FUNNEL";function k(l,m){__p&&__p();this.$VideoCastingComponent1=c("ChromecastConfig").EXPERIENCE_NAME;this.$VideoCastingComponent2=c("CastingExperienceManager").getInstance();this.$VideoCastingComponent3=l;this.$VideoCastingComponent4=false;this.$VideoCastingComponent5=false;this.$VideoCastingComponent6=false;this.$VideoCastingComponent7=null;this.$VideoCastingComponent9=null;this.$VideoCastingComponent13=null;this.$VideoCastingComponent8=m;this.$VideoCastingComponent10=new(c("SubscriptionsHandler"))();c("CSS").addClass(this.$VideoCastingComponent3.getVideoNode(),"_1_d1");l.registerOption("casting","isSupported",function(){return this.$VideoCastingComponent2.hasSupport()}.bind(this));l.registerOption("casting","hasFoundReceiver",function(){return this.$VideoCastingComponent2.hasFoundReceiver()}.bind(this));l.registerOption("casting","isCasting",function(){return this.$VideoCastingComponent4}.bind(this),function(n){return this.$VideoCastingComponent14(n).done()}.bind(this));l.registerOption("casting","isPlaying",function(){return this.$VideoCastingComponent6}.bind(this),function(n){return this.$VideoCastingComponent15(n).done()}.bind(this));l.registerOption("casting","lastError",function(){return this.$VideoCastingComponent2.getLastError()}.bind(this));this.$VideoCastingComponent10.addSubscriptions(this.$VideoCastingComponent2.addListener(c("CastingExperienceManager").RECEIVER_STATUS_CHANGED,function(n){return this.$VideoCastingComponent16(n).done()}.bind(this)),this.$VideoCastingComponent2.addListener(c("CastingExperienceManager").RECEIVER_DISCONNECTED,function(){return this.$VideoCastingComponent17().done()}.bind(this)),this.$VideoCastingComponent2.addListener(c("CastingExperienceManager").SESSION_DISCONNECTED,function(){return this.$VideoCastingComponent17().done()}.bind(this)),this.$VideoCastingComponent2.addListener(c("CastingExperienceManager").EXPERIENCE_ENDED,function(){return this.$VideoCastingComponent17().done()}.bind(this)),this.$VideoCastingComponent2.addListener(c("CastingExperienceManager").NOT_SUPPORTED,function(){return this.$VideoCastingComponent18().done()}.bind(this)),this.$VideoCastingComponent2.addListener(c("CastingExperienceManager").READY,function(){return this.$VideoCastingComponent19().done()}.bind(this)),this.$VideoCastingComponent2.addListener(c("CastingExperienceManager").SESSION_MESSAGE,function(n){return this.$VideoCastingComponent20(n).done()}.bind(this)),this.$VideoCastingComponent2.addListener(c("CastingExperienceManager").ERROR,function(n){return this.$VideoCastingComponent21(n).done()}.bind(this)),this.$VideoCastingComponent3.addListener("seekEnd",function(n){var o=n.position;if(!this.$VideoCastingComponent3.isLiveVideo())this.$VideoCastingComponent22(o).done()}.bind(this)),this.$VideoCastingComponent3.addListener("muteVideo",function(){this.$VideoCastingComponent23().done()}.bind(this)),this.$VideoCastingComponent3.addListener("unmuteVideo",function(){this.$VideoCastingComponent24().done()}.bind(this)),this.$VideoCastingComponent3.addListener("changeVolume",function(n){var o=n.volume;this.$VideoCastingComponent25(o).done()}.bind(this)),this.$VideoCastingComponent3.addListener("stateChange",function(){if(this.$VideoCastingComponent3.isState("destroyed"))this.destroy();if(this.$VideoCastingComponent3.isState("playing"))this.$VideoCastingComponent26().done()}.bind(this)),c("Arbiter").subscribe(c("StreamingReactionsTrayEvents").HideChannelViewDetails,function(){return this.$VideoCastingComponent27(true).done()}.bind(this)),c("Arbiter").subscribe(c("StreamingReactionsTrayEvents").ShowChannelViewDetails,function(){return this.$VideoCastingComponent27(false).done()}.bind(this)))}k.prototype.destroy=function(){this.$VideoCastingComponent10.release()};k.prototype.$VideoCastingComponent28=function(l){l in c("FunnelLogger")||i(0);if(!this.$VideoCastingComponent11){this.$VideoCastingComponent11=c("Random").uint32();c("FunnelLogger").startFunnel(j,this.$VideoCastingComponent11)}for(var m=arguments.length,n=Array(m>1?m-1:0),o=1;o<m;o++)n[o-1]=arguments[o];c("FunnelLogger")[l].apply(c("FunnelLogger"),[j,this.$VideoCastingComponent11].concat(n))};k.prototype.$VideoCastingComponent29=function l(){return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:if(!this.$VideoCastingComponent7)this.$VideoCastingComponent7=this.$VideoCastingComponent30();n.next=3;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent7);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},null,this)};k.prototype.$VideoCastingComponent30=function l(){__p&&__p();var m,n,o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:m=c("XCastingVideoPayloadAsyncController").getURIBuilder().getURI();n=this.$VideoCastingComponent31();q.next=4;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(r,s){new(c("AsyncRequest"))().setURI(m).setMethod("POST").setData(n).setErrorHandler(function(t){return s(new Error(t.errorDescription))}).setHandler(function(t){return r(t.getPayload())}).send()}));case 4:o=q.sent;return q.abrupt("return",o);case 6:case"end":return q.stop()}},null,this)};k.prototype.$VideoCastingComponent31=function(){__p&&__p();var l=babelHelpers["extends"]({},this.$VideoCastingComponent8,{video_id:this.$VideoCastingComponent3.getVideoID(),is_ad:this.$VideoCastingComponent3.isAd(),script_path:c("ScriptPath").getScriptPath()}),m=this.$VideoCastingComponent3.getVideoChannelID();if(m)l.video_channel_id=m;var n=this.$VideoCastingComponent3.getPlayerOrigin();if(n)l.player_origin=n;var o=this.$VideoCastingComponent3.getPlayerSuborigin();if(o)l.player_suborigin=o;var p=c("collectDataAttributes")(this.$VideoCastingComponent3.getRootNode(),["ft"]);if(p&&p.ft)l.tracking_codes=[JSON.stringify(p.ft)];return l};k.prototype.$VideoCastingComponent14=function l(m){__p&&__p();return c("regeneratorRuntime").async(function n(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:this.$VideoCastingComponent3.logEvent(c("VideoPlayerLoggerEvent").CHROMECAST_CAST_CLICKED);if(!m){o.next=19;break}this.$VideoCastingComponent4=true;this.$VideoCastingComponent3.emit("casting/castingStateChange",this.$VideoCastingComponent4);if(this.$VideoCastingComponent3.isState("playing"))this.$VideoCastingComponent3.pause(c("VideoPlayerReason").USER);o.prev=5;this.$VideoCastingComponent28("appendAction","cast_attempted");o.next=9;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent32());case 9:this.$VideoCastingComponent28("appendAction","cast_started");o.next=17;break;case 12:o.prev=12;o.t0=o["catch"](5);this.$VideoCastingComponent28("appendAction","cast_failed");this.$VideoCastingComponent4=false;this.$VideoCastingComponent3.emit("casting/castingStateChange",this.$VideoCastingComponent4);case 17:o.next=23;break;case 19:this.$VideoCastingComponent4=false;this.$VideoCastingComponent3.emit("casting/castingStateChange",this.$VideoCastingComponent4);o.next=23;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent33());case 23:case"end":return o.stop()}},null,this,[[5,12]])};k.prototype.$VideoCastingComponent32=function l(){__p&&__p();var m,n,o,p,q,r,s,t,u,v,w,x,y;return c("regeneratorRuntime").async(function z(A){__p&&__p();while(1)switch(A.prev=A.next){case 0:this.$VideoCastingComponent3.pause(c("VideoPlayerReason").USER);m=this.$VideoCastingComponent3.getCurrentTimePosition();this.$VideoCastingComponent13=m;n=this.$VideoCastingComponent29();o=this.$VideoCastingComponent2.isCasting(this.$VideoCastingComponent1);if(o){A.next=21;break}this.$VideoCastingComponent28("appendAction","session_requested");if(!c("ChromecastConfig").VERSION_LAUNCH_MESSAGE){A.next=18;break}A.next=10;return c("regeneratorRuntime").awrap(c("Promise").all([n,this.$VideoCastingComponent2.getSession()]));case 10:p=A.sent;q=p[0];A.next=14;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent34(true));case 14:A.next=16;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent2.startCasting(this.$VideoCastingComponent1,{position:m},q));case 16:A.next=20;break;case 18:A.next=20;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent2.startCasting(this.$VideoCastingComponent1));case 20:this.$VideoCastingComponent28("appendAction","session_started");case 21:A.next=23;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent34(true));case 23:A.next=25;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent2.getSession());case 25:r=A.sent;s=r.getVolume();if(!r.isMuted()&&s){this.$VideoCastingComponent3.unmute();this.$VideoCastingComponent3.setVolume(s)}if(!(!o&&c("ChromecastConfig").VERSION_LAUNCH_MESSAGE)){A.next=30;break}return A.abrupt("return");case 30:A.next=32;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent35());case 32:t=A.sent;u=!!t.playing_video_id;v=this.$VideoCastingComponent9&&t.playing_video_id===this.$VideoCastingComponent9;if(!(!u||!v)){A.next=42;break}A.next=38;return c("regeneratorRuntime").awrap(n);case 38:w=A.sent;this.$VideoCastingComponent28("appendAction","request_next_video");A.next=42;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent36(w));case 42:if(!(!u||v)){A.next=51;break}this.$VideoCastingComponent28("appendAction","request_playing");A.next=46;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent37(m));case 46:x=A.sent;this.$VideoCastingComponent28("appendAction","playing");this.$VideoCastingComponent9=x.reference_id;A.next=60;break;case 51:this.$VideoCastingComponent9=null;this.$VideoCastingComponent28("appendAction","request_skip");A.next=55;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent38());case 55:A.next=57;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent39(m));case 57:y=A.sent;this.$VideoCastingComponent28("appendAction","playing");this.$VideoCastingComponent9=y.reference_id;case 60:case"end":return A.stop()}},null,this)};k.prototype.$VideoCastingComponent33=function l(){__p&&__p();return c("regeneratorRuntime").async(function m(n){__p&&__p();while(1)switch(n.prev=n.next){case 0:if(!this.$VideoCastingComponent6){n.next=4;break}n.next=3;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent40());case 3:this.$VideoCastingComponent6=false;case 4:n.next=6;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent41());case 6:case"end":return n.stop()}},null,this)};k.prototype.$VideoCastingComponent15=function l(m){__p&&__p();return c("regeneratorRuntime").async(function n(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:if(!m){o.next=5;break}o.next=3;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent37());case 3:o.next=7;break;case 5:o.next=7;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent42());case 7:this.$VideoCastingComponent6=m;this.$VideoCastingComponent3.emit("casting/playStateChange",this.$VideoCastingComponent6);case 9:case"end":return o.stop()}},null,this)};k.prototype.$VideoCastingComponent34=function l(m){return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:c("CSS").conditionClass(this.$VideoCastingComponent3.getVideoNode(),"_1_d3",m);case 1:case"end":return o.stop()}},null,this)};k.prototype.$VideoCastingComponent43=function l(m){return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:if(typeof m!=="number")m=this.$VideoCastingComponent13;this.$VideoCastingComponent3.seek(m);case 2:case"end":return o.stop()}},null,this)};k.prototype.$VideoCastingComponent27=function l(m){return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent2.setFeedbackEnabled(!m));case 2:this.$VideoCastingComponent5=m;case 3:case"end":return o.stop()}},null,this)};k.prototype.$VideoCastingComponent41=function l(){__p&&__p();return c("regeneratorRuntime").async(function m(n){__p&&__p();while(1)switch(n.prev=n.next){case 0:if(this.$VideoCastingComponent6){this.$VideoCastingComponent6=false;this.$VideoCastingComponent3.emit("casting/playStateChange",this.$VideoCastingComponent6)}if(this.$VideoCastingComponent4){this.$VideoCastingComponent4=false;this.$VideoCastingComponent3.emit("casting/castingStateChange",this.$VideoCastingComponent4)}if(!(typeof this.$VideoCastingComponent13==="number")){n.next=5;break}n.next=5;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent43());case 5:n.next=7;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent34(false));case 7:case"end":return n.stop()}},null,this)};k.prototype.$VideoCastingComponent20=function l(m){__p&&__p();return c("regeneratorRuntime").async(function n(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:if(!this.$VideoCastingComponent4){o.next=4;break}if(!(m.type==="status_update")){o.next=4;break}o.next=4;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent44(m.data));case 4:case"end":return o.stop()}},null,this)};k.prototype.$VideoCastingComponent44=function l(m){__p&&__p();var n;return c("regeneratorRuntime").async(function o(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:if(!(this.$VideoCastingComponent9&&this.$VideoCastingComponent9!==m.reference_id)){p.next=4;break}p.next=3;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent41());case 3:return p.abrupt("return");case 4:n=m.state==="play";if(n!==this.$VideoCastingComponent6){this.$VideoCastingComponent6=n;this.$VideoCastingComponent3.emit("casting/playStateChange",this.$VideoCastingComponent6)}if(m.position>0){this.$VideoCastingComponent13=m.position;this.$VideoCastingComponent3.emit("casting/updateStatus",{position:m.position})}case 7:case"end":return p.stop()}},null,this)};k.prototype.$VideoCastingComponent22=function l(m){__p&&__p();return c("regeneratorRuntime").async(function n(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:if(this.$VideoCastingComponent4){o.next=2;break}return o.abrupt("return");case 2:o.next=4;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent39(m));case 4:if(this.$VideoCastingComponent6){o.next=7;break}o.next=7;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent15(true));case 7:case"end":return o.stop()}},null,this)};k.prototype.$VideoCastingComponent25=function l(m){__p&&__p();return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:if(this.$VideoCastingComponent4){o.next=2;break}return o.abrupt("return");case 2:this.$VideoCastingComponent2.setVolume(m);case 3:case"end":return o.stop()}},null,this)};k.prototype.$VideoCastingComponent23=function l(){__p&&__p();return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:if(this.$VideoCastingComponent4){n.next=2;break}return n.abrupt("return");case 2:this.$VideoCastingComponent2.mute();case 3:case"end":return n.stop()}},null,this)};k.prototype.$VideoCastingComponent24=function l(){__p&&__p();return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:if(this.$VideoCastingComponent4){n.next=2;break}return n.abrupt("return");case 2:this.$VideoCastingComponent2.unmute();case 3:case"end":return n.stop()}},null,this)};k.prototype.$VideoCastingComponent16=function l(m){var n;return c("regeneratorRuntime").async(function o(p){while(1)switch(p.prev=p.next){case 0:if(m)this.$VideoCastingComponent28("appendActionIfNew","found_receiver");this.$VideoCastingComponent3.logEvent(c("VideoPlayerLoggerEvent").CHROMECAST_AVAILABILITY_CHECKED,(n={player:this.$VideoCastingComponent3.getPlayerVersion(),cast_button_visible:m,connection:null,raw_client_time:Date.now()/1e3},n[c("VideoPlayerLoggerEventField").CHROMECAST_RECEIVER_AVAILABLE]=m,n));this.$VideoCastingComponent3.emit("casting/receiverStateChange",m);case 3:case"end":return p.stop()}},null,this)};k.prototype.$VideoCastingComponent17=function l(){return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:this.$VideoCastingComponent28("appendAction","session_disconnected");n.next=3;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent41());case 3:case"end":return n.stop()}},null,this)};k.prototype.$VideoCastingComponent19=function l(){return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:this.$VideoCastingComponent3.emit("casting/supportStateChange");case 1:case"end":return n.stop()}},null,this)};k.prototype.$VideoCastingComponent18=function l(){return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:this.$VideoCastingComponent3.logEvent(c("VideoPlayerLoggerEvent").CHROMECAST_NOT_SUPPORTED);this.$VideoCastingComponent3.emit("casting/notSupported");case 2:case"end":return n.stop()}},null,this)};k.prototype.$VideoCastingComponent26=function l(){__p&&__p();return c("regeneratorRuntime").async(function m(n){__p&&__p();while(1)switch(n.prev=n.next){case 0:if(!this.$VideoCastingComponent4){n.next=9;break}this.$VideoCastingComponent3.pause(c("VideoPlayerReason").USER);if(!this.$VideoCastingComponent6){n.next=7;break}n.next=5;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent42());case 5:n.next=9;break;case 7:n.next=9;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent37());case 9:case"end":return n.stop()}},null,this)};k.prototype.$VideoCastingComponent36=function l(m){var n;return c("regeneratorRuntime").async(function o(p){while(1)switch(p.prev=p.next){case 0:p.next=2;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent2.sendCommand("next_video",{feedback_disabled:this.$VideoCastingComponent5},m));case 2:n=p.sent;return p.abrupt("return",n);case 4:case"end":return p.stop()}},null,this)};k.prototype.$VideoCastingComponent37=function l(m){var n;return c("regeneratorRuntime").async(function o(p){while(1)switch(p.prev=p.next){case 0:p.next=2;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent2.sendCommand("play_video",{position:m}));case 2:n=p.sent;return p.abrupt("return",n);case 4:case"end":return p.stop()}},null,this)};k.prototype.$VideoCastingComponent42=function l(){var m;return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent2.sendCommand("pause_video"));case 2:m=o.sent;return o.abrupt("return",m);case 4:case"end":return o.stop()}},null,this)};k.prototype.$VideoCastingComponent39=function l(m){var n;return c("regeneratorRuntime").async(function o(p){while(1)switch(p.prev=p.next){case 0:p.next=2;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent2.sendCommand("seek_video",{position:m}));case 2:n=p.sent;return p.abrupt("return",n);case 4:case"end":return p.stop()}},null,this)};k.prototype.$VideoCastingComponent38=function l(){var m;return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent2.sendCommand("skip_video"));case 2:m=o.sent;return o.abrupt("return",m);case 4:case"end":return o.stop()}},null,this)};k.prototype.$VideoCastingComponent40=function l(){var m;return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent2.sendCommand("stop_video"));case 2:m=o.sent;return o.abrupt("return",m);case 4:case"end":return o.stop()}},null,this)};k.prototype.$VideoCastingComponent35=function l(){var m;return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c("regeneratorRuntime").awrap(this.$VideoCastingComponent2.getExperienceState());case 2:m=o.sent;return o.abrupt("return",m.experience_specific_state);case 4:case"end":return o.stop()}},null,this)};k.prototype.$VideoCastingComponent21=function l(m){return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:this.$VideoCastingComponent12=m;this.$VideoCastingComponent3.emit("casting/error",m);case 2:case"end":return o.stop()}},null,this)};f.exports=k}),null);
__d("concatArrayBuffer",[],(function a(b,c,d,e,f,g){"use strict";var h=function h(i,j){var k=new Uint8Array(i.byteLength+j.byteLength);k.set(new Uint8Array(i),0);k.set(new Uint8Array(j),i.byteLength);return k.buffer};f.exports=h}),null);
__d("extractCEA608",["JSResource"],(function a(b,c,d,e,f,g){var h=null;function i(j,k){if(!h)h=c("JSResource")("CEA608Extractor").__setRef("extractCEA608").load().then(function(l){return new l(k)});return h.then(function(l){return l.extract(j)})}f.exports=i}),null);
__d("BufferReplacementHelper",["TaggedTimeRanges"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m,n,o,p){return m.startTime>n-o&&m.endTime<n+p}function i(m,n,o,p){var q=p.get(m.startTime);return!!q&&o(n,q.id)>0}function j(m,n,o,p,q,r,s){__p&&__p();var t=s.thresholdBefore,u=s.thresholdAfter,v=s.wrapReplacementPastEnd,w=[],x=false;for(var y=o;y<m.length;y++){if(h(m[y],n,t,u)&&i(m[y],p,q,r))w.push(m[y]);if(m[y].endTime>n+u){x=true;break}}if(!x&&v){var z=n+u-m[m.length-1].endTime;for(var A=0;A<m.length;A++){z-=m[A].endTime-m[A].startTime;if(z>=0&&i(m[A],p,q,r))w.push(m[A]);if(m[A].endTime>n+u)break}}return w}function k(m,n,o,p,q,r,s){var t=s.thresholdBefore,u=s.thresholdAfter,v=s.wrapReplacementPastEnd,w=[];for(var x=o-1;x>=0;x--){if(h(m[x],n,t,u)&&i(m[x],p,q,r))w.push(m[x]);if(m[x].startTime<n-t)break}return w}function l(m,n,o,p,q,r,s){var t=[m,n,o,p,q,r,s];return j.apply(undefined,t).concat(k.apply(undefined,t))}f.exports={getSegmentsToReplaceLowerQuality:l}}),null);
__d("ByteRange",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(n,o){return n.startByte===o.startByte}function i(n,o){if(o.endByte===null)return false;return n.startByte===o.endByte+1}function j(n,o){if(n.startByte<o.startByte)return false;return o.endByte==null||o.endByte>=n.startByte}function k(n,o){__p&&__p();if(o.startByte<n.startByte){var p=n;n=o;o=p}if(n.endByte==null)return{startByte:n.startByte,endByte:null};if(o.startByte>n.endByte+1)return null;var q=o.endByte==null||o.endByte>n.endByte?o.endByte:n.endByte;return{startByte:n.startByte,endByte:q}}function l(n,o){if(o.endByte==null)return null;if(n.startByte>o.endByte)return{startByte:n.startByte,endByte:n.endByte};if(n.endByte!=null&&n.endByte<=o.endByte)return null;return{startByte:o.endByte+1,endByte:n.endByte}}function m(n){if(n.endByte==null)return null;return n.endByte-n.startByte+1}f.exports={startsAtSame:h,startsImmediateAfter:i,startsDuring:j,union:k,disjoinAfter:l,getLength:m}}),null);
__d("ProducerInterruptedError",[],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,Error);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}f.exports=j}),null);
__d("DeferredBuffer",["invariant","Deferred","ProducerInterruptedError","MaybeNativePromise"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){var j=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.$DeferredBuffer3=[];this.$DeferredBuffer4=false;this.$DeferredBuffer6=0;var k=j.disableArrayShift,l=j.useNativePromise;this.$DeferredBuffer1=!!k;this.$DeferredBuffer2=!!l}i.prototype.produce=function(j){this.$DeferredBuffer7(j)};i.prototype.signalProducerInterruption=function(){this.$DeferredBuffer7(new(c("ProducerInterruptedError"))("producer interrupted"))};i.prototype.consume=function(j){__p&&__p();if(this.$DeferredBuffer4)throw new Error("A buffer can only be consumed by one client at a time");this.$DeferredBuffer4=true;var k=c("MaybeNativePromise").resolve();if(this.isEmpty()){this.$DeferredBuffer5=this.$DeferredBuffer2?new(c("Deferred"))(c("MaybeNativePromise")):new(c("Deferred"))();k=this.$DeferredBuffer5.getPromise()}return k.then(function(){if(this.$DeferredBuffer1)this.$DeferredBuffer3[this.$DeferredBuffer6]!==undefined||h(0);else this.$DeferredBuffer3.length>0||h(0);this.$DeferredBuffer5=null;this.$DeferredBuffer4=false;var l=this.$DeferredBuffer1?this.$DeferredBuffer8(j):this.$DeferredBuffer9(j);if(l instanceof Uint8Array)return l;throw l}.bind(this))};i.prototype.$DeferredBuffer7=function(j){this.$DeferredBuffer3.push(j);if(this.$DeferredBuffer5)this.$DeferredBuffer5.resolve()};i.prototype.$DeferredBuffer8=function(j){__p&&__p();var k=this.$DeferredBuffer3[this.$DeferredBuffer6];if(k===undefined)return new Uint8Array([]);var l=k;if(!(l instanceof Uint8Array)){this.$DeferredBuffer3[this.$DeferredBuffer6]=undefined;this.$DeferredBuffer6++;return l}if(j!==undefined&&l.length>j){var m=l.slice(j);l=l.slice(0,j);this.$DeferredBuffer3[this.$DeferredBuffer6]=m}else{this.$DeferredBuffer3[this.$DeferredBuffer6]=undefined;this.$DeferredBuffer6++}return l};i.prototype.$DeferredBuffer9=function(j){__p&&__p();if(this.$DeferredBuffer3.length===0)return new Uint8Array([]);var k=this.$DeferredBuffer3[0];if(!(k instanceof Uint8Array)){this.$DeferredBuffer3.shift();return k}if(j!==undefined&&k.length>j){var l=k.slice(j);k=k.slice(0,j);this.$DeferredBuffer3[0]=l}else this.$DeferredBuffer3.shift();return k};i.prototype.isEmpty=function(){return this.$DeferredBuffer1?this.$DeferredBuffer3[this.$DeferredBuffer6]===undefined:this.$DeferredBuffer3.length===0};f.exports=i}),null);
__d("ReadableStream",[],(function a(b,c,d,e,f,g){f.exports=self.ReadableStream}),null);
__d("WritableStream",[],(function a(b,c,d,e,f,g){f.exports=self.WritableStream}),null);
__d("pipeErrorTo",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){try{i.error(j)}catch(k){}}f.exports=h}),null);
__d("FixedSizeTransform",["invariant","Deferred","DeferredBuffer","MaybeNativePromise","ReadableStream","WritableStream","ProducerInterruptedError","pipeErrorTo"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){var j=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.$FixedSizeTransform1=0;this.$FixedSizeTransform4=0;this.$FixedSizeTransform5=c("MaybeNativePromise").resolve();this.$FixedSizeTransform8=[];var k=j.disableDeferredBufferArrayShift,l=j.useNativePromiseInDeferredBuffer;this.$FixedSizeTransform3=new(c("DeferredBuffer"))({disableArrayShift:!!k,useNativePromise:!!l})}i.prototype.cancel=function(j){this.$FixedSizeTransform12(j);if(this.$FixedSizeTransform7)c("pipeErrorTo")(this.$FixedSizeTransform7,j)};i.prototype.cancelAfterBytes=function(j,k){if(j<=this.$FixedSizeTransform1)this.cancel(k);else{this.$FixedSizeTransform10=j;this.$FixedSizeTransform11=k}};i.prototype.$FixedSizeTransform12=function(j){this.$FixedSizeTransform9=j;if(this.$FixedSizeTransform6)this.$FixedSizeTransform6.reject(this.$FixedSizeTransform9)};i.prototype.getSink=function(){__p&&__p();if(!this.$FixedSizeTransform2)this.$FixedSizeTransform2=new(c("WritableStream"))({start:function(j){this.$FixedSizeTransform7=j}.bind(this),write:function(j){j instanceof Uint8Array||h(0);this.$FixedSizeTransform3.produce(j);this.$FixedSizeTransform1+=j.length;if(this.$FixedSizeTransform10!=null&&this.$FixedSizeTransform10<=this.$FixedSizeTransform1)this.cancel(this.$FixedSizeTransform11)}.bind(this),close:function(){this.$FixedSizeTransform3.signalProducerInterruption();this.$FixedSizeTransform2=null}.bind(this),abort:function(j){this.$FixedSizeTransform3.produce(j)}.bind(this)});return this.$FixedSizeTransform2};i.prototype.getNextFixedSizeStream=function(j){__p&&__p();var k=j===undefined;if(this.$FixedSizeTransform9)return c("MaybeNativePromise").reject(this.$FixedSizeTransform9);this.$FixedSizeTransform6=new(c("Deferred"))(c("MaybeNativePromise"));var l=this.$FixedSizeTransform6.getPromise(),m=this.$FixedSizeTransform5;this.$FixedSizeTransform5=l;return m.then(function(){__p&&__p();return new(c("ReadableStream"))({start:function(n){this.$FixedSizeTransform8.push(n)}.bind(this),pull:function(n){__p&&__p();if(!k&&this.$FixedSizeTransform4===j)return this.$FixedSizeTransform13(n);var o=k?undefined:(j||0)-this.$FixedSizeTransform4;return this.$FixedSizeTransform3.consume(o).then(function(p){n.enqueue(p);this.$FixedSizeTransform4+=p.length}.bind(this))["catch"](function(p){if(p instanceof c("ProducerInterruptedError"))return k?this.$FixedSizeTransform13(n):c("MaybeNativePromise").resolve();this.$FixedSizeTransform12(p);this.$FixedSizeTransform8.forEach(function(n){c("pipeErrorTo")(n,p)})}.bind(this))}.bind(this),cancel:function(n){this.$FixedSizeTransform12(n);c("pipeErrorTo")(this.$FixedSizeTransform7,n)}.bind(this)})}.bind(this))};i.prototype.$FixedSizeTransform13=function(j){j.close();this.$FixedSizeTransform4=0;this.$FixedSizeTransform6.resolve();return c("MaybeNativePromise").resolve()};f.exports=i}),null);
__d("PausableRangeStream",["Deferred","DeferredBuffer","MaybeNativePromise","ReadableStream","WritableStream","pipeErrorTo","ByteRange"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ByteRange").startsImmediateAfter;function i(){return new Error("Upstream has an inconsistent range")}function j(){this.$SkipLeadingBytes1=0}j.prototype.setBytesToSkip=function(l){this.$SkipLeadingBytes1=l};j.prototype.setBytesSkipped=function(l){this.$SkipLeadingBytes1-=l};j.prototype.getBytesToSkip=function(){return this.$SkipLeadingBytes1};j.prototype.hasMoreBytesToSkip=function(){return this.$SkipLeadingBytes1>0};function k(l,m,n){__p&&__p();this.$PausableRangeStream5=false;this.$PausableRangeStream8=0;this.$PausableRangeStream9=0;this.$PausableRangeStream14=false;this.$PausableRangeStream15=0;this.$PausableRangeStream16=new j();this.$PausableRangeStream17=false;this.$PausableRangeStream1=l;this.$PausableRangeStream2=m;var o=n||{},p=o.fixStreamingUndefinedEndByte,q=o.disableDeferredBufferArrayShift,r=o.useNativePromiseInDeferredBuffer,s=o.enablePausableStreamResumeFromStartDangerously;this.$PausableRangeStream12=!!p;this.$PausableRangeStream17=!!s;this.$PausableRangeStream3=new(c("DeferredBuffer"))({disableArrayShift:!!q,useNativePromise:!!r});this.$PausableRangeStream7=new(c("ReadableStream"))({start:function(t){this.$PausableRangeStream11=t}.bind(this),pull:function(t){__p&&__p();if((this.$PausableRangeStream12&&this.$PausableRangeStream1.endByte===null&&this.$PausableRangeStream5||this.$PausableRangeStream8===this.$PausableRangeStream18())&&this.$PausableRangeStream3.isEmpty()){t.close();return c("MaybeNativePromise").resolve()}var u=function(){__p&&__p();var v=this.$PausableRangeStream16.hasMoreBytesToSkip()?this.$PausableRangeStream16.getBytesToSkip():undefined;return this.$PausableRangeStream3.consume(v).then(function(w){if(this.$PausableRangeStream16.hasMoreBytesToSkip()){this.$PausableRangeStream16.setBytesSkipped(w.length);return u()}this.$PausableRangeStream8+=w.length;var x=this.$PausableRangeStream18();if(x!==null&&this.$PausableRangeStream8>(x||0))c("pipeErrorTo")(this.$PausableRangeStream11,i());t.enqueue(w)}.bind(this))["catch"](function(w){if(w==="skip_buffered_bytes"){this.$PausableRangeStream16.setBytesToSkip(this.$PausableRangeStream8);return u()}throw w}.bind(this))}.bind(this);return u()}.bind(this),cancel:function(t){if(this.$PausableRangeStream13)this.$PausableRangeStream13.resolve("stream_cancelled");c("pipeErrorTo")(this.$PausableRangeStream10,t)}.bind(this)});this.$PausableRangeStream19()}k.prototype.$PausableRangeStream18=function(){var l=this.$PausableRangeStream1,m=l.startByte,n=l.endByte;return n!=null?n-m+1:null};k.prototype.$PausableRangeStream19=function(){__p&&__p();this.$PausableRangeStream4=new(c("WritableStream"))({start:function(l){this.$PausableRangeStream10=l}.bind(this),write:function(l){this.$PausableRangeStream3.produce(l);this.$PausableRangeStream9+=l.length}.bind(this),close:function(){this.$PausableRangeStream5=true;var l=this.$PausableRangeStream1,m=l.endByte,n=l.startByte;if(this.$PausableRangeStream12&&m===null)this.$PausableRangeStream3.produce(new Uint8Array([]));if(m!==null&&this.$PausableRangeStream9!==(m||0)-n+1)c("pipeErrorTo")(this.$PausableRangeStream11,i())}.bind(this),abort:function(l){if(this.$PausableRangeStream13)this.$PausableRangeStream13.resolve("stream_aborted");c("pipeErrorTo")(this.$PausableRangeStream11,l)}.bind(this)})};k.prototype.getStream=function(){return this.$PausableRangeStream7};k.prototype.startStream=function(){__p&&__p();this.$PausableRangeStream14=true;var l={startByte:this.$PausableRangeStream1.startByte,endByte:this.$PausableRangeStream1.endByte};if(!this.$PausableRangeStream17)l.startByte+=this.$PausableRangeStream9;else if(this.$PausableRangeStream9){this.$PausableRangeStream3.produce("skip_buffered_bytes");this.$PausableRangeStream9=0}return this.$PausableRangeStream2.startStream(l).then(function(m){this.$PausableRangeStream6=m;m.pipeTo(this.$PausableRangeStream4).then(function(){this.$PausableRangeStream13&&this.$PausableRangeStream13.resolve("stream_done")}.bind(this))["catch"](function(n){this.$PausableRangeStream13&&this.$PausableRangeStream13.resolve("stream_unexpected")}.bind(this));this.$PausableRangeStream13=new(c("Deferred"))(c("MaybeNativePromise"));return{statusPromise:this.$PausableRangeStream13.getPromise()}}.bind(this))};k.prototype.pauseStream=function(){c("pipeErrorTo")(this.$PausableRangeStream10,k.STREAM_PAUSED);if(this.$PausableRangeStream13)this.$PausableRangeStream13.resolve("stream_paused");this.$PausableRangeStream19()};k.prototype.getByteRange=function(){return this.$PausableRangeStream1};k.prototype.tryConcatByteRange=function(l){if(this.$PausableRangeStream14||!h(l,this.$PausableRangeStream1))return false;this.$PausableRangeStream1.endByte=l.endByte;return true};k.STREAM_PAUSED="streamPaused";f.exports=k}),null);
__d("ChunkableContinuousRangeStream",["Deferred","FixedSizeTransform","MaybeNativePromise","PausableRangeStream","ReadableStream","ByteRange"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ByteRange").startsAtSame,i=c("ByteRange").startsDuring,j=c("ByteRange").startsImmediateAfter,k=c("ByteRange").union,l=c("ByteRange").disjoinAfter,m=c("ByteRange").getLength;function n(o,p){__p&&__p();this.$ChunkableContinuousRangeStream1=c("MaybeNativePromise").resolve(null);this.$ChunkableContinuousRangeStream2=null;this.$ChunkableContinuousRangeStream3=null;this.$ChunkableContinuousRangeStream5=[];this.$ChunkableContinuousRangeStream7=null;this.$ChunkableContinuousRangeStream9=false;this.$ChunkableContinuousRangeStream10=false;this.$ChunkableContinuousRangeStream12=false;this.$ChunkableContinuousRangeStream13=false;this.$ChunkableContinuousRangeStream14=false;this.$ChunkableContinuousRangeStream15=false;this.$ChunkableContinuousRangeStream16=false;this.$ChunkableContinuousRangeStream17=false;this.$ChunkableContinuousRangeStream4=o;p=p||{};var q=p,r=q.disableStreamAutoStart,s=q.enableStreamRangeConcat,t=q.disableDeferredBufferArrayShift,u=q.useNativePromiseInDeferredBuffer,v=q.fixStreamingUndefinedEndByte,w=q.enablePausableStreamResumeFromStart;this.$ChunkableContinuousRangeStream12=!!r;this.$ChunkableContinuousRangeStream13=!!s;this.$ChunkableContinuousRangeStream14=!!t;this.$ChunkableContinuousRangeStream15=!!u;this.$ChunkableContinuousRangeStream8=new(c("FixedSizeTransform"))({disableDeferredBufferArrayShift:this.$ChunkableContinuousRangeStream14,useNativePromiseInDeferredBuffer:this.$ChunkableContinuousRangeStream15});this.$ChunkableContinuousRangeStream16=!!v;this.$ChunkableContinuousRangeStream17=!!w}n.prototype.$ChunkableContinuousRangeStream18=function(){if(this.$ChunkableContinuousRangeStream6){this.$ChunkableContinuousRangeStream6.resolve(null);this.$ChunkableContinuousRangeStream6=null}this.$ChunkableContinuousRangeStream3=null;this.$ChunkableContinuousRangeStream9=true};n.prototype.isClosed=function(){return this.$ChunkableContinuousRangeStream9};n.prototype.getReservedChunkStream=function(o){__p&&__p();if(this.isClosed())return c("MaybeNativePromise").reject();this.updateRangeStream(o);if(this.$ChunkableContinuousRangeStream7&&!j(o,this.$ChunkableContinuousRangeStream7)){this.destroy();return c("MaybeNativePromise").reject(new Error("Bad Range Request"))}this.$ChunkableContinuousRangeStream7=o;var p=m(o);return this.$ChunkableContinuousRangeStream8.getNextFixedSizeStream(p===null?undefined:p)};n.prototype.$ChunkableContinuousRangeStream19=function(){var o="close stream";if(this.$ChunkableContinuousRangeStream7!=null&&this.$ChunkableContinuousRangeStream7.endByte!=null&&this.$ChunkableContinuousRangeStream11!=null)this.$ChunkableContinuousRangeStream8.cancelAfterBytes(this.$ChunkableContinuousRangeStream7.endByte-this.$ChunkableContinuousRangeStream11+1,o);else if(!this.$ChunkableContinuousRangeStream7)this.$ChunkableContinuousRangeStream8.cancel(o)};n.prototype.updateRangeStream=function(o){__p&&__p();if(this.isClosed())return"closed";if(!this.$ChunkableContinuousRangeStream20(o)){this.$ChunkableContinuousRangeStream1.then(function(){this.$ChunkableContinuousRangeStream19()}.bind(this));this.$ChunkableContinuousRangeStream18();return"closed"}if(!this.$ChunkableContinuousRangeStream2)this.$ChunkableContinuousRangeStream21(o);else{this.$ChunkableContinuousRangeStream3=this.$ChunkableContinuousRangeStream22(o);var p=this.$ChunkableContinuousRangeStream5[this.$ChunkableContinuousRangeStream5.length-1];if(this.$ChunkableContinuousRangeStream13&&this.$ChunkableContinuousRangeStream3!=null&&p&&p.tryConcatByteRange(this.$ChunkableContinuousRangeStream3))this.$ChunkableContinuousRangeStream3=null;else if(!this.$ChunkableContinuousRangeStream10&&this.$ChunkableContinuousRangeStream3!=null)this.$ChunkableContinuousRangeStream21(this.$ChunkableContinuousRangeStream3)}return"streaming"};n.prototype.removeQueuedRange=function(){this.$ChunkableContinuousRangeStream3=null};n.prototype.$ChunkableContinuousRangeStream21=function(o){this.$ChunkableContinuousRangeStream10=true;this.$ChunkableContinuousRangeStream23(o).then(function(){this.$ChunkableContinuousRangeStream10=false;if(this.$ChunkableContinuousRangeStream3){var p=this.$ChunkableContinuousRangeStream3;this.$ChunkableContinuousRangeStream3=null;this.$ChunkableContinuousRangeStream21(p)}}.bind(this))["catch"](function(p){this.$ChunkableContinuousRangeStream10=false}.bind(this))};n.prototype.getPausableStreamFactory=function(){return function(){if(this.$ChunkableContinuousRangeStream5.length)return c("MaybeNativePromise").resolve(this.$ChunkableContinuousRangeStream5[0]);if(this.$ChunkableContinuousRangeStream6)return this.$ChunkableContinuousRangeStream6.getPromise();return c("MaybeNativePromise").resolve(null)}.bind(this)};n.prototype.$ChunkableContinuousRangeStream23=function(o){__p&&__p();this.$ChunkableContinuousRangeStream2=o;if(this.$ChunkableContinuousRangeStream11==null)this.$ChunkableContinuousRangeStream11=o.startByte;var p=new(c("Deferred"))(c("MaybeNativePromise"));this.$ChunkableContinuousRangeStream1=p.getPromise();var q=new(c("PausableRangeStream"))(o,this.$ChunkableContinuousRangeStream4,{disableDeferredBufferArrayShift:this.$ChunkableContinuousRangeStream14,useNativePromiseInDeferredBuffer:this.$ChunkableContinuousRangeStream15,fixStreamingUndefinedEndByte:this.$ChunkableContinuousRangeStream16,enablePausableStreamResumeFromStartDangerously:this.$ChunkableContinuousRangeStream17});if(this.$ChunkableContinuousRangeStream12){q=this.$ChunkableContinuousRangeStream24(q,p);this.$ChunkableContinuousRangeStream5.push(q)}else q.startStream().then(function(){p.resolve()});var r=q.getStream();return r.pipeTo(this.$ChunkableContinuousRangeStream8.getSink())["catch"](function(s){this.$ChunkableContinuousRangeStream18();throw s}.bind(this))};n.prototype.$ChunkableContinuousRangeStream24=function(o,p){__p&&__p();var q=o.startStream;o.startStream=function(){__p&&__p();return q.call(o).then(function(r){__p&&__p();var s=r.statusPromise;p.resolve();s=s.then(function(t){if(t!=="stream_paused"){var u=this.$ChunkableContinuousRangeStream5.indexOf(o);if(u>-1)this.$ChunkableContinuousRangeStream5.splice(u,1)}if(this.$ChunkableContinuousRangeStream3)this.$ChunkableContinuousRangeStream6=new(c("Deferred"))(c("MaybeNativePromise"));return t}.bind(this));return{statusPromise:s}}.bind(this))}.bind(this);if(this.$ChunkableContinuousRangeStream6){this.$ChunkableContinuousRangeStream6.resolve(o);this.$ChunkableContinuousRangeStream6=null}return o};n.prototype.destroy=function(){this.$ChunkableContinuousRangeStream19();this.$ChunkableContinuousRangeStream18()};n.prototype.$ChunkableContinuousRangeStream22=function(o){var p=o;if(this.$ChunkableContinuousRangeStream3)p=k(this.$ChunkableContinuousRangeStream3,p);if(p!=null&&this.$ChunkableContinuousRangeStream2)p=l(p,this.$ChunkableContinuousRangeStream2);return p};n.prototype.$ChunkableContinuousRangeStream20=function(o){if(!this.$ChunkableContinuousRangeStream2)return true;if(!this.$ChunkableContinuousRangeStream7)return h(o,this.$ChunkableContinuousRangeStream2);return i(o,this.$ChunkableContinuousRangeStream7)||j(o,this.$ChunkableContinuousRangeStream7)};f.exports=n}),null);
__d("ContinuousPausableStreamTask",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=arguments.length<=2||arguments[2]===undefined?0:arguments[2],l=arguments.length<=3||arguments[3]===undefined?null:arguments[3],m=arguments.length<=4||arguments[4]===undefined?{}:arguments[4];this.$ContinuousPausableStreamTask3=false;this.$ContinuousPausableStreamTask9=false;this.$ContinuousPausableStreamTask1=i;this.$ContinuousPausableStreamTask4=j;this.$ContinuousPausableStreamTask7=k;this.$ContinuousPausableStreamTask5=l;var n=m.uncancellablePriority;this.$ContinuousPausableStreamTask8=n==null?Infinity:n}h.prototype.run=function(){__p&&__p();if(this.$ContinuousPausableStreamTask5){var i=this.$ContinuousPausableStreamTask5.getOperationLogger("streaming_task").start();i.setType(this.$ContinuousPausableStreamTask4);this.$ContinuousPausableStreamTask6=i}var j=function(){__p&&__p();this.$ContinuousPausableStreamTask2=null;return this.$ContinuousPausableStreamTask1().then(function(k){__p&&__p();this.$ContinuousPausableStreamTask2=k;if(this.$ContinuousPausableStreamTask3)this.$ContinuousPausableStreamTask10();if(!k){if(this.$ContinuousPausableStreamTask6)this.$ContinuousPausableStreamTask6.setResult("done").log();return}return k.startStream().then(function(l){__p&&__p();var m=l.statusPromise;return m.then(function(n){if(n==="stream_paused")this.$ContinuousPausableStreamTask10();else if(n==="stream_aborted"){if(this.$ContinuousPausableStreamTask6)this.$ContinuousPausableStreamTask6.setResult("failed").log();throw new Error("failed")}return j()}.bind(this))}.bind(this))}.bind(this))}.bind(this);return j()};h.prototype.updatePriority=function(i){this.$ContinuousPausableStreamTask7=i;if(this.$ContinuousPausableStreamTask9)this.cancel()};h.prototype.cancel=function(){if(this.$ContinuousPausableStreamTask7>=this.$ContinuousPausableStreamTask8){this.$ContinuousPausableStreamTask9=true;return}if(this.$ContinuousPausableStreamTask2)this.$ContinuousPausableStreamTask2.pauseStream();this.$ContinuousPausableStreamTask3=true};h.prototype.$ContinuousPausableStreamTask10=function(){if(this.$ContinuousPausableStreamTask6)this.$ContinuousPausableStreamTask6.setResult("cancelled").log();throw new Error("cancelled")};f.exports=h}),null);
__d("UnitConstants",[],(function a(b,c,d,e,f,g){"use strict";var h=8;f.exports={BITS_IN_BYTE:h}}),null);
__d("LocalBitrateHelper",["UnitConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("UnitConstants").BITS_IN_BYTE;function i(k,l,m){__p&&__p();if(!k[l])return null;if(k[l].startTime>m)return l;while(l<k.length){if(k[l].startTime>m)return l;l++}return null}function j(k,l,m){if(l>=k.length||l<0)return null;m=l+m>=k.length?k.length-l-1:m;var n=k[l],o=k[l+m],p=n.url.startByte,q=o.url.endByte;if(p===undefined||q===undefined)return null;return(q-p)/(o.endTime-n.startTime)*h}f.exports={getBufferEndSegmentIndex:i,getLocalBitrate:j}}),null);
__d("MultipleSegmentsProvider",["invariant","VideoPlayerShakaConfig"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){this.$MultipleSegmentsProvider2=[];this.$MultipleSegmentsProvider1=j}i.prototype.getNumberOfSegments=function(){var j=this.$MultipleSegmentsProvider1;this.$MultipleSegmentsProvider1=Math.max(this.$MultipleSegmentsProvider1-c("VideoPlayerShakaConfig").getGlobalNumber("multi_segment_decay",0),1);return Math.ceil(j)};i.prototype.setFutureSegments=function(j){this.$MultipleSegmentsProvider2=j};i.prototype.getFetchRange=function(j){this.$MultipleSegmentsProvider2.length>0||h(0);var k=this.$MultipleSegmentsProvider2[0],l=this.$MultipleSegmentsProvider2[this.$MultipleSegmentsProvider2.length-1];if(l.url.baseUrl!==k.url.baseUrl)return{startByte:k.url.startByte,endByte:k.url.endByte};return{startByte:k.url.startByte||0,endByte:l.url.endByte}};i.prototype.getSegmentsBoundaries=function(j){this.$MultipleSegmentsProvider2.length>0||h(0);return this.$MultipleSegmentsProvider2.map(function(k){var l=k.url,m=l.startByte,n=l.endByte;return{startByte:m||0,endByte:n}})};f.exports=i}),null);
__d("NetworkStatusDetector",["EventEmitter","clearInterval","setInterval"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=1e3,k=9999;h=babelHelpers.inherits(l,c("EventEmitter"));i=h&&h.prototype;function l(){i.constructor.call(this);this.$NetworkStatusDetector3=true;this.$NetworkStatusDetector4=false;this.$NetworkStatusDetector2=Date.now();this.$NetworkStatusDetector1=c("setInterval")(function(){return this.$NetworkStatusDetector5()}.bind(this),j)}l.prototype.destroy=function(){c("clearInterval")(this.$NetworkStatusDetector1)};l.prototype.$NetworkStatusDetector5=function(){var m=this.$NetworkStatusDetector2;this.$NetworkStatusDetector2=Date.now();var n=this.$NetworkStatusDetector3;this.$NetworkStatusDetector3=this.getOnLineStatus();this.emitIfOnLineStateChanges(m,this.$NetworkStatusDetector2,n,this.$NetworkStatusDetector3)};l.prototype.emitIfOnLineStateChanges=function(m,n,o,p){if(!o&&p)this.emit("onLine");else if(o&&!p)this.emit("offLine");var q=k;if(n-m>q)this.emit("systemWake",{sleepStartTime:m,sleepEndTime:n})};l.prototype.informNetworkInterrupted=function(){if(!this.$NetworkStatusDetector4){this.$NetworkStatusDetector4=true;this.emit("networkInterrupted")}};l.prototype.informNetworkResumed=function(){if(this.$NetworkStatusDetector4){this.$NetworkStatusDetector4=false;this.emit("networkResumed")}};l.prototype.isNetworkInterrupted=function(){return this.$NetworkStatusDetector4};l.prototype.getOnLineStatus=function(){return window&&window.navigator&&window.navigator.onLine!==undefined?window.navigator.onLine:true};f.exports=l}),null);
__d("VideoSegmentInfoHelper",["URI","VideoAkamaiRequestHelper","VideoDashPrefetchCache","XHRRequest","getCrossOriginTransport"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m){__p&&__p();var n,o=m.requestInfo,p=new(c("XHRRequest"))(j(o)).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(c("getCrossOriginTransport")),q=/livestream-lookaside\.facebook\.com$/,r=q.test(p.getURI().getDomain());if(r)p.setTransportBuilder(c("getCrossOriginTransport").withCredentials);if(c("VideoAkamaiRequestHelper").isAkamai(o.baseUrl))(function(){var s=c("VideoAkamaiRequestHelper").getRequestHeaders(o);if(s)Object.keys(s).forEach(function(t){p.setRequestHeader(t,s[t])})})();return p}function i(m){var n=m.requestInfo,o=n.startByte,p=n.endByte;if(o&&p)return p-o;return null}function j(m){var n=m.baseUrl,o=m.startByte,p=m.endByte,q=new(c("URI"))(n);if(!c("VideoAkamaiRequestHelper").isAkamai(m.baseUrl)){if(o===0&&p==null)return q;q=q.addQueryData({bytestart:o});if(p!=null)q=q.addQueryData({byteend:p})}return q}function k(m){return c("VideoDashPrefetchCache").hasCacheValue(j(m.requestInfo).toString())}function l(m){return m.baseUrl+","+(m.startByte||0)+(","+(m.endByte||0))}f.exports={createRequest:h,estimateRequestSize:i,getRequestUri:j,isPrefetchedRequest:k,getRequestCacheKey:l}}),null);
__d("SegmentsUpdateHelper",["Map","VideoSegmentInfoHelper"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){this.$SegmentsUpdateHelper1=i;this.$SegmentsUpdateHelper2=j}h.prototype.updateSegments=function(i,j){__p&&__p();if(!j.length)return;var k=this.$SegmentsUpdateHelper2.get(i)||[],l=k[k.length-1],m=l?l.startTime:-1,n=j.length;while(n>0){var o=j[n-1];if(o.startTime<=m)break;n--}var p=j.slice(n),q=j.slice(0,n);this.$SegmentsUpdateHelper3(k,q);var r=p.map(function(s){return h.createSegmentInfo(s)});r.forEach(function(s){this.$SegmentsUpdateHelper4(s);k.push(s)}.bind(this));this.$SegmentsUpdateHelper2.set(i,k)};h.createSegmentInfo=function(i){var j=i.startTime,k=i.endTime,l=i.url,m=l.baseUrl,n=l.startByte,o=l.endByte,p={segmentID:0,startTime:j,endTime:k,requestInfo:{baseUrl:m,startByte:n,endByte:o||undefined}};return p};h.prototype.$SegmentsUpdateHelper5=function(i,j){var k=j.startTime,l=j.endTime,m=j.url,n=m.baseUrl,o=m.startByte,p=m.endByte;i.segmentID=0;i.startTime=k;i.endTime=l;var q=i.requestInfo;q.baseUrl=n;q.startByte=o;q.endByte=p||undefined;return i};h.prototype.$SegmentsUpdateHelper3=function(i,j){__p&&__p();if(!j.length)return;var k=j.length,l=function l(){var v=j[k-1]||null;k--;return v},m=l(),n=Number.POSITIVE_INFINITY;for(var o=0;o<=i.length&&m!=null;o++){var p=i.length-o,q=i[p-1],r=p>=1?q.startTime:Number.NEGATIVE_INFINITY,s=void 0;if(r<=m.startTime&&m.endTime<=n){if(r===m.startTime){var t=c("VideoSegmentInfoHelper").getRequestCacheKey(q.requestInfo);s=this.$SegmentsUpdateHelper5(q,m);var u=c("VideoSegmentInfoHelper").getRequestCacheKey(s.requestInfo);if(u!==t){this.$SegmentsUpdateHelper1["delete"](t);this.$SegmentsUpdateHelper4(s)}}else{s=h.createSegmentInfo(m);this.$SegmentsUpdateHelper4(s);i.splice(p,0,s)}m=l()}n=r}};h.prototype.$SegmentsUpdateHelper4=function(i){var j=c("VideoSegmentInfoHelper").getRequestCacheKey(i.requestInfo);this.$SegmentsUpdateHelper1.set(j,i)};f.exports=h}),null);
__d("TrackedPromise",["Promise"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=window.Promise||c("Promise");c("Promise").resolve();function i(j,k){this.$TrackedPromise3=false;this.$TrackedPromise1="pending";this.$TrackedPromise2=j.then(function(l){this.$TrackedPromise1="fulfilled";return l}.bind(this),function(l){this.$TrackedPromise1="rejected";if(!k.getBool("fix_uncaught_promise_error_message",true)||this.$TrackedPromise3)return h.reject(l)}.bind(this))}i.prototype.getPromise=function(){this.$TrackedPromise3=true;return this.$TrackedPromise2};i.prototype.isPending=function(){return this.$TrackedPromise1==="pending"};i.prototype.getState=function(){return this.$TrackedPromise1};f.exports=i}),null);
__d("VideoPriorityCalculator",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){return 2}function i(k,l){var m=k.playhead,n=k.bufferEnd,o=k.isPlaying,p=n-m<=l?0:1,q=o?0:1;return h()-p-q}function j(k,l,m){var n=k.playhead,o=k.bufferEnd;if(!m)return i(k,l);var p=o-n;if(p<=m)return h();return i(k,l)}f.exports={calculate:i,calculateLive:j,getMaxPriority:h}}),null);
__d("VideoSegmentPromiseBuffer",["Map","Set","VideoPlayerShakaConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$VideoSegmentPromiseBuffer1=new(c("Map"))()}h.prototype.appendSegmentPromise=function(i,j){this.$VideoSegmentPromiseBuffer1.set(i,j);return this};h.prototype.hasSegmentPromise=function(i){return this.$VideoSegmentPromiseBuffer1.has(i)};h.prototype.getSegmentPromise=function(i){var j=this.$VideoSegmentPromiseBuffer1.get(i)||null;if(!c("VideoPlayerShakaConfig").getGlobalBool("fix_promise_buffer_caches_rejected_promises",false))return j;if(j&&j.getState()==="rejected")this.$VideoSegmentPromiseBuffer1["delete"](i);return j};h.prototype.hasOtherPendingSegments=function(i){var j=new(c("Set"))(i);return Array.from(this.$VideoSegmentPromiseBuffer1.entries()).some(function(k){return k[1].isPending()&&!j.has(k[0])})};h.prototype.isFirstPendingSegment=function(i){__p&&__p();var j=this.$VideoSegmentPromiseBuffer1.get(i);if(!j||!j.isPending())return false;var k=void 0;for(var l=this.$VideoSegmentPromiseBuffer1.entries(),m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}var p=o;if(p[1].isPending()){k=p[0];break}}return k===i};h.prototype.clearAllSegmentPromises=function(){this.$VideoSegmentPromiseBuffer1.clear();return this};h.prototype.removeSegmentPromisesOlderThan=function(i,j){__p&&__p();if(!this.hasSegmentPromise(i)){if(j.getBool("fixing_old_promise_clearance",true))this.$VideoSegmentPromiseBuffer1.clear();return}for(var k=this.$VideoSegmentPromiseBuffer1.keys(),l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}var o=n;if(o===i)return;this.$VideoSegmentPromiseBuffer1["delete"](o)}};h.prototype.removeSegmentPromise=function(i){this.$VideoSegmentPromiseBuffer1["delete"](i)};f.exports=h}),null);
__d("NetworkRequestPipelineStats",["Set"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=5,i=.5,j=30;function k(){this.$NetworkRequestPipelineStats1={};this.$NetworkRequestPipelineStats2={};this.$NetworkRequestPipelineStats3=0;this.$NetworkRequestPipelineStats4=0;this.$NetworkRequestPipelineStats5=0;this.$NetworkRequestPipelineStats6=0;this.$NetworkRequestPipelineStats7=new(c("Set"))()}k.prototype.addEntry=function(l,m){__p&&__p();this.$NetworkRequestPipelineStats6=Math.max(this.$NetworkRequestPipelineStats6,l);if(!m)return;this.$NetworkRequestPipelineStats1[l]=m;var n=this.$NetworkRequestPipelineStats1[l-1];if(!this.$NetworkRequestPipelineStats7.has(l-1)&&n)this.$NetworkRequestPipelineStats8(n,m,l);var o=this.$NetworkRequestPipelineStats1[l+1];if(!this.$NetworkRequestPipelineStats7.has(l)&&o)this.$NetworkRequestPipelineStats8(m,o,l+1)};k.prototype.setNetworkIdle=function(){this.$NetworkRequestPipelineStats7.add(this.$NetworkRequestPipelineStats6)};k.prototype.$NetworkRequestPipelineStats8=function(l,m,n){this.$NetworkRequestPipelineStats2[n]=m.startTime+m.timeToFirstByte-(l.startTime+l.timeToLastByte)};k.prototype.getBandwidthAlignments=function(){return this.$NetworkRequestPipelineStats2};k.prototype.getBandwidthUtilization=function(){var l=0,m=0;Object.keys(this.$NetworkRequestPipelineStats2).forEach(function(n){var o=Number.parseInt(n,10),p=this.$NetworkRequestPipelineStats2[o],q=this.$NetworkRequestPipelineStats1[o],r=q.timeToLastByte-q.timeToFirstByte;l+=r;m+=Math.max(0,p)+r}.bind(this));return l/Math.max(1,m)};k.prototype.$NetworkRequestPipelineStats9=function(l){__p&&__p();var m=[],n=0;while(true){var o=this.$NetworkRequestPipelineStats1[this.$NetworkRequestPipelineStats6-n];if(!o)break;if(o.timeToLastByte-o.timeToFirstByte>=j)m.push(o);n++}return m};k.prototype.getEstimatedDownloadTime=function(l){if(l){var m=this.$NetworkRequestPipelineStats10();if(!m)return 0;return l/m}return this.$NetworkRequestPipelineStats11(function(n){return n.timeToLastByte-n.timeToFirstByte},{lastN:h,defaultValue:0})};k.prototype.$NetworkRequestPipelineStats10=function(){return this.$NetworkRequestPipelineStats11(function(l){return l.transferSize/(l.timeToLastByte-l.timeToFirstByte||1)},{lastN:h,defaultValue:0})};k.prototype.$NetworkRequestPipelineStats11=function(l,m){var n=m.lastN,o=m.defaultValue,p=this.$NetworkRequestPipelineStats9(n);if(!p.length)return o;return p.reverse().reduce(function(q,r){return i*l(r)+(1-i)*q},l(p[0]))};k.prototype.getEstimatedTimeToFirstByte=function(){return this.$NetworkRequestPipelineStats11(function(l){return l.timeToFirstByte},{lastN:h,defaultValue:5e3})};k.prototype.getOptimisticTimeToFirstByte=function(){var l=this.$NetworkRequestPipelineStats9(h);if(!l.length)return 0;var m=Math.min.apply(Math,l.map(function(o){return o.timeToFirstByte})),n=this.$NetworkRequestPipelineStats11(function(o){return o.timeToFirstByte},{lastN:h,defaultValue:5e3});return(m+n)/2};f.exports=k}),null);
__d("VideoPlayerResourceTimer",["VideoPlayerShakaConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getResourceTimingEntry:function i(j,k,l){__p&&__p();var m;if(performance.getEntriesByType){var m=function(){var n=performance.getEntriesByName(j,"resource"),o=[];n.forEach(function(p){if(typeof p.responseEnd==="number"&&typeof p.responseStart==="number"&&typeof p.requestStart==="number"&&typeof p.connectEnd==="number"&&typeof p.connectStart==="number"&&typeof p.domainLookupEnd==="number"&&typeof p.domainLookupStart==="number"&&typeof p.transferSize==="number"&&p.responseEnd<=l&&p.startTime>=k&&(!c("VideoPlayerShakaConfig").getGlobalBool("ignore_invalid_timing_entries",false)||typeof p.responseEnd==="number"&&typeof p.responseStart==="number"&&p.responseStart>0&&p.responseEnd>0))o.push({entry:{timeToFirstByte:p.responseStart-p.startTime,timeToLastByte:p.responseEnd-p.startTime,timeToRequestStart:p.requestStart-p.startTime,timeToConectionEnd:p.connectEnd-p.startTime,timeToConnectionStart:p.connectStart-p.startTime,timeToDomainLookupEnd:p.domainLookupEnd-p.startTime,timeToDomainLookupStart:p.domainLookupStart-p.startTime,transferSize:p.transferSize,startTime:p.startTime},sort:p.responseEnd})});o.sort(function(p,q){return q.sort-p.sort});if(o.length)return{v:o[0].entry}}();if(typeof m==="object")return m.v}return null}};f.exports=h}),null);
__d("getXHRRequestHandlerHelper",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k,l,m,n){var o=l.call(k);m.call(k,function(){o&&o.apply(undefined,arguments);n.apply(undefined,arguments)})}function i(k){this.$XHRRequestHandlerHelper1=k}i.prototype.addResponseHandler=function(k){h(this.$XHRRequestHandlerHelper1,this.$XHRRequestHandlerHelper1.getResponseHandler,this.$XHRRequestHandlerHelper1.setResponseHandler,k);return this};i.prototype.addAbortHandler=function(k){h(this.$XHRRequestHandlerHelper1,this.$XHRRequestHandlerHelper1.getAbortHandler,this.$XHRRequestHandlerHelper1.setAbortHandler,k);return this};i.prototype.addErrorHandler=function(k){h(this.$XHRRequestHandlerHelper1,this.$XHRRequestHandlerHelper1.getErrorHandler,this.$XHRRequestHandlerHelper1.setErrorHandler,k);return this};i.prototype.addTimeoutHandler=function(k){h(this.$XHRRequestHandlerHelper1,this.$XHRRequestHandlerHelper1.getTimeoutHandler,this.$XHRRequestHandlerHelper1.setTimeoutHandler,k);return this};i.prototype.addNetworkFailureHandler=function(k){h(this.$XHRRequestHandlerHelper1,this.$XHRRequestHandlerHelper1.getNetworkFailureHandler,this.$XHRRequestHandlerHelper1.setNetworkFailureHandler,k);return this};function j(k){return new i(k)}f.exports=j}),null);
__d("NetworkRequestPipeline",["EventEmitter","Map","NetworkRequestPipelineStats","VideoPlayerResourceTimer","VideoPlayerShakaConfig","getXHRRequestHandlerHelper","performanceNow","setTimeoutAcrossTransitions","setTimeout","clearTimeout"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("VideoPlayerShakaConfig").getGlobalBool("timeouts_persist_on_page_transition",true)?c("setTimeoutAcrossTransitions"):c("setTimeout"),k=2,l=1;h=babelHelpers.inherits(m,c("EventEmitter"));i=h&&h.prototype;function m(n,o){__p&&__p();i.constructor.call(this);this.$NetworkRequestPipeline1=k;this.$NetworkRequestPipeline2=l;this.$NetworkRequestPipeline3=0;this.$NetworkRequestPipeline4=new(c("NetworkRequestPipelineStats"))();this.$NetworkRequestPipeline5=0;this.$NetworkRequestPipeline6=new(c("Map"))();this.$NetworkRequestPipeline11=null;this.$NetworkRequestPipeline12=null;this.$NetworkRequestPipeline13=0;this.$NetworkRequestPipeline15=function(){if(!this.$NetworkRequestPipeline14){this.$NetworkRequestPipeline14=this.$NetworkRequestPipeline16();this.$NetworkRequestPipeline12=null;this.$NetworkRequestPipeline17()}}.bind(this);this.$NetworkRequestPipeline8=n;var p=o||{},q=p.xhrHandleNetworkFailure,r=p.maxConcurrentRequests,s=p.soothingFactor,t=p.fixFinishRequest,u=p.requestTimeout;this.$NetworkRequestPipeline9=!!q;this.$NetworkRequestPipeline10=!!t;this.$NetworkRequestPipeline8.setOnItemAdded(this.$NetworkRequestPipeline15);if(r!==undefined)this.$NetworkRequestPipeline1=r;if(s!==undefined)this.$NetworkRequestPipeline2=s;if(u!==undefined)this.$NetworkRequestPipeline13=u;this.$NetworkRequestPipeline15()}m.prototype.$NetworkRequestPipeline18=function(){var n=this.$NetworkRequestPipeline3;this.$NetworkRequestPipeline3++;return n};m.prototype.$NetworkRequestPipeline17=function(){if(this.$NetworkRequestPipeline14&&this.$NetworkRequestPipeline5<this.$NetworkRequestPipeline1){var n=this.$NetworkRequestPipeline19(this.$NetworkRequestPipeline14);if(!n)this.$NetworkRequestPipeline14=null}};m.prototype.$NetworkRequestPipeline20=function(n){if(n.hasEnded)return false;c("clearTimeout")(n.timeout);n.hasEnded=true;this.$NetworkRequestPipeline14=this.$NetworkRequestPipeline16();this.$NetworkRequestPipeline17();return true};m.prototype.$NetworkRequestPipeline19=function(n){__p&&__p();if(n.xhrRequest)return true;var o=c("performanceNow")(),p=this.$NetworkRequestPipeline8.dequeue();if(!p){this.$NetworkRequestPipeline4.setNetworkIdle();return false}var q=p.xhrRequest,r=p.estimatedSize,s=false,t=function(){if(!this.$NetworkRequestPipeline10)return false;if(s)return true;s=true;return false}.bind(this),u=void 0,v=function(y){if(!t()){var z=c("VideoPlayerResourceTimer").getResourceTimingEntry(q.getURI().toString(),o,c("performanceNow")());this.$NetworkRequestPipeline4.addEntry(n.id,z);this.$NetworkRequestPipeline5--;if(!this.$NetworkRequestPipeline20(n))this.$NetworkRequestPipeline17()}u&&u.remove()}.bind(this),w=function(){if(!t()){this.$NetworkRequestPipeline5--;if(!this.$NetworkRequestPipeline20(n))this.$NetworkRequestPipeline17()}u&&u.remove()}.bind(this);if(!s)u=this.addListener("evict",function(y){if(q===y.xhrRequest)w()});var x=c("getXHRRequestHandlerHelper")(q).addResponseHandler(v).addAbortHandler(w).addErrorHandler(w).addNetworkFailureHandler(function(){if(this.$NetworkRequestPipeline9)w()}.bind(this));if(this.$NetworkRequestPipeline13)x.addTimeoutHandler(w);n.xhrRequest=q;this.$NetworkRequestPipeline5++;n.timeout=j(function(){this.$NetworkRequestPipeline20(n)}.bind(this),this.$NetworkRequestPipeline21(q,r||undefined));this.$NetworkRequestPipeline11=this.$NetworkRequestPipeline12;this.$NetworkRequestPipeline12=q.getURI().toString();if(this.$NetworkRequestPipeline13)q.setTimeout(this.$NetworkRequestPipeline13);q.send();return true};m.prototype.evictRequest=function(n){this.emit("evict",{xhrRequest:n})};m.prototype.getRecentBlockingRequestUrl=function(){return this.$NetworkRequestPipeline11};m.prototype.$NetworkRequestPipeline16=function(){var n=this.$NetworkRequestPipeline18(),o={id:n,hasEnded:false,xhrRequest:null,timeout:0};return o};m.prototype.$NetworkRequestPipeline21=function(n,o){var p=this.$NetworkRequestPipeline4.getEstimatedDownloadTime(o),q=this.$NetworkRequestPipeline4.getEstimatedTimeToFirstByte(),r=this.$NetworkRequestPipeline4.getOptimisticTimeToFirstByte();return(p+q-r)*this.$NetworkRequestPipeline2};f.exports=m}),null);
__d("PriorityRequestQueue",["invariant","EventEmitter","Map","Set"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("EventEmitter"));j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$PriorityRequestQueue1=new(c("Map"))(),this.$PriorityRequestQueue2=new(c("Map"))(),this.$PriorityRequestQueue3=function(){},m}k.prototype.dequeue=function(){return this.$PriorityRequestQueue4(Infinity)};k.prototype.setOnItemAdded=function(l){this.$PriorityRequestQueue3=l};k.prototype.$PriorityRequestQueue4=function(l){__p&&__p();var m=-Infinity;Array.from(this.$PriorityRequestQueue1.keys()).forEach(function(p){if(p<l)m=Math.max(m,p)});if(m===-Infinity)return null;var n=this.$PriorityRequestQueue1.get(m);n||h(0);var o=this.$PriorityRequestQueue5(n);if(o)return o;return this.$PriorityRequestQueue4(m)};k.prototype.$PriorityRequestQueue5=function(l){__p&&__p();var m=l.queues,n=l.lastDequeued;if(!m.size)return null;var o=Array.from(m),p=n?o.findIndex(function(u){return u===n}):-1;for(var q=p+1;q<=p+m.size;q++){var r=q%m.size,s=o[r],t=s.dequeue();if(t){l.lastDequeued=s;return t}}return null};k.prototype.setQueue=function(l,m){__p&&__p();var n=this.$PriorityRequestQueue2.get(l);if(n===m)return;if(!n)this.$PriorityRequestQueue3("append");this.removeQueue(l);var o=this.$PriorityRequestQueue1.get(m);if(!o)o={lastDequeued:null,queues:new(c("Set"))()};o.queues.add(l);l.setOnItemAdded(function(p){this.$PriorityRequestQueue6(l,p)}.bind(this));this.$PriorityRequestQueue2.set(l,m);this.$PriorityRequestQueue1.set(m,o)};k.prototype.removeQueue=function(l){var m=this.$PriorityRequestQueue7(l);l.setOnItemAdded(function(){});this.$PriorityRequestQueue2["delete"](l);if(m)m.queues["delete"](l)};k.prototype.$PriorityRequestQueue6=function(l,m){this.$PriorityRequestQueue3(m);if(m==="prepend")this.$PriorityRequestQueue7(l)};k.prototype.$PriorityRequestQueue7=function(l){__p&&__p();var m=this.$PriorityRequestQueue2.get(l);if(m!==undefined&&m!==null){var n=this.$PriorityRequestQueue1.get(m);n||h(0);var o=n.queues;if(n.lastDequeued===l){var p=Array.from(o),q=p.findIndex(function(r){return r===l});n.lastDequeued=p[q-1]||null}return n}return null};k.prototype.demandReschedule=function(){this.emit("demand_reschedule")};f.exports=k}),null);
__d("VideoPipelineProvider",["Map","NetworkRequestPipeline","PriorityRequestQueue","VideoPlayerShakaConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("Map"))();function i(j){__p&&__p();var k=h.get(j);if(!k){var l=new(c("PriorityRequestQueue"))(),m=c("VideoPlayerShakaConfig").getGlobalNumber("request_pipeline_soothing_factor",2),n=c("VideoPlayerShakaConfig").getGlobalNumber("request_pipeline_max_concurrent_requests",2);if(j==="audio"){m=c("VideoPlayerShakaConfig").getGlobalNumber("audio_request_pipeline_soothing_factor",1);n=c("VideoPlayerShakaConfig").getGlobalNumber("audio_request_pipeline_max_concurrent_requests",1)}var o=new(c("NetworkRequestPipeline"))(l,{xhrHandleNetworkFailure:c("VideoPlayerShakaConfig").getGlobalBool("xhr_handle_network_failure",true),maxConcurrentRequests:n,soothingFactor:m,fixFinishRequest:c("VideoPlayerShakaConfig").getGlobalBool("skip_old_handler_on_finished_requests",false),requestTimeout:c("VideoPlayerShakaConfig").getGlobalNumber("request_pipeline_timeout",0)});k={requestQueue:l,pipeline:o};h.set(j,k)}return k}f.exports={getPriorityRequestQueueAndPipeline:i}}),null);
__d("VideoSegmentRequestQueue",["Map"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$VideoSegmentRequestQueue1=function(){};this.$VideoSegmentRequestQueue2=new(c("Map"))();this.$VideoSegmentRequestQueue3=new(c("Map"))()}h.prototype.dequeue=function(){__p&&__p();var i=this.$VideoSegmentRequestQueue3.entries().next().value;if(i){this.$VideoSegmentRequestQueue3["delete"](i[0]);return i[1]||null}i=this.$VideoSegmentRequestQueue2.entries().next().value;if(!i)return null;this.$VideoSegmentRequestQueue2["delete"](i[0]);return i[1]||null};h.prototype.setOnItemAdded=function(i){this.$VideoSegmentRequestQueue1=i};h.prototype.append=function(i,j,k){this.$VideoSegmentRequestQueue4(i,j,k,this.$VideoSegmentRequestQueue2,"append");return this};h.prototype.clearNormalQueue=function(){this.$VideoSegmentRequestQueue2.clear()};h.prototype.changeToTopPri=function(i){var j=this.$VideoSegmentRequestQueue2.get(i);if(j){this.$VideoSegmentRequestQueue2["delete"](i);this.$VideoSegmentRequestQueue3.set(i,j)}};h.prototype.removeTopPriSegment=function(i){var j=this.$VideoSegmentRequestQueue3.get(i);this.$VideoSegmentRequestQueue3["delete"](i);return j?j.xhrRequest:null};h.prototype.isEmpty=function(){return this.$VideoSegmentRequestQueue2.size===0&&this.$VideoSegmentRequestQueue3.size===0};h.prototype.prependTopPri=function(i,j,k){var l=this.$VideoSegmentRequestQueue3;this.$VideoSegmentRequestQueue3=new(c("Map"))();this.$VideoSegmentRequestQueue5(i,j,k,l,this.$VideoSegmentRequestQueue3)};h.prototype.prepend=function(i,j,k){var l=this.$VideoSegmentRequestQueue2;this.$VideoSegmentRequestQueue2=new(c("Map"))();this.$VideoSegmentRequestQueue5(i,j,k,l,this.$VideoSegmentRequestQueue2)};h.prototype.$VideoSegmentRequestQueue5=function(i,j,k,l,m){this.$VideoSegmentRequestQueue4(i,j,k,m,"prepend");l.forEach(function(n,o){var j=n.xhrRequest,k=n.estimatedSize;this.$VideoSegmentRequestQueue6(o,j,k,m)}.bind(this))};h.prototype.$VideoSegmentRequestQueue4=function(i,j,k,l,m){this.$VideoSegmentRequestQueue6(i,j,k,l);this.$VideoSegmentRequestQueue1(m)};h.prototype.$VideoSegmentRequestQueue6=function(i,j,k,l){var m={xhrRequest:j,estimatedSize:k};l.set(i,m)};f.exports=h}),null);
__d("createVideoResponsePromise",["Promise","VideoPlayerShakaError","VideoPlayerShakaConfig","getXHRRequestHandlerHelper","performanceNow"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=window.Promise||c("Promise");c("Promise").resolve();function i(j){__p&&__p();var k=void 0,l=j.getURI().toString(),m=j.send;j.send=function(){k=c("performanceNow")();m.call(j)};var n=new h(function(o,p){__p&&__p();var q=c("getXHRRequestHandlerHelper")(j).addResponseHandler(function(r){o({response:r,responseTime:c("performanceNow")()-k})}).addAbortHandler(function(r){if(r==="reschedule")return;var s={errorMsg:"Request aborted.",errorType:"abort",errorCode:c("VideoPlayerShakaConfig").getGlobalBool("fix_shaka_xhr_error_status",false)?"":0,errorRawTransportStatus:0},t=c("VideoPlayerShakaError").translateError(s,l,"aborted");p(t)}).addErrorHandler(function(r){var s=c("VideoPlayerShakaError").translateError(r,l,"net");p(s)}).addNetworkFailureHandler(function(r){if(c("VideoPlayerShakaConfig").getGlobalBool("xhr_handle_network_failure",true)){var s=c("VideoPlayerShakaError").translateError(r,l,"net");p(s)}});if(c("VideoPlayerShakaConfig").getGlobalNumber("request_pipeline_timeout",0))q.addTimeoutHandler(function(){var r=c("VideoPlayerShakaError").createTimeoutError(l);p(r)})});return n}f.exports=i}),null);
__d("VideoSegmentRequestPipeline",["Map","NetworkRequestPipeline","SubscriptionsHandler","VideoPipelineProvider","VideoPlayerResourceTimer","VideoPlayerShakaError","VideoPlayerShakaConfig","VideoPriorityCalculator","VideoSegmentInfoHelper","VideoSegmentRequestQueue","createVideoResponsePromise","getXHRRequestHandlerHelper","performanceNow"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k,l,m){__p&&__p();this.$VideoSegmentRequestPipeline2=new(c("Map"))();this.$VideoSegmentRequestPipeline3=new(c("Map"))();this.$VideoSegmentRequestPipeline4=null;this.$VideoSegmentRequestPipeline5=null;this.$VideoSegmentRequestPipeline6=null;this.$VideoSegmentRequestPipeline11=new(c("Map"))();this.$VideoSegmentRequestPipeline12=new(c("Map"))();this.$VideoSegmentRequestPipeline13=null;this.$VideoSegmentRequestPipeline15=0;this.$VideoSegmentRequestPipeline16=new(c("SubscriptionsHandler"))();this.$VideoSegmentRequestPipeline19=function(){if(this.$VideoSegmentRequestPipeline18()===c("VideoPriorityCalculator").getMaxPriority())return;if(this.$VideoSegmentRequestPipeline1.getBool("enable_rescheduler",false)&&this.$VideoSegmentRequestPipeline11.size>0)this.$VideoSegmentRequestPipeline23()}.bind(this);this.$VideoSegmentRequestPipeline1=i;this.$VideoSegmentRequestPipeline10=new(c("VideoSegmentRequestQueue"))();if(this.$VideoSegmentRequestPipeline1.getBool("enable_global_scheduler",true)){var n=c("VideoPipelineProvider").getPriorityRequestQueueAndPipeline(j),o=n.requestQueue,p=n.pipeline;this.$VideoSegmentRequestPipeline13=o;this.$VideoSegmentRequestPipeline14=p}else this.$VideoSegmentRequestPipeline14=new(c("NetworkRequestPipeline"))(this.$VideoSegmentRequestPipeline10,{xhrHandleNetworkFailure:this.$VideoSegmentRequestPipeline1.getBool("xhr_handle_network_failure",true),maxConcurrentRequests:this.$VideoSegmentRequestPipeline1.getNumber("request_pipeline_max_concurrent_requests",2),soothingFactor:this.$VideoSegmentRequestPipeline1.getNumber("request_pipeline_soothing_factor",2),fixFinishRequest:this.$VideoSegmentRequestPipeline1.getBool("skip_old_handler_on_finished_requests",false),requestTimeout:this.$VideoSegmentRequestPipeline1.getNumber("request_pipeline_timeout",0)});var q=this.$VideoSegmentRequestPipeline13;if(q){q.setQueue(this.$VideoSegmentRequestPipeline10,this.$VideoSegmentRequestPipeline18());this.$VideoSegmentRequestPipeline16.addSubscriptions(q.addListener("demand_reschedule",this.$VideoSegmentRequestPipeline19))}this.$VideoSegmentRequestPipeline8=j;this.$VideoSegmentRequestPipeline7=k;this.$VideoSegmentRequestPipeline9=l;this.$VideoSegmentRequestPipeline17=m}h.prototype.enqueue=function(i,j){var k=c("VideoSegmentInfoHelper").createRequest(i),l=c("VideoSegmentInfoHelper").estimateRequestSize(i),m=c("createVideoResponsePromise")(k),n=k.send;k.send=function(){this.$VideoSegmentRequestPipeline11.set(i,k);this.$VideoSegmentRequestPipeline20(i,k,j);n.call(k)}.bind(this);this.$VideoSegmentRequestPipeline10.append(i,k,l);this.$VideoSegmentRequestPipeline21();return m};h.prototype.lockRequest=function(i){this.$VideoSegmentRequestPipeline10.changeToTopPri(i);this.$VideoSegmentRequestPipeline12.set(i,{lockedTime:c("performanceNow")(),rescheduleCount:0})};h.prototype.cancelUnlockedRequests=function(){this.$VideoSegmentRequestPipeline10.clearNormalQueue();this.$VideoSegmentRequestPipeline11.forEach(function(i,j){if(!this.$VideoSegmentRequestPipeline12.has(j)){i.abort();this.$VideoSegmentRequestPipeline11["delete"](j)}}.bind(this))};h.prototype.abortLockedRequest=function(i){var j=this.$VideoSegmentRequestPipeline10.removeTopPriSegment(i);if(j)j.abort();j=this.$VideoSegmentRequestPipeline11.get(i);if(j){j.abort();this.$VideoSegmentRequestPipeline22(i)}};h.prototype.$VideoSegmentRequestPipeline22=function(i){this.$VideoSegmentRequestPipeline11["delete"](i);this.$VideoSegmentRequestPipeline12["delete"](i)};h.prototype.unload=function(){if(this.$VideoSegmentRequestPipeline13)this.$VideoSegmentRequestPipeline13.removeQueue(this.$VideoSegmentRequestPipeline10);this.$VideoSegmentRequestPipeline16.release()};h.prototype.setPriority=function(i){if(this.$VideoSegmentRequestPipeline18()===i)return;this.$VideoSegmentRequestPipeline15=i;var j=this.$VideoSegmentRequestPipeline13;if(j){j.setQueue(this.$VideoSegmentRequestPipeline10,i);this.$VideoSegmentRequestPipeline21()}};h.prototype.getResourceTimingEntry=function(i){return this.$VideoSegmentRequestPipeline3.get(i)||null};h.prototype.$VideoSegmentRequestPipeline21=function(){var i=this.$VideoSegmentRequestPipeline13;if(i&&!this.$VideoSegmentRequestPipeline10.isEmpty()&&this.$VideoSegmentRequestPipeline18()>=c("VideoPriorityCalculator").getMaxPriority())i.demandReschedule()};h.prototype.$VideoSegmentRequestPipeline23=function(){Array.from(this.$VideoSegmentRequestPipeline11.values()).forEach(function(i){this.$VideoSegmentRequestPipeline14.evictRequest(i)}.bind(this))};h.prototype.$VideoSegmentRequestPipeline18=function(){return this.$VideoSegmentRequestPipeline15};h.prototype.$VideoSegmentRequestPipeline24=function(i){var j=this.$VideoSegmentRequestPipeline12.get(i)||{},k=j.lockedTime,l=j.rescheduleCount;l=(l||0)+1;this.$VideoSegmentRequestPipeline22(i);this.$VideoSegmentRequestPipeline12.set(i,{lockedTime:k,rescheduleCount:l})};h.prototype.$VideoSegmentRequestPipeline20=function(i,j,k){__p&&__p();var l,m=this,n=j.getURI().toString(),o=this.$VideoSegmentRequestPipeline18(),p=void 0,q=void 0,r=this.$VideoSegmentRequestPipeline14.getRecentBlockingRequestUrl(),s=false;if(r&&r!==this.$VideoSegmentRequestPipeline5)s=true;if(this.$VideoSegmentRequestPipeline1.getBool("fixing_scheduler_xhr_request_leaks",true)){q=this.$VideoSegmentRequestPipeline5;this.$VideoSegmentRequestPipeline5=n}else{p=this.$VideoSegmentRequestPipeline4;this.$VideoSegmentRequestPipeline4=j}if(i)(function(){__p&&__p();var t=m.$VideoSegmentRequestPipeline25(n,o,s,k),u=c("performanceNow")(),v=false,w=function(){if(!this.$VideoSegmentRequestPipeline1.getBool("skip_old_handler_on_finished_requests",false))return false;if(v)return true;v=true;return false}.bind(m),x=c("getXHRRequestHandlerHelper")(j).addResponseHandler(function(y){__p&&__p();if(!w()){var z=c("performanceNow")(),A=c("VideoPlayerResourceTimer").getResourceTimingEntry(n,u,z),B=y.byteLength;if(this.$VideoSegmentRequestPipeline9){var C=A?this.$VideoSegmentRequestPipeline26(A,j,p,q):z-u;this.$VideoSegmentRequestPipeline9.sample(C,B,this.$VideoSegmentRequestPipeline8==="video",{timeToLastByte:C},this.$VideoSegmentRequestPipeline17,this.$VideoSegmentRequestPipeline7)}if(t)this.$VideoSegmentRequestPipeline27(i,t,y.byteLength,A,u);this.$VideoSegmentRequestPipeline22(i)}}.bind(m)).addAbortHandler(function(k){if(!w()){var y={errorMsg:"Request aborted.",errorType:"abort",errorCode:this.$VideoSegmentRequestPipeline1.getBool("fix_shaka_xhr_error_status",false)?"":0,errorRawTransportStatus:0},z=c("VideoPlayerShakaError").translateError(y,n,"aborted");if(k==="reschedule")this.$VideoSegmentRequestPipeline24(i);else this.$VideoSegmentRequestPipeline22(i);if(t)t.setError(z).log()}}.bind(m)).addErrorHandler(function(y){if(!w()){var z=c("VideoPlayerShakaError").translateError(y,n,"net");if(t)t.setError(z).log();this.$VideoSegmentRequestPipeline22(i)}}.bind(m)).addNetworkFailureHandler(function(y){if(!w())if(this.$VideoSegmentRequestPipeline1.getBool("xhr_handle_network_failure",true)){var z=c("VideoPlayerShakaError").translateError(y,n,"net");if(t)t.setError(z).log();this.$VideoSegmentRequestPipeline22(i)}}.bind(m));if(m.$VideoSegmentRequestPipeline1.getNumber("request_pipeline_timeout",0))x.addTimeoutHandler(function(){var y=c("VideoPlayerShakaError").createTimeoutError(n);if(t)t.setError(y).log();this.$VideoSegmentRequestPipeline22(i)}.bind(m))})()};h.prototype.$VideoSegmentRequestPipeline25=function(i,j,k,l){var m=null;if(this.$VideoSegmentRequestPipeline7){m=this.$VideoSegmentRequestPipeline7.getOperationLogger("request").setResource(i).start();m.setReason(l).setPriority(j).setType(this.$VideoSegmentRequestPipeline8||null).setWasDelayed(k).setInitiator("pipeline")}return m};h.prototype.$VideoSegmentRequestPipeline27=function(i,j,k,l,m){__p&&__p();var n=this.$VideoSegmentRequestPipeline12.get(i)||{},o=n.lockedTime,p=n.rescheduleCount,q=0;if(o)q=m-o;if(!p)p=0;j.setLength(k);if(l){var r=l.timeToFirstByte,s=l.timeToLastByte,t=l.timeToRequestStart;j.setTimeToFirstByte(Math.round(r)).setTimeToLastByte(Math.round(s)).setTimeToRequestStart(Math.round(t)).setTimeToRequestSent(Math.round(q)).setRescheduleCount(Math.round(p))}j.log()};h.prototype.$VideoSegmentRequestPipeline26=function(i,j,k,l){__p&&__p();var m=null;if(k){m=this.$VideoSegmentRequestPipeline2.get(k);if(this.$VideoSegmentRequestPipeline1.getBool("fixing_scheduler_xhr_request_leaks",true))this.$VideoSegmentRequestPipeline2["delete"](k);else this.$VideoSegmentRequestPipeline2["delete"](m)}if(l){m=this.$VideoSegmentRequestPipeline3.get(l);this.$VideoSegmentRequestPipeline3["delete"](l)}if(this.$VideoSegmentRequestPipeline1.getBool("fixing_scheduler_xhr_request_leaks",true))this.$VideoSegmentRequestPipeline3.set(j.getURI().toString(),i);else this.$VideoSegmentRequestPipeline2.set(j,i);if(m){var n=m.startTime+m.timeToLastByte,o=i.startTime+i.timeToLastByte,p=Math.min(o-n,i.timeToLastByte);return Math.max(i.timeToLastByte-i.timeToFirstByte,p)}return i.timeToLastByte};f.exports=h}),null);
__d("SegmentRequestManager",["invariant","BinarySearch","Map","SegmentsUpdateHelper","TrackedPromise","VideoPriorityCalculator","VideoSegmentInfoHelper","VideoSegmentPromiseBuffer","VideoSegmentRequestPipeline"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=.1,j=3;function k(l,m,n,o,p,q){__p&&__p();this.$SegmentRequestManager2=new(c("Map"))();this.$SegmentRequestManager3=new(c("Map"))();this.$SegmentRequestManager4=0;this.$SegmentRequestManager5=null;this.$SegmentRequestManager7=[];this.$SegmentRequestManager8=new(c("VideoSegmentPromiseBuffer"))();this.$SegmentRequestManager9=false;this.$SegmentRequestManager11=0;this.$SegmentRequestManager1=l;this.$SegmentRequestManager6=new(c("VideoSegmentRequestPipeline"))(l,m,o,p,q);this.$SegmentRequestManager12=n||c("VideoPriorityCalculator").calculate}k.prototype.updateSegmentsByShakaReferences=function(l,m){new(c("SegmentsUpdateHelper"))(this.$SegmentRequestManager3,this.$SegmentRequestManager2).updateSegments(l,m)};k.prototype.updateSegments=function(l,m){var n=this.getSegments(l);m.forEach(function(o){var p=c("VideoSegmentInfoHelper").getRequestCacheKey(o.requestInfo);if(!this.$SegmentRequestManager3.has(p)){this.$SegmentRequestManager3.set(p,o);this.$SegmentRequestManager13(n,o)}}.bind(this));this.$SegmentRequestManager2.set(l,n)};k.prototype.getSegments=function(l){var m=this.$SegmentRequestManager2.get(l);return m||[]};k.prototype.hasSegment=function(l){var m=c("VideoSegmentInfoHelper").getRequestCacheKey(l.requestInfo);return this.$SegmentRequestManager3.has(m)};k.prototype.updatePriorityWithNewPlayhead=function(l){if(this.$SegmentRequestManager10)this.$SegmentRequestManager10.playhead=l;this.$SegmentRequestManager14();return this};k.prototype.updatePriorityWithNewPlayingState=function(l){if(this.$SegmentRequestManager10)this.$SegmentRequestManager10.isPlaying=l;this.$SegmentRequestManager14();return this};k.prototype.updatePriorityWithNewAdjustment=function(l){if(l===this.$SegmentRequestManager11)return this;l<=0||h(0);this.$SegmentRequestManager11=l;this.$SegmentRequestManager14();return this};k.prototype.updatePlayerState=function(l,m){__p&&__p();var n=this.$SegmentRequestManager2.get(l);this.$SegmentRequestManager10=m;if(!n)return this;var o=this.$SegmentRequestManager5;this.$SegmentRequestManager5=l;if(this.$SegmentRequestManager9)return this;this.$SegmentRequestManager14();var p=this.$SegmentRequestManager15(m,n),q=m.additionalSegmentsRequired,r=[];if(q.length>0){r=this.$SegmentRequestManager16(q);p=p.concat(r).sort(function(t,u){return t.startTime-u.startTime})}if(o!==l){this.$SegmentRequestManager17();this.$SegmentRequestManager18(p,r);return this}var s=[];if(this.$SegmentRequestManager8.hasOtherPendingSegments(p)){this.$SegmentRequestManager17();s=p}else{s=p.filter(function(t){return!this.$SegmentRequestManager8.hasSegmentPromise(t)}.bind(this));this.$SegmentRequestManager8.removeSegmentPromisesOlderThan(p[0],this.$SegmentRequestManager1)}this.$SegmentRequestManager18(s,r);return this};k.prototype.getPromise=function(l){__p&&__p();var m=c("VideoSegmentInfoHelper").getRequestCacheKey(l),n=this.$SegmentRequestManager3.get(m);if(!n)throw new Error("the given request info is not found it segments cache ");var o=this.$SegmentRequestManager8.getSegmentPromise(n),p=void 0;if(o&&(!o.isPending()||this.$SegmentRequestManager8.isFirstPendingSegment(n)))p=o.getPromise();else{this.$SegmentRequestManager17();p=this.$SegmentRequestManager6.enqueue(n);o=new(c("TrackedPromise"))(p,this.$SegmentRequestManager1);this.$SegmentRequestManager8.appendSegmentPromise(n,o)}this.$SegmentRequestManager6.lockRequest(n);return p};k.prototype.getResourceTimingEntry=function(l){return this.$SegmentRequestManager6.getResourceTimingEntry(l)};k.prototype.$SegmentRequestManager16=function(l){var m=[];l.forEach(function(n){var o=this.$SegmentRequestManager3.get(c("VideoSegmentInfoHelper").getRequestCacheKey(c("SegmentsUpdateHelper").createSegmentInfo(n).requestInfo));if(o)m.push(o)}.bind(this));return m};k.prototype.$SegmentRequestManager13=function(l,m){var n=Number.POSITIVE_INFINITY;for(var o=0;o<=l.length;o++){var p=l.length-o,q=p>=1?l[p-1].startTime:Number.NEGATIVE_INFINITY;if(q<=m.startTime&&m.startTime<n){p===l.length?l.push(m):l.splice(p,0,m);return}n=q}};k.prototype.$SegmentRequestManager14=function(){if(!this.$SegmentRequestManager10)return;var l=this.$SegmentRequestManager12(this.$SegmentRequestManager10,this.$SegmentRequestManager1.getNumber("global_scheduler_priority_threshold",6));l+=this.$SegmentRequestManager11;this.$SegmentRequestManager6.setPriority(l)};k.prototype.$SegmentRequestManager17=function(){this.$SegmentRequestManager6.cancelUnlockedRequests();this.$SegmentRequestManager8.clearAllSegmentPromises()};k.prototype.$SegmentRequestManager18=function(l,m){__p&&__p();for(var n=l,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;if(c("VideoSegmentInfoHelper").isPrefetchedRequest(r))return;var s=m.includes(r)?"replacing_lower_quality_buffer":null,t=this.$SegmentRequestManager6.enqueue(r,s);this.$SegmentRequestManager8.appendSegmentPromise(r,new(c("TrackedPromise"))(t,this.$SegmentRequestManager1))}};k.prototype.abortRequest=function(l){var m=c("VideoSegmentInfoHelper").getRequestCacheKey(l),n=this.$SegmentRequestManager3.get(m);if(n){this.$SegmentRequestManager6.abortLockedRequest(n);this.$SegmentRequestManager8.removeSegmentPromise(n)}};k.prototype.disable=function(){if(this.$SegmentRequestManager9)return;this.$SegmentRequestManager6.cancelUnlockedRequests();this.$SegmentRequestManager6.unload();this.$SegmentRequestManager9=true};k.prototype.enable=function(){this.$SegmentRequestManager9=false};k.prototype.isDisabled=function(){return this.$SegmentRequestManager9};k.prototype.$SegmentRequestManager15=function(l,m){var n=l.playhead,o=l.bufferEnd,p=l.bufferingGoal,q=Math.max(o,n),r=[],s=this.$SegmentRequestManager19(q,m);for(var t=Math.max(s,0);t<m.length;t++){var u=m[t];if(u.startTime>n+p)break;r.push(u)}return r};k.prototype.$SegmentRequestManager19=function(l,m){return c("BinarySearch").leastUpperBound(function(n){var o=this.$SegmentRequestManager20(m[n].startTime),p=this.$SegmentRequestManager20(m[n].endTime);l=this.$SegmentRequestManager20(l);if(o<=l&&p>l)return 0;return o-l}.bind(this),0,0,m.length,function(n,o){return n-o})};k.prototype.$SegmentRequestManager20=function(l){return+l.toFixed(j)||0};f.exports=k}),null);
__d("ShakaSegmentReferenceHelper",["JSLog"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=.001;function i(l,m){for(var n=l.length-1;n>=0;--n){var o=l[n];if(Math.abs(m-o.startTime)<h)return n}return-1}function j(l,m){__p&&__p();var n=i(l,m);if(n>-1)return n;for(var o=l.length-1;o>=0;--o){var p=l[o];if(m>=p.startTime&&m<p.endTime){c("JSLog").warn("Segment reference have no matching start time %s, %d",JSON.stringify(p),m);return o}}return-1}function k(l,m){var n=j(l,m.startTime);if(n>=0){l.splice(n,0,m);return n+1}else{l.push(m);return l.length}}f.exports={findIndexByStartTime:j,insertReference:k}}),null);
__d("VideoPlayerLocalBandwidthEstimator",["guid","Banzai","VideoPlayerAbrEvaluation","SubscriptionsHandler","EventListener","EventEmitter","requireWeak"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=void 0;c("requireWeak")("Shaka",function(l){if(l&&l.util)j=l.util.EWMACacheBandwidthEstimator});h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(l,m,n){"use strict";__p&&__p();i.constructor.call(this);this.$VideoPlayerLocalBandwidthEstimator3=l;this.$VideoPlayerLocalBandwidthEstimator1=m;this.$VideoPlayerLocalBandwidthEstimator4=n;this.$VideoPlayerLocalBandwidthEstimator5=[];this.$VideoPlayerLocalBandwidthEstimator6=null;this.$VideoPlayerLocalBandwidthEstimator7=c("guid")();this.$VideoPlayerLocalBandwidthEstimator10=new(c("SubscriptionsHandler"))();this.$VideoPlayerLocalBandwidthEstimator10.addSubscriptions(c("EventListener").listen(this.$VideoPlayerLocalBandwidthEstimator1,"bandwidth",function(o){return this.emit("bandwidth",o)}.bind(this)));if(this.$VideoPlayerLocalBandwidthEstimator4&&this.$VideoPlayerLocalBandwidthEstimator4.getBool("use_per_video_bandwidth_estimator",false)&&j)this.$VideoPlayerLocalBandwidthEstimator2=new j(this.$VideoPlayerLocalBandwidthEstimator4.getNumber("cache_delay",30),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("cache_bandwidth",2e6))}k.prototype.setRepresentationID=function(l){"use strict";this.$VideoPlayerLocalBandwidthEstimator6=l};k.prototype.sample=function(l,m,n,o,p,q){__p&&__p();var r;"use strict";if(n&&this.$VideoPlayerLocalBandwidthEstimator6)this.$VideoPlayerLocalBandwidthEstimator11(l,m,this.$VideoPlayerLocalBandwidthEstimator6,this.$VideoPlayerLocalBandwidthEstimator3.getVideoTracks());var s=[l,m,n,o,p,q];(r=this.$VideoPlayerLocalBandwidthEstimator1).sample.apply(r,s);if(this.$VideoPlayerLocalBandwidthEstimator2){var t;(t=this.$VideoPlayerLocalBandwidthEstimator2).sample.apply(t,s)}};k.prototype.supportsCaching=function(){"use strict";return this.$VideoPlayerLocalBandwidthEstimator1.supportsCaching()};k.prototype.getEstimator=function(){"use strict";return this.$VideoPlayerLocalBandwidthEstimator1};k.prototype.getBandwidth=function(l){"use strict";var m=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("minimum_weight_to_trust_local_bandwidth_estimate",.5),n=this.$VideoPlayerLocalBandwidthEstimator4.getBool("use_minimum_of_global_and_local_bandwidth_estimates",false),o=this.$VideoPlayerLocalBandwidthEstimator4.getBool("use_per_video_bandwidth_estimator",false);if(o&&this.$VideoPlayerLocalBandwidthEstimator2&&this.$VideoPlayerLocalBandwidthEstimator2.canTrustEstimate(m))if(n){var p=this.$VideoPlayerLocalBandwidthEstimator2?this.$VideoPlayerLocalBandwidthEstimator2.getBandwidth(l):Infinity;return Math.min(this.$VideoPlayerLocalBandwidthEstimator1.getBandwidth(l),p)}else return this.$VideoPlayerLocalBandwidthEstimator2.getBandwidth(l);return this.$VideoPlayerLocalBandwidthEstimator1.getBandwidth(l)};k.prototype.setResolutionConstraint=function(l,m){"use strict";this.$VideoPlayerLocalBandwidthEstimator8=l;this.$VideoPlayerLocalBandwidthEstimator9=m};k.prototype.$VideoPlayerLocalBandwidthEstimator11=function(l,m,n,o){"use strict";__p&&__p();var p=8e3*m/l,q=o.filter(function(x){return x.width<=this.$VideoPlayerLocalBandwidthEstimator8||x.height<=this.$VideoPlayerLocalBandwidthEstimator9}.bind(this)),r=this.$VideoPlayerLocalBandwidthEstimator12(p,o),s=this.$VideoPlayerLocalBandwidthEstimator12(p,q),t=o.find(function(x){return x.streamInfoID===n});if(t){if(this.$VideoPlayerLocalBandwidthEstimator4.getBool("videos_abr_debugger_storage",false))c("Banzai").post("video_player_abr",{id:this.$VideoPlayerLocalBandwidthEstimator7,bandwidth:p,chosenBandwidth:t.bandwidth});var u=t.id,v=this.$VideoPlayerLocalBandwidthEstimator13(r,u),w=this.$VideoPlayerLocalBandwidthEstimator13(s,u);if(v!==w)if(v===c("VideoPlayerAbrEvaluation").CONSERVATIVE&&w===c("VideoPlayerAbrEvaluation").IDEAL)v=c("VideoPlayerAbrEvaluation").CONSERVATIVE_RESOLUTION_CONSTRAINED;this.$VideoPlayerLocalBandwidthEstimator5.push(v)}};k.prototype.$VideoPlayerLocalBandwidthEstimator12=function(l,m){"use strict";var n=0;for(var o=0;o<m.length;o++){if(l<=m[o].bandwidth)break;n=m[o].id}return n};k.prototype.$VideoPlayerLocalBandwidthEstimator13=function(l,m){"use strict";return l===m?c("VideoPlayerAbrEvaluation").IDEAL:l>m?c("VideoPlayerAbrEvaluation").CONSERVATIVE:c("VideoPlayerAbrEvaluation").AGGRESSIVE};k.prototype.flushABREvaluationSet=function(){"use strict";var l=this.$VideoPlayerLocalBandwidthEstimator5;this.$VideoPlayerLocalBandwidthEstimator5=[];return l};f.exports=k}),null);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerShakaPerformanceTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;function j(l){if(typeof l==="number")l=Math.floor(l);return l}h=babelHelpers.inherits(k,c("VideoPlayerShakaPerformanceTypedLogger"));i=h&&h.prototype;k.prototype.setState=function(l){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=l;i.setState.call(this,l);return this};k.prototype.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1};k.prototype.setSequentialID=function(l){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=l;i.setSequentialID.call(this,l);return this};k.prototype.setParentLogger=function(l){this.setParentID(l.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this};k.prototype.setSegmentEndTime=function(l){i.setSegmentEndTime.call(this,j(l));return this};k.prototype.setSegmentTimeGap=function(l){i.setSegmentTimeGap.call(this,j(l));return this};k.prototype.setSegmentStartTime=function(l){i.setSegmentStartTime.call(this,j(l));return this};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("VideoPlayerArtilleryOperationMarker",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k,l){this.$VideoPlayerArtilleryOperationMarker2=i;this.$VideoPlayerArtilleryOperationMarker3=j;this.$VideoPlayerArtilleryOperationMarker4=k;this.$VideoPlayerArtilleryOperationMarker5=l;this.$VideoPlayerArtilleryOperationMarker6=false}h.prototype.markOperationStart=function(){return this.$VideoPlayerArtilleryOperationMarker7("Starting")};h.prototype.markOperationEnd=function(){return this.$VideoPlayerArtilleryOperationMarker7("Ending")};h.prototype.$VideoPlayerArtilleryOperationMarker7=function(i){var j=this.$VideoPlayerArtilleryOperationMarker4();if(j)j.inform(i+" "+this.$VideoPlayerArtilleryOperationMarker2+" #"+this.$VideoPlayerArtilleryOperationMarker3,{pointGroup:this.$VideoPlayerArtilleryOperationMarker5.getGroupName(this.$VideoPlayerArtilleryOperationMarker2,this.$VideoPlayerArtilleryOperationMarker1),isPointOfInterest:true,type:null}).addStringAnnotation("resource",this.$VideoPlayerArtilleryOperationMarker1||"").addStringAnnotation("wasPrefetchCacheHit",this.$VideoPlayerArtilleryOperationMarker6.toString());return this};h.prototype.setResource=function(i){this.$VideoPlayerArtilleryOperationMarker1=i;return this};h.prototype.setWasPrefetchCacheHit=function(i){this.$VideoPlayerArtilleryOperationMarker6=i;return this};f.exports=h}),null);
__d("VideoPlayerArtilleryPointGrouper",["Map"],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";this.$VideoPlayerArtilleryPointGrouper1=new(c("Map"))();this.$VideoPlayerArtilleryPointGrouper2=new(c("Map"))()}h.prototype.getGroupName=function(i,j){"use strict";__p&&__p();if(!j){switch(i){case"start_streams":i="source_attach";break}return i}var k=this.$VideoPlayerArtilleryPointGrouper1.get(j);if(k)return k;var l=void 0;if(j.indexOf("-init.m4v")!==-1)l="-init.m4v";else if(j.indexOf("-init.m4a")!==-1)l="-init.m4a";else if(j.indexOf(".mpd")!==-1)return"source_load";else if(j.indexOf(".m4v")!==-1)l=".m4v";else if(j.indexOf(".m4a")!==-1)l=".m4a";else l="unknown";var m=this.$VideoPlayerArtilleryPointGrouper2.get(l)+1||1;this.$VideoPlayerArtilleryPointGrouper2.set(l,m);k=l+" #"+m;this.$VideoPlayerArtilleryPointGrouper1.set(j,k);return k};f.exports=h}),null);
__d("VideoPlayerArtilleryTrace",["TimeSliceInteraction","UserAgentData","VideoPlayerArtilleryOperationMarker","VideoPlayerArtilleryPointGrouper"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=3e4,i=3e3;function j(k,l){__p&&__p();this.$VideoPlayerArtilleryTrace13=function(){var m=this.$VideoPlayerArtilleryTrace2;if(m){var n=m.stallTrace,o=m.hasStalls,p=m.stallTraceTimeout;o?n.finish():n.disable();clearTimeout(p)}this.$VideoPlayerArtilleryTrace2=null}.bind(this);this.$VideoPlayerArtilleryTrace17=function(){return this.$VideoPlayerArtilleryTrace1}.bind(this);this.$VideoPlayerArtilleryTrace18=function(){var m=this.$VideoPlayerArtilleryTrace2;return m?m.stallTrace:null}.bind(this);this.$VideoPlayerArtilleryTrace4=l.videoID;this.$VideoPlayerArtilleryTrace5=l.video;this.$VideoPlayerArtilleryTrace6=k;this.$VideoPlayerArtilleryTrace7=l.isLive;this.$VideoPlayerArtilleryTrace9=l.playerOrigin;this.$VideoPlayerArtilleryTrace10=l.playerSuborigin;this.$VideoPlayerArtilleryTrace8=0;this.$VideoPlayerArtilleryTrace11=new(c("VideoPlayerArtilleryPointGrouper"))()}j.prototype.updateBufferAhead=function(k){var l=this.$VideoPlayerArtilleryTrace2;if(!l&&k<=i)this.$VideoPlayerArtilleryTrace2={stallTrace:this.$VideoPlayerArtilleryTrace12(c("TimeSliceInteraction").create("video_stall")),hasStalls:false,stallTraceTimeout:setTimeout(this.$VideoPlayerArtilleryTrace13,h)};else if(k>i)this.$VideoPlayerArtilleryTrace13()};j.prototype.enterState=function(k){switch(k){case"loading":this.$VideoPlayerArtilleryTrace14();break;case"playing":this.$VideoPlayerArtilleryTrace15();break;default:this.$VideoPlayerArtilleryTrace16(k);break}return this};j.prototype.$VideoPlayerArtilleryTrace16=function(k){var l=this.$VideoPlayerArtilleryTrace1;if(l)l.inform("State: "+k)};j.prototype.getMarkers=function(k){__p&&__p();var l=[],m=(++this.$VideoPlayerArtilleryTrace8).toString();if(this.$VideoPlayerArtilleryTrace1)l.push(new(c("VideoPlayerArtilleryOperationMarker"))(k,m,this.$VideoPlayerArtilleryTrace17,this.$VideoPlayerArtilleryTrace11));var n=this.$VideoPlayerArtilleryTrace2;if(n){if(k==="buffering")n.hasStalls=true;l.push(new(c("VideoPlayerArtilleryOperationMarker"))(k,m,this.$VideoPlayerArtilleryTrace18,this.$VideoPlayerArtilleryTrace11))}return l};j.prototype.$VideoPlayerArtilleryTrace14=function(){var k=this.$VideoPlayerArtilleryTrace12(c("TimeSliceInteraction").create("video_psr"));this.$VideoPlayerArtilleryTrace1=k;this.$VideoPlayerArtilleryTrace16("loading")};j.prototype.$VideoPlayerArtilleryTrace15=function(){this.$VideoPlayerArtilleryTrace16("playing");var k=this.$VideoPlayerArtilleryTrace1;if(k){k.finish();this.$VideoPlayerArtilleryTrace1=null}};j.prototype.$VideoPlayerArtilleryTrace12=function(k){k.trace().addStringAnnotation("videoID",this.$VideoPlayerArtilleryTrace4).addStringAnnotation("sessionID",this.$VideoPlayerArtilleryTrace6).addStringAnnotation("browserName",c("UserAgentData").browserName).addStringAnnotation("browserVersion",c("UserAgentData").browserVersion).addStringAnnotation("isLive",this.$VideoPlayerArtilleryTrace7.toString()).addStringAnnotation("playerOrigin",this.$VideoPlayerArtilleryTrace9||"").addStringAnnotation("playerSuborigin",this.$VideoPlayerArtilleryTrace10||"");return k};f.exports=j}),null);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlayerArtilleryTrace","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaPerformanceLoggerConfig","VideoPlaybackQuality"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("VideoPlaybackQuality").getDroppedFrames;i.isEnabled=function(){return c("VideoPlayerShakaPerformanceLoggerConfig").isSampled};function i(j){__p&&__p();this.$VideoPlayerShakaPerformanceLogger2=j.videoID;this.$VideoPlayerShakaPerformanceLogger4=j.video;this.$VideoPlayerShakaPerformanceLogger1=j.uniqueID;this.$VideoPlayerShakaPerformanceLogger3=0;this.$VideoPlayerShakaPerformanceLogger5=j.representationId;this.$VideoPlayerShakaPerformanceLogger9=j.isLive;this.$VideoPlayerShakaPerformanceLogger8=null;this.$VideoPlayerShakaPerformanceLogger10=j.accessToken;this.$VideoPlayerShakaPerformanceLogger12=j.playerOrigin;this.$VideoPlayerShakaPerformanceLogger13=j.playerSuborigin;this.$VideoPlayerShakaPerformanceLogger11=new(c("VideoPlayerArtilleryTrace"))(this.$VideoPlayerShakaPerformanceLogger1,j)}i.prototype.$VideoPlayerShakaPerformanceLogger14=function(j){__p&&__p();var k=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(k.length>0){var l=k.length-1;j=j.setLastBufferedStart(Math.round(k.start(l)*1e3)).setLastBufferedEnd(Math.round(k.end(l)*1e3));this.$VideoPlayerShakaPerformanceLogger11.updateBufferAhead((k.end(l)-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3)}var m=[];for(var n=0;n<k.length-1;n++){var o=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(n)*1e3),p=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(n)*1e3);m.push([o,p])}if(m&&m.length)j=j.setAdditionalBufferedRanges(JSON.stringify(m));return j};i.prototype.getBandwidthEstimate=function(event){return Math.round(c("VideoPlayerShakaBandwidthEstimator").getBandwidthByVideoType(this.$VideoPlayerShakaPerformanceLogger9))};i.prototype.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger8?Math.round((this.$VideoPlayerShakaPerformanceLogger8-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3):null};i.prototype.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger2};i.prototype.getEventLogger=function(event){__p&&__p();var j=Date.now(),k=new(c("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),l=this.$VideoPlayerShakaPerformanceLogger4.currentTime,m=this.$VideoPlayerShakaPerformanceLogger4.duration;this.$VideoPlayerShakaPerformanceLogger14(k).setEvent(event).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setDroppedFrames(h(this.$VideoPlayerShakaPerformanceLogger4)).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger12).setScriptPath(c("ScriptPath").getScriptPath()).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger13).setBandwidthEstimate(this.getBandwidthEstimate(event)).setRepresentationID(this.$VideoPlayerShakaPerformanceLogger5).setPlayhead(Math.round(l*1e3)).setVideoDuration(Math.round(m*1e3)).setIsLive(this.$VideoPlayerShakaPerformanceLogger9).setSession(this.$VideoPlayerShakaPerformanceLogger1).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger6).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger7).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger10).setClientTimeBegin(j).setClientTimeEnd(j);var n=k.setState;k.setState=function(p){if(p!==this.$VideoPlayerShakaPerformanceLogger6&&p==="playing")this.$VideoPlayerShakaPerformanceLogger7=Date.now();else if(p!=="playing")this.$VideoPlayerShakaPerformanceLogger7=null;this.$VideoPlayerShakaPerformanceLogger6=p;this.$VideoPlayerShakaPerformanceLogger11.enterState(p);return n.call(k,p)}.bind(this);k.updateState=function(p){if(k.getState()==this.$VideoPlayerShakaPerformanceLogger6){this.$VideoPlayerShakaPerformanceLogger11.enterState(p);return k.setState(p)}return k}.bind(this);var o=k.setError;k.setError=function(p){__p&&__p();if(typeof p==="object"){if(p.type==="aborted"||p.type==="delay")this.setResult("aborted");else if(p.type==="paused")this.setResult("paused");else{this.setResult("failed");o.call(this,p.type)}this.setCode(p.status)}else o.call(this,p);return this};return k};i.prototype.getArtilleryMarkers=function(j){return this.$VideoPlayerShakaPerformanceLogger11.getMarkers(j)};i.prototype.getOperationLogger=function(j){__p&&__p();var k=this.getEventLogger(j),l=this.getArtilleryMarkers(j),m=k.setResource;k.setResource=function(o){l.forEach(function(p){return p.setResource(o)});return m.call(k,o)};var n=k.log;k.log=function(){this.setClientTimeEnd(Date.now());l.forEach(function(o){return o.markOperationEnd()});return n.call(this)};k.start=function(){l.forEach(function(o){return o.markOperationStart()});return k};k.setWasPrefetchCacheHit=function(o){l.forEach(function(p){return p.setWasPrefetchCacheHit(o)});return k};k.setLiveheadPosition=function(o){this.$VideoPlayerShakaPerformanceLogger8=o;k.setLiveheadDelta(this.getLiveheadDelta());return k}.bind(this);return k};i.prototype.setRepresentationID=function(j){this.$VideoPlayerShakaPerformanceLogger5=j};f.exports=i}),null);
__d("FetchStreamStateTracker",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();i.prototype.setNextRequestInfo=function(j){this.$FetchStreamStateTracker1=this.$FetchStreamStateTracker2;this.$FetchStreamStateTracker2=j};i.prototype.setFetchRange=function(j){this.$FetchStreamStateTracker3=j};i.prototype.isNextRequestContinuous=function(){this.$FetchStreamStateTracker2||h(0);if(!this.$FetchStreamStateTracker1)return false;if(this.$FetchStreamStateTracker1.baseUrl!==this.$FetchStreamStateTracker2.baseUrl||(this.$FetchStreamStateTracker1.endByte||0)+1!==(this.$FetchStreamStateTracker2.startByte||0))return false;return true};i.prototype.isNextRequestInRange=function(){this.$FetchStreamStateTracker2||h(0);if(!this.$FetchStreamStateTracker3)return false;var j=Infinity,k=this.$FetchStreamStateTracker3.endByte;if(k!==null&&k!==undefined)j=k;return(this.$FetchStreamStateTracker2.endByte||0)<=j};function i(){}f.exports=i}),null);
__d("NetworkErrorTransformStream",["ReadableStream","WritableStream","pipeErrorTo"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.$NetworkErrorTransformStream3=function(i){this.$NetworkErrorTransformStream1.enqueue(i)};function h(){__p&&__p();this.writable=new(c("WritableStream"))({start:function(i){this.$NetworkErrorTransformStream2=i}.bind(this),write:function(i){this.$NetworkErrorTransformStream3(i)}.bind(this),close:function(){this.$NetworkErrorTransformStream1.close()}.bind(this),abort:function(i){var j=i;if(i instanceof TypeError)j={type:"net",status:0,message:"Network failure."};c("pipeErrorTo")(this.$NetworkErrorTransformStream1,j)}.bind(this)});this.readable=new(c("ReadableStream"))({start:function(i){this.$NetworkErrorTransformStream1=i}.bind(this),cancel:function(i){c("pipeErrorTo")(this.$NetworkErrorTransformStream2,i)}.bind(this)})}f.exports=h}),null);
__d("RoundRobinPriorityTaskQueue",["Deferred","Map","MaybeNativePromise"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$RoundRobinPriorityTaskQueue2=function(){};this.$RoundRobinPriorityTaskQueue3=[];this.$RoundRobinPriorityTaskQueue4=new(c("Map"))();this.$RoundRobinPriorityTaskQueue5=new(c("Map"))();this.$RoundRobinPriorityTaskQueue1=i}h.prototype.enqueue=function(i,j){__p&&__p();var k=this.$RoundRobinPriorityTaskQueue4.get(i),l=this.$RoundRobinPriorityTaskQueue6(i);if(k===j)return l;if(this.$RoundRobinPriorityTaskQueue4.has(i))this.remove(i);var m=this.$RoundRobinPriorityTaskQueue7(j),n=this.$RoundRobinPriorityTaskQueue3[m];if(!(n&&n.priority===j)){n={priority:j,queue:[]};this.$RoundRobinPriorityTaskQueue3.splice(m,0,n)}this.$RoundRobinPriorityTaskQueue4.set(i,j);n.queue.push(i);this.$RoundRobinPriorityTaskQueue2(i,j>=this.$RoundRobinPriorityTaskQueue1?"immediate":"normal");return l};h.prototype.updatePriority=function(i,j){if(!this.$RoundRobinPriorityTaskQueue4.has(i))return;this.enqueue(i,j)};h.prototype.dequeue=function(){for(var i=0;i<this.$RoundRobinPriorityTaskQueue3.length;i++){var j=this.$RoundRobinPriorityTaskQueue3[i];if(j.queue.length){var k=j.queue.shift();this.$RoundRobinPriorityTaskQueue4["delete"](k);return k}}return null};h.prototype.remove=function(i){__p&&__p();var j=this.$RoundRobinPriorityTaskQueue4.get(i);if(j===undefined)return;var k=this.$RoundRobinPriorityTaskQueue7(j),l=this.$RoundRobinPriorityTaskQueue3[k];if(l&&l.queue){var m=l.queue.findIndex(function(n){return n===i});if(m>-1)l.queue.splice(m,1)}this.$RoundRobinPriorityTaskQueue4["delete"](i)};h.prototype.setOnTaskUpdated=function(i){this.$RoundRobinPriorityTaskQueue2=i};h.prototype.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})};h.prototype.$RoundRobinPriorityTaskQueue6=function(i){__p&&__p();var j,k=this,l=this.$RoundRobinPriorityTaskQueue5.get(i);if(!l)(function(){__p&&__p();var m=new(c("Deferred"))(c("MaybeNativePromise"));l=m.getPromise();k.$RoundRobinPriorityTaskQueue5.set(i,l);var n=i.run;i.run=function(){return n.call(i).then(function(o){m.resolve(o);return o})["catch"](function(o){m.reject(o);throw o})}})();return l};h.prototype.$RoundRobinPriorityTaskQueue7=function(i){var j=void 0;for(j=0;j<this.$RoundRobinPriorityTaskQueue3.length;j++)if(i>=this.$RoundRobinPriorityTaskQueue3[j].priority)return j;return j};f.exports=h}),null);
__d("StreamBandwidthReporter",["EventEmitter","ReadableStream","WritableStream","performanceNow","pipeErrorTo"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;j.prototype.$StreamBandwidthReporter13=function(k){this.$StreamBandwidthReporter11.enqueue(k)};function j(k,l,m){__p&&__p();i.constructor.call(this);this.$StreamBandwidthReporter2=null;this.$StreamBandwidthReporter3=0;this.$StreamBandwidthReporter4=0;this.$StreamBandwidthReporter8=0;this.$StreamBandwidthReporter9=Infinity;this.$StreamBandwidthReporter1=k;this.$StreamBandwidthReporter2=this.$StreamBandwidthReporter1.getNumber("streaming_bandwidth_update_interval",0);this.$StreamBandwidthReporter7=m;this.$StreamBandwidthReporter9=l;if(this.$StreamBandwidthReporter2){this.$StreamBandwidthReporter10=this.$StreamBandwidthReporter9;this.$StreamBandwidthReporter14()}this.writable=new(c("WritableStream"))({start:function(n){this.$StreamBandwidthReporter5=this.$StreamBandwidthReporter6=c("performanceNow")();this.$StreamBandwidthReporter12=n}.bind(this),write:function(n){if(n.length!=undefined)this.$StreamBandwidthReporter3+=n.length;this.$StreamBandwidthReporter15();this.$StreamBandwidthReporter13(n)}.bind(this),close:function(){this.$StreamBandwidthReporter11.close();this.$StreamBandwidthReporter16()}.bind(this),abort:function(n){c("pipeErrorTo")(this.$StreamBandwidthReporter11,n)}.bind(this)});this.readable=new(c("ReadableStream"))({start:function(n){this.$StreamBandwidthReporter11=n}.bind(this),cancel:function(n){c("pipeErrorTo")(this.$StreamBandwidthReporter12,n)}.bind(this)})}j.prototype.$StreamBandwidthReporter15=function(){var k=this.$StreamBandwidthReporter9+this.$StreamBandwidthReporter3,l=this.$StreamBandwidthReporter17(),m=this.$StreamBandwidthReporter1.getBool("enable_segment_based_bandwidth_update",true)||this.$StreamBandwidthReporter2;if(!m||l!=null&&k>=l)this.$StreamBandwidthReporter16()};j.prototype.$StreamBandwidthReporter16=function(){if(this.$StreamBandwidthReporter4===this.$StreamBandwidthReporter3)return;var k=c("performanceNow")();this.$StreamBandwidthReporter14();this.emit("bandwidthUpdate",{bytesRead:this.$StreamBandwidthReporter3-this.$StreamBandwidthReporter4,timeTaken:k-this.$StreamBandwidthReporter5});this.$StreamBandwidthReporter5=k;this.$StreamBandwidthReporter4=this.$StreamBandwidthReporter3};j.prototype.$StreamBandwidthReporter17=function(){if(this.$StreamBandwidthReporter10!=null)return this.$StreamBandwidthReporter10;return this.$StreamBandwidthReporter7[this.$StreamBandwidthReporter8]};j.prototype.$StreamBandwidthReporter14=function(){if(this.$StreamBandwidthReporter10!=null)this.$StreamBandwidthReporter10+=this.$StreamBandwidthReporter2;else this.$StreamBandwidthReporter8++};f.exports=j}),null);
__d("StreamFetchRequestLogger",["PausableRangeStream","ReadableStream","VideoPlayerResourceTimer","WritableStream","performanceNow","pipeErrorTo"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k,l,m,n){__p&&__p();this.$StreamFetchRequestLogger6=0;this.$StreamFetchRequestLogger3=k;this.$StreamFetchRequestLogger2=m;this.$StreamFetchRequestLogger1=i;this.$StreamFetchRequestLogger4=j;this.$StreamFetchRequestLogger5=l;this.$StreamFetchRequestLogger8=n;this.writable=new(c("WritableStream"))({start:function(o){this.$StreamFetchRequestLogger11();this.$StreamFetchRequestLogger10=o}.bind(this),write:function(o){this.$StreamFetchRequestLogger6+=o.byteLength;this.$StreamFetchRequestLogger12(o)}.bind(this),close:function(){this.$StreamFetchRequestLogger9.close();this.$StreamFetchRequestLogger13()}.bind(this),abort:function(o){c("pipeErrorTo")(this.$StreamFetchRequestLogger9,o);this.$StreamFetchRequestLogger14(o)}.bind(this)});this.readable=new(c("ReadableStream"))({start:function(o){this.$StreamFetchRequestLogger9=o}.bind(this),cancel:function(o){c("pipeErrorTo")(this.$StreamFetchRequestLogger10,o);var p={type:o===c("PausableRangeStream").STREAM_PAUSED?"paused":"aborted",status:0,url:this.$StreamFetchRequestLogger3};this.$StreamFetchRequestLogger14(p)}.bind(this)})}h.prototype.$StreamFetchRequestLogger11=function(){this.$StreamFetchRequestLogger7=this.$StreamFetchRequestLogger1.getOperationLogger("fetch_stream").setResource(this.$StreamFetchRequestLogger3).start();this.$StreamFetchRequestLogger7.setPriority(this.$StreamFetchRequestLogger8);var i=this.$StreamFetchRequestLogger5,j=i.startByte,k=i.endByte,l=k===null?null:(k||0)+1-j;this.$StreamFetchRequestLogger7.setType(this.$StreamFetchRequestLogger4).setExpectedLength(l)};h.prototype.$StreamFetchRequestLogger14=function(i){this.$StreamFetchRequestLogger7.setError(i).setLength(this.$StreamFetchRequestLogger6).log()};h.prototype.$StreamFetchRequestLogger13=function(){var i=c("VideoPlayerResourceTimer").getResourceTimingEntry(this.$StreamFetchRequestLogger3,this.$StreamFetchRequestLogger2,c("performanceNow")());if(i){var j=i.timeToFirstByte,k=i.timeToLastByte,l=i.timeToRequestStart;this.$StreamFetchRequestLogger7.setTimeToFirstByte(Math.round(j)).setTimeToLastByte(Math.round(k)).setTimeToRequestStart(Math.round(l)).setLength(this.$StreamFetchRequestLogger6)}this.$StreamFetchRequestLogger7.log()};h.prototype.$StreamFetchRequestLogger12=function(i){this.$StreamFetchRequestLogger9.enqueue(i)};f.exports=h}),null);
__d("VideoPriorityUpdater",["EventEmitter","VideoPriorityCalculator"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(k){i.constructor.call(this);this.$VideoPriorityUpdater3=0;this.$VideoPriorityUpdater1=k}j.prototype.updatePriorityWithNewPlayhead=function(k){if(this.$VideoPriorityUpdater2)this.$VideoPriorityUpdater2.playhead=k;this.$VideoPriorityUpdater4();return this};j.prototype.updatePriorityWithNewPlayingState=function(k){if(this.$VideoPriorityUpdater2)this.$VideoPriorityUpdater2.isPlaying=k;this.$VideoPriorityUpdater4();return this};j.prototype.updatePriorityWithNewPlayerState=function(k){this.$VideoPriorityUpdater2=k;this.$VideoPriorityUpdater4();return this};j.prototype.$VideoPriorityUpdater4=function(){__p&&__p();if(!this.$VideoPriorityUpdater2)return;var k=this.$VideoPriorityUpdater1.getNumber("global_scheduler_priority_downgrade_bufferahead_threshold",0),l=this.$VideoPriorityUpdater1.getNumber("global_scheduler_priority_threshold",6);if(this.$VideoPriorityUpdater3>=c("VideoPriorityCalculator").getMaxPriority()&&k)l=k;var m=c("VideoPriorityCalculator").calculate(this.$VideoPriorityUpdater2,l);if(m!==this.$VideoPriorityUpdater3){this.$VideoPriorityUpdater3=m;this.emit("priority_updated",m)}};f.exports=j}),null);
__d("createErrorStream",["ReadableStream"],(function a(b,c,d,e,f,g){"use strict";function h(i){return new(c("ReadableStream"))({pull:function j(k){k.error(i)}})}f.exports=h}),null);
__d("VideoSegmentStreamByFetch",["invariant","ReadableStream","VideoAkamaiRequestHelper","VideoSegmentInfoHelper","createErrorStream"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=window.fetch;function j(k){this.$VideoSegmentStreamByFetch1=k}j.prototype.getResourceUrl=function(k){var l=this.$VideoSegmentStreamByFetch2(k),m=c("VideoSegmentInfoHelper").getRequestUri(l),n=m.toString();return n};j.prototype.startStream=function(k){__p&&__p();i||h(0);var l=this.getResourceUrl(k),m={};if(c("VideoAkamaiRequestHelper").isAkamai(l)){var n=this.$VideoSegmentStreamByFetch2(k);m=c("VideoAkamaiRequestHelper").getRequestHeaders(n)||{}}return i(l,{headers:m}).then(function(o){var p=o.body,q=o.status,r=o.ok;if(!r)return c("createErrorStream")({type:"net",status:q,url:l,message:"HTTP error."});p.getReader||h(0);return p})["catch"](function(o){if(o instanceof TypeError)return c("createErrorStream")({type:"net",status:0,url:l,message:"Network failure."});return c("createErrorStream")({type:"stream_processing",status:0,url:l,message:"Stream processing error."+o})})};j.prototype.$VideoSegmentStreamByFetch2=function(k){return{baseUrl:this.$VideoSegmentStreamByFetch1,startByte:k.startByte,endByte:k.endByte===null?undefined:k.endByte}};f.exports=j}),null);
__d("SequentialTaskScheduler",["MaybeNativePromise","setTimeout"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){this.$SequentialTaskScheduler3=null;this.$SequentialTaskScheduler4=0;this.$SequentialTaskScheduler1=i;var k=j||{},l=k.taskTimeout;this.$SequentialTaskScheduler5=l||0}h.prototype.start=function(){this.$SequentialTaskScheduler1.setOnTaskUpdated(this.$SequentialTaskScheduler6.bind(this));var i=this.$SequentialTaskScheduler1.dequeue();if(i)this.$SequentialTaskScheduler7(i,"immediate")};h.prototype.destroy=function(){if(this.$SequentialTaskScheduler2)this.$SequentialTaskScheduler2.cancel();this.$SequentialTaskScheduler1.clearOnTaskUpdated()};h.prototype.$SequentialTaskScheduler6=function(i,j){var k=this.$SequentialTaskScheduler7(i,j);if(k)this.$SequentialTaskScheduler1.remove(i)};h.prototype.$SequentialTaskScheduler7=function(i,j){__p&&__p();if(this.$SequentialTaskScheduler2&&j!=="immediate")return false;if(this.$SequentialTaskScheduler2)this.$SequentialTaskScheduler2.cancel();var k=i.run()["catch"](function(l){});if(this.$SequentialTaskScheduler5>0)k=c("MaybeNativePromise").race([k,new(c("MaybeNativePromise"))(function(l,m){c("setTimeout")(l,this.$SequentialTaskScheduler5)}.bind(this))]);this.$SequentialTaskScheduler4++;this.$SequentialTaskScheduler2=i;k=k.then(function(){this.$SequentialTaskScheduler4--;if(this.$SequentialTaskScheduler2===i)this.$SequentialTaskScheduler2=null;if(this.$SequentialTaskScheduler4===0){var l=this.$SequentialTaskScheduler1.dequeue();if(l)this.$SequentialTaskScheduler7(l,"immediate")}}.bind(this));return true};f.exports=h}),null);
__d("VideoStreamingTaskQueueProvider",["Map","RoundRobinPriorityTaskQueue","SequentialTaskScheduler","VideoPriorityCalculator"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("Map"))(),i=new(c("Map"))();function j(l){var m=h.get(l);if(!m){m=new(c("RoundRobinPriorityTaskQueue"))(c("VideoPriorityCalculator").getMaxPriority());var n=new(c("SequentialTaskScheduler"))(m,{taskTimeout:6e4});n.start();h.set(l,m);i.set(l,n)}return m}function k(l){return i.get(l)||null}f.exports={getQueue:j,getSchedulerForDebug:k}}),null);
__d("VideoStreamingManager",["ChunkableContinuousRangeStream","ContinuousPausableStreamTask","EventEmitter","FetchStreamStateTracker","FixedSizeTransform","MaybeNativePromise","NetworkErrorTransformStream","PausableRangeStream","RoundRobinPriorityTaskQueue","SubscriptionsHandler","StreamBandwidthReporter","StreamFetchRequestLogger","VideoPriorityCalculator","VideoPriorityUpdater","VideoSegmentStreamByFetch","VideoPlayerShakaConfig","VideoStreamingTaskQueueProvider","performanceNow"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(k,l){__p&&__p();var m=arguments.length<=2||arguments[2]===undefined?"video":arguments[2],n=arguments.length<=3||arguments[3]===undefined?null:arguments[3];i.constructor.call(this);this.$VideoStreamingManager10=[];this.$VideoStreamingManager11=null;this.$VideoStreamingManager14=new(c("SubscriptionsHandler"))();this.$VideoStreamingManager15=Infinity;this.$VideoStreamingManager17=function(o){__p&&__p();if(!this.$VideoStreamingManager1.getBool("disable_auto_stream_start",false)||o===this.$VideoStreamingManager15)return;this.$VideoStreamingManager15=o;if(this.$VideoStreamingManager6)this.$VideoStreamingManager6.getEventLogger("priority_changed").setPriority(this.$VideoStreamingManager15).log();var p=this.$VideoStreamingManager11;if(!p)return;p.updatePriority(this.$VideoStreamingManager15);var q=this.$VideoStreamingManager7;if(!q||q.isClosed())return;if(o>=c("VideoPriorityCalculator").getMaxPriority()){if(this.$VideoStreamingManager16){var r=this.$VideoStreamingManager20(this.$VideoStreamingManager16,this.$VideoStreamingManager15);q.updateRangeStream(r)}}else q.removeQueuedRange();this.$VideoStreamingManager12&&this.$VideoStreamingManager12.updatePriority(p,this.$VideoStreamingManager15)}.bind(this);this.$VideoStreamingManager1=k;this.$VideoStreamingManager5=new(c("FetchStreamStateTracker"))();this.$VideoStreamingManager3=l;this.$VideoStreamingManager6=n;this.$VideoStreamingManager8=m;this.$VideoStreamingManager12=c("VideoStreamingTaskQueueProvider").getQueue(m);this.$VideoStreamingManager13=new(c("VideoPriorityUpdater"))(this.$VideoStreamingManager1);this.$VideoStreamingManager14.addSubscriptions(this.$VideoStreamingManager13.addListener("priority_updated",this.$VideoStreamingManager17))}j.prototype.getStream=function(k){if(this.$VideoStreamingManager1.getBool("use_continuous_streaming",false))return this.$VideoStreamingManager18(k);return this.$VideoStreamingManager19(k)};j.prototype.getPriorityUpdater=function(){return this.$VideoStreamingManager13};j.prototype.destroy=function(){this.$VideoStreamingManager14.release();if(this.$VideoStreamingManager11)this.$VideoStreamingManager11.cancel();if(this.$VideoStreamingManager11&&this.$VideoStreamingManager12)this.$VideoStreamingManager12.remove(this.$VideoStreamingManager11);if(this.$VideoStreamingManager7!=null)this.$VideoStreamingManager7.destroy()};j.prototype.$VideoStreamingManager21=function(){__p&&__p();var k=function(){__p&&__p();if(!this.$VideoStreamingManager10.length)return c("MaybeNativePromise").resolve(null);var l=this.$VideoStreamingManager10[0];return l().then(function(m){if(!m){if(this.$VideoStreamingManager10.length===1)return null;this.$VideoStreamingManager10.shift();return k()}return m}.bind(this))}.bind(this);return k};j.prototype.$VideoStreamingManager22=function(){__p&&__p();if(!this.$VideoStreamingManager1.getBool("disable_auto_stream_start",false)||this.$VideoStreamingManager11)return;var k=new(c("ContinuousPausableStreamTask"))(this.$VideoStreamingManager21(),this.$VideoStreamingManager8,this.$VideoStreamingManager15,this.$VideoStreamingManager6,{uncancellablePriority:this.$VideoStreamingManager1.getBool("disable_streaming_task_cancellation_on_high_pri",false)?c("VideoPriorityCalculator").getMaxPriority():Infinity});this.$VideoStreamingManager11=k;var l=void 0;if(this.$VideoStreamingManager12)l=this.$VideoStreamingManager12.enqueue(k,this.$VideoStreamingManager15);else l=k.run();l.then(function(m){var n=m.result;this.$VideoStreamingManager11=null}.bind(this))["catch"](function(m){this.$VideoStreamingManager11=null;if(m.message==="cancelled")this.$VideoStreamingManager22()}.bind(this))};j.prototype.$VideoStreamingManager20=function(k,l){var m=k.startByte,n=k.endByte,o=l>=c("VideoPriorityCalculator").getMaxPriority()?this.$VideoStreamingManager3.getFetchRange(k):{startByte:m,endByte:n};return o};j.prototype.$VideoStreamingManager18=function(k){__p&&__p();this.$VideoStreamingManager16=k;var l=k.baseUrl,m=k.startByte,n=k.endByte;if(this.$VideoStreamingManager9&&this.$VideoStreamingManager9!==l){if(this.$VideoStreamingManager7)this.$VideoStreamingManager7.destroy();this.$VideoStreamingManager7=null}this.$VideoStreamingManager9=l;var o=function(){var q=this.$VideoStreamingManager3.getSegmentsBoundaries(k),r=this.$VideoStreamingManager23(l,q),s=new(c("ChunkableContinuousRangeStream"))(r,{disableStreamAutoStart:this.$VideoStreamingManager1.getBool("disable_auto_stream_start",false),enableStreamRangeConcat:this.$VideoStreamingManager1.getBool("enable_stream_range_concat",false),disableDeferredBufferArrayShift:this.$VideoStreamingManager1.getBool("disable_deferred_buffer_array_shift",false),useNativePromiseInDeferredBuffer:this.$VideoStreamingManager1.getBool("use_native_promise_in_deferred_buffer",false),fixStreamingUndefinedEndByte:this.$VideoStreamingManager1.getBool("fix_streaming_undefined_end_byte",false),enablePausableStreamResumeFromStart:this.$VideoStreamingManager1.getBool("enable_pausable_stream_resume_from_start",false)});this.$VideoStreamingManager10.push(s.getPausableStreamFactory());return s}.bind(this);if(this.$VideoStreamingManager7==null)this.$VideoStreamingManager7=o();var p=this.$VideoStreamingManager20(k,this.$VideoStreamingManager15);if(this.$VideoStreamingManager7&&this.$VideoStreamingManager7.updateRangeStream(p)==="closed"){this.$VideoStreamingManager7=o();this.$VideoStreamingManager7.updateRangeStream(p)}if(!this.$VideoStreamingManager7)return c("MaybeNativePromise").reject();return this.$VideoStreamingManager7.getReservedChunkStream({startByte:m,endByte:n}).then(function(q){this.$VideoStreamingManager22();return q}.bind(this))["catch"](function(q){this.$VideoStreamingManager7=o();return this.$VideoStreamingManager7.getReservedChunkStream({startByte:m,endByte:n}).then(function(r){this.$VideoStreamingManager22();return r}.bind(this))}.bind(this))};j.prototype.$VideoStreamingManager19=function(k){__p&&__p();var l=k.startByte,m=k.endByte;if(l===undefined)return c("MaybeNativePromise").reject("request range does not exist");var n=function(){__p&&__p();this.$VideoStreamingManager5.setNextRequestInfo(k);if(!this.$VideoStreamingManager5.isNextRequestContinuous()||!this.$VideoStreamingManager5.isNextRequestInRange()||!this.$VideoStreamingManager2){if(this.$VideoStreamingManager2)this.$VideoStreamingManager2.cancel("reset stream");this.$VideoStreamingManager2=this.$VideoStreamingManager24(k)}var o=void 0;if(m==null)o=undefined;else o=m-l+1;return this.$VideoStreamingManager2.getNextFixedSizeStream(o)}.bind(this);return n()["catch"](function(){this.$VideoStreamingManager25();return n()}.bind(this))};j.prototype.$VideoStreamingManager24=function(k){var l=this.$VideoStreamingManager3.getSegmentsBoundaries(k),m=this.$VideoStreamingManager23(k.baseUrl,l),n=this.$VideoStreamingManager3.getFetchRange(k);this.$VideoStreamingManager5.setFetchRange(n);var o=new(c("PausableRangeStream"))(n,m,{fixStreamingUndefinedEndByte:this.$VideoStreamingManager1.getBool("fix_streaming_undefined_end_byte",false)}),p=new(c("FixedSizeTransform"))();o.startStream();o.getStream().pipeTo(p.getSink());return p};j.prototype.$VideoStreamingManager23=function(k,l){var m=new(c("VideoSegmentStreamByFetch"))(k),n=function n(p){return m.getResourceUrl(p)},o=m;o=this.$VideoStreamingManager26(o);o=this.$VideoStreamingManager27(o,n);if(this.$VideoStreamingManager8==="video")o=this.$VideoStreamingManager28(o,l);return o};j.prototype.$VideoStreamingManager26=function(k){var l={startStream:function m(n){var o=new(c("NetworkErrorTransformStream"))();return k.startStream(n).then(function(p){return p.pipeThrough(o)})}};return l};j.prototype.$VideoStreamingManager28=function(k,l){var m={startStream:function(n){var o=l[0].startByte,p=new(c("StreamBandwidthReporter"))(this.$VideoStreamingManager1,o,l.filter(function(q){return q!==null}).map(function(q){return q.endByte||0}));p.addListener("bandwidthUpdate",function(q){return this.emit("bandwidthUpdate",q)}.bind(this));return k.startStream(n).then(function(q){return q.pipeThrough(p)})}.bind(this)};return m};j.prototype.$VideoStreamingManager27=function(k,l){var m=this.$VideoStreamingManager6;if(!m||this.$VideoStreamingManager1.getBool("disable_shaka_perf_logger_for_streaming",false))return k;var n={startStream:function(o){var p=new(c("StreamFetchRequestLogger"))(m,this.$VideoStreamingManager8,l(o),o,c("performanceNow")(),this.$VideoStreamingManager15);return k.startStream(o).then(function(q){return q.pipeThrough(p)})}.bind(this)};return n};j.prototype.$VideoStreamingManager25=function(){this.$VideoStreamingManager5=new(c("FetchStreamStateTracker"))()};f.exports=j}),null);
__d("ViewportPriorityAdjuster",["Event","SubscriptionsHandler","getElementPosition","getViewportDimensions","throttle"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=500,i=800;function j(k){this.$ViewportPriorityAdjuster1=function(){};this.$ViewportPriorityAdjuster2=new(c("SubscriptionsHandler"))();this.$ViewportPriorityAdjuster3=k;this.$ViewportPriorityAdjuster2.addSubscriptions(c("Event").listen(window,"scroll",c("throttle")(function(){return this.$ViewportPriorityAdjuster4(k)}.bind(this),h)))}j.prototype.$ViewportPriorityAdjuster5=function(k){__p&&__p();if(!k.paused)return 0;var l=c("getViewportDimensions")(),m=c("getElementPosition")(k),n=m.y,o=m.height,p=l.height;if(!n&&!o)return-2;if(n+o<0)return-2;if(n>=0&&n+o<=p+i||n<=0&&n+o>=0)return 0;return-1};j.prototype.$ViewportPriorityAdjuster4=function(k){this.$ViewportPriorityAdjuster1(this.$ViewportPriorityAdjuster5(k))};j.prototype.setOnPriorityChanged=function(k){this.$ViewportPriorityAdjuster1=k};j.prototype.getPriorityAdjustment=function(){return this.$ViewportPriorityAdjuster5(this.$ViewportPriorityAdjuster3)};j.prototype.cleanup=function(){this.$ViewportPriorityAdjuster1=function(){};this.$ViewportPriorityAdjuster2.release()};f.exports=j}),null);
__d("canUseFetchStream",[],(function a(b,c,d,e,f,g){"use strict";function h(){var i=!!window.fetch,j=!!(window.ReadableStream&&window.WritableStream),k=!!(window.ReadableStream&&window.ReadableStream.prototype.pipeTo);return i&&j&&k}f.exports=h}),null);
__d("logLongAkamaiRequest",["CurrentUser","JSLog"],(function a(b,c,d,e,f,g){__p&&__p();var h=false,i=2,j=[];function k(l){__p&&__p();if(c("CurrentUser").isEmployee()&&!h){j=j.filter(function(m){var n=m.time;return Date.now()-n<1e3*60*2});j.push({data:l,time:Date.now()});if(j.length>=i){h=true;c("JSLog").warn("Long latency video request to akamai: %s",j.map(function(m){var l=m.data;return l}).join(" ; "))}}}f.exports=k}),null);
__d("VideoPlayerStreamSwitchReasons",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BANDWIDTH:"bandwidth",FORCED:"forced",LOW_BUFFER_AVAILABILITY:"low_buffer_availability",PREFER_QUALITY_CLASS:"prefer_quality_class",USER:"user",RL_DECISION:"rl_decision"})}),null);
__d("CustomAbrManager",["invariant","regeneratorRuntime","EventListener","RlAbrUtils","SubscriptionsHandler","Shaka","VideoPlayerLoggerSource","VideoPlayerStreamSwitchReasons","VideoPlayerUtils","VideoQualityClasses","VideoPlayerLocalBandwidthEstimator"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("Shaka").player.VideoTrack;function j(k){"use strict";__p&&__p();this.$CustomAbrManager1=null;this.$CustomAbrManager2=null;this.$CustomAbrManager3=k.shakaConfig;this.$CustomAbrManager4=new(c("SubscriptionsHandler"))();this.$CustomAbrManager5=Number.POSITIVE_INFINITY;this.$CustomAbrManager6=-1;this.$CustomAbrManager7=true;this.$CustomAbrManager8=false;this.$CustomAbrManager9=k.maxWidth;this.$CustomAbrManager10=k.maxHeight;this.$CustomAbrManager11=k.minPlayQuality?k.minPlayQuality:null;this.$CustomAbrManager12=k.maxPlayQuality?k.maxPlayQuality:null;this.$CustomAbrManager13=k.initiallyForcedRepresentations;this.$CustomAbrManager14=k.video;this.$CustomAbrManager26=null;this.$CustomAbrManager23=null;this.$CustomAbrManager25=null;this.$CustomAbrManager24=k.abrLogger;this.$CustomAbrManager27=k.getSource;this.$CustomAbrManager28=null;if(k.enableAdaptation){this.$CustomAbrManager15=k.bandwidthModel;this.$CustomAbrManager16=k.bandwidthDowngradeTarget;this.$CustomAbrManager17=k.bandwidthUpgradeTarget;this.$CustomAbrManager18=k.useNewBandwidthBandLogic;this.$CustomAbrManager19=k.hvqUpgradeAggressiveness;this.$CustomAbrManager20=k.hvqInlineUpgradeAggressiveness;this.$CustomAbrManager21=k.preHvqUpgradeAggressiveness;this.$CustomAbrManager22=k.preHvqInlineUpgradeAggressiveness;this.$CustomAbrManager29=k.enableReinforcementLearning}}j.prototype.destroy=function(){"use strict";this.$CustomAbrManager4.release();this.$CustomAbrManager4.engage();this.$CustomAbrManager1=null;this.$CustomAbrManager2=null;this.$CustomAbrManager7=false};j.prototype.setResolutionConstraint=function(k,l){"use strict";this.$CustomAbrManager9=k;this.$CustomAbrManager10=l;var m=this.$CustomAbrManager14.paused?this.$CustomAbrManager3.getNumber("clear_buffer_on_constraint_change_paused_offset",5):this.$CustomAbrManager3.getNumber("clear_buffer_on_constraint_change_offset",5);this.$CustomAbrManager32({clearBufferIfUpgrading:this.$CustomAbrManager3.getBool("clear_buffer_on_constraint_change",false),clearBufferOffset:m})};j.prototype.initialize=function(k,l){"use strict";if(this.$CustomAbrManager1||this.$CustomAbrManager2)return;this.$CustomAbrManager1=k;this.$CustomAbrManager2=l};j.prototype.start=function(){__p&&__p();var k;"use strict";if(!this.$CustomAbrManager1||!this.$CustomAbrManager2||this.$CustomAbrManager8)return;this.$CustomAbrManager5=Date.now()+this.$CustomAbrManager3.getNumber("first_switch_interval",0);if(this.$CustomAbrManager3.getNumber("first_switch_interval",0)===0)this.$CustomAbrManager6=this.$CustomAbrManager3.getNumber("first_switch_segment_interval",0);var l=[c("EventListener").listen(this.$CustomAbrManager2,"adaptation",this.$CustomAbrManager33.bind(this)),c("EventListener").listen(this.$CustomAbrManager2,"trackschanged",this.$CustomAbrManager34.bind(this))];if(this.$CustomAbrManager1&&!this.$CustomAbrManager3.getBool("trigger_abr_with_timer",false))l.push(c("EventListener").listen(this.$CustomAbrManager1.getEstimator(),"bandwidth",this.$CustomAbrManager35.bind(this)));(k=this.$CustomAbrManager4).addSubscriptions.apply(k,l);this.$CustomAbrManager8=true;if(this.$CustomAbrManager3.getBool("make_early_track_selection",false)&&this.$CustomAbrManager25===c("VideoPlayerStreamSwitchReasons").FORCED)this.$CustomAbrManager32()};j.prototype.$CustomAbrManager34=function(){"use strict";this.$CustomAbrManager32()};j.prototype.setPreferredVideoTrack=function(k){"use strict";this.$CustomAbrManager26=k;this.$CustomAbrManager32({clearBufferIfUpgrading:true,clearBufferOffset:0})};j.prototype.unsetPreferredVideoTrack=function(){"use strict";this.$CustomAbrManager26=null;this.$CustomAbrManager32()};j.prototype.enable=function(k){"use strict";this.$CustomAbrManager7=k};j.prototype.getInitialVideoTrackId=function(){"use strict";if(!this.$CustomAbrManager1||!this.$CustomAbrManager2)return null;var k=this.$CustomAbrManager36();return k?k.id:null};j.prototype.getInitialSwitchReason=function(){"use strict";return this.$CustomAbrManager25};j.prototype.getInitialAudioTrackId=function(){"use strict";if(!this.$CustomAbrManager1||!this.$CustomAbrManager2)return null;var k=this.$CustomAbrManager37();return k?k.id:null};j.prototype.selectVideoTrack=function(k,l,m,n){"use strict";if(!this.$CustomAbrManager8)return;this.$CustomAbrManager2.selectVideoTrack(k.id,l,m,n)};j.$CustomAbrManager38=function(k){"use strict";for(var l=0;l<k.length;++l)if(k[l].active)return k[l];return null};j.prototype.$CustomAbrManager39=function(k){"use strict";if(!this.$CustomAbrManager7)return;if(this.$CustomAbrManager28)clearTimeout(this.$CustomAbrManager28);if(k>0)this.$CustomAbrManager28=setTimeout(function(){return this.$CustomAbrManager32()}.bind(this),k);else this.$CustomAbrManager32()};j.prototype.$CustomAbrManager35=function(){"use strict";__p&&__p();if(this.$CustomAbrManager6<0){if(Date.now()<this.$CustomAbrManager5)return}else{var k=this.$CustomAbrManager2?this.$CustomAbrManager2.getFetchedVideoSegmentsCount():0;if(this.$CustomAbrManager6>k)return;this.$CustomAbrManager6=-1}this.$CustomAbrManager32()};j.prototype.$CustomAbrManager32=function k(){__p&&__p();var l=arguments.length<=0||arguments[0]===undefined?{clearBufferIfUpgrading:false,clearBufferOffset:0}:arguments[0],m,n,o,p,q;return c("regeneratorRuntime").async(function r(s){__p&&__p();while(1)switch(s.prev=s.next){case 0:"use strict";if(this.$CustomAbrManager7){s.next=3;break}return s.abrupt("return");case 3:m=l.clearBufferIfUpgrading;n=l.clearBufferOffset;o=null;if(!this.$CustomAbrManager29){s.next=12;break}s.next=9;return c("regeneratorRuntime").awrap(this.$CustomAbrManager40());case 9:o=s.sent;s.next=13;break;case 12:o=this.$CustomAbrManager36();case 13:if(!o){s.next=20;break}if(!o.active){s.next=17;break}if(this.$CustomAbrManager3.getBool("trigger_abr_with_timer",false))this.$CustomAbrManager39(this.$CustomAbrManager3.getNumber("min_eval_interval",1e3));else this.$CustomAbrManager5=Date.now()+this.$CustomAbrManager3.getNumber("min_eval_interval",1e3);return s.abrupt("return");case 17:p=false;if(m){q=j.$CustomAbrManager38(this.$CustomAbrManager2.getVideoTracks());p=q?i.compare(q,o)<0:false}this.selectVideoTrack(o,p,n,this.$CustomAbrManager23);case 20:if(!this.$CustomAbrManager3.getBool("trigger_abr_with_timer",false))this.$CustomAbrManager5=Number.POSITIVE_INFINITY;case 21:case"end":return s.stop()}},null,this)};j.prototype.$CustomAbrManager33=function(event){"use strict";if(this.$CustomAbrManager3.getBool("trigger_abr_with_timer",false))this.$CustomAbrManager39(event.reason===this.getInitialSwitchReason()?this.$CustomAbrManager3.getNumber("first_switch_interval",0):this.$CustomAbrManager3.getNumber("min_switch_interval",5e3));else if(this.$CustomAbrManager5==Number.POSITIVE_INFINITY)this.$CustomAbrManager5=Date.now()+this.$CustomAbrManager3.getNumber("min_switch_interval",5e3)};j.prototype.$CustomAbrManager41=function(k,l){"use strict";if(this.$CustomAbrManager24)this.$CustomAbrManager24.setEvent("track_selection").setReason(k).setRepresentationID(l.streamInfoID).log()};j.prototype.$CustomAbrManager42=function(){"use strict";return this.$CustomAbrManager2.getVideoTracks({useLocalBitrate:this.$CustomAbrManager3.getBool("use_local_bitrate",false)})};j.prototype.$CustomAbrManager43=function(k){"use strict";this.$CustomAbrManager30=j.$CustomAbrManager38(k);this.$CustomAbrManager31=this.$CustomAbrManager30?k.indexOf(this.$CustomAbrManager30):-1};j.prototype.$CustomAbrManager44=function(k){__p&&__p();var l,m=this,n;"use strict";if(k.length==0)return[];if(!this.$CustomAbrManager8)for(var o=0;o<k.length;o++)if(this.$CustomAbrManager13&&this.$CustomAbrManager13.includes(k[o].streamInfoID)){this.$CustomAbrManager23=c("VideoPlayerStreamSwitchReasons").FORCED;this.$CustomAbrManager25=c("VideoPlayerStreamSwitchReasons").FORCED;this.$CustomAbrManager41(this.$CustomAbrManager23,k[o]);return[k[o]]}if(this.$CustomAbrManager26){var l=function(){var p=m.$CustomAbrManager26.id,q=k.find(function(r){return r.id===p});if(q){m.$CustomAbrManager23=c("VideoPlayerStreamSwitchReasons").USER;m.$CustomAbrManager41(m.$CustomAbrManager23,q);return{v:[q]}}}();if(typeof l==="object")return l.v}k.sort(i.compare);if(this.$CustomAbrManager11!==null||this.$CustomAbrManager12!==null){var n=function(){__p&&__p();var p=m.$CustomAbrManager11!==null?c("VideoQualityClasses").indexOf(m.$CustomAbrManager11):0,q=m.$CustomAbrManager12!==null?c("VideoQualityClasses").indexOf(m.$CustomAbrManager12):c("VideoQualityClasses").length-1;if(p<=q){var r=k.filter(function(t){return c("VideoQualityClasses").indexOf(t.fbQualityClass)>=p&&c("VideoQualityClasses").indexOf(t.fbQualityClass)<=q});m.$CustomAbrManager23=c("VideoPlayerStreamSwitchReasons").PREFER_QUALITY_CLASS;if(!r.length){m.$CustomAbrManager41(m.$CustomAbrManager23,k[k.length-1]);return{v:[k[k.length-1]]}}var s=c("VideoQualityClasses").indexOf("sd");if(k.length==2&&r.length==2&&q<=s){m.$CustomAbrManager41(m.$CustomAbrManager23,k[0]);return{v:[k[0]]}}k=r}}();if(typeof n==="object")return n.v}return k};j.prototype.$CustomAbrManager36=function(){"use strict";__p&&__p();var k=this.$CustomAbrManager42();this.$CustomAbrManager43(k);k=this.$CustomAbrManager44(k);if(k.length==0)return null;else if(k.length==1)return k[0];var l=k[0],m=this.$CustomAbrManager10,n=this.$CustomAbrManager9;k=k.filter(function(C){return C.width<=n||C.height<=m});var o=j.$CustomAbrManager38(this.$CustomAbrManager2.getAudioTracks()),p=o?o.bandwidth:0,q=c("VideoPlayerUtils").getBufferedAheadOf(this.$CustomAbrManager14);if(q<this.$CustomAbrManager3.getNumber("force_lowest_representation_threshold",0)){var r=0;if(this.$CustomAbrManager31>-1)r=Math.floor(this.$CustomAbrManager31*this.$CustomAbrManager3.getNumber("force_lower_representation_step_ratio",0));if(r>=k.length)r=k.length-1;this.$CustomAbrManager23=c("VideoPlayerStreamSwitchReasons").LOW_BUFFER_AVAILABILITY;l=k[r]||l;this.$CustomAbrManager41(this.$CustomAbrManager23,l);return l}else{var s=this.$CustomAbrManager45(),t=0;for(var u=0;u<k.length;u++){var v=k[u],w=u+1<k.length?k[u+1]:{bandwidth:Number.POSITIVE_INFINITY};if(!v.bandwidth)continue;var x=this.$CustomAbrManager46(v,w,q,this.$CustomAbrManager27&&this.$CustomAbrManager27()),y=this.$CustomAbrManager18?t:(v.bandwidth+p)/this.$CustomAbrManager16,z=(w.bandwidth+p)/x;t=z;var A=this.$CustomAbrManager3.getBool("use_buffer_downgrade_threshold",false),B=this.$CustomAbrManager3.getNumber("buffer_downgrade_threshold",10);if(A&&q>B&&u<=this.$CustomAbrManager31){l=this.$CustomAbrManager30?this.$CustomAbrManager30:v;continue}if(s>=y&&s<=z){l=v;if(l.active)break}}this.$CustomAbrManager23=c("VideoPlayerStreamSwitchReasons").BANDWIDTH}this.$CustomAbrManager41(this.$CustomAbrManager23,l);return l};j.prototype.$CustomAbrManager45=function(){"use strict";this.$CustomAbrManager1 instanceof c("VideoPlayerLocalBandwidthEstimator")||h(0);return this.$CustomAbrManager1.getBandwidth(this.$CustomAbrManager15)};j.prototype.$CustomAbrManager46=function(k,l,m,n){"use strict";__p&&__p();var o=1;if(!k.isInlineHVQ&&l.isInlineHVQ)o=this.$CustomAbrManager22;else if(k.isInlineHVQ&&n===c("VideoPlayerLoggerSource").INLINE)o=this.$CustomAbrManager20;else if(k.isHVQ)o=this.$CustomAbrManager19;var p=this.$CustomAbrManager3.getNumber("buffer_target",-1),q=p>-1;if(q){var r=m>p,s=r?this.$CustomAbrManager3.getNumber("buffer_target_overflow_upgrade_aggressiveness",1):this.$CustomAbrManager3.getNumber("buffer_target_underflow_upgrade_aggressiveness",1);o*=s}return this.$CustomAbrManager17*o};j.prototype.$CustomAbrManager37=function(){"use strict";var k=this.$CustomAbrManager2.getAudioTracks();if(k.length==0)return null;if(!this.$CustomAbrManager8)for(var l=0;l<k.length;l++)if(this.$CustomAbrManager13&&this.$CustomAbrManager13.includes(k[l].streamInfoID))return k[l];return null};j.prototype.$CustomAbrManager40=function k(){__p&&__p();var l,m=this,n,o,p,q,r;return c("regeneratorRuntime").async(function s(t){__p&&__p();while(1)switch(t.prev=t.next){case 0:"use strict";n=this.$CustomAbrManager42();this.$CustomAbrManager43(n);n=this.$CustomAbrManager44(n);if(!(n.length==0)){t.next=8;break}return t.abrupt("return",null);case 8:if(!(n.length==1)){t.next=10;break}return t.abrupt("return",n[0]);case 10:o=n[0];p=c("VideoPlayerUtils").getBufferedAheadOf(this.$CustomAbrManager14);q=this.$CustomAbrManager45();r=c("RlAbrUtils").getRlAbrFeatures(this.$CustomAbrManager14,n,this.$CustomAbrManager30,q,p);t.prev=14;t.next=17;return c("regeneratorRuntime").awrap(function u(){__p&&__p();var v,w,x,y,v;return c("regeneratorRuntime").async(function z(A){__p&&__p();while(1)switch(A.prev=A.next){case 0:A.next=2;return c("regeneratorRuntime").awrap(c("RlAbrUtils").genRlAbrRecommendation(r,m.$CustomAbrManager3.getNumber("min_eval_interval",1e3)));case 2:w=A.sent;if(!(!w||w.length==0)){A.next=5;break}throw new Error("RL service not available.");case 5:x=function x(y){var B=n.find(function(C){return C.fbQualityLabel===w[y]&&(C.width<=this.$CustomAbrManager9||C.height<=this.$CustomAbrManager10)}.bind(m));if(B){o=B;return"break"}};y=0;case 7:if(!(y<w.length)){A.next=14;break}v=x(y);if(!(v==="break")){A.next=11;break}return A.abrupt("break",14);case 11:y++;A.next=7;break;case 14:case"end":return A.stop()}},null,m)}());case 17:t.next=22;break;case 19:t.prev=19;t.t0=t["catch"](14);return t.abrupt("return",this.$CustomAbrManager36());case 22:this.$CustomAbrManager23=c("VideoPlayerStreamSwitchReasons").RL_DECISION;this.$CustomAbrManager41(this.$CustomAbrManager23,o);return t.abrupt("return",o);case 25:case"end":return t.stop()}},null,this,[[14,19]])};f.exports=j}),null);
__d("VideoPlayerAbrLogger",["VideoPlayerAbrTypedLogger","VideoPlayerShakaBandwidthEstimator","VideoPlayerUtils","VideoPlayerShakaConfig","VideoPlayerAbrLoggerConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("VideoPlayerAbrTypedLogger"));i=h&&h.prototype;function j(k){i.constructor.call(this);i.setSession.call(this,k.uniqueID);i.setVideoID.call(this,k.videoID);this.$VideoPlayerAbrLogger4()}j.prototype.setVideoElement=function(k){this.$VideoPlayerAbrLogger3=k;return this};j.prototype.setBytes=function(k){this.$VideoPlayerAbrLogger1.bytes=k;return this};j.prototype.setDelayMs=function(k){this.$VideoPlayerAbrLogger1.delayMs=k;return this};j.prototype.setEvent=function(event){this.$VideoPlayerAbrLogger1.event=event;return this};j.prototype.setUnsampledReason=function(k){this.$VideoPlayerAbrLogger1.unsampledReason=k;return this};j.prototype.setReason=function(k){this.$VideoPlayerAbrLogger1.reason=k;return this};j.prototype.setRepresentationID=function(k){this.$VideoPlayerAbrLogger2=k;return this};j.prototype.setClientTimeBegin=function(k){this.$VideoPlayerAbrLogger1.clientTimeBegin=k;return this};j.prototype.setClientTimeEnd=function(k){this.$VideoPlayerAbrLogger1.clientTimeEnd=k;return this};j.prototype.$VideoPlayerAbrLogger4=function(){this.$VideoPlayerAbrLogger1={bytes:null,delayMs:null,event:null,unsampledReason:null,reason:null,clientTimeBegin:null,clientTimeEnd:null}};j.prototype.$VideoPlayerAbrLogger5=function(){__p&&__p();if(this.$VideoPlayerAbrLogger1.event==null)return;i.setBytes.call(this,this.$VideoPlayerAbrLogger1.bytes);i.setDelayMs.call(this,this.$VideoPlayerAbrLogger1.delayMs);i.setEvent.call(this,this.$VideoPlayerAbrLogger1.event);i.setUnsampledReason.call(this,this.$VideoPlayerAbrLogger1.unsampledReason);i.setReason.call(this,this.$VideoPlayerAbrLogger1.reason);var k=this.$VideoPlayerAbrLogger1.clientTimeBegin,l=this.$VideoPlayerAbrLogger1.clientTimeEnd;if(k==null){k=Date.now();l=k}else if(l==null)l=k;i.setClientTimeBegin.call(this,k);i.setClientTimeEnd.call(this,l)};j.prototype.log=function(){__p&&__p();if(c("VideoPlayerShakaConfig").getGlobalBool("enable_client_side_abr_logger_sampling",true)&&!c("VideoPlayerAbrLoggerConfig").isSampled)return;this.$VideoPlayerAbrLogger5();i.setBandwidthEstimate.call(this,parseInt(c("VideoPlayerShakaBandwidthEstimator").getBandwidth(),10));i.setRepresentationID.call(this,this.$VideoPlayerAbrLogger2);if(this.$VideoPlayerAbrLogger3){i.setPlayhead.call(this,Math.round(this.$VideoPlayerAbrLogger3.currentTime*1e3));i.setBufferedAhead.call(this,Math.round(c("VideoPlayerUtils").getBufferedAheadOf(this.$VideoPlayerAbrLogger3)))}i.log.call(this);this.$VideoPlayerAbrLogger4()};f.exports=j}),null);
__d("PerformanceResourceBuffer",["BanzaiODS","EventEmitter"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=b.__isResourceTimingBufferFull;delete b.__isResourceTimingBufferFull;performance.onresourcetimingbufferfull=function(){j=true;if(k)k.emit("full")};var k=void 0;h=babelHelpers.inherits(l,c("EventEmitter"));i=h&&h.prototype;function l(){i.constructor.call(this)}l.prototype.isBufferFull=function(){return j};k=new l();if(k.isBufferFull())c("BanzaiODS").bumpEntityKey("performance","resourcetimingbufferfull");else k.addListener("full",function(){return c("BanzaiODS").bumpEntityKey("performance","resourcetimingbufferfull")});f.exports=k}),null);
__d("VideoPlayerLiveStreamState",["RTISubscriptionManager","EventEmitter"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j={interrupt:"streamInterruptAt",ended:"endedAt"};h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(l){i.constructor.call(this);this.$VideoPlayerLiveStreamState2=l;this.$VideoPlayerLiveStreamState1=[]}k.prototype.subscribe=function(){this.$VideoPlayerLiveStreamState1=[];for(var l in j)this.$VideoPlayerLiveStreamState1.push(c("RTISubscriptionManager").subscribe("video_broadcast/"+l+"_"+this.$VideoPlayerLiveStreamState2,this.$VideoPlayerLiveStreamState3.bind(this,j[l])))};k.prototype.unsubscribe=function(){__p&&__p();for(var l=this.$VideoPlayerLiveStreamState1,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}var p=o;p.unsubscribe()}this.$VideoPlayerLiveStreamState1=[]};k.prototype.$VideoPlayerLiveStreamState3=function(l,m){var n=JSON.parse(m.payload||"{}")||{},o=n.time_position;if(typeof o==="number"){o/=1e3;this.emit(l,o)}};f.exports=k}),null);
__d("VideoPlayerHTML5Shaka",["invariant","Promise","CustomAbrManager","EventEmitter","EventListener","Event","TaggedTimeRanges","VideoDashPrefetchCache","VideoPlayerAbrLogger","VideoPlayerLiveStreamState","VideoPlayerMetaData","VideoPlayerShakaBandwidthEstimator","VideoPlayerExperiments","VideoPlayerShakaPerformanceLogger","VideoStreamingTaskQueueProvider","clearInterval","dispatchEvent","dispatchCustomEvent","dangerouslyOverrideMediaElementEndedProperty","guid","setInterval","Shaka","PerformanceResourceBuffer"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("Shaka").player,l=k.Player,m=k.DashVideoSource,n=k.VideoTrack,o=c("Shaka").dash.mpd.parseMpd,p=c("Shaka").util.FailoverUri,q=window.devicePixelRatio||1,r=c("VideoPlayerShakaBandwidthEstimator").getEstimator();c("PerformanceResourceBuffer");p.setPrefetchCacheValueGetter(c("VideoDashPrefetchCache").getCacheValue);function s(u,event){var v=c("EventListener").capture(u.parentNode,event,function(w){if(w.target!=u)return;v.remove();c("Event").kill(w)})}i=babelHelpers.inherits(t,c("EventEmitter"));j=i&&i.prototype;function t(u,v,w){__p&&__p();var x=w.config,y=w.videoID,z=w.width,A=w.height,B=w.manifest,C=w.manifestUrl,D=w.isLive,E=w.minPlayQuality,F=w.maxPlayQuality,G=w.accessToken,H=w.startTimestamp,I=w.playerOrigin,J=w.playerSuborigin,K=w.isSpherical,L=w.getSource,M=w.vpcPlayingStateEmitter;"use strict";j.constructor.call(this);this.$VideoPlayerHTML5Shaka2=x;this.$VideoPlayerHTML5Shaka5=E;this.$VideoPlayerHTML5Shaka6=F;this.$VideoPlayerHTML5Shaka7=false;this.$VideoPlayerHTML5Shaka8=null;this.$VideoPlayerHTML5Shaka9=1;this.$VideoPlayerHTML5Shaka10=false;this.$VideoPlayerHTML5Shaka11=D;this.$VideoPlayerHTML5Shaka12=D;this.$VideoPlayerHTML5Shaka13=false;this.$VideoPlayerHTML5Shaka14=K;this.$VideoPlayerHTML5Shaka15=z;this.$VideoPlayerHTML5Shaka16=A;this.$VideoPlayerHTML5Shaka17=false;this.$VideoPlayerHTML5Shaka3=v;this.$VideoPlayerHTML5Shaka36=null;this.$VideoPlayerHTML5Shaka19=L;var N=this.$VideoPlayerHTML5Shaka36;this.$VideoPlayerHTML5Shaka4=y;var O=c("guid")();this.$VideoPlayerHTML5Shaka25=c("VideoPlayerShakaPerformanceLogger").isEnabled()?new(c("VideoPlayerShakaPerformanceLogger"))({videoID:y,video:u,representationId:N,isLive:D,accessToken:G,playerOrigin:I,playerSuborigin:J,uniqueID:O}):null;this.$VideoPlayerHTML5Shaka29=new(c("VideoPlayerAbrLogger"))({videoID:y,uniqueID:O}).setRepresentationID(N).setVideoElement(u);if(!this.$VideoPlayerHTML5Shaka2.getBool("improve_rebuffer_logging",true))this.$VideoPlayerHTML5Shaka32=true;c("EventListener").listen(u,"playing",this.$VideoPlayerHTML5Shaka42.bind(this));c("EventListener").listen(u,"timeupdate",function(U){this.$VideoPlayerHTML5Shaka43(U.target.currentTime)}.bind(this));c("EventListener").listen(u,"pause",this.$VideoPlayerHTML5Shaka44.bind(this));c("EventListener").listen(u,"play",function(){this.$VideoPlayerHTML5Shaka13=true}.bind(this));this.$VideoPlayerHTML5Shaka33=Date.now();if(this.$VideoPlayerHTML5Shaka2.getBool("refresh_vod_manifest",false))this.$VideoPlayerHTML5Shaka45();this.$VideoPlayerHTML5Shaka21=[];this.$VideoPlayerHTML5Shaka22=null;this.$VideoPlayerHTML5Shaka23=null;this.$VideoPlayerHTML5Shaka38=M;this.$VideoPlayerHTML5Shaka18=new l(u,this.$VideoPlayerHTML5Shaka2,this.$VideoPlayerHTML5Shaka25,this.$VideoPlayerHTML5Shaka29,this.$VideoPlayerHTML5Shaka38);this.$VideoPlayerHTML5Shaka18.addEventListener("bufferingStart",function(){return this.$VideoPlayerHTML5Shaka46()}.bind(this));this.$VideoPlayerHTML5Shaka18.addEventListener("bufferingEnd",function(){return this.$VideoPlayerHTML5Shaka47()}.bind(this));this.$VideoPlayerHTML5Shaka18.addEventListener("error",function(U){return this.$VideoPlayerHTML5Shaka48(U)}.bind(this));this.$VideoPlayerHTML5Shaka18.addEventListener("adaptation",this.$VideoPlayerHTML5Shaka49.bind(this));this.$VideoPlayerHTML5Shaka18.addEventListener("trackschanged",this.$VideoPlayerHTML5Shaka50.bind(this));this.$VideoPlayerHTML5Shaka18.addEventListener("debug/shakaEvent",function(U){return this.emit("debug/shakaEvent",U.detail)}.bind(this));this.$VideoPlayerHTML5Shaka18.addEventListener("manifestwrapped",this.$VideoPlayerHTML5Shaka51.bind(this));this.$VideoPlayerHTML5Shaka18.addEventListener("cea608-captions",function(U){this.emit("cea608CaptionsParsed",U.detail.captions)}.bind(this));this.$VideoPlayerHTML5Shaka18.addEventListener("manifestIsUpdating",this.$VideoPlayerHTML5Shaka52.bind(this));this.$VideoPlayerHTML5Shaka18.addEventListener("networkinterrupted",this.$VideoPlayerHTML5Shaka53.bind(this));this.$VideoPlayerHTML5Shaka18.addEventListener("networkresumed",this.$VideoPlayerHTML5Shaka54.bind(this));var P=false,Q=null,R=null;this.$VideoPlayerHTML5Shaka40=this.$VideoPlayerHTML5Shaka2.getBool("live_send_push_headers",true);this.$VideoPlayerHTML5Shaka41=C;if(B)this.$VideoPlayerHTML5Shaka35=o(B,C);else{this.$VideoPlayerHTML5Shaka35=C;P=C&&C.indexOf("dash-abr")!==-1}if(P){this.$VideoPlayerHTML5Shaka40=this.$VideoPlayerHTML5Shaka2.getBool("live_abr_send_push_headers",true);if(this.$VideoPlayerHTML5Shaka40){Q=this.$VideoPlayerHTML5Shaka2.getString("live_abr_initial_push_representation","live-md_H264");R=this.$VideoPlayerHTML5Shaka2.getString("live_abr_audio_push_representation","live-md_AAC");this.$VideoPlayerHTML5Shaka3=[this.$VideoPlayerHTML5Shaka2.getString("live_abr_initial_push_representation","live-md_H264")]}if(this.$VideoPlayerHTML5Shaka2.getBool("live_abr_always_force_representation",false))this.$VideoPlayerHTML5Shaka3=[this.$VideoPlayerHTML5Shaka2.getString("live_abr_initial_push_representation","live-md_H264")]}this.$VideoPlayerHTML5Shaka1=u;this.$VideoPlayerHTML5Shaka39=this.$VideoPlayerHTML5Shaka55();this.$VideoPlayerHTML5Shaka24=this.$VideoPlayerHTML5Shaka56();var S=this.getLocalEstimator();if(S)S.setResolutionConstraint(this.$VideoPlayerHTML5Shaka57(),this.$VideoPlayerHTML5Shaka58());this.$VideoPlayerHTML5Shaka18.configure({enableAdaptation:this.getIsAbrEnabled(),appendPlayingQueryParam:this.$VideoPlayerHTML5Shaka2.getBool("add_cdn_debug_query_parameters",true),endBufferingOnPlaying:this.$VideoPlayerHTML5Shaka2.getBool("end_buffering_on_playing",false),usePlaybackRateForBuffering:this.$VideoPlayerHTML5Shaka2.getBool("improve_rebuffer_logging",true),streamBufferSize:this.$VideoPlayerHTML5Shaka2.getBool("use_stream_buffer_size_override",false)?0:this.$VideoPlayerHTML5Shaka59(),initialStreamBufferSize:t.isAutoplayBandwidthRestrained(D)?this.$VideoPlayerHTML5Shaka2.getNumber("initial_stream_buffer_size_for_blocked_autoplay",0):this.$VideoPlayerHTML5Shaka2.getBool("use_stream_buffer_size_override",false)?0:this.$VideoPlayerHTML5Shaka60(),smartBufferAdjustmentParams:{useSmartBuffering:this.$VideoPlayerHTML5Shaka2.getBool("use_smart_buffering",false),bufferSize_00_to_03:this.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_00_to_03",5),bufferSize_03_to_10:this.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_03_to_10",15),bufferSize_10_to_30:this.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_10_to_30",30),bufferSize_30_to_60:this.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_30_to_60",600),bufferSize_above_60:this.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_above_60",600),nonSmartBufferSize:this.$VideoPlayerHTML5Shaka2.getNumber("non_smart_buffer_size",15)},dynamicStreamBufferSize:D?this.$VideoPlayerHTML5Shaka2.getNumber("live_dynamic_stream_buffer_size",12):null,includeStreamBufferSizeInStartOffset:true,minMpdRefreshInterval:this.$VideoPlayerHTML5Shaka2.getNumber("min_mpd_refresh_interval",1e3),disableCacheBustingEvenThoughItMayAffectBandwidthEstimation:true,liveStreamEndTimeout:this.$VideoPlayerHTML5Shaka2.getNumber("live_stream_end_timeout",6e4),enableLiveInterruptionDetection:true,liveInterruptionConsecutiveUpdatesWithoutChange:this.$VideoPlayerHTML5Shaka2.getNumber("live_interruption_consecutive_updates_without_change",5),liveInterruptionConsecutiveUpdatesWithChange:this.$VideoPlayerHTML5Shaka2.getNumber("live_interruption_consecutive_updates_with_change",3),liveMaxSegmentsToPush:this.$VideoPlayerHTML5Shaka2.getNumber("live_max_segments_to_push",2),liveSendPushHeaders:t.isAutoplayBandwidthRestrained(D)?false:this.$VideoPlayerHTML5Shaka61(),liveMaxManifestFetchesWithPush:this.$VideoPlayerHTML5Shaka2.getNumber("live_max_manifest_fetches_with_push",1),resolveVideoTimeUpdateOnFragmentedTimeRanges:this.$VideoPlayerHTML5Shaka2.getBool("resolve_video_time_update_on_fragmented_time_ranges",true),enableManifestDebug:this.$VideoPlayerHTML5Shaka2.getBool("enable_video_debug",false),reappendInitSegmentAfterAbort:this.$VideoPlayerHTML5Shaka2.getBool("reappend_init_segment_after_abort",false),useInlineInitSegment:this.$VideoPlayerHTML5Shaka2.getBool("use_inline_init_segment",false),currentTimeDuringReadyStateZeroThrows:this.$VideoPlayerHTML5Shaka2.getBool("current_time_during_ready_state_zero_throws",false),liveInitialPushRepresentation:Q,liveAudioPushRepresentation:R,jumpToLiveThreshold:this.$VideoPlayerHTML5Shaka2.getNumber("jump_to_live_threshold",.5),liveDataFetchMaxRetries:this.$VideoPlayerHTML5Shaka2.getNumber("live_data_fetch_max_retries",0),liveSourceBufferClearMaxRetries:this.$VideoPlayerHTML5Shaka2.getNumber("live_source_buffer_clear_max_retries",0),useLongCacheForManifest:this.$VideoPlayerHTML5Shaka2.getBool("use_long_cache_for_manifest",true),jumpToEarliestPositionInCurrentBlock:this.$VideoPlayerHTML5Shaka2.getBool("jump_to_earliest_position_in_current_block",true),ignoreMinBufferTime:this.$VideoPlayerHTML5Shaka2.getBool("ignore_min_buffer_time",false),playheadFragmentedGapDiffAllowance:this.$VideoPlayerHTML5Shaka2.getNumber("playhead_fragmented_gap_diff_allowance",.1),fixBufferingGoalDetermination:this.$VideoPlayerHTML5Shaka2.getBool("fix_buffering_goal_determination",true),skipEmptySegments:this.$VideoPlayerHTML5Shaka2.getBool("skip_empty_segments",false),useMicroTaskTimeouts:true,enableRequestPipelining:this.$VideoPlayerHTML5Shaka12?this.$VideoPlayerHTML5Shaka2.getBool("enable_request_pipelining_for_live",true):this.$VideoPlayerHTML5Shaka2.getBool("enable_request_pipelining_for_vod",true),enableStreaming:this.$VideoPlayerHTML5Shaka12?this.$VideoPlayerHTML5Shaka2.getBool("enable_streaming_for_live",false):this.$VideoPlayerHTML5Shaka2.getBool("enable_streaming_for_vod",false)});if(D){var T=new(c("VideoPlayerLiveStreamState"))(y);this.$VideoPlayerHTML5Shaka37=T;this.$VideoPlayerHTML5Shaka18.addEventListener("liveheadIdleAt",function(event){var U=event.seconds;if(U>(this.$VideoPlayerHTML5Shaka8||0)){this.$VideoPlayerHTML5Shaka62(U);if(this.$VideoPlayerHTML5Shaka26&&this.$VideoPlayerHTML5Shaka63()){this.$VideoPlayerHTML5Shaka64();this.emit("bufferingEnd")}}}.bind(this));this.addListenersToLiveStreamState(T)}if(H)this.$VideoPlayerHTML5Shaka18.setPlaybackStartTime(H);this.$VideoPlayerHTML5Shaka18.load(this.$VideoPlayerHTML5Shaka24)["catch"](function(U){if(this.$VideoPlayerHTML5Shaka7&&this.$VideoPlayerHTML5Shaka2.getBool("ignore_errors_after_unload",true))return;throw U}.bind(this))}t.prototype.addListenersToLiveStreamState=function(u){"use strict";u.addListener("streamInterruptAt",this.$VideoPlayerHTML5Shaka62.bind(this));["streamInterruptAt","commercialBreakAt","endedAt"].forEach(function(v){u.addListener(v,function(event){this.emit("debug/shakaEvent",{type:v,event:event})}.bind(this))}.bind(this))};t.prototype.hasSubtitles=function(){"use strict";return this.$VideoPlayerHTML5Shaka24.hasInlinedCea608Subtitles()&&this.$VideoPlayerHTML5Shaka2.getBool("enable_cea608_parsing",true)};t.prototype.enableSubtitles=function(u){"use strict";this.$VideoPlayerHTML5Shaka24.setEnableCea608Parsing(u&&this.$VideoPlayerHTML5Shaka2.getBool("enable_cea608_parsing",true))};t.prototype.getDebug=function(){"use strict";return{AbrManager:this.$VideoPlayerHTML5Shaka39,VideoSource:this.$VideoPlayerHTML5Shaka24,ShakaPlayer:this.$VideoPlayerHTML5Shaka18,VideoTaskQueue:c("VideoStreamingTaskQueueProvider").getQueue("video"),VideoTaskScheduler:c("VideoStreamingTaskQueueProvider").getSchedulerForDebug("video")}};t.getEstimatedBandwidth=function(){"use strict";return r.getBandwidth()};t.isAutoplayBandwidthRestrained=function(u){"use strict";var v=c("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(u);return v};t.prototype.$VideoPlayerHTML5Shaka43=function(u){"use strict";__p&&__p();var v=this.$VideoPlayerHTML5Shaka20.get(u);if(!v)return;var w=v.id,x=v.reason,y=v.performanceLogger;if(this.$VideoPlayerHTML5Shaka36!==w){var z=this.$VideoPlayerHTML5Shaka36;this.$VideoPlayerHTML5Shaka36=w;if(y)y.setStreamSwitchReason(x).log();this.emit("representation_ended",{representationID:z,nextRepresentationID:w,streamSwitchReason:x})}};t.prototype.getStreamInfoIDForTimePosition=function(u){"use strict";var v=this.$VideoPlayerHTML5Shaka20.get(u),w=null;if(v)w=v.id;return w};t.prototype.$VideoPlayerHTML5Shaka65=function(u,v){"use strict";if(u.fbQualityLabel)return u.fbQualityLabel;else if(n.compare(u,v[0])==0)return"SD";else if(n.compare(u,v[v.length-1])==0)return"HD";else return null};t.prototype.getAvailableVideoQualities=function(){"use strict";if(this.$VideoPlayerHTML5Shaka7)return this.$VideoPlayerHTML5Shaka21;var u=this.$VideoPlayerHTML5Shaka24.getVideoTracks();u.sort(n.compare);return u.every(function(v){return v.fbQualityLabel!==null})?u.map(function(v){return v.fbQualityLabel}):u.length>1?["SD","HD"]:["SD"]};t.prototype.getVideoProjection=function(){"use strict";return this.$VideoPlayerHTML5Shaka24.getVideoProjection()};t.prototype.getIsAbrEnabled=function(){"use strict";return true};t.prototype.getSelectedVideoQuality=function(){"use strict";if(this.$VideoPlayerHTML5Shaka7)return this.$VideoPlayerHTML5Shaka22;var u=this.$VideoPlayerHTML5Shaka24.getVideoTracks();u.sort(n.compare);var v=u.find(function(w){return w.active});return v?this.$VideoPlayerHTML5Shaka65(v,u):null};t.prototype.getDashAudioConfiguration=function(){"use strict";return this.$VideoPlayerHTML5Shaka24.getMpdAudioConfig()};t.prototype.canAutoSelectVideoQuality=function(){"use strict";return true};t.prototype.setPreloadDisabled=function(u){"use strict";if(this.$VideoPlayerHTML5Shaka2.getBool("block_autoplay_allow_preload_settings_change",false))this.$VideoPlayerHTML5Shaka18.configure({initialStreamBufferSize:u?0:this.$VideoPlayerHTML5Shaka60(),liveSendPushHeaders:u?false:this.$VideoPlayerHTML5Shaka61()})};t.prototype.restoreStreamBufferSize=function(){"use strict";if(!this.$VideoPlayerHTML5Shaka2.getBool("use_stream_buffer_size_override",false))return;this.$VideoPlayerHTML5Shaka18.configure({initialStreamBufferSize:this.$VideoPlayerHTML5Shaka60(),streamBufferSize:this.$VideoPlayerHTML5Shaka59()})};t.prototype.$VideoPlayerHTML5Shaka60=function(){"use strict";return this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_initial_stream_buffer_size",3.5):this.$VideoPlayerHTML5Shaka2.getNumber("initial_stream_buffer_size",7.5)};t.prototype.$VideoPlayerHTML5Shaka59=function(){"use strict";return this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_stream_buffer_size",3):this.$VideoPlayerHTML5Shaka2.getNumber("stream_buffer_size",15)};t.prototype.$VideoPlayerHTML5Shaka61=function(){"use strict";return this.$VideoPlayerHTML5Shaka40};t.prototype.setPreferredVideoQuality=function(u){"use strict";var v=this.$VideoPlayerHTML5Shaka24.getVideoTracks();v.sort(n.compare);var w=v.find(function(x){return u==this.$VideoPlayerHTML5Shaka65(x,v)}.bind(this));if(w){this.$VideoPlayerHTML5Shaka23=u;this.$VideoPlayerHTML5Shaka39.setPreferredVideoTrack(w)}};t.prototype.unsetPreferredVideoQuality=function(){"use strict";this.$VideoPlayerHTML5Shaka23=null;this.$VideoPlayerHTML5Shaka39.unsetPreferredVideoTrack()};t.prototype.pause=function(){"use strict";if(this.$VideoPlayerHTML5Shaka26&&!this.$VideoPlayerHTML5Shaka2.getBool("improve_rebuffer_logging",true)){this.$VideoPlayerHTML5Shaka30=true;this.$VideoPlayerHTML5Shaka31=true;c("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"pause");this.$VideoPlayerHTML5Shaka18.setResumeAfterBuffering(false)}else this.$VideoPlayerHTML5Shaka1.pause()};t.prototype.play=function(){"use strict";__p&&__p();this.$VideoPlayerHTML5Shaka13=true;if(this.$VideoPlayerHTML5Shaka25&&(this.$VideoPlayerHTML5Shaka1.paused||this.$VideoPlayerHTML5Shaka1.ended))this.$VideoPlayerHTML5Shaka27=this.$VideoPlayerHTML5Shaka25.getOperationLogger("play").setState("pending_play").start();if(this.$VideoPlayerHTML5Shaka26&&!this.$VideoPlayerHTML5Shaka2.getBool("improve_rebuffer_logging",true)){this.$VideoPlayerHTML5Shaka30=false;this.$VideoPlayerHTML5Shaka31=true;c("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"play");c("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"waiting");this.$VideoPlayerHTML5Shaka18.setResumeAfterBuffering(true);return c("Promise").resolve()}else return this.$VideoPlayerHTML5Shaka1.play()};t.prototype.$VideoPlayerHTML5Shaka63=function(){"use strict";__p&&__p();var u=this.$VideoPlayerHTML5Shaka8;if(u){var v=this.$VideoPlayerHTML5Shaka1.currentTime,w=4,x=v>u-w,y=v>u;if(y){this.emit("debug/shakaEvent",{type:"streamResumedAt",event:this.$VideoPlayerHTML5Shaka8});this.$VideoPlayerHTML5Shaka8=null}else if(this.$VideoPlayerHTML5Shaka26)this.$VideoPlayerHTML5Shaka10=x}return this.$VideoPlayerHTML5Shaka10};t.prototype.$VideoPlayerHTML5Shaka46=function(){"use strict";__p&&__p();if(!this.$VideoPlayerHTML5Shaka2.getBool("improve_rebuffer_logging",true)){s(this.$VideoPlayerHTML5Shaka1,"pause");this.$VideoPlayerHTML5Shaka30=false;this.$VideoPlayerHTML5Shaka31=false}this.$VideoPlayerHTML5Shaka26=true;if(this.$VideoPlayerHTML5Shaka63())this.$VideoPlayerHTML5Shaka64();else{this.$VideoPlayerHTML5Shaka18.setResumeAfterBuffering(true);this.emit("bufferingStart")}};t.prototype.$VideoPlayerHTML5Shaka53=function(){"use strict";this.emit("networkInterrupted")};t.prototype.$VideoPlayerHTML5Shaka54=function(){"use strict";this.emit("networkResumed")};t.prototype.$VideoPlayerHTML5Shaka64=function(){"use strict";if(!this.$VideoPlayerHTML5Shaka2.getBool("fix_is_live_interrupted_backtest",false)){if(this.$VideoPlayerHTML5Shaka25&&!this.$VideoPlayerHTML5Shaka28)this.$VideoPlayerHTML5Shaka28=this.$VideoPlayerHTML5Shaka25.getOperationLogger("stream_interrupted").start();this.$VideoPlayerHTML5Shaka24.setIsLiveInterrupted(true)}this.emit("streamInterrupted")};t.prototype.$VideoPlayerHTML5Shaka47=function(){__p&&__p();var u,v=this;"use strict";if(!this.$VideoPlayerHTML5Shaka2.getBool("improve_rebuffer_logging",true)){if(!this.$VideoPlayerHTML5Shaka30)s(this.$VideoPlayerHTML5Shaka1,"play");if(!this.$VideoPlayerHTML5Shaka31)(function(){var w=c("EventListener").capture(v.$VideoPlayerHTML5Shaka1.parentNode,"playing",function(x){if(x.target!=this.$VideoPlayerHTML5Shaka1)return;w.remove();if(this.$VideoPlayerHTML5Shaka32){this.$VideoPlayerHTML5Shaka32=false;return}c("Event").kill(x)}.bind(v))})()}this.$VideoPlayerHTML5Shaka26=false;if(this.$VideoPlayerHTML5Shaka28){this.$VideoPlayerHTML5Shaka28.log();this.$VideoPlayerHTML5Shaka28=null}this.$VideoPlayerHTML5Shaka24.setIsLiveInterrupted(false);if(this.$VideoPlayerHTML5Shaka10)this.$VideoPlayerHTML5Shaka66();else this.emit("bufferingEnd")};t.prototype.$VideoPlayerHTML5Shaka48=function(u){"use strict";__p&&__p();var v=u.detail||{},w=v.type||"undefined",x=v.status||null,y=v.url||null;this.$VideoPlayerHTML5Shaka67();var z=this.$VideoPlayerHTML5Shaka2.getString("block_play_request_http_status_list","410").split(",");if(this.$VideoPlayerHTML5Shaka2.getBool("disable_block_play_request_http_status_list",false))z=[];if(this.$VideoPlayerHTML5Shaka11&&z.map(function(A){return parseInt(A,10)}).indexOf(x)!==-1){if(this.$VideoPlayerHTML5Shaka13){c("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"playing");this.$VideoPlayerHTML5Shaka13=false}return this.$VideoPlayerHTML5Shaka68()}this.emit("error",{error:"SHAKA_"+w.toUpperCase(),message:v.message,httpStatus:x,url:y});return undefined};t.prototype.unload=function(){"use strict";__p&&__p();this.$VideoPlayerHTML5Shaka22=this.getSelectedVideoQuality();this.$VideoPlayerHTML5Shaka21=this.getAvailableVideoQualities();if(!this.$VideoPlayerHTML5Shaka24)this.$VideoPlayerHTML5Shaka11=false;else if(this.$VideoPlayerHTML5Shaka24.isLive()!==null)this.$VideoPlayerHTML5Shaka11=this.$VideoPlayerHTML5Shaka24.isLive();this.$VideoPlayerHTML5Shaka7=true;c("clearInterval")(this.$VideoPlayerHTML5Shaka34);var u=this.$VideoPlayerHTML5Shaka37;if(u){u.unsubscribe();u.removeAllListeners()}this.$VideoPlayerHTML5Shaka18.unload()["catch"](function(v){if(this.$VideoPlayerHTML5Shaka2.getBool("ignore_errors_after_unload",true))return;throw v}.bind(this))};t.prototype.$VideoPlayerHTML5Shaka55=function(){"use strict";var u={shakaConfig:this.$VideoPlayerHTML5Shaka2,enableAdaptation:this.getIsAbrEnabled(),minPlayQuality:this.$VideoPlayerHTML5Shaka5,maxPlayQuality:this.$VideoPlayerHTML5Shaka6,maxWidth:this.$VideoPlayerHTML5Shaka57(),maxHeight:this.$VideoPlayerHTML5Shaka58(),initiallyForcedRepresentations:this.$VideoPlayerHTML5Shaka3,bandwidthModel:c("VideoPlayerShakaBandwidthEstimator").getBandwidthModel(this.$VideoPlayerHTML5Shaka11),bandwidthDowngradeTarget:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_bandwidth_downgrade_target",1):this.$VideoPlayerHTML5Shaka2.getNumber("bandwidth_downgrade_target",.9),bandwidthUpgradeTarget:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_bandwidth_upgrade_target",1):this.$VideoPlayerHTML5Shaka2.getNumber("bandwidth_upgrade_target",.9),useNewBandwidthBandLogic:this.$VideoPlayerHTML5Shaka2.getBool("use_new_bandwidth_band_logic",true),hvqUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_hvq_upgrade_aggressiveness",1):this.$VideoPlayerHTML5Shaka2.getNumber("hvq_upgrade_aggressiveness",1),hvqInlineUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_hvq_inline_upgrade_aggressiveness",1):this.$VideoPlayerHTML5Shaka2.getNumber("hvq_inline_upgrade_aggressiveness",1),preHvqUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_pre_hvq_upgrade_aggressiveness",1):this.$VideoPlayerHTML5Shaka2.getNumber("pre_hvq_upgrade_aggressiveness",1),preHvqInlineUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_pre_hvq_inline_upgrade_aggressiveness",1):this.$VideoPlayerHTML5Shaka2.getNumber("pre_hvq_inline_upgrade_aggressiveness",1),video:this.$VideoPlayerHTML5Shaka1,abrLogger:this.$VideoPlayerHTML5Shaka29,getSource:this.$VideoPlayerHTML5Shaka19,enableReinforcementLearning:this.$VideoPlayerHTML5Shaka2.getBool("enable_reinforcement_learning",false)&&!this.$VideoPlayerHTML5Shaka12&&!this.$VideoPlayerHTML5Shaka14};return new(c("CustomAbrManager"))(u)};t.prototype.$VideoPlayerHTML5Shaka56=function(){"use strict";this.$VideoPlayerHTML5Shaka39||h(0);this.$VideoPlayerHTML5Shaka35||h(0);var u=new m(this.$VideoPlayerHTML5Shaka35,this.$VideoPlayerHTML5Shaka2,null,r,this.$VideoPlayerHTML5Shaka39);this.$VideoPlayerHTML5Shaka20=new(c("TaggedTimeRanges"))(function(v,w){return v.id===w.id&&v.reason===w.reason});u.setTaggedTimeRanges(this.$VideoPlayerHTML5Shaka20);return u};t.prototype.$VideoPlayerHTML5Shaka69=function(u){"use strict";__p&&__p();this.$VideoPlayerHTML5Shaka39=this.$VideoPlayerHTML5Shaka55();this.$VideoPlayerHTML5Shaka24=this.$VideoPlayerHTML5Shaka56();if(this.$VideoPlayerHTML5Shaka63()){this.$VideoPlayerHTML5Shaka9=this.$VideoPlayerHTML5Shaka18.getPlaybackRate();this.$VideoPlayerHTML5Shaka1.playbackRate=0;this.emit("streamInterrupted")}this.$VideoPlayerHTML5Shaka18.setPlaybackStartTime(u);this.$VideoPlayerHTML5Shaka7=false;return this.$VideoPlayerHTML5Shaka18.load(this.$VideoPlayerHTML5Shaka24).then(function(){if(this.$VideoPlayerHTML5Shaka11!=this.$VideoPlayerHTML5Shaka24.isLive())return this.$VideoPlayerHTML5Shaka68();if(this.$VideoPlayerHTML5Shaka23)this.setPreferredVideoQuality(this.$VideoPlayerHTML5Shaka23);this.$VideoPlayerHTML5Shaka22=null;this.$VideoPlayerHTML5Shaka21=[];return undefined}.bind(this))};t.prototype.$VideoPlayerHTML5Shaka70=function(u){"use strict";if(this.$VideoPlayerHTML5Shaka7&&this.$VideoPlayerHTML5Shaka2.getBool("ignore_errors_after_unload",true))return;throw u};t.prototype.reload=function(u){"use strict";__p&&__p();if(!this.$VideoPlayerHTML5Shaka7)return this.$VideoPlayerHTML5Shaka2.getBool("fix_reload_promise",false)?c("Promise").resolve():undefined;var v=this.$VideoPlayerHTML5Shaka37;if(v){v.subscribe();this.addListenersToLiveStreamState(v)}var w=void 0;if(this.$VideoPlayerHTML5Shaka2.getBool("refresh_vod_manifest",false))w=this.$VideoPlayerHTML5Shaka45().then(function(){return this.$VideoPlayerHTML5Shaka69(u)}.bind(this))["catch"](function(x){return this.$VideoPlayerHTML5Shaka70(x)}.bind(this));else w=this.$VideoPlayerHTML5Shaka69(u)["catch"](function(x){return this.$VideoPlayerHTML5Shaka70()}.bind(this));return this.$VideoPlayerHTML5Shaka2.getBool("fix_reload_promise",false)?w:undefined};t.prototype.setPlaybackRate=function(u){"use strict";this.$VideoPlayerHTML5Shaka9=u;if(!this.$VideoPlayerHTML5Shaka63())this.$VideoPlayerHTML5Shaka18.setPlaybackRate(u)};t.prototype.setSmartBufferAdjustmentEnabled=function(u){"use strict";this.$VideoPlayerHTML5Shaka18.configure({smartBufferAdjustmentEnabled:u})};t.prototype.setVideoStreamOffset=function(u){"use strict";this.$VideoPlayerHTML5Shaka18.setVideoStreamOffset(u)};t.prototype.$VideoPlayerHTML5Shaka68=function(){"use strict";__p&&__p();c("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"seeked");c("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"playing");if(c("VideoPlayerExperiments").abortLoadingDecisioningLogic){c("dispatchCustomEvent")(this.$VideoPlayerHTML5Shaka1,"pause",c("dangerouslyOverrideMediaElementEndedProperty")());c("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"ended")}else if(this.$VideoPlayerHTML5Shaka2.getBool("end_live_playback_with_pause",true))c("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"pause");else c("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"ended");this.emit("streamResumed");this.unload()};t.prototype.getLongestInitResponseTime=function(){"use strict";return this.$VideoPlayerHTML5Shaka24.getLongestInitResponseTime()};t.prototype.getLocalEstimator=function(){"use strict";return this.$VideoPlayerHTML5Shaka24.getLocalEstimator()};t.prototype.$VideoPlayerHTML5Shaka71=function(){"use strict";return this.$VideoPlayerHTML5Shaka2.getNumber("resolution_constraint_factor",2)*q};t.prototype.$VideoPlayerHTML5Shaka57=function(){"use strict";if(this.$VideoPlayerHTML5Shaka14||!this.$VideoPlayerHTML5Shaka2.getBool("use_resolution_constraints",true))return Infinity;return this.$VideoPlayerHTML5Shaka15*this.$VideoPlayerHTML5Shaka71()};t.prototype.$VideoPlayerHTML5Shaka58=function(){"use strict";if(this.$VideoPlayerHTML5Shaka14||!this.$VideoPlayerHTML5Shaka2.getBool("use_resolution_constraints",true))return Infinity;return this.$VideoPlayerHTML5Shaka16*this.$VideoPlayerHTML5Shaka71()};t.prototype.setDimensions=function(u,v){"use strict";this.$VideoPlayerHTML5Shaka15=u;this.$VideoPlayerHTML5Shaka16=v;var w=this.$VideoPlayerHTML5Shaka57(),x=this.$VideoPlayerHTML5Shaka58();this.$VideoPlayerHTML5Shaka39.setResolutionConstraint(w,x);var y=this.getLocalEstimator();if(y)y.setResolutionConstraint(w,x)};t.isSupported=function(){"use strict";return l.isBrowserSupported()};t.prototype.$VideoPlayerHTML5Shaka50=function(){"use strict";this.emit("tracksChanged")};t.prototype.$VideoPlayerHTML5Shaka49=function(event){"use strict";if(event.contentType==="video"){if(this.$VideoPlayerHTML5Shaka25)this.$VideoPlayerHTML5Shaka25.setRepresentationID(event.id);this.$VideoPlayerHTML5Shaka29.setRepresentationID(event.id);this.emit("adaptation",{reason:event.reason})}};t.prototype.$VideoPlayerHTML5Shaka62=function(u){"use strict";if(this.$VideoPlayerHTML5Shaka2.getBool("fix_is_live_interrupted_backtest",false)){if(this.$VideoPlayerHTML5Shaka25&&!this.$VideoPlayerHTML5Shaka28)this.$VideoPlayerHTML5Shaka28=this.$VideoPlayerHTML5Shaka25.getOperationLogger("stream_interrupted").start();this.$VideoPlayerHTML5Shaka24.setIsLiveInterrupted(true)}this.$VideoPlayerHTML5Shaka8=u};t.prototype.$VideoPlayerHTML5Shaka52=function(){"use strict";if(this.$VideoPlayerHTML5Shaka63())this.$VideoPlayerHTML5Shaka66()};t.prototype.$VideoPlayerHTML5Shaka66=function(){"use strict";this.$VideoPlayerHTML5Shaka8=null;this.$VideoPlayerHTML5Shaka10=false;this.$VideoPlayerHTML5Shaka24.forceResyncVideoBuffer();this.$VideoPlayerHTML5Shaka18.setPlaybackRate(this.$VideoPlayerHTML5Shaka9);this.emit("streamResumed")};t.prototype.$VideoPlayerHTML5Shaka51=function(){"use strict";__p&&__p();var u=this.$VideoPlayerHTML5Shaka25?this.$VideoPlayerHTML5Shaka25.getOperationLogger("manifest_wrapped").setResource(this.$VideoPlayerHTML5Shaka41).start():null,v=!this.$VideoPlayerHTML5Shaka1.paused;this.unload();this.reload().then(function(){if(this.$VideoPlayerHTML5Shaka10)this.$VideoPlayerHTML5Shaka66();if(v)this.play();if(u)u.log()}.bind(this))["catch"](function(w){if(u)u.setError(w).log()})};t.prototype.$VideoPlayerHTML5Shaka42=function(){"use strict";this.$VideoPlayerHTML5Shaka13=false;if(this.$VideoPlayerHTML5Shaka32)this.$VideoPlayerHTML5Shaka32=false;if(this.$VideoPlayerHTML5Shaka27){this.$VideoPlayerHTML5Shaka27.log();this.$VideoPlayerHTML5Shaka27=null}};t.prototype.$VideoPlayerHTML5Shaka44=function(){"use strict";if(this.$VideoPlayerHTML5Shaka13)this.$VideoPlayerHTML5Shaka13=false;if(this.$VideoPlayerHTML5Shaka27){this.$VideoPlayerHTML5Shaka27.setResult("aborted").log();this.$VideoPlayerHTML5Shaka27=null}};t.prototype.$VideoPlayerHTML5Shaka72=function(){"use strict";if(this.$VideoPlayerHTML5Shaka12)return c("Promise").resolve();if(this.$VideoPlayerHTML5Shaka33+1e3*60*60<Date.now())return c("VideoPlayerMetaData").genVideoData(this.$VideoPlayerHTML5Shaka4).then(function(u){return this.$VideoPlayerHTML5Shaka73(this.$VideoPlayerHTML5Shaka17?u.getHighlightsManifest():u.getDashManifest())}.bind(this));return c("Promise").resolve()};t.prototype.$VideoPlayerHTML5Shaka73=function(u){"use strict";if(!this.$VideoPlayerHTML5Shaka24)return;this.$VideoPlayerHTML5Shaka35=o(u);if(!this.$VideoPlayerHTML5Shaka7){this.$VideoPlayerHTML5Shaka33=Date.now();this.$VideoPlayerHTML5Shaka24.updateManifest(this.$VideoPlayerHTML5Shaka35)}};t.prototype.$VideoPlayerHTML5Shaka45=function(){"use strict";this.$VideoPlayerHTML5Shaka67();this.$VideoPlayerHTML5Shaka34=c("setInterval")(function(){this.$VideoPlayerHTML5Shaka72()}.bind(this),1e3*60);return this.$VideoPlayerHTML5Shaka72()["catch"](function(){return c("Promise").resolve()})};t.prototype.refreshDashManifest=function(){"use strict";this.unload();var u=c("VideoPlayerMetaData").genVideoData(this.$VideoPlayerHTML5Shaka4);return u.then(function(v){this.$VideoPlayerHTML5Shaka73(v.getDashManifest());this.$VideoPlayerHTML5Shaka17=false}.bind(this))};t.prototype.refreshLiveVODHighlightsManifest=function(){"use strict";this.unload();var u=c("VideoPlayerMetaData").genVideoData(this.$VideoPlayerHTML5Shaka4);return u.then(function(v){this.$VideoPlayerHTML5Shaka73(v.getHighlightsManifest());this.$VideoPlayerHTML5Shaka17=true}.bind(this))};t.prototype.$VideoPlayerHTML5Shaka67=function(){"use strict";c("clearInterval")(this.$VideoPlayerHTML5Shaka34)};t.prototype.isPlayingLiveVODHighlights=function(){"use strict";return this.$VideoPlayerHTML5Shaka17};f.exports=t}),null);