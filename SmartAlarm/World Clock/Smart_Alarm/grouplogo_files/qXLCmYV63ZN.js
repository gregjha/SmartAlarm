if (self.CavalryLogger) { CavalryLogger.start_js(["1iLHf"]); }

__d("getProfileRangesForContentState",["EmojiFormat","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("emptyFunction").thatReturnsTrue;function i(j,k){__p&&__p();var l=[],m=0;j.getBlockMap().forEach(function(n){__p&&__p();var o=0,p=n.getText();n.findEntityRanges(h,function(q,r){__p&&__p();var s=n.getEntityAt(q);if(s){var t=j.getEntity(s);if(t.getType()==="EMOTICON")o+=t.getData().originalEmoticon.length-1;else if(t.getType()==="EMOJI"){var u=t.getData().type,v=c("EmojiFormat").codeStringToCodeArray(u),w=String.fromCodePoint.apply(String,v);o+=w.length-1}else if(t.getType()==="MENTION"){var x=t.getData().mid,y=q+o+m,z=x===k;if(/^\d+$/.test(x)||z)l.push({id:x,offset:y,length:r-q,type:z?"t":"p"})}}});m+=p.length+o+1});return l}f.exports=i}),null);