if (self.CavalryLogger) { CavalryLogger.start_js(["WQrNo"]); }

__d("MercurySendMessageHandler",["MercuryMessageActions","MercuryMessageObject","MercurySingletonProvider"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.getForFBID=function(j){return i.getForFBID(j)};h.get=function(){return i.get()};function h(j){this.$MercurySendMessageHandler1=j;this.$MercurySendMessageHandler2=c("MercuryMessageActions").getForFBID(this.$MercurySendMessageHandler1);this.$MercurySendMessageHandler3=c("MercuryMessageObject").getForFBID(this.$MercurySendMessageHandler1)}h.prototype.sendPlainTextMessage=function(j,k,l){var m=this.$MercurySendMessageHandler3.constructUserGeneratedMessageObject(k,l,j);this.$MercurySendMessageHandler2.send(m)};h.prototype.sendSticker=function(j,k,l){var m=this.$MercurySendMessageHandler3.constructStickerMessageObject(k,l,j);this.$MercurySendMessageHandler2.send(m)};h.prototype.sendAttachment=function(j,k,l){var m=this.$MercurySendMessageHandler3.constructAttachmentMessageObject(l,j);this.$MercurySendMessageHandler2.addAttachmentPlaceholder(m,k.upload_id,k)};var i=new(c("MercurySingletonProvider"))(h);f.exports=h}),null);
__d("MercuryFallbackShareAttachmentActionLinksBlock.react",["cx","CurrentUser","Link.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercurySendMessageHandler","MercurySourceType","MercuryTriodeSourceUtil","messengerButtonReact","MessengerTextWithEntities.react","React","URI"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("messengerButtonReact").jsComponent,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){"use strict";__p&&__p();if(!this.props||!this.props.attachment||!this.props.attachment.action_links)return c("React").createElement("div",{className:"__6j"});var n=this.props.attachment,o=n.action_links,p=o.map(function(q,r){if(!c("URI").isValidURI(q.uri))return null;var s=new(c("URI"))(decodeURI(q.uri)),t=c("React").createElement(c("MessengerTextWithEntities.react"),{renderEmoji:true,text:q.title}),u=this.$MercuryFallbackShareAttachmentActionLinksBlock1.bind(this,s),v="_3usk";if(this.props.location===c("MercuryShareAttachmentRenderLocations").MESSENGER)return c("React").createElement(k,{className:"_3pff",label:t,key:r,onClick:u,type:"primary",use:"default"});return c("React").createElement(c("Link.react"),{className:v,key:r,onClick:u,target:"_blank"},t)}.bind(this));return c("React").createElement("div",{className:"_3usl"+(this.props.location===c("MercuryShareAttachmentRenderLocations").CHAT?" _17vd":"")+(this.props.location===c("MercuryShareAttachmentRenderLocations").MESSENGER?" _3pfh":"")+(!(n&&n.media.image)?" _3usm":"")},p)};m.prototype.$MercuryFallbackShareAttachmentActionLinksBlock1=function(n){"use strict";__p&&__p();var o=n.getProtocol(),p=n.getQueryData(),q=n.getDomain();if("fb-messenger"===o&&"compose"===q){var r=p.m,s=p.s,t=this.props.threadID,u=location===c("MercuryShareAttachmentRenderLocations").MESSENGER?c("MercuryTriodeSourceUtil").getMercuryTriodeSource():c("MercurySourceType").CHAT_WEB;if(s==1){var v=c("MercurySendMessageHandler").getForFBID(c("CurrentUser").getID());v.sendPlainTextMessage(t,r,u)}}if("http"===o||"https"===o)window.open(n.toString(),"_blank")};function m(){"use strict";i.apply(this,arguments)}m.propTypes={attachment:c("MercuryShareAttachmentReactShape"),location:l.oneOf(c("MercuryShareAttachmentRenderLocations").getValues()),threadID:l.string.isRequired};f.exports=m}),null);
__d("MercuryShareLargeImageAttachmentContent.react",["cx","Image.react","MercuryFallbackShareAttachmentTextBlock.react","MercuryFallbackShareAttachment.react","MercuryShareAttachmentRenderLocations","MercuryShareAttachmentReactShape","MercuryShareSizeImageByWidthMixin","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=150,k=c("React").createClass({displayName:"MercuryShareLargeImageAttachmentContent",mixins:[c("MercuryShareSizeImageByWidthMixin")],propTypes:{attachment:c("MercuryShareAttachmentReactShape"),location:i.oneOf(c("MercuryShareAttachmentRenderLocations").getValues()),maxWidth:i.number},render:function l(){var m=this.props.attachment,n=this.props.location,o=(c("MercuryShareAttachmentRenderLocations").CHAT===n?"_49or":"")+(c("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW===n?" _324d":"")+(c("MercuryShareAttachmentRenderLocations").CHAT!==n?" _tih":"")+(c("MercuryShareAttachmentRenderLocations").CHAT!==n?" _4am7":"")+(!(m&&m.media.image)?" _5k0r":"");if(!m||!m.media||!m.media.image)return c("React").createElement("div",{className:c("joinClasses")(this.props.className,o)},this.props.children);if(c("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW===n)return c("React").createElement(c("MercuryFallbackShareAttachment.react"),this.props);if(c("MercuryShareAttachmentRenderLocations").CHAT===n)return c("React").createElement("div",{className:c("joinClasses")(this.props.className,o)},this._renderImage());return c("React").createElement("div",{className:c("joinClasses")(this.props.className,o)},this._renderImage(),this.props.children)}});f.exports=k}),null);
__d("MercuryShareLargeImageAttachment.react",["cx","MercuryFallbackShareAttachmentTextBlock.react","MercuryFallbackShareAttachmentActionLinksBlock.react","MercuryShareLargeImageAttachmentContent.react","MercuryShareAttachmentRenderLocations","MercuryShareAttachmentReactShape","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.renderLink=function(m){if(c("MercuryShareAttachmentRenderLocations").isPreview(this.props.location))return m;var n=this.props.attachment&&this.props.attachment.uri,o=this.props.attachment;if(o&&o.media&&o.media.image_size)return c("React").createElement("div",{style:{maxWidth:o.media.image_size.width},target:"_blank"},c("React").createElement(c("MercuryFallbackShareAttachmentTextBlock.react"),this.props),m,c("React").createElement(c("MercuryFallbackShareAttachmentActionLinksBlock.react"),this.props));return c("React").createElement("div",{className:"_3prk",href:n,target:"_blank"},c("React").createElement(c("MercuryFallbackShareAttachmentTextBlock.react"),this.props),m,c("React").createElement(c("MercuryFallbackShareAttachmentActionLinksBlock.react"),this.props))};l.prototype.render=function(){return this.renderLink(c("React").createElement(c("MercuryShareLargeImageAttachmentContent.react"),this.props))};function l(){i.apply(this,arguments)}l.propTypes={attachment:c("MercuryShareAttachmentReactShape"),location:k.oneOf(c("MercuryShareAttachmentRenderLocations").getValues()),threadID:k.string.isRequired};f.exports=l}),null);