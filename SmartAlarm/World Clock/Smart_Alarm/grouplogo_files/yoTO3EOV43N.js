if (self.CavalryLogger) { CavalryLogger.start_js(["cHH+e"]); }

__d("BillingAgreementType",[],(function a(b,c,d,e,f,g){f.exports={YEARLY:89,MONTHLY:77,WEEKLY:87,DAILY:68}}),null);
__d("MessengerPlatformBubbleAspectRatio",[],(function a(b,c,d,e,f,g){f.exports={IMAGE_ASPECT_RATIO_HORIZONTAL:1.91,IMAGE_ASPECT_RATIO_SQUARE:1}}),null);
__d("PaymentInvoiceActionIdentifier",[],(function a(b,c,d,e,f,g){f.exports={MARK_AS_PAID:"MARK_AS_PAID",CANCEL:"CANCEL",MARK_AS_SHIPPED:"MARK_AS_SHIPPED",REQUEST_NEW_RECEIPT:"REQUEST_NEW_RECEIPT",ATTACH_NEW_RECEIPT:"ATTACH_NEW_RECEIPT",VIEW_RECEIPT:"VIEW_RECEIPT",CLICK_BANNER:"CLICK_BANNER",CLOSE_BANNER:"CLOSE_BANNER",MFS_CANCEL_TRANSFER:"MFS_CANCEL_TRANSFER",MFS_DECLINE_TRANSFER:"MFS_DECLINE_TRANSFER",MFS_OPEN_NUX:"MFS_OPEN_NUX",MFS_MANAGE_MONEY:"MFS_MANAGE_MONEY",LAUNCH_IDENTITY_VERIFICATION:"LAUNCH_IDENTITY_VERIFICATION",SHARE:"SHARE",INVITE:"INVITE",VIEW_SELLER:"VIEW_SELLER",VIEW_ITEM:"VIEW_ITEM",P2P_PAY_REQUEST:"P2P_PAY_REQUEST",P2P_DECLINE_REQUEST:"P2P_DECLINE_REQUEST",P2P_CANCEL_REQUEST:"P2P_CANCEL_REQUEST",P2P_DECLINE_TRANSFER:"P2P_DECLINE_TRANSFER",P2P_OPEN_RECEIPT:"P2P_OPEN_RECEIPT",P2P_VERIFY_INFO:"P2P_VERIFY_INFO",P2P_ACCEPT_MONEY:"P2P_ACCEPT_MONEY",P2P_UPDATE_CARD:"P2P_UPDATE_CARD",P2P_TRIGGER_RECEIVE:"P2P_TRIGGER_RECEIVE",P2P_GENERAL_LINK:"P2P_GENERAL_LINK",P2P_GENERAL_CONTINUE:"P2P_GENERAL_CONTINUE",GROUP_PAYMENT_GIFT_CLAIM:"GROUP_PAYMENT_GIFT_CLAIM"}}),null);
__d("FBPaymentsStringHelper",["React"],(function a(b,c,d,e,f,g){"use strict";var h={stringToMarkup:function i(j){return c("React").createElement("div",null,j.split("\n").map(function(k,l){return c("React").createElement("div",{key:l},k)}))},isNumber:function i(j){var k=parseInt(j,10);return!isNaN(k)&&isFinite(k)}};f.exports=h}),null);
__d("FileInput.react",["cx","invariant","FileInput","InlineBlock.react","React","ReactDOM","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.getFileInput=function(){return this.$FileInput1}.bind(this),this.focus=function(){var s=c("ReactDOM").findDOMNode(this.refs.fileInput);if(!s.disabled)s.focus()}.bind(this),o}m.prototype.render=function(){"use strict";var n=c("joinClasses")("_m",this.props.containerClassName),o="container",p=c("React").createElement("input",babelHelpers["extends"]({},this.props,{type:"file",className:c("joinClasses")(this.props.className,"_n"),ref:"fileInput"}),undefined);if(this.props.display==="inline-block")return c("React").createElement(c("InlineBlock.react"),{className:n,ref:o},this.props.children,p);return c("React").createElement("span",{className:n,ref:o},this.props.children,p)};m.prototype.componentDidMount=function(){"use strict";var n=c("ReactDOM").findDOMNode(this.refs.fileInput),o=c("ReactDOM").findDOMNode(this.refs.container),p=o.firstChild;p.nodeName==="A"||i(0);p.setAttribute("rel","ignore");this.$FileInput1=new(c("FileInput"))(o,p,n)};m.prototype.componentWillUnmount=function(){"use strict";this.$FileInput1.destroy();this.$FileInput1=null};m.propTypes={containerClassName:l.string,display:l.oneOf(["inline-block","inline"])};m.defaultProps={display:"inline-block"};f.exports=m}),null);
__d("PageProductTransactionPaymentTypeDataKey",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACCOUNT_NAME:"account_name",ACCOUNT_NO:"account_no"})}),null);
__d("XOmnipickerPhotoUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/omnipicker/upload/file/photo/",{source:{type:"Enum",required:true,enumType:0},waterfall_id:{type:"String"},vault_fbid:{type:"String"}})}),null);
__d("CommerceContactMerchantManualPaymentSection.react",["cx","fbt","FBPaymentsStringHelper","FileInput.react","FileInputUploader","Image.react","PageProductTransactionPaymentTypeDataKey","React","ReactDOM","XOmnipickerPhotoUploadController","XUIButton.react","XUIGrayText.react","XUISpinner.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=29,n=120;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(p){__p&&__p();k.constructor.call(this,p);this.$CommerceContactMerchantManualPaymentSection6=function(event,q){var r=q.response.getPayload()[0];this.setState({photoUploading:false,receiptPhotoID:r.fbid,receiptPhotoURL:r.src});this.props.onReceiptUpdated(r.fbid,r.src)}.bind(this);this.$CommerceContactMerchantManualPaymentSection2=function(q){var r=c("XOmnipickerPhotoUploadController").getURIBuilder().setEnum("source",m).getURI(),s=this.refs.fileInput,t=new(c("FileInputUploader"))(c("ReactDOM").findDOMNode(s)).setURI(r);t.subscribe("failure",this.$CommerceContactMerchantManualPaymentSection5);t.subscribe("success",this.$CommerceContactMerchantManualPaymentSection6);t.send();s.getFileInput().clear();this.setState({photoUploading:true})}.bind(this);this.state={receiptPhotoID:null,receiptPhotoURL:null,photoUploading:false}}o.prototype.render=function(){var p=this.props.paymentOptionDetails,q=p[c("PageProductTransactionPaymentTypeDataKey").ACCOUNT_NAME],r=p[c("PageProductTransactionPaymentTypeDataKey").ACCOUNT_NO],s=c("FBPaymentsStringHelper").stringToMarkup(p.description),t=r==null?null:c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"small",className:"_3-8m"},i._("Account Number"),": ",r),u=q==null?null:c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"small",className:"_3-8m"},i._("Name on Account"),": ",q);return c("React").createElement("div",{className:"_2ph-"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},this.$CommerceContactMerchantManualPaymentSection1()),c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold",size:"meta1",className:"_3-8m"},this.props.paymentOptionDetails.name),t,u,c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"small",className:"_3-8m"},s),c("React").createElement(c("XUIGrayText.react"),{className:"_3-97",display:"block",size:"small"},i._("Order #{order_number}",[i.param("order_number",this.props.invoiceID)])),c("React").createElement("div",null,c("React").createElement(c("XUISpinner.react"),{className:"_3-9c"+(!this.state.photoUploading?" hidden_elem":"")}),c("React").createElement("div",{className:(this.state.photoUploading?"hidden_elem":"")+" _3-96"},c("React").createElement(c("FileInput.react"),{name:"file",multiple:false,ref:"fileInput",accept:"image/*",onChange:this.$CommerceContactMerchantManualPaymentSection2},c("React").createElement(c("XUIButton.react"),{href:{url:"#"},label:this.$CommerceContactMerchantManualPaymentSection3()})))),this.$CommerceContactMerchantManualPaymentSection4())};o.prototype.$CommerceContactMerchantManualPaymentSection4=function(){if(!this.state.receiptPhotoURL)return null;return c("React").createElement(c("Image.react"),{src:this.state.receiptPhotoURL,height:n,width:n})};o.prototype.$CommerceContactMerchantManualPaymentSection3=function(){return this.state.receiptPhotoID?i._("Attach Different Receipt"):i._("Attach Receipt")};o.prototype.$CommerceContactMerchantManualPaymentSection1=function(){return i._("Payment instructions from seller")};o.prototype.$CommerceContactMerchantManualPaymentSection5=function(p){};o.propTypes={paymentOptionDetails:l.object.isRequired,invoiceID:l.string.isRequired,onReceiptUpdated:l.func.isRequired};f.exports=o}),null);
__d("CommerceContactMerchantShippingAddress.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.render=function(){__p&&__p();if(!this.props.address)return null;var l=this.props.address,m=l.care_of,n=l.address_line_one,o=l.address_line_two,p=l.city,q=l.country,r=l.postal_code,s=l.state,t=null;if(o&&r)t=h._("{shipping address address_line_one}, {shipping address address_line_two}, {shipping address city}, {shipping address state}, {shipping address postal code}, {shipping address country}",[h.param("shipping address address_line_one",n),h.param("shipping address address_line_two",o),h.param("shipping address city",p),h.param("shipping address state",s),h.param("shipping address postal code",r),h.param("shipping address country",q)]);else if(o)t=h._("{shipping address address_line_one}, {shipping address address_line_two}, {shipping address city}, {shipping address state}, {shipping address country}",[h.param("shipping address address_line_one",n),h.param("shipping address address_line_two",o),h.param("shipping address city",p),h.param("shipping address state",s),h.param("shipping address country",q)]);else if(r)t=h._("{shipping address address_line_one}, {shipping address city}, {shipping address state}, {shipping address postal code}, {shipping address country}",[h.param("shipping address address_line_one",n),h.param("shipping address city",p),h.param("shipping address state",s),h.param("shipping address postal code",r),h.param("shipping address country",q)]);else t=h._("{shipping address address_line_one}, {shipping address city}, {shipping address state}, {shipping address country}",[h.param("shipping address address_line_one",n),h.param("shipping address city",p),h.param("shipping address state",s),h.param("shipping address country",q)]);return c("React").createElement("div",{className:this.props.className},c("React").createElement("div",null,m),t)};f.exports=k}),null);
__d("P2PCheckoutPriceDetails.react",["cx","fbt","LeftRight.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=i._("Address Required");j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.renderLineItemRow=function(t,u,v){return c("React").createElement("div",{className:"_46ld"},c("React").createElement(c("LeftRight.react"),null,c("React").createElement(c("P2PText.react"),{display:"inline",type:v?"primary":"secondary"},c("React").createElement("span",{className:"_10ba"+(v?" _3a06":"")},t)),c("React").createElement(c("P2PText.react"),{className:"_10ba _46lf"+(!u?" _46lg":""),display:"inline",type:v?"primary":"secondary"},c("React").createElement("span",{className:v?"_3a06":""},u?u:m))))},p}n.prototype.render=function(){return c("React").createElement("div",{className:"_46lh"},this.props.showSubtotalField?this.renderLineItemRow(i._("Subtotal"),this.props.subtotal):null,this.props.showTaxField?this.renderLineItemRow(i._("Tax"),this.props.tax):null,this.props.showShippingField?this.renderLineItemRow(i._("Shipping"),this.props.shipping):null,this.renderLineItemRow(i._("Total"),this.props.total,true))};n.propTypes={shipping:l.string,subtotal:l.string,tax:l.string,total:l.string,showShippingField:l.bool,showSubtotalField:l.bool,showTaxField:l.bool};n.defaultProps={showShippingField:true,showSubtotalField:true,showTaxField:true};f.exports=n}),null);
__d("P2PPlatformContextStore",["Arbiter","ChannelConstants","CurrentUser","EventEmitter","ImmutableObject","Map","MercuryIDs","P2PActions","P2PActionConstants","P2PAPI","P2PChannelType","P2PDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=new(c("Map"))(),k=new(c("Map"))(),l=void 0;h=babelHelpers.inherits(m,c("EventEmitter"));i=h&&h.prototype;function m(){i.constructor.call(this);l=c("P2PDispatcher").register(this.onEventDispatched.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType(c("P2PChannelType").PLATFORM_CONTEXT_NEW),this.handleChannelUpdated.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType(c("P2PChannelType").PLATFORM_CONTEXT_ELIGIBLE_ITEM_UPDATED),this.handleChannelChanged.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType(c("P2PChannelType").PLATFORM_CONTEXT_DISMISSED),this.handleChannelChanged.bind(this))}m.prototype.onEventDispatched=function(n){__p&&__p();var o=n.type,p=n.data;switch(o){case c("P2PActionConstants").PLATFORM_CONTEXT_ADDED:this.handlePlatformContextAdded(p);this.emit("change");break;case c("P2PActionConstants").PLATFORM_CONTEXT_ADDED_ERROR:this.handlePlatformContextAddedError(p);this.emit("change");break;case c("P2PActionConstants").PLATFORM_CONTEXT_SAVE_ERRORS_CLEARED:this.handlePlatformContextSaveErrorsCleared(p);this.emit("change");break;case c("P2PActionConstants").PLATFORM_CONTEXT_BANNER_DISMISSED:this.handlePlatformContextBannerDisimssed(p);this.emit("change");break;case c("P2PActionConstants").PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD:this.handlePlatformContextProductItemSold(p);this.emit("change");break;case c("P2PActionConstants").PLATFORM_CONTEXT_CHANGED:this.handlePlatformContextChanged(p);this.emit("change");break}};m.prototype.handleChannelUpdated=function(n,o){var p=o.obj;c("P2PActions").addPlatformContext(p)};m.prototype.handleChannelChanged=function(n,o){var p=o.obj;c("P2PActions").platformContextChanged(p)};m.prototype.handlePlatformContextAdded=function(n){this.setPlatformContext(n)};m.prototype.handlePlatformContextAddedError=function(n){k.set(n.itemID,n.error)};m.prototype.handlePlatformContextSaveErrorsCleared=function(n){k["delete"](n)};m.prototype.handlePlatformContextChanged=function(n){j.forEach(function(o,p){if(o.id===n.id)this.setPlatformContext(n)}.bind(this))};m.prototype.handlePlatformContextBannerDisimssed=function(n){j.forEach(function(o,p){if(o.id===n){if(this.isViewerSellerForPlatformContext(o))o=c("ImmutableObject").set(o,{banner:c("ImmutableObject").set(o.banner,{shouldShowToSeller:false})});else if(this.isViewerBuyerForPlatformContext(o))o=c("ImmutableObject").set(o,{banner:c("ImmutableObject").set(o.banner,{shouldShowToBuyer:false})});j.set(p,o)}}.bind(this))};m.prototype.handlePlatformContextProductItemSold=function(n){j.forEach(function(o,p){if(o.id===n){o=c("ImmutableObject").set(o,{product:c("ImmutableObject").set(o.product,{isAvailable:false})});j.set(p,o)}})};m.prototype.setPlatformContext=function(n){var o=new(c("ImmutableObject"))(n);o=c("ImmutableObject").set(o,{product:new(c("ImmutableObject"))(n.product)});o=c("ImmutableObject").set(o,{banner:new(c("ImmutableObject"))(n.banner)});j.set(this.getOtherUserIDForPlatformContext(n),o)};m.prototype.shouldShowBanner=function(n){__p&&__p();var o=void 0,p=void 0;if(!n)return false;o=this.getPlatformContextByOtherUserID(n);if(!o){j.set(n,new(c("ImmutableObject"))({}));c("P2PAPI").getPlatformContextByOtherUserID({otherUserID:n});return false}p=o.banner;return!!(this.isViewerSellerForPlatformContext(o)&&p.shouldShowToSeller||this.isViewerBuyerForPlatformContext(o)&&p.shouldShowToBuyer)};m.prototype.isViewerSellerForPlatformContext=function(n){return n.sellerID===c("CurrentUser").getID()};m.prototype.isViewerBuyerForPlatformContext=function(n){return n.buyerID===c("CurrentUser").getID()};m.prototype.getOtherUserIDForPlatformContext=function(n){return this.isViewerSellerForPlatformContext(n)?n.buyerID:n.sellerID};m.prototype.getPlatformContextByOtherUserID=function(n){return j.get(n)};m.prototype.getPlatformContextByID=function(n){__p&&__p();for(var o=j.values(),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(s.id===n)return s}return null};m.prototype.getThreadIDFromPlatformContext=function(n){var o=this.getOtherUserIDForPlatformContext(n);return c("MercuryIDs").getThreadIDFromUserID(o)};m.prototype.getSaveError=function(n){return k.get(n)};m.prototype.getDispatchToken=function(){return l};f.exports=new m()}),null);
__d("P2PPlatformContextProductItemShape",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({description:h.string,formattedAmount:h.string,image:h.string,isAvailable:h.bool,loggingData:h.object,logoImage:h.string,merchantLogo:h.string,name:h.string,rawAmount:h.shape({currency:h.string,amount:h.number}),refURL:h.string});f.exports=i}),null);
__d("P2PPlatformProductItemDetails.react",["P2PPlatformContextProductItemShape","P2PProductItemDetails.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props.item;return c("React").createElement(c("P2PProductItemDetails.react"),{description:l.description,image:l.image,merchantLogo:l.merchantLogo,metadata:this.props.configSelections,name:l.name,refURL:l.refURL,size:this.props.size})};function k(){h.apply(this,arguments)}k.propTypes={configSelections:j.string,item:c("P2PPlatformContextProductItemShape").isRequired,size:j.oneOf(["small","medium"])};k.defaultProps={size:"small"};f.exports=k}),null);
__d("PageProductTransactionOrderStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AWAITING_PAYMENT_METHOD:"awaiting_payment_method",AWAITING_PAYMENT:"awaiting_payment",PAYMENT_SUBMITTED:"payment_submitted",PAYMENT_EXPIRED:"payment_expired",SHIPPED:"shipped",VOIDED:"voided",PENDING_APPROVAL:"pending_approval",PAYMENT_APPROVED:"payment_approved"})}),null);
__d("CommerceContactMerchantReceiptDialog.react",["cx","fbt","CommerceContactMerchantShippingAddress.react","Image.react","P2PActions","P2PAPI","P2PCheckoutPriceDetails.react","P2PDialog.react","P2PDialogBody.react","P2PDialogTitle.react","P2PErrorDialog.react","P2PLoadingMask.react","P2PPlatformContextStore","P2PPlatformProductItemDetails.react","P2PText.react","PageProductTransactionOrderStatus","React","StoreAndPropBasedStateMixin","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=400,n=300,o=c("React").createClass({displayName:"CommerceContactMerchantReceiptDialog",mixins:[c("StoreAndPropBasedStateMixin")(c("P2PPlatformContextStore"))],propTypes:{invoiceID:l.string.isRequired,onDialogToggle:l.func,platformContextID:l.string.isRequired},getInitialState:function q(){return{error:null,invoiceDetails:null,loading:true}},statics:{calculateState:function q(r){return{platformContext:c("P2PPlatformContextStore").getPlatformContextByID(r.platformContextID)}}},componentWillMount:function q(){c("P2PAPI").getCommerceInvoiceDetails({invoiceID:this.props.invoiceID,onError:this.handleGetInvoiceDetailsError,onSuccess:this.handleGetInvoiceDetailsSuccess});c("P2PAPI").getPlatformContextByID({id:this.props.platformContextID})},handleGetInvoiceDetailsSuccess:function q(r){this.setState({invoiceDetails:r,loading:false})},handleGetInvoiceDetailsError:function q(r){this.setState({loading:false,error:r.error})},isUnsuccessfulInvoiceStatus:function q(){var r=this.state.invoiceDetails&&this.state.invoiceDetails.status;if(!r)return false;return r===c("PageProductTransactionOrderStatus").VOIDED||r===c("PageProductTransactionOrderStatus").PAYMENT_EXPIRED},renderShippingAddressSection:function q(){var r=this.state.invoiceDetails.ship_to_address;if(!r)return null;var s=c("React").createElement(c("P2PText.react"),{type:"primary"},c("React").createElement(c("CommerceContactMerchantShippingAddress.react"),{address:r})),t=i._("SHIP TO");return c("React").createElement(p,{content:s,label:t})},renderPaymentStatusSection:function q(){var r=this.state.invoiceDetails.payment&&this.state.invoiceDetails.payment.payment_receipt_display_name;if(!r.__html)r={__html:r};var s=c("React").createElement(c("P2PText.react"),{className:this.isUnsuccessfulInvoiceStatus()?"_xed":"",dangerouslySetInnerHTML:r,key:"paymentStatus",type:"primary"}),t=i._("PAYMENT STATUS"),u=this.state.invoiceDetails.payment.payment_data.receipt_photo_url,v=u?c("React").createElement(c("Image.react"),{className:"_3-8z",key:"receiptImage",src:u,width:n}):null;return c("React").createElement(p,{content:[s,v],label:t})},renderShippingStatusSection:function q(){var r=this.state.invoiceDetails.shipment_status_display_name;if(!r)return null;if(!r.__html)r={__html:r};var s=c("React").createElement(c("P2PText.react"),{dangerouslySetInnerHTML:r,key:"shippingStatus",type:"primary"}),t=i._("SHIPPING STATUS");return c("React").createElement(p,{content:s,label:t})},renderProductDetailsSection:function q(){var r=this.state.platformContext;if(!r||!r.product)return null;var s=c("React").createElement(c("P2PPlatformProductItemDetails.react"),{item:r.product,size:"medium"});return c("React").createElement(p,{content:s})},renderProductPriceSection:function q(){var r=this.state.invoiceDetails,s=r.formatted_subtotal,t=r.formatted_shipping_cost,u=r.formatted_total,v=c("React").createElement(c("P2PCheckoutPriceDetails.react"),{shipping:t,subtotal:s,total:u,showTaxField:false});return c("React").createElement(p,{content:v})},renderOrderNumberSection:function q(){var r=this.props.invoiceID,s=c("React").createElement(c("P2PText.react"),{type:"secondary"},i._("Order #{order_number}",[i.param("order_number",r)]));return c("React").createElement(p,{content:s})},renderReceipt:function q(){if(!this.state.invoiceDetails)return null;return c("React").createElement("div",null,this.renderProductDetailsSection(),this.renderProductPriceSection(),this.renderShippingAddressSection(),this.renderPaymentStatusSection(),this.renderShippingStatusSection(),this.renderOrderNumberSection())},handleClose:function q(){c("P2PActions").hideDialog()},handleToggle:function q(r){!r&&this.handleClose()},render:function q(){if(this.state.error){var r=i._("Problem fetching your receipt");return c("React").createElement(c("P2PErrorDialog.react"),{error:this.state.error,onOKClick:this.handleClose,title:r})}return c("React").createElement(c("P2PDialog.react"),{onToggle:this.props.onDialogToggle||this.handleToggle,repositionOnUpdate:true,width:m},c("React").createElement(c("P2PDialogTitle.react"),null,i._("Receipt")),c("React").createElement(c("P2PDialogBody.react"),{className:"_3dcf"},c("React").createElement(c("P2PLoadingMask.react"),{visible:this.state.loading}),this.renderReceipt()))}});j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.prototype.render=function(){var q=this.props.label?c("React").createElement(c("P2PText.react"),{className:"_3dce",type:"secondary"},this.props.label):null;return c("React").createElement("div",{className:c("joinClasses")("_3dcd",this.props.className)},q,this.props.content)};function p(){j.apply(this,arguments)}p.propTypes={content:l.node,label:l.node};f.exports=o}),null);
__d("FBAccordion.react",["cx","invariant","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$FBAccordion1=function(r){__p&&__p();var s=0,t=this.state?this.state.expandedSectionKey:null,u=null;c("React").Children.forEach(r.children,function(v,w){var x=v.props.expanded;u=t===w?t:u;if(x&&t===null){s===0||i(0);s++;u=w}else if(u===null)u=w});return u}.bind(this),this.$FBAccordion2=function(r){if(this.state.expandedSectionKey!==r)this.setState({expandedSectionKey:r})}.bind(this),this.state={expandedSectionKey:this.$FBAccordion1(this.props)},n}l.prototype.componentWillReceiveProps=function(m){"use strict";var n=this.$FBAccordion1(m);if(this.state.expandedSectionKey!==n)this.setState({expandedSectionKey:n})};l.prototype.render=function(){"use strict";var m=c("React").Children.map(this.props.children,function(n,o){return c("React").cloneElement(n,{isExpanded:this.state.expandedSectionKey===o,onSectionClick:this.$FBAccordion2,sectionKey:o})}.bind(this));return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_5ygd")}),m)};f.exports=l}),null);
__d("FBAccordionSection.react",["cx","React","ShimButton.react","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.onClick=function(){this.props.onSectionClick(this.props.sectionKey);this.props.onClick(this.props.sectionKey)}.bind(this),n}l.prototype.render=function(){"use strict";var m=this.props.maxHeight||"100%";return c("React").createElement("div",{className:"_4r-a"+(this.props.isExpanded?" _3uxn":"")},c("React").createElement(c("ShimButton.react"),{className:"_5yg8",onClick:this.onClick},this.props.header),c("React").createElement("div",{className:"_1flr",style:{maxHeight:this.props.isExpanded?m:0}},this.props.children))};l.propTypes={expanded:k.bool,header:k.node.isRequired,maxHeight:k.number,onClick:k.func};l.defaultProps={expanded:false,onClick:c("emptyFunction")};f.exports=l}),null);
__d("FBCheckbox.react",["cx","Keys","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$FBCheckbox1=function(){if(this.props.disabled)return;if(this.props.onToggle)this.props.onToggle(!this.props.checked)}.bind(this),this.$FBCheckbox2=function(event){switch(event.keyCode){case c("Keys").SPACE:event.preventDefault();this.$FBCheckbox1();break;default:break}}.bind(this),n}l.prototype.render=function(){var m="_kx6"+(this.props.checked?" _kx7":"")+(this.props.disabled?" _kx8":"")+(this.props.hovered?" _kx9":"")+(!this.props.checked?" _kxa":"");return c("React").createElement("div",{"aria-checked":this.props.checked?"true":"false","aria-disabled":this.props.disabled?"true":"false",className:c("joinClasses")(m,this.props.className),onClick:this.$FBCheckbox1,onKeyDown:this.$FBCheckbox2,role:"checkbox",tabIndex:"0"})};l.propTypes={checked:k.bool.isRequired,className:k.string,disabled:k.bool,hovered:k.bool,onToggle:k.func};f.exports=l}),null);
__d("FBConfirmDialog.react",["fbt","React","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogButton.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$FBConfirmDialog1=function(){if(!this.props.shown)return null;return c("React").createElement("div",null,this.props.content)}.bind(this),this.$FBConfirmDialog2=function(){return c("React").createElement(c("XUIDialogButton.react"),{onClick:this.props.onCancel,label:this.props.cancelButtonText?this.props.cancelButtonText:h._("Cancel")})}.bind(this),this.$FBConfirmDialog3=function(){return c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",use:"confirm",onClick:this.props.onConfirm,label:this.props.confirmButtonText?this.props.confirmButtonText:h._("Confirm"),disabled:this.props.disableConfirmButton})}.bind(this),n}l.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),babelHelpers["extends"]({},this.props,{modal:true}),c("React").createElement(c("XUIDialogTitle.react"),null,this.props.title),c("React").createElement(c("XUIDialogBody.react"),null,this.$FBConfirmDialog1()),c("React").createElement(c("XUIDialogFooter.react"),null,this.$FBConfirmDialog2(),this.$FBConfirmDialog3()))};l.propTypes=babelHelpers["extends"]({},c("XUIDialog.react").propTypes,{title:k.node.isRequired,content:k.node.isRequired,onCancel:k.func.isRequired,onConfirm:k.func.isRequired,cancelButtonText:k.node,confirmButtonText:k.node,disableConfirmButton:k.bool});l.defaultProps={width:400,disableConfirmButton:false};f.exports=l}),null);
__d("PopoverMenuContextMinWidth",["cx","CSS","Style","shield"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";this._popoverMenu=j;this._popover=j.getPopover()}i.prototype.enable=function(){"use strict";this._setMenuSubscription=this._popoverMenu.subscribe("setMenu",c("shield")(this._onSetMenu,this))};i.prototype.disable=function(){"use strict";__p&&__p();this._setMenuSubscription.unsubscribe();this._setMenuSubscription=null;if(this._showSubscription){this._showSubscription.unsubscribe();this._showSubscription=null}if(this._menuSubscription){this._menuSubscription.unsubscribe();this._menuSubscription=null}};i.prototype._onSetMenu=function(){"use strict";this._menu=this._popoverMenu.getMenu();this._showSubscription=this._popover.subscribe("show",c("shield")(this._updateWidth,this));var j=this._updateWidth.bind(this);this._menuSubscription=this._menu.subscribe(["change","resize"],function(){setTimeout(j,0)});this._updateWidth()};i.prototype._updateWidth=function(){"use strict";var j=this._menu.getRoot(),k=this._popoverMenu.getTriggerElem(),l=k.offsetWidth;c("Style").set(j,"min-width",l+"px");c("CSS").conditionClass(j,"_575s",l>=j.offsetWidth)};Object.assign(i.prototype,{_setMenuSubscription:null,_showSubscription:null,_menuSubscription:null});f.exports=i}),null);
__d("PopoverMenuOverlappingBorder",["cx","CSS","DOM","Style","shield"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";this._popoverMenu=j;this._popover=j.getPopover();this._triggerElem=j.getTriggerElem()}i.prototype.enable=function(){"use strict";this._setMenuSubscription=this._popoverMenu.subscribe("setMenu",c("shield")(this._onSetMenu,this))};i.prototype.disable=function(){"use strict";this._popoverMenu.unsubscribe(this._setMenuSubscription);this._setMenuSubscription=null;this._removeBorderSubscriptions();this._removeShortBorder()};i.prototype._onSetMenu=function(){"use strict";this._removeBorderSubscriptions();this._menu=this._popoverMenu.getMenu();this._renderShortBorder(this._menu.getRoot());this._showSubscription=this._popover.subscribe("show",c("shield")(this._updateBorder,this));var j=this._updateBorder.bind(this);this._menuSubscription=this._menu.subscribe(["change","resize"],function(){setTimeout(j,0)});this._updateBorder()};i.prototype._updateBorder=function(){"use strict";var j=this._menu.getRoot(),k=this._triggerElem.offsetWidth,l=Math.max(j.offsetWidth-k,0);c("Style").set(this._shortBorder,"width",l+"px")};i.prototype._renderShortBorder=function(j){"use strict";this._shortBorder=c("DOM").create("div",{className:"_54hx"});c("DOM").appendContent(j,this._shortBorder);c("CSS").addClass(j,"_54hy")};i.prototype._removeShortBorder=function(){"use strict";if(this._shortBorder){c("DOM").remove(this._shortBorder);this._shortBorder=null;c("CSS").removeClass(this._popoverMenu.getMenu().getRoot(),"_54hy")}};i.prototype._removeBorderSubscriptions=function(){"use strict";if(this._showSubscription){this._popover.unsubscribe(this._showSubscription);this._showSubscription=null}if(this._menuSubscription){this._menu.unsubscribe(this._menuSubscription);this._menuSubscription=null}};Object.assign(i.prototype,{_shortBorder:null,_setMenuSubscription:null,_showSubscription:null,_menuSubscription:null});f.exports=i}),null);
__d("AbstractSelector.react",["cx","invariant","ContextualLayerAutoFlip","InlineBlock.react","PopoverMenu.react","PopoverMenuContextMinWidth","PopoverMenuOverlappingBorder","React","ReactSelectorUtils","intlList","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes;function k(m,n,o){if(m[n]==null)return;var p=Array.isArray(m[n]);if(m.multiple){if(!p)return new Error("You are trying to set a single value for `"+n+"` but the menu has `multiple` set to true, so it should be an array of values.")}else if(p)return new Error("You are trying to set an array of values for `"+n+"` but the menu has `multiple` set to false, so it should be a single value.")}var l=c("React").createClass({displayName:"AbstractSelector",propTypes:{config:j.object.isRequired,alignh:j.oneOf(["left","center","right"]),name:j.string,overlappingborder:j.bool,onChange:j.func,disabled:j.bool,maxheight:j.number,multiple:j.bool,defaultLabel:j.string,defaultValue:k,value:k,initialValue:k,onReturnWithoutFocusedItem:j.func,onHide:j.func,onShow:j.func},getInitialState:function m(){return{value:this.props.value!=null?this.props.value:this.props.defaultValue!=null?this.props.defaultValue:this.props.initialValue}},setMenuValue:function m(n){this.refs&&this.refs.popover||i(0);this._internalChange=true;this.refs.popover.getMenu().setValue(n);this._internalChange=false},onChange:function m(n,o){__p&&__p();if(this._internalChange)return;if(this.props.value==null){var p=null;if(this.props.multiple)p=o.map(function(q){return q.value});else p=o.value;this.setState({value:p})}else this.setMenuValue(this.props.value);if(this.props.onChange)this.props.onChange(o)},componentWillReceiveProps:function m(n){if(n.value!=null)this.setState({value:n.value});else if(this.props.multiple!==n.multiple)this.setState({value:n.multiple?[this.state.value]:this.state.value[0]})},render:function m(){__p&&__p();var n=this.props.config,o=!this.props.multiple?c("ReactSelectorUtils").processMenuItems(this.props.children,this.state.value):c("ReactSelectorUtils").processMultiMenuItems(this.props.children,this.state.value),p=c("React").cloneElement(n.menu,{children:o.items,className:c("joinClasses")("_575t",n.menu.props.className),maxheight:this.props.maxheight,onChange:this.onChange}),q="",r=null;if(!this.props.multiple){var s=o.selectedItem;q=s.props.label||s.props.children;if(s.props.icon)r=c("React").cloneElement(s.props.icon,{})}else{var t=o.selectedItems;if(!t.length)q=this.props.defaultLabel;else q=c("intlList")(t.map(function(B){return B.props.children}),c("intlList").CONJUNCTIONS.NONE)}var u={label:q,disabled:this.props.disabled};if(r)u.image=r;var v=c("React").cloneElement(n.button,u),w=[c("ContextualLayerAutoFlip")];if(n.layerBehaviors)w=w.concat(n.layerBehaviors);var x=[c("PopoverMenuContextMinWidth")];if(this.props.overlappingborder)x.push(c("PopoverMenuOverlappingBorder"));var y=null;if(this.props.multiple){var z=this.props.name+"[]",A;if(this.state.value)A=this.state.value.map(function(B){return c("React").createElement("input",{key:B,type:"hidden",name:z,value:B})});y=c("React").createElement("div",null,A)}else y=c("React").createElement("input",{type:"hidden",name:this.props.name,value:this.state.value});return c("React").createElement(c("InlineBlock.react"),babelHelpers["extends"]({},this.props,{alignv:"middle",name:null}),c("React").createElement(c("PopoverMenu.react"),{alignh:this.props.alignh,behaviors:x,disabled:this.props.disabled,layerBehaviors:w,menu:p,position:this.props.position,onReturnWithoutFocusedItem:this.props.onReturnWithoutFocusedItem,onHide:this.props.onHide,onShow:this.props.onShow,ref:"popover"},v),y)},showMenu:function m(){this.isMounted()||i(0);this.refs.popover.showPopover()},showAndFocusMenu:function m(){this.isMounted()||i(0);this.refs.popover.showPopover(true)},hideMenu:function m(){this.isMounted()||i(0);this.refs.popover.hidePopover()}});f.exports=l}),null);
__d("XUIButtonGroup.react",["cx","invariant","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";this.validateButtonSize();var n="_51xa"+(this.props.isOverlay?" _51xb":"");return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,n)}),this.props.children)};m.prototype.validateButtonSize=function(){"use strict";__p&&__p();if(!this.props.isOverlay){var n;c("React").Children.forEach(this.props.children,function(o){if(o){o.type.getButtonSize||i(0);var p=o.type.getButtonSize(o.props);if(!n)n=p;else p===n||i(0)}})}};function m(){"use strict";j.apply(this,arguments)}m.propTypes={isOverlay:l.bool};f.exports=m}),null);
__d("XUICheckboxInput.react",["cx","AbstractCheckboxInput.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("AbstractCheckboxInput.react"),babelHelpers["extends"]({},this.props,{ref:function(l){return this.$XUICheckboxInput1=l}.bind(this),className:c("joinClasses")(this.props.className,"_55sg")}),undefined)};k.prototype.focusInput=function(){"use strict";this.$XUICheckboxInput1&&this.$XUICheckboxInput1.focusInput()};k.prototype.blurInput=function(){"use strict";this.$XUICheckboxInput1&&this.$XUICheckboxInput1.blurInput()};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ContextualLayerPositionClassOnContext",["cx","CSS"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(k){"use strict";this._layer=k}i.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("reposition",this._updateClassName.bind(this));if(this._layer.isShown())this._updateClassName()};i.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;if(this._prevClassName){c("CSS").removeClass(this._layer.getContext(),this._prevClassName);this._prevClassName=null}};i.prototype._updateClassName=function(k,l){"use strict";var m=this._layer.getContext(),n=j(l);if(this._prevClassName){if(this._prevClassName===n)return;c("CSS").removeClass(m,this._prevClassName)}c("CSS").addClass(m,n);this._prevClassName=n};function j(k){__p&&__p();var l=k.getAlignment(),m=k.getPosition();if(m==="below")if(l==="left")return"_nk";else if(l==="right")return"_nl";else return"_nm";else if(m==="above")if(l==="left")return"_nn";else if(l==="right")return"_no";else return"_np";else if(m==="left")return"_nq";else return"_nr"}Object.assign(i.prototype,{_subscription:null,_prevClassName:null});f.exports=i}),null);
__d("XUISelectorButton.react",["invariant","React","XUIPopoverButton.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";!this.props.theme||h(0);return c("React").createElement(c("XUIPopoverButton.react"),babelHelpers["extends"]({},this.props,{theme:"dark"}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("XUISelector.react",["invariant","AbstractSelector.react","ContextualLayerPositionClassOnContext","React","ReactXUIMenu","XUISelectorButton.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("ReactXUIMenu").SelectableMenu,j=c("ReactXUIMenu").SelectableItem,k=c("React").PropTypes,l=c("React").createClass({displayName:"ReactXUISelector",propTypes:{customButton:k.element,layerBehaviors:k.array,maxheight:k.number,multiple:k.bool,position:k.oneOf(["above","below","left","right"]),disabled:k.bool,haschevron:k.bool,maxwidth:k.number,size:k.oneOf(["small","medium","large","xlarge","xxlarge"]),suppressed:k.bool,use:k.oneOf(["default","special","confirm"])},statics:{getButtonSize:function m(n){return n.size||"medium"}},getDefaultProps:function m(){return{haschevron:true,layerBehaviors:[],multiple:false}},render:function m(){__p&&__p();var n,o=[];c("React").Children.forEach(this.props.children,function(q){if(q)o.push(q)});if(this.props.customButton)n=this.props.customButton;else if(o[0]&&o[0].type===c("XUISelectorButton.react")){n=o[0];o=o.slice(1)}else n=c("React").createElement(c("XUISelectorButton.react"),{ref:"button",haschevron:this.props.haschevron,disabled:this.props.disabled,use:this.props.use,size:this.props.size,suppressed:this.props.suppressed,maxwidth:this.props.maxwidth});var p={button:n,menu:c("React").createElement(i,{maxheight:this.props.maxheight,multiple:this.props.multiple}),layerBehaviors:this.props.layerBehaviors.concat([c("ContextualLayerPositionClassOnContext")])};return c("React").createElement(c("AbstractSelector.react"),babelHelpers["extends"]({},this.props,{ref:"abstractSelector",config:p}),o)},showMenu:function m(){this.isMounted()||h(0);this.refs.abstractSelector.showMenu()},showAndFocusMenu:function m(){this.isMounted()||h(0);this.refs.abstractSelector.showAndFocusMenu()},hideMenu:function m(){this.isMounted()||h(0);this.refs.abstractSelector.hideMenu()}});l.Option=j;f.exports=l}),null);
__d("XUIRadioButtonGroup.react",["React","XUIButtonGroup.react","RTLKeys","ReactDOM","Focus"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"XUIRadioButtonGroup",propTypes:{onValueChange:h.func,selectedValue:h.any,selectedUse:h.oneOf(["default","special","confirm"]),selectedDepressed:h.bool},componentWillMount:function j(){this.radioChildComponents=[]},render:function j(){var k=this,l=c("React").Children.toArray(this.props.children).some(function(o){return this.props.selectedValue===o.props.value}.bind(this)),m=c("React").Children.map(this.props.children,function(o,p){var q=this.props.selectedValue===o.props.value,r=q&&"selectedDepressed"in this.props?this.props.selectedDepressed:o.props.depressed,s=q?"0":"-1";if(!q&&!l&&p===0)s="0";var t={role:"radio","aria-checked":q?"true":"false",tabIndex:s,onKeyDown:k._onKeyDown},u=babelHelpers["extends"]({onClick:this._getClickHandler(o.props.value,o.props.onClick),use:q&&"selectedUse"in this.props?this.props.selectedUse:o.props.use,depressed:r,ref:function(o){this.radioChildComponents[p]=o}.bind(this)},t);return c("React").cloneElement(o,u)}.bind(this),this),n={role:"radiogroup"};return c("React").createElement(c("XUIButtonGroup.react"),babelHelpers["extends"]({},this.props,n),m)},_getClickHandler:function j(k,l){var m=this.props;return function(){if(m.onValueChange)m.onValueChange(k);if(l)l.apply(this,arguments)}},_onKeyDown:function j(event){__p&&__p();var k=this;switch(Event.getKeyCode(event)){case c("RTLKeys").UP:case c("RTLKeys").getLeft():l(-1);break;case c("RTLKeys").DOWN:case c("RTLKeys").getRight():l(1);break;case c("RTLKeys").SPACE:l(0);break}function l(n){var o=m(n),p=c("React").Children.toArray(k.props.children)[o];k._getClickHandler(p.props.value,p.props.onClick)();var q=c("ReactDOM").findDOMNode(k.radioChildComponents[o]);c("Focus").set(q)}function m(n){var o=k.props,p=c("React").Children.toArray(o.children),q=o.selectedValue,r=p.filter(function(u){return u.props.value===q})[0],s=p.indexOf(r),t=s===-1?0:s+n;if(t<0)t=0;if(t>p.length-1)t=p.length-1;return t}}});f.exports=i}),null);
__d("AbstractStepper.react",["cx","invariant","Event","Focus","Keys","React","ReactDOM","cloneWithProps_DEPRECATED","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m,n=c("React").PropTypes;j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;o.prototype.render=function(){var p=this.props,q=p.children,r=p.className,s=p.beginStep,t=p.endStep,u=p.onKeyDown,v=p.isTwoWay,w=babelHelpers.objectWithoutProperties(p,["children","className","beginStep","endStep","onKeyDown","isTwoWay"]),x=c("React").Children.count(q);s<x||i(0);t<x||i(0);q=c("React").Children.map(q,function(y,z){return c("cloneWithProps_DEPRECATED")(y,babelHelpers["extends"]({ref:z,beginStep:s,endStep:t,isTwoWay:v,index:z,totalSteps:x},w))});r=c("joinClasses")(r,"_3vmz"+(this.props.isReadOnly?" _2d6g":""));return c("React").createElement("div",babelHelpers["extends"]({},w,{className:r}),c("React").createElement("ol",{className:"_3vm-",role:"tablist",onKeyDown:u},q))};function o(){j.apply(this,arguments)}o.propTypes={beginStep:n.number,endStep:n.number,onStepSelected:n.func,isReadOnly:n.bool,isTwoWay:n.bool};o.defaultProps={beginStep:0,endStep:0,onStepSelected:c("emptyFunction"),isReadOnly:false,isTwoWay:false};o.Step=(m=l=function(){__p&&__p();var p,q;p=babelHelpers.inherits(r,c("React").PureComponent);q=p&&p.prototype;function r(){__p&&__p();var s,t;"use strict";for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=q.constructor).call.apply(s,[this].concat(v)),this.onKeyPress=function(x){var y=c("Event").getKeyCode(x);if(y===c("Keys").SPACE||y===c("Keys").RETURN){this.props.onStepSelected(this.props.index);c("Event").prevent(x)}}.bind(this),this.onMouseOver=function(){this.props.onStepHovered(this.props.index)}.bind(this),this.onClick=function(){this.props.onStepSelected(this.props.index)}.bind(this),t}r.prototype.componentDidMount=function(){"use strict";this.$_class1=c("Event").listen(c("ReactDOM").findDOMNode(this),"keypress",this.onKeyPress);this.$_class2=c("Event").listen(c("ReactDOM").findDOMNode(this),"mouseover",this.onMouseOver)};r.prototype.componentWillUnmount=function(){"use strict";this.$_class1.remove();this.$_class2.remove()};r.prototype.focus=function(){"use strict";c("Focus").set(this.$_class3,true)};r.prototype.render=function(){"use strict";var s=this.props,t=s.children,u=s.className,v=s.style,w=s.index,x=s.beginStep,y=s.endStep,z=s.isTwoWay,A=s.totalSteps;u=c("joinClasses")(u,(w===0?"_3vn0":"")+(w===A-1?" _3vn1":"")+" _3vn2");if(z)u=c("joinClasses")(u,(w===x||w===y?"_3vm_":"")+(w>=x&&w<=y?" _3vn3":""));else u=c("joinClasses")(u,(w===y?"_3vm_":"")+(w<y?" _3vn3":""));return c("React").createElement("li",{style:v,className:u,ref:function(B){this.$_class3=B}.bind(this),role:"tab","aria-selected":w===x&&z||w===y,tabIndex:w===y||w===x&&z?0:-1,onClick:this.onClick},t,this.props.isReadOnly?null:c("React").createElement("div",{className:"_28zg"}))};return r}(),l.propTypes={beginStep:n.number,endStep:n.number,isReadOnly:n.bool,isTwoWay:n.bool,index:n.number,onStepSelected:n.func,onStepHovered:n.func,totalSteps:n.number},l.defaultProps={onStepSelected:c("emptyFunction"),onStepHovered:c("emptyFunction")},m);f.exports=o}),null);
__d("StepperAnimation",["invariant","Animation","mixInEventEmitter"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={done:true,go:true},j=function j(n){!n||h(0)};function k(n){"use strict";this.$StepperAnimation1=new(c("Animation"))(n);this.$StepperAnimation1.ondone(this.emit.bind(this,"done"));this.__fired__=false}k.prototype.from=function(){"use strict";this.$StepperAnimation1.from.apply(this.$StepperAnimation1,arguments);return this};k.prototype.to=function(){"use strict";this.$StepperAnimation1.to.apply(this.$StepperAnimation1,arguments);return this};k.prototype.blind=function(){"use strict";this.$StepperAnimation1.blind.apply(this.$StepperAnimation1,arguments);return this};k.prototype.ease=function(){"use strict";this.$StepperAnimation1.ease.apply(this.$StepperAnimation1,arguments);return this};k.prototype.go=function(){"use strict";j(this.__fired__);this.__fired__=true;this.$StepperAnimation1.go();this.emit("go");return this};k.prototype.checkpoint=function(){"use strict";this.$StepperAnimation1.checkpoint.apply(this.$StepperAnimation1,arguments);return this};k.prototype.show=function(){"use strict";this.$StepperAnimation1.show.apply(this.$StepperAnimation1,arguments);return this};k.prototype.duration=function(){"use strict";this.$StepperAnimation1.duration.apply(this.$StepperAnimation1,arguments);return this};k.prototype.stop=function(){"use strict";this.$StepperAnimation1.stop.apply(this.$StepperAnimation1,arguments);return this};k.ease=c("Animation").ease;function l(n){"use strict";__p&&__p();this.$SerialAnimations1=n||[];this.$SerialAnimations2=0;for(var o=0,p=n.length;o<p;o++){var q=n[o+1];if(q)n[o].addListener("done",q.go.bind(q))}if(this.$SerialAnimations1.length){var r=this.emit.bind(this,"go");this.$SerialAnimations1[0].addListener("go",r);var s=this.emit.bind(this,"done");this.$SerialAnimations1.slice(-1)[0].addListener("done",s)}}l.prototype.go=function(){"use strict";j(this.__fired__);this.__fired__=true;this.$SerialAnimations1.length&&this.$SerialAnimations1[0].go();this.emit("go");return this};l.prototype.stop=function(){"use strict";for(var n=0,o=this.$SerialAnimations1.length;n<o;n++)this.$SerialAnimations1[n].stop.apply(this.$SerialAnimations1[n],arguments);return this};l.prototype.checkpoint=function(){"use strict";for(var n=0,o=this.$SerialAnimations1.length;n<o;n++)this.$SerialAnimations1[n].checkpoint.apply(this.$SerialAnimations1[n],arguments);return this};l.prototype.duration=function(){"use strict";for(var n=0,o=this.$SerialAnimations1.length;n<o;n++)this.$SerialAnimations1[n].duration.apply(this.$SerialAnimations1[n],arguments);return this};function m(n){"use strict";this.$ParallelAnimations1=n||[];this.$ParallelAnimations2=0;for(var o=0;o<n.length;o++)n[o].addListener("done",this.$ParallelAnimations3.bind(this))}m.prototype.$ParallelAnimations3=function(){"use strict";if(++this.$ParallelAnimations2===this.$ParallelAnimations1.length)this.emit("done")};m.prototype.go=function(){"use strict";j(this.__fired__);this.__fired__=true;for(var n=0;n<this.$ParallelAnimations1.length;n++)this.$ParallelAnimations1[n].go();this.emit("go");return this};m.prototype.stop=function(){"use strict";for(var n=0,o=this.$ParallelAnimations1.length;n<o;n++)this.$ParallelAnimations1[n].stop.apply(this.$ParallelAnimations1[n],arguments);return this};m.prototype.checkpoint=function(){"use strict";for(var n=0,o=this.$ParallelAnimations1.length;n<o;n++)this.$ParallelAnimations1[n].checkpoint.apply(this.$ParallelAnimations1[n],arguments);return this};m.prototype.duration=function(){"use strict";for(var n=0,o=this.$ParallelAnimations1.length;n<o;n++)this.$ParallelAnimations1[n].duration.apply(this.$ParallelAnimations1[n],arguments);return this};c("mixInEventEmitter")(k,i);c("mixInEventEmitter")(l,i);c("mixInEventEmitter")(m,i);k.Serial=l;k.Parallel=m;f.exports=k}),null);
__d("XUIStepperAnimator",["DOM","DOMClone","StepperAnimation","ArbiterMixin","Style","curry","mixin"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;function j(q){if(q.offsetParent)return parseInt(c("Style").get(q,"width"),10);return 0}var k=500,l=2,m=200,n=300,o=200;h=babelHelpers.inherits(p,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function p(q){i.constructor.call(this);this.$XUIStepperAnimator1=null;this.setConfig(q)}p.prototype.setConfig=function(q){var r=q.animateMount,s=q.animateTransition,t=q.transitionAnimationDuration;this.$XUIStepperAnimator2=r;this.$XUIStepperAnimator3=s;this.$XUIStepperAnimator4=t};p.prototype.mountAnimator=function(q){var r=q.steps,s=q.toStep;if(this.$XUIStepperAnimator2)return this.$XUIStepperAnimator5(r,s);else return this.$XUIStepperAnimator6(r,s)};p.prototype.transitionAnimator=function(q){var r=q.steps,s=q.toStep;this.$XUIStepperAnimator1&&this.$XUIStepperAnimator1.stop();if(this.$XUIStepperAnimator3){this.$XUIStepperAnimator1=this.$XUIStepperAnimator7(r,s,this.$XUIStepperAnimator4);return this.$XUIStepperAnimator1}else return this.$XUIStepperAnimator6(r,s)};p.prototype.blinkAnimator=function(q){__p&&__p();var r=q.steps,s=q.index,t=q.delay,u=r[s].circle,v=[],w=Object.assign({},u.style),x=j(u),y=x*2,z=parseInt(c("Style").get(u,"marginLeft"),10),A=u.offsetLeft-z,B=A-x/2,C=parseInt(c("Style").get(u,"marginTop"),10),D=u.offsetTop-C,E=D-x/2,F=c("DOMClone").deepClone(u);F.removeAttribute("data-reactid");c("Style").set(F,"position","absolute");c("Style").set(F,"left",A+"px");c("Style").set(F,"top",D+"px");c("Style").set(F,"pointer-events","none");for(var G=0;G<l;G++)v.push(new(c("StepperAnimation"))(F).from("top",D).to("top",E).from("left",A).to("left",B).from("height",x).to("height",y).from("line-height",x).to("line-height",y).from("width",x).to("width",y).duration(100),new(c("StepperAnimation"))(F).from("top",E).to("top",D).from("left",B).to("left",A).from("height",y).to("height",x).from("line-height",y).to("line-height",x).from("width",y).to("width",x).duration(150));var H=new(c("StepperAnimation").Serial)(v);H.addListener("done",function(){c("DOM").remove(F);Object.assign(u.style,w)});setTimeout(function(){c("Style").set(u,"visibility","hidden");c("DOM").insertAfter(u,F);H.go()},t?k:0);return H};p.prototype.$XUIStepperAnimator5=function(q,r){this.$XUIStepperAnimator8(q);this.$XUIStepperAnimator9(q,o);this.$XUIStepperAnimator10(q,r,o)};p.prototype.$XUIStepperAnimator10=function(q,r,s){__p&&__p();var t=[],u=this.$XUIStepperAnimator11(q,r),v=u.total,w=s/v;q.forEach(function(x){return[x.leftConnector,x.rightConnector].forEach(function(y,z){if(y.offsetParent){var A=j(y);c("Style").set(y,"width",0);t.push(this.$XUIStepperAnimator12(A,y,A*w))}}.bind(this))}.bind(this));setTimeout(function(){var x=new(c("StepperAnimation").Serial)(t);x.addListener("done",function(){this.transitionAnimator({steps:q,toStep:r})}.bind(this));x.go()}.bind(this),n)};p.prototype.$XUIStepperAnimator8=function(q){q.map(function(r){var s=r.circle,t=j(s),u=parseInt(c("Style").get(s,"marginLeft"),10),v=parseInt(c("Style").get(s,"marginTop"),10),w=parseInt(c("Style").get(s,"opacity"),10),x=Object.assign({},s.style),y=new(c("StepperAnimation"))(r.circle).from("height",t*4).to("height",t).from("width",t*4).to("width",t).from("margin-left",u-t*1.5).to("margin-left",u).from("margin-top",v-t*1.5).to("margin-top",v).from("opacity",0).to("opacity",w||1).duration(m);y.addListener("done",function(){Object.assign(s.style,x)});y.go()})};p.prototype.$XUIStepperAnimator9=function(q,r){var s=q.map(function(t){var u=t.label,v=Object.assign({},u.style),w=parseInt(c("Style").get(u,"marginTop"),10),x=parseInt(c("Style").get(u,"marginBottom"),10);c("Style").set(u,"marginTop",w+11+"px");c("Style").set(u,"marginBottom",x-11+"px");var y=new(c("StepperAnimation"))(u).from("marginTop",w+11).to("marginTop",w).from("marginBottom",x-11).to("marginBottom",x);y.addListener("done",function(){Object.assign(u.style,v)});return y});new(c("StepperAnimation").Parallel)(s).duration(r).go()};p.prototype.$XUIStepperAnimator7=function(q,r,s){var t=this.$XUIStepperAnimator11(q,r),u=t.currentPosition,v=t.toPosition,w=t.stepPositions,x=Math.abs(v-u),y=s/x;if(v>u)return this.$XUIStepperAnimator13(q,w,u,v,y);else return this.$XUIStepperAnimator14(q,w,u,v,y)};p.prototype.$XUIStepperAnimator13=function(q,r,s,t,u){__p&&__p();var v=[];for(var w=0,x=q.length;w<x;w++){var y=r[w];if(y.middle<=t)if(y.leftBarDistanceToAnimate)v.push(this.$XUIStepperAnimator12(y.middle-y.start,q[w].leftConnectorBar,y.leftBarDistanceToAnimate*u,c("curry")(function(w){this.inform("currentStep",w)}.bind(this),w)));if(y.end<=t)if(y.rightBarDistanceToAnimate)v.push(this.$XUIStepperAnimator12(y.end-y.middle,q[w].rightConnectorBar,y.rightBarDistanceToAnimate*u))}return new(c("StepperAnimation").Serial)(v).go()};p.prototype.$XUIStepperAnimator14=function(q,r,s,t,u){__p&&__p();var v=[];for(var w=q.length-1;w>=0;w--){var x=r[w];if(x.middle>=t)v.push(this.$XUIStepperAnimator12(0,q[w].rightConnectorBar,x.rightBarDistanceToAnimate*u,c("curry")(function(w){this.inform("currentStep",w)}.bind(this),w)));if(x.start>=t)v.push(this.$XUIStepperAnimator12(0,q[w].leftConnectorBar,x.leftBarDistanceToAnimate*u))}return new(c("StepperAnimation").Serial)(v).go()};p.prototype.$XUIStepperAnimator12=function(q,r,s,t){var u=new(c("StepperAnimation"))(r);if(q!==0)u.addListener("done",function(){c("Style").set(r,"width","100%")});u.to("width",q).duration(s);if(t)u.addListener("done",t);return u};p.prototype.$XUIStepperAnimator6=function(q,r){__p&&__p();for(var s=0,t=r;s<t;s++){c("Style").set(q[s].leftConnectorBar,"width","100%");c("Style").set(q[s].rightConnectorBar,"width","100%")}c("Style").set(q[r].leftConnectorBar,"width","100%");c("Style").set(q[r].rightConnectorBar,"width","0%");for(var u=r+1,v=q.length;u<v;u++){c("Style").set(q[u].leftConnectorBar,"width","0%");c("Style").set(q[u].rightConnectorBar,"width","0%")}this.inform("currentStep",r)};p.prototype.$XUIStepperAnimator11=function(q,r){__p&&__p();var s=0,t=0,u=0,v=[];for(var w=0,x=q.length;w<x;w++){var y=q[w],z=j(y.leftConnector),A=j(y.leftConnectorBar),B=j(y.rightConnector),C=j(y.rightConnectorBar),D=0,E=0;if(w<r){t+=z;t+=B}if(r===w)t+=z;var F=u;s+=A;u+=z;var G=u;s+=C;u+=B;var H=u;if(t>F)D=z-A;else D=A;if(t>G)E=B-C;else E=C;v.push({start:F,middle:G,end:H,leftBarDistanceToAnimate:D,rightBarDistanceToAnimate:E})}return{currentPosition:s,total:u,toPosition:t,stepPositions:v}};f.exports=p}),null);
__d("XUIStepper.react",["cx","fbt","AbstractStepper.react","Event","React","ReactDOM","RTLKeys","XUIStepperAnimator","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m,n,o,p=c("AbstractStepper.react").Step,q=c("React").PropTypes,r=20;j=babelHelpers.inherits(s,c("React").PureComponent);k=j&&j.prototype;function s(v){k.constructor.call(this,v);t.call(this);var w=v.animator;if(!w)w=new(c("XUIStepperAnimator"))({animateMount:false,animateTransition:v.animated,transitionAnimationDuration:100});this.state={animator:w,animationStep:0}}s.prototype.componentWillMount=function(){this.$XUIStepper4(this.state.animator)};s.prototype.componentWillUnmount=function(){this.$XUIStepper5(this.state.animator)};s.prototype.componentWillReceiveProps=function(v){this.$XUIStepper2=v.currentStep};s.prototype.componentWillUpdate=function(v){__p&&__p();if(v.animator!==this.props.animator)this.setState({animator:v.animator});if(!v.animated&&this.props.animated)this.setState({animator:new(c("XUIStepperAnimator"))({animateMount:false,animateTransition:false})});if(!this.props.animated&&v.animated){var w=this.props.animator;if(!w)w=new(c("XUIStepperAnimator"))({animateMount:false,animateTransition:true});this.setState({animator:w})}};s.prototype.componentDidUpdate=function(v,w){var x=v.currentStep,y=this.props.currentStep,z=this.state.animator;if(w.animator!==this.state.animator){this.$XUIStepper5(w.animator);this.$XUIStepper4(z)}if(x!==y&&z)z.transitionAnimator(babelHelpers["extends"]({},this.$XUIStepper7(),{toStep:y}))};s.prototype.componentDidMount=function(){if(this.state.animator)this.state.animator.mountAnimator(babelHelpers["extends"]({},this.$XUIStepper7(),{toStep:this.props.currentStep}))};s.prototype.$XUIStepper9=function(){var v=this.refs.Stepper.refs[this.$XUIStepper2];if(v.stepEl)v.stepEl.focus();this.$XUIStepper3=true};s.prototype.render=function(){var v=this.props,w=v.className,x=babelHelpers.objectWithoutProperties(v,["className"]);w=c("joinClasses")(w,"_38st"+(x.numbered?" _38su":"")+(x.animated?" _38sv":"")+(x.size==="small"?" _38sw":"")+(x.size==="medium"?" _38sx":"")+(x.size==="large"?" _38sy":"")+(x.size==="xlarge"?" _38sz":""));return c("React").createElement(c("AbstractStepper.react"),babelHelpers["extends"]({ref:"Stepper"},x,{endStep:this.state.animationStep>=c("React").Children.count(this.props.children)?this.props.currentStep:this.state.animationStep,className:w,onBlur:this.$XUIStepper11,onFocus:this.$XUIStepper12,onKeyDown:this.$XUIStepper13}))};s.propTypes=babelHelpers["extends"]({},c("AbstractStepper.react").propTypes,{animated:q.bool,animator:q.shape({mountAnimator:q.func,transitionAnimator:q.func,blinkAnimator:q.func}),numbered:q.bool,checked:q.bool,size:q.oneOf(["small","medium","large","xlarge"])});s.defaultProps={animated:true,animator:null,numbered:false,currentStep:0,checked:false,size:"medium"};var t=function t(){__p&&__p();this.$XUIStepper5=function(v){v.unsubscribe(this.$XUIStepper6);this.$XUIStepper6=null}.bind(this);this.$XUIStepper4=function(v){this.$XUIStepper6=v.subscribe("currentStep",function(w,x){this.setState({animationStep:x})}.bind(this))}.bind(this);this.blinkDot=function(v){if(!this.$XUIStepper8){this.$XUIStepper8=this.state.animator.blinkAnimator(babelHelpers["extends"]({},this.$XUIStepper7(),{index:v,delay:v!==this.props.currentStep}));this.$XUIStepper8.addListener("done",function(){this.$XUIStepper8=null}.bind(this))}}.bind(this);this.$XUIStepper7=function(){var v=c("React").Children.count(this.props.children),w=[];for(var x=0,y=v;x<y;x++)w.push(this.refs.Stepper.refs[x]);return{steps:w.map(function(z){return{circle:c("ReactDOM").findDOMNode(z.refs.circle),label:c("ReactDOM").findDOMNode(z.refs.label),leftConnector:c("ReactDOM").findDOMNode(z.refs.leftConnector.refs.bgBar),leftConnectorBar:c("ReactDOM").findDOMNode(z.refs.leftConnector.refs.fgBar),rightConnector:c("ReactDOM").findDOMNode(z.refs.rightConnector.refs.bgBar),rightConnectorBar:c("ReactDOM").findDOMNode(z.refs.rightConnector.refs.fgBar)}})}}.bind(this);this.$XUIStepper10=function(){this.$XUIStepper2=null;this.$XUIStepper3=false}.bind(this);this.$XUIStepper11=function(event){this.$XUIStepper1=setTimeout(this.$XUIStepper10,r)}.bind(this);this.$XUIStepper12=function(){if(this.props.isReadOnly)return;clearTimeout(this.$XUIStepper1);if(!this.$XUIStepper3){this.$XUIStepper2=this.props.currentStep;this.$XUIStepper3=true}}.bind(this);this.$XUIStepper13=function(event){__p&&__p();if(this.props.isReadOnly)return;var v=c("Event").getKeyCode(event);switch(v){case c("RTLKeys").UP:case c("RTLKeys").getRight():case c("RTLKeys").DOWN:case c("RTLKeys").getLeft():var w=c("React").Children.count(this.props.children),x=this.$XUIStepper2,y=v===c("RTLKeys").UP||v===c("RTLKeys").getLeft(),z=y?-1:1,A=Math.min(Math.max(x+z,0),w-1);if(A!==x){this.$XUIStepper2=A;this.$XUIStepper9()}c("Event").prevent(event);break;case c("RTLKeys").TAB:this.$XUIStepper3=false;break}}.bind(this)};s.Step=(m=l=function(){__p&&__p();var v,w;v=babelHelpers.inherits(x,c("React").PureComponent);w=v&&v.prototype;x.prototype.render=function(){"use strict";var y=this.props,z=y.children,A=y.className,B=babelHelpers.objectWithoutProperties(y,["children","className"]);A=c("joinClasses")(A,"_38s-");var C=B.index===B.totalSteps-1,D=B.index===0,E=false,F=false,G=void 0;if(B.checked&&(B.index<B.currentStep||B.alwaysChecked))G=c("React").createElement("div",{className:"_38s_"});else G=B.numbered?i._("{Step number (e.g. 1, 2, 3)}",[i.param("Step number (e.g. 1, 2, 3)",B.index+1)]):"";return c("React").createElement(p,babelHelpers["extends"]({},B,{endStep:B.currentStep,ref:function(H){this.stepEl=H}.bind(this),className:A}),c("React").createElement(u,{ref:"leftConnector",on:F,side:"right",className:"_38t1"+(D?" hidden_elem":"")}),c("React").createElement(u,{ref:"rightConnector",on:E,side:"left",className:"_38t2"+(C?" hidden_elem":"")}),c("React").createElement("div",{className:"_38t3"},c("React").createElement("div",{className:"_38t4"},c("React").createElement("span",{className:"_38t5"+(B.index<=B.currentStep?" _38t6":""),ref:"circle"},c("React").createElement("div",{className:"_38t7"}),c("React").createElement("div",{className:"_38t8"}),c("React").createElement("div",{className:"_38t9"}),c("React").createElement("span",{className:"_38ta",ref:"circleContent"},G)))),c("React").createElement("div",{ref:"label",className:"_jkl"},z))};function x(){"use strict";v.apply(this,arguments)}return x}(),l.propTypes={currentStep:q.number,index:q.number,numbered:q.bool,checked:q.bool,alwaysChecked:q.bool},m);n=babelHelpers.inherits(u,c("React").PureComponent);o=n&&n.prototype;u.prototype.render=function(){var v=this.props,w=v.className,x=babelHelpers.objectWithoutProperties(v,["className"]);w=c("joinClasses")(w,"_38tb");var y=c("React").createElement("div",{className:"_38tc"+(x.side==="left"?" _38td":"")+(x.side==="right"?" _38te":"")});return c("React").createElement("div",{className:w},c("React").createElement("div",{className:"_38tl"},c("React").createElement("div",{className:"_38tg",ref:"bgBar"},y,c("React").createElement("div",{className:"_38ti"},c("React").createElement("div",{className:"_38tj"}),c("React").createElement("div",{className:"_38tk"}))),c("React").createElement("div",{className:"_38tf _38tg _38th",ref:"fgBar"},y,c("React").createElement("div",{className:"_38ti"},c("React").createElement("div",{className:"_38tj"}),c("React").createElement("div",{className:"_38tk"})))))};function u(){n.apply(this,arguments)}u.propTypes={side:q.oneOf(["left","right"])};f.exports=s}),null);
__d("FBPaymentsFormFieldBase.react",["React","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(l){__p&&__p();i.constructor.call(this,l);this.onChange=function(m){var n=m.value;if(!n&&m.target)n=m.target.value;var o=this.props.config;if(o.normalizeOnChange)n=this.normalizeInput(n);var p=this.validateInput(n);this.props.onChange(this.props.name,n,p)}.bind(this);this.onBlur=function(m){this.setState({focused:false});var n=m.target.value;n=this.normalizeInput(n);var o=this.validateInput(n);this.props.onChange(this.props.name,n,o);this.props.onBlur(this.props.name,n,o)}.bind(this);this.onFocus=function(m){this.setState({focused:true});this.props.onFocus()}.bind(this);this.normalizeInput=function(m){__p&&__p();var n=this.props.config.normalizers;if(!n)return m;var o=m;for(var p=n,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s;o=t(o)}return o}.bind(this);this.validateInput=function(m){__p&&__p();var n=this.props.config.validations,o={isValid:true,errorMessage:null};if(!n)return o;var p=void 0;for(var q=n,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;p=u.validator(m);if(!p){var v={isValid:false,errorMessage:u.errorMessage};return v}}return o}.bind(this);this.triggerValidation=function(){var m=this.props.value;if(m){var n=this.validateInput(m);this.props.onChange(this.props.name,m,n)}}.bind(this);this.state={focused:false}}k.prototype.componentWillMount=function(){this.props.onWillMount(this.props.name,this.props)};k.prototype.componentWillUnmount=function(){this.props.onWillUnmount(this.props.name)};k.prototype.getDisplayErrorIfBlurred=function(){if(this.state.focused||!this.props.errorMessage)return null;return c("React").createElement("span",null,this.props.errorMessage)};k.prototype.getOtherProps=function(){var l=this.props,m=l.className,n=l.classNameOnInput,o=l.config,p=l.errorMessage,q=l.fieldType,r=l.isDisabled,s=l.label,t=l.name,u=l.onChange,v=l.required,w=babelHelpers.objectWithoutProperties(l,["className","classNameOnInput","config","errorMessage","fieldType","isDisabled","label","name","onChange","required"]);return w};k.propTypes={config:j.shape({normalizeOnChange:j.bool,normalizers:j.arrayOf(j.func),validations:j.arrayOf(j.shape({errorMessage:j.node.isRequired,validator:j.func.isRequired}))}),enableFloatingLabel:j.bool,errorMessage:j.node,fieldType:j.oneOf(["textInput","textArea"]),label:j.node,name:j.string.isRequired,onChange:j.func.isRequired,required:j.bool};k.defaultProps={config:{},fieldType:"textInput",onBlur:c("emptyFunction"),onChange:c("emptyFunction"),onFocus:c("emptyFunction"),onWillMount:c("emptyFunction"),onWillUnmount:c("emptyFunction"),enableFloatingLabel:false};f.exports=k}),null);
__d("FBPaymentsFormField.react",["cx","AbstractTextArea.react","FBPaymentsFormFieldBase.react","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIError.react","XUIGrayText.react","XUITextInput.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsFormFieldBase.react"));j=i&&i.prototype;k.prototype.$FBPaymentsFormField2=function(){return c("React").createElement(c("XUIError.react"),{xuiError:this.getDisplayErrorIfBlurred()},c("React").createElement(c("AbstractTextArea.react"),babelHelpers["extends"]({},this.getOtherProps(),{className:c("joinClasses")("_2k0o"+(this.state.focused?" _3btm":""),this.props.classNameOnInput),onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus,ref:function(l){return this.$FBPaymentsFormField1=l}.bind(this)})))};k.prototype.$FBPaymentsFormField3=function(){return c("React").createElement(c("XUITextInput.react"),babelHelpers["extends"]({},this.getOtherProps(),{className:c("joinClasses")("_43ec"+(this.state.focused?" _3btm":""),this.props.classNameOnInput),onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus,ref:function(l){return this.$FBPaymentsFormField1=l}.bind(this),xuiError:this.getDisplayErrorIfBlurred()}))};k.prototype.renderHoverMessage=function(){if(!this.props.hoverMessage||this.props.errorMessage)return null;return c("React").createElement(c("XUIContextualDialog.react"),{contextRef:function(){return this.$FBPaymentsFormField1}.bind(this),hoverContextRef:function(){return this.$FBPaymentsFormField1}.bind(this),position:"right"},c("React").createElement(c("XUIContextualDialogBody.react"),null,this.props.hoverMessage))};k.prototype.render=function(){var l=this.props.fieldType==="textInput"?this.$FBPaymentsFormField3():this.$FBPaymentsFormField2(),m=this.props.label?c("React").createElement(c("XUIGrayText.react"),{className:"_3yor",display:"block",shade:"medium",size:"small"},this.props.label):null,n=c("joinClasses")("_3btn _43eb",this.props.className);if(this.props.inline)return c("React").createElement("span",{className:n},l,this.renderHoverMessage());return c("React").createElement("div",{className:n},m,l,this.renderHoverMessage())};function k(){i.apply(this,arguments)}k.propTypes=babelHelpers["extends"]({},c("FBPaymentsFormFieldBase.react").propTypes,c("XUITextInput.react").propTypes);k.defaultProps=babelHelpers["extends"]({},c("FBPaymentsFormFieldBase.react").defaultProps,{height:"tall"});f.exports=k}),null);
__d("FBPaymentsFormFieldInputConfigs",["fbt","FBPaymentsNormalizers","FBPaymentsValidators"],(function a(b,c,d,e,f,g,h){"use strict";var i=9,j=4,k=17,l=2,m=5,n={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripWhitespace],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Please enter your email address.")},{validator:c("FBPaymentsValidators").isEmailAddress,errorMessage:h._("Please enter a valid email address.")}]},o={normalizers:[c("FBPaymentsNormalizers").trim],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Please enter your name.")},{validator:c("FBPaymentsValidators").minLength(2),errorMessage:h._("Your name must contain at least 2 letters.")}]},p={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumeric],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Please enter your phone number.")}]},q={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumeric,c("FBPaymentsNormalizers").truncate(i)],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Please enter your bank routing number.")},{validator:c("FBPaymentsValidators").exactLength(i),errorMessage:h._("Your bank routing number must be exactly 9 digits.")}]},r={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumeric,c("FBPaymentsNormalizers").truncate(k)],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Please enter your bank account number.")},{validator:c("FBPaymentsValidators").minLength(j),errorMessage:h._("Your bank account number must have at least 4 digits.")},{validator:c("FBPaymentsValidators").maxLength(k),errorMessage:h._("Your bank account number must have at most 17 digits.")}]},s={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonAlphabetic,c("FBPaymentsNormalizers").toUpperCase,c("FBPaymentsNormalizers").truncate(l)],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Please enter your state.")},{validator:c("FBPaymentsValidators").exactLength(l),errorMessage:h._("Please enter a valid state.")}]},t={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumeric,c("FBPaymentsNormalizers").truncate(m)],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Please enter your ZIP code.")},{validator:c("FBPaymentsValidators").exactLength(m),errorMessage:h._("Please enter a 5 digit ZIP code.")}]},u={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumericAndDot],validations:[{validator:c("FBPaymentsValidators").isPrice,errorMessage:h._("Please enter a valid price.")}]},v={EMAIL_INPUT_CONFIG:n,NAME_INPUT_CONFIG:o,PHONE_NUMBER_INPUT_CONFIG:p,BANK_ROUTING_NUMBER_INPUT_CONFIG:q,BANK_ACCOUNT_NUMBER_INPUT_CONFIG:r,ADDRESS_STATE_INPUT_CONFIG:s,ADDRESS_ZIP_INPUT_CONFIG:t,PRICE_INPUT_CONFIG:u};f.exports=v}),null);
__d("FBPaymentsPriceFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.getPlaceholderText=function(){return h._("Price")};k.prototype.render=function(){return c("React").createElement(c("FBPaymentsFormField.react"),babelHelpers["extends"]({config:c("FBPaymentsFormFieldInputConfigs").PRICE_INPUT_CONFIG,placeholder:this.getPlaceholderText()},this.props))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsCheckoutConfigurationTypes",["FBPaymentsCheckoutConstants","Map","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("FBPaymentsCheckoutConstants").Extensions,j=c("FBPaymentsCheckoutConstants").OptionPriceModel,k=h.shape({paymentItemType:h.string.isRequired,receiverId:h.string,orderId:h.string,action:h.string.isRequired,extraData:h.object,isFreePurchase:h.bool,payCallback:h.func}),l=h.shape({title:h.node.isRequired,subtitle:h.node,imageURL:h.string}),m=h.shape({description:h.node,participant:l}),n=h.shape({title:h.string.isRequired,subtitle:h.string,subsubtitle:h.string,merchantName:h.string,merchantText:h.string,itemImageUrl:h.string}),o=h.shape({currency:h.string.isRequired,amount:h.string.isRequired});function p(R){return function(){return R.apply(this,arguments)}}var q=p(function(){return r}),r=h.shape({label:h.string.isRequired,priceList:h.arrayOf(q),price:o,userFacingReason:h.node,zeroAmountReason:h.node}),s=h.arrayOf(r),t=h.shape({identifier:h.oneOf([i.CONTACT_NAME]).isRequired}),u=h.shape({addEmailNuxCta:h.node,addEmailPuxCta:h.node,emailLabel:h.node,formFooterMessage:h.node,fieldPlaceholder:h.node,showEmailLabelForMsiteNux:h.bool}),v=h.shape({identifier:h.oneOf([i.CONTACT_EMAIL]).isRequired,customContent:u}),w=h.shape({identifier:h.oneOf([i.CONTACT_PHONE]).isRequired}),x=h.shape({identifier:h.oneOf([i.NOTE]).isRequired,length:h.number,optional:h.bool,placeholderText:h.node}),y=h.shape({allowChangeBillingCountry:h.bool,identifier:h.oneOf([i.PAYMENT_METHOD]).isRequired}),z=h.shape({identifier:h.oneOf([i.PIN_VERIFICATION]).isRequired}),A=h.shape({addAddressNuxCta:h.node,addAddressPuxCta:h.node,addressLabel:h.node,formFooterMessage:h.node,formTitle:h.node,showAddressLabelForMsiteNux:h.bool,hideExtension:h.bool,useNewAddressForm:h.bool}),B=h.shape({identifier:h.oneOf([i.SHIPPING_ADDRESS]).isRequired,customContent:A}),C=h.shape({identifier:h.oneOf([i.PRICE_SELECTOR]).isRequired}),D=h.shape({identifier:h.oneOf([i.FREQUENCY_SELECTOR]).isRequired}),E=h.shape({"class":h.func.isRequired,extensionKey:h.string.isRequired,identifier:h.oneOf([i.CUSTOM_EXTENSION]).isRequired,onChange:h.func,extraProps:h.object}),F=h.shape({optionId:h.string.isRequired,optionPriceList:s,optionTitle:h.string.isRequired}),G=h.shape({identifier:h.string.isRequired,currency:h.string,length:h.number,optional:h.bool,placeholderText:h.string,prefilledContent:h.string,priceTag:h.string,type:h.string.isRequired}),H=h.shape({actionableTitle:h.string.isRequired,disclaimer:h.string,formFields:h.object,title:h.string.isRequired}),I=h.shape({actionableTitle:h.string.isRequired,allowsMultipleSelection:h.bool,collectedDataKey:h.string.isRequired,customOption:H,identifier:h.oneOf([i.CUSTOM_OPTIONS]).isRequired,optionListTitle:h.string.isRequired,options:h.arrayOf(F).isRequired,preselectedOptionIDs:h.arrayOf(h.string),priceModel:h.oneOf(Object.values(j)),shouldAddToOrderSummary:h.bool,shouldPreSelect:h.bool,title:h.string.isRequired}),J=h.oneOfType([t,v,w,x,y,z,B,E,I,C,D]),K=h.shape({actionTitle:h.string,backButton:h.bool,backButtonCallback:h.func,customTermsAndPoliciesText:h.element,merchantName:h.string,processorName:h.string,termsAndPoliciesUrl:h.string}),L=h.shape({type:h.string.isRequired}),M=h.shape({"class":h.func,extraData:h.object,extensionKey:h.string,identifier:h.string.isRequired}),N=h.shape({confirmationClosedCallback:h.func,confirmationExtensions:h.arrayOf(M),confirmationText:h.node,doneButtonText:h.node,enableReceiptFooterLink:h.bool,merchantLogoUrl:h.string,receiptUrl:h.string}),O=h.shape({checkoutClosedCallback:h.func,confirmationConfiguration:N,dialogWidth:h.number,entity:m,items:h.arrayOf(n).isRequired,priceList:s,purchaseInfo:h.arrayOf(J).isRequired,payActionContent:K.isRequired,renderInline:h.bool}),P=h.shape({contentConfiguration:O,orderStatusModel:L.isRequired,paymentInfo:k.isRequired,version:h.string.isRequired}),Q={CheckoutConfigurationPropTypes:P,ConfirmationConfigurationPropTypes:N,ConfirmationExtensionPropTypes:M,ContentConfigurationPropTypes:O,CustomContactEmailContentPropTypes:u,CustomOptionPropTypes:H,CustomShippingAddressContentPropTypes:A,EntityPropTypes:m,FormFieldAttributesPropTypes:G,ItemPropTypes:n,OrderStatusModelPropTypes:L,PayActionContentPropTypes:K,PaymentInfoPropTypes:k,PriceItemPropTypes:r,PriceListPropTypes:s,PricePropTypes:o,PurchaseInfoExtensionPropTypes:J};f.exports=Q}),null);
__d("FBPaymentsCheckoutActions",["FBPaymentsDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h={types:{SHOW_HARD_ERROR_ON_EXTENSIONS:"show_hard_error_on_extensions",UPDATE_PAYMENT_STEP:"update_payment_step"},showHardErrorOnExtensions:function i(j){c("FBPaymentsDispatcher").dispatch({type:h.types.SHOW_HARD_ERROR_ON_EXTENSIONS,data:j})},updatePaymentStep:function i(j){c("FBPaymentsDispatcher").dispatch({type:h.types.UPDATE_PAYMENT_STEP,data:j})}};f.exports=h}),null);
__d("FBPaymentsCheckoutStore",["FBPaymentsCheckoutActions","FBPaymentsDispatcher","FluxReduceStore","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("immutable").List,m=c("FBPaymentsCheckoutActions").types,n={showHardErrorOnExtensions:{showError:false,extensionsNotReady:l()},paymentStep:null};h=babelHelpers.inherits(o,c("immutable").Record(n));i=h&&h.prototype;function o(){h.apply(this,arguments)}j=babelHelpers.inherits(p,c("FluxReduceStore"));k=j&&j.prototype;p.prototype.getInitialState=function(){return new o()};p.prototype.reduce=function(q,r){switch(r.type){case m.SHOW_HARD_ERROR_ON_EXTENSIONS:return q.set("showHardErrorOnExtensions",r.data);case m.UPDATE_PAYMENT_STEP:return q.set("paymentStep",r.data);default:return q}};p.prototype.getExtensionsWithHardError=function(){return this.getState().showHardErrorOnExtensions};p.prototype.getPaymentStep=function(){return this.getState().paymentStep};function p(){j.apply(this,arguments)}f.exports=new p(c("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsLoggerBase",["abstractMethod","idx","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$FBPaymentsLoggerBase2={event_type:"client"};this.$FBPaymentsLoggerBase3={};this.$FBPaymentsLoggerBase1=this.__getLoggerInstance()}h.prototype.log=function(){this.updateData(this.$FBPaymentsLoggerBase2);this.updateExtraData(this.$FBPaymentsLoggerBase3);this.setClientTime(Math.floor(Date.now()/1e3).toString());this.$FBPaymentsLoggerBase1.log();this.$FBPaymentsLoggerBase1.clear()};h.prototype.logVital=function(){this.updateData(this.$FBPaymentsLoggerBase2);this.updateExtraData(this.$FBPaymentsLoggerBase3);this.setClientTime(Math.floor(Date.now()/1e3).toString());this.$FBPaymentsLoggerBase1.logVital();this.$FBPaymentsLoggerBase1.clear()};h.prototype.updateData=function(i){this.$FBPaymentsLoggerBase1.updateData(i);return this};h.prototype.updateExtraData=function(i){this.$FBPaymentsLoggerBase1.updateExtraData(i);return this};h.prototype.setGlobalFields=function(i){this.$FBPaymentsLoggerBase2=babelHelpers["extends"]({},this.$FBPaymentsLoggerBase2,i);return this};h.prototype.clearGlobalFields=function(){this.$FBPaymentsLoggerBase2={event_type:"client"};return this};h.prototype.setGlobalExtraData=function(i){this.$FBPaymentsLoggerBase3=i;return this};h.prototype.clearGlobalExtraData=function(){this.$FBPaymentsLoggerBase3={};return this};h.prototype.setClientTime=function(i){this.$FBPaymentsLoggerBase1.setClientTime(i);return this};h.prototype.setContainerModule=function(i){this.$FBPaymentsLoggerBase1.setContainermodule(i);return this};h.prototype.setContextID=function(i){this.$FBPaymentsLoggerBase1.setContextID(i);return this};h.prototype.setCurrency=function(i){this.$FBPaymentsLoggerBase1.setCurrency(i);return this};h.prototype.setErrorCategory=function(i){this.$FBPaymentsLoggerBase1.setErrorCategory(i);return this};h.prototype.setErrorCode=function(i){this.$FBPaymentsLoggerBase1.setErrorCode(String(i));return this};h.prototype.setErrorMessage=function(i){this.$FBPaymentsLoggerBase1.setErrorMessage(i);return this};h.prototype.setErrorStacktrace=function(i){this.$FBPaymentsLoggerBase1.setErrorStacktrace(i);return this};h.prototype.setErrorOrigin=function(i){this.$FBPaymentsLoggerBase1.setErrorOrigin(i);return this};h.prototype.setEventName=function(i){this.$FBPaymentsLoggerBase1.setEventName(i);return this};h.prototype.setEventType=function(i){this.$FBPaymentsLoggerBase1.setEventType(i);return this};h.prototype.setExceptionClass=function(i){this.$FBPaymentsLoggerBase1.setExceptionClass(i);return this};h.prototype.setFlowName=function(i){this.$FBPaymentsLoggerBase1.setFlowName(i);return this};h.prototype.setFlowStep=function(i){this.$FBPaymentsLoggerBase1.setFlowStep(i);return this};h.prototype.setMailingAddressID=function(i){this.$FBPaymentsLoggerBase1.setMailingAddressID(i);return this};h.prototype.setOrderID=function(i){this.$FBPaymentsLoggerBase1.setOrderID(i);return this};h.prototype.setOtherProfileID=function(i){this.$FBPaymentsLoggerBase1.setOtherProfileID(i);return this};h.prototype.setPaymentAccountID=function(i){this.$FBPaymentsLoggerBase1.setPaymentAccountID(i);return this};h.prototype.setPaymentID=function(i){this.$FBPaymentsLoggerBase1.setPaymentID(i);return this};h.prototype.setPaymentMethodID=function(i){this.$FBPaymentsLoggerBase1.setPaymentMethodID(i);return this};h.prototype.setPaymentMethodType=function(i){this.$FBPaymentsLoggerBase1.setPaymentMethodType(i);return this};h.prototype.setProduct=function(i){this.$FBPaymentsLoggerBase1.setProduct(i);return this};h.prototype.setProvider=function(i){this.$FBPaymentsLoggerBase1.setProvider(i);return this};h.prototype.setRawAmount=function(i){this.$FBPaymentsLoggerBase1.setRawAmount(i);return this};h.prototype.setRedirectURL=function(i){this.$FBPaymentsLoggerBase1.setRedirectURL(i);return this};h.prototype.setRequestID=function(i){this.$FBPaymentsLoggerBase1.setRequestID(i);return this};h.prototype.setSessionID=function(i){this.$FBPaymentsLoggerBase1.setSessionID(i);return this};h.prototype.getSessionID=function(){var i;return(i=this.$FBPaymentsLoggerBase2)!=null?i.session_id:i};h.prototype.setShippingOptionID=function(i){this.$FBPaymentsLoggerBase1.setShippingOptionID(i);return this};h.prototype.setUserFacingErrorCode=function(i){this.$FBPaymentsLoggerBase1.setUserFacingErrorCode(String(i));return this};h.prototype.setUserFacingMessage=function(i){this.$FBPaymentsLoggerBase1.setUserFacingMessage(i);return this};h.prototype.addToExtraData=function(i,j){this.$FBPaymentsLoggerBase1.addToExtraData(i,j);return this};h.prototype.__getLoggerInstance=function(){return c("abstractMethod")("FBPaymentsLoggerBase","__getLoggerInstance")};h.LOGGER_FIELD_NAMES=c("keyMirror")({ad_account_id:true,client_time:true,containermodule:true,context_id:true,currency:true,error_category:true,error_code:true,error_message:true,error_origin:true,error_stacktrace:true,event_name:true,event_type:true,exception_class:true,flow_name:true,flow_step:true,incoming_params:true,is_free:true,is_test_payment:true,logging_service_id:true,mailing_address_id:true,order_id:true,other_profile_id:true,payment_account_id:true,payment_id:true,payment_method_id:true,payment_method_type:true,paymod_extra_data:true,product:true,provider:true,raw_amount:true,redirect_url:true,request_id:true,session_id:true,shipping_option_id:true,user_facing_error_code:true,user_facing_message:true});f.exports=h}),null);
__d("FBPaymentsExtensionInterface.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsCheckoutStore","FBPaymentsLoggerBase","FluxContainer","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=c("FBPaymentsCheckoutConfigurationTypes").CheckoutConfigurationPropTypes,l=c("FBPaymentsCheckoutConfigurationTypes").PurchaseInfoExtensionPropTypes;h=babelHelpers.inherits(m,c("React").Component);i=h&&h.prototype;m.getStores=function(){return[c("FBPaymentsCheckoutStore")]};m.calculateState=function(n,o){var p=babelHelpers["extends"]({},n),q=o.extensionConfiguration.identifier,r=c("FBPaymentsCheckoutStore").getExtensionsWithHardError();if(r&&r.showError&&r.extensionsNotReady.includes(q))p.showHardError=true;else p.showHardError=false;return p};m.__calculateExtensionState=function(n){return c("abstractMethod")("FBPaymentsExtensionInterface","calculateExtensionState")};m.prototype.__sendExtensionUpdateIfNecessary=function(n,o){var p=this.constructor.__calculateExtensionState(o),q=!this.constructor.__extensionStateEquals(n.extensionState,p);if(q)n.onExtensionUpdate(p)};m.prototype.calculateExtensionStateAndSendUpdateImmediately=function(n){var o=this.constructor.__calculateExtensionState(n);this.props.onExtensionUpdate(o)};m.prototype.componentWillMount=function(){this.__sendExtensionUpdateIfNecessary(this.props,this.state)};m.prototype.componentWillUpdate=function(n,o){this.__sendExtensionUpdateIfNecessary(n,o)};function m(){h.apply(this,arguments)}m.PropTypes={checkoutConfiguration:k.isRequired,checkoutExtraProps:j.object,checkoutRestoreData:j.object.isRequired,extensionConfiguration:l.isRequired,extensionState:j.object.isRequired,isActive:j.bool.isRequired,isActiveForVerification:j.bool.isRequired,logger:j.instanceOf(c("FBPaymentsLoggerBase")).isRequired,onExtensionPrePaymentCallChange:j.func.isRequired,onExtensionUpdate:j.func.isRequired,onExtensionWidthChange:j.func.isRequired,onRequestActive:j.func.isRequired,onRequestActiveForVerification:j.func.isRequired};m.__extensionStateEquals=function(n,o){return JSON.stringify(n)===JSON.stringify(o)};f.exports=c("FluxContainer").create(m,{withProps:true})}),null);
__d("FBPaymentsContactEmailSelectorContainerBase.react",["FBPaymentsContactInfoTypes","FBPaymentsExtensionInterface.react","immutable","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsExtensionInterface.react"));i=h&&h.prototype;function j(k){__p&&__p();i.constructor.call(this,k);this.handleContactEmailClick=function(l){var m=this.state.contactEmails&&this.state.contactEmails.find(function(n){return n.id===l});this.setState({selectedContactEmail:m})}.bind(this);this.handleNewContactEmailChange=function(l,m,n){this.setState({newContactEmail:m,isNewContactEmailValid:n.isValid,validationErrorMessage:n.errorMessage})}.bind(this);this.handleAddNewContactEmail=function(){this.setState({isSavingNewContactEmail:true,serverErrorMessage:null});var l={user_input_email:this.state.newContactEmail,payment_type:this.props.checkoutConfiguration.paymentInfo.paymentItemType};this.__getAPI().addContactEmail(l,this.handleNewContactEmailAdded,this.handleNewContactEmailAddedError)}.bind(this);this.handleNewContactEmailAdded=function(l){this.setState({isLoading:true,isSavingNewContactEmail:false,selectedContactEmail:null,showForm:false});this.$FBPaymentsContactEmailSelectorContainerBase1()}.bind(this);this.handleNewContactEmailAddedError=function(l){this.setState({isSavingNewContactEmail:false,serverErrorMessage:l.message})}.bind(this);this.handleContactEmailRowClicked=function(){this.props.onRequestActive(true)}.bind(this);this.handleCancelActiveStateClick=function(){this.props.onRequestActive(false)}.bind(this);this.handleShowForm=function(){this.handleToggleShowForm(true)}.bind(this);this.handleHideForm=function(){this.handleToggleShowForm(false)}.bind(this);this.handleClearInput=function(){this.setState({isNewContactEmailValid:false,newContactEmail:"",serverErrorMessage:null,validationErrorMessage:null})}.bind(this);this.state={contactEmails:null,isLoading:false,isNewContactEmailValid:false,isSavingNewContactEmail:false,newContactEmail:"",selectedContactEmail:null,serverErrorMessage:null,showForm:false,validationErrorMessage:null,showHardError:false}}j.getStores=function(){return[this.__getContactInfoStore()]};j.calculateState=function(k,l){__p&&__p();var m=babelHelpers["extends"]({},k),n=c("FBPaymentsContactInfoTypes").EMAIL,o=this.__getContactInfoStore().get(n);m.isLoading=o.isLoading();if(o.hasValue()){var p=o.getValueEnforcing();m.contactEmails=p;if(m.newContactEmail){var q=p.find(function(s){return s.normalizedEmailAddress===m.newContactEmail});if(q){m.selectedContactEmail=q;m.newContactEmail=""}}else if(!m.selectedContactEmail){var r=p.filter(function(s){return s.isDefault}).first();if(!r)r=p.first();if(r)m.selectedContactEmail=r}}return m};j.__calculateExtensionState=function(k){var l=false,m={};if(k.selectedContactEmail){l=true;m={email:k.selectedContactEmail.normalizedEmailAddress,id:k.selectedContactEmail.id}}return{extraData:m,ready:l}};j.__getContactInfoStore=function(){return c("abstractMethod")("FBPaymentsContactEmailSelectorContainerBase","__getContactInfoStore")};j.prototype.$FBPaymentsContactEmailSelectorContainerBase1=function(){var k=c("FBPaymentsContactInfoTypes").EMAIL;this.constructor.__getContactInfoStore().fetch(k);this.setState({isLoading:true})};j.prototype.handleToggleShowForm=function(k){this.setState({showForm:k});this.handleClearInput()};j.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsContactEmailSelectorContainerBase","__getView")};j.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsContactEmailSelectorContainerBase","__getAPI")};j.prototype.$FBPaymentsContactEmailSelectorContainerBase2=function(){var k=this.props.extensionConfiguration;if(k.identifier!=="CONTACT_EMAIL")return null;return k.customContent};j.prototype.render=function(){var k=this.__getView(),l=this.props.checkoutExtraProps?this.props.checkoutExtraProps.emailHelpMessage:null,m=this.$FBPaymentsContactEmailSelectorContainerBase2();return c("React").createElement(k,babelHelpers["extends"]({},this.state,{customContent:m,isActive:this.props.isActive,onAddNewContactEmail:this.handleAddNewContactEmail,onCancelActiveStateClick:this.handleCancelActiveStateClick,onClearInput:this.handleClearInput,onContactEmailClick:this.handleContactEmailClick,onHideForm:this.handleHideForm,onNewContactEmailChange:this.handleNewContactEmailChange,onRowClicked:this.handleContactEmailRowClicked,onShowForm:this.handleShowForm,helpMessage:l}))};f.exports=j}),null);
__d("PaymentSettingsTabID",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HISTORY:"history",SETTINGS:"settings",RED_ENVELOPE:"red_envelope",ADS:"ads",BUSINESS_PAYMENTS:"business_payments"})}),null);
__d("XCMSLegalPaymentsTermsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/payments_terms/{?terms_section}/",{terms_section:{type:"String"}})}),null);
__d("XPagesManagerMessagesController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/{page_token}/messages/",{page_token:{type:"String",required:true},business_id:{type:"Int"},folder:{type:"String"},ref:{type:"String"},section:{type:"String"},subsection:{type:"String"},threadid:{type:"String"},index:{type:"Int"},initialClientFilter:{type:"String"}})}),null);
__d("XPagesManagerPublishingToolsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/{page_token}/publishing_tools/",{page_token:{type:"String",required:true},business_id:{type:"Int"},current_page:{type:"Int"},section:{type:"String"},source:{type:"Enum",enumType:1},sourceID:{type:"String"},refSource:{type:"Enum",enumType:1},initial_action_data:{type:"StringToStringMap"},initial_data:{type:"StringToStringMap"}})}),null);
__d("XPagesManagerSettingsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/{page_token}/settings/",{page_token:{type:"String",required:true},business_id:{type:"Int"},edited:{type:"String"},section:{type:"String"},tab:{type:"String"},change_admin_action:{type:"String"},change_admin_uid:{type:"Int"},tbid:{type:"Int"},fid:{type:"Int"},item_id:{type:"Int"},ref:{type:"String"},q:{type:"String"},promote_plugin_tab:{type:"Enum",enumType:1},active_section:{type:"String"},on_load_actions:{type:"StringVector"},partner_id:{type:"Int"},enable:{type:"Enum",enumType:1},creator_request_id:{type:"Int"}})}),null);
__d("XPayTermsAndPoliciesController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pay/payments/terms_and_policies/",{payment_type:{type:"String",required:true},country_code:{type:"String"}})}),null);
__d("XPayerProtectionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/payer_protection/",{})}),null);
__d("FBPaymentsLinkHelper",["invariant","FBPaymentsCheckoutConstants","PaymentSettingsTabID","URI","XCMSLegalPaymentsTermsController","XPagesManagerMessagesController","XPagesManagerPublishingToolsController","XPagesManagerSettingsController","XPayerProtectionController","XPayTermsAndPoliciesController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("FBPaymentsCheckoutConstants").RestoreKey,j="www.facebook.com",k="m.facebook.com",l="https",m="fb://payments/close/",n="/payments/close/",o="is_rn_android_webview",p="result",q={SUCCESS:"success",FAILURE:"failure",PENDING:"pending"},r={WEBVIEW_RESULT:q,setFacebookDomain:function s(t){return t.setDomain(j).setProtocol(l)},getPayTermsAndPoliciesURI:function s(t){var u=c("XPayTermsAndPoliciesController").getURIBuilder().setString("payment_type",t).getURI();return this.setFacebookDomain(u)},getPaymentSettingsURI:function s(){var t=new(c("URI"))("/settings").addQueryData("tab","payments").addQueryData("section",c("PaymentSettingsTabID").SETTINGS);return this.setFacebookDomain(t)},getPaymentSettingsReceiptURI:function s(t){var u=this.setFacebookDomain(new(c("URI"))("/settings")).addQueryData("tab","payments").addQueryData("section",c("PaymentSettingsTabID").HISTORY).addQueryData("id",t);return u},getPayerProtectionURI:function s(){var t=c("XPayerProtectionController").getURIBuilder().getURI();return this.setFacebookDomain(t)},getPaymentsTermsURI:function s(){var t=c("XCMSLegalPaymentsTermsController").getURIBuilder().getURI();return this.setFacebookDomain(t)},getPaymentsSupportURI:function s(){var t=new(c("URI"))("/help/contact/830921593618796");return this.setFacebookDomain(t)},getPersonalFundraiserTermsURI:function s(){var t=new(c("URI"))("/legal/personal_fundraisers");return this.setFacebookDomain(t)},getPersonalFundraiserSupportURI:function s(){var t=new(c("URI"))("/help/1239821976132094");return this.setFacebookDomain(t)},parseInAppUrl:function s(t){var u=new(c("URI"))(t),v=u.getPath(),w=v.match(/\/(.*)\//);w||h(0);var x=w.pop(),y=u.getQueryData(),z=y.platform_context_id,A=y.product_id,B=y.product_type,C=y.seller_id,D=y.buyer_id;return{clientType:B,flowType:x,platformContextID:z,productID:A,sellerID:C,buyerID:D}},getPageMessageURI:function s(t,u){var v=c("XPagesManagerMessagesController").getURIBuilder().setString("page_token",t).setString("ref",u).getURI();return v},getPagePaymentSettingsURI:function s(t,u){var v=c("XPagesManagerSettingsController").getURIBuilder().setString("page_token",t).setString("tab","payments").setString("ref",u).getURI();return v},getViewOrdersURI:function s(t,u){var v=c("XPagesManagerPublishingToolsController").getURIBuilder().setString("page_token",t).setString("section","INVOICES_ACTIVE").setEnum("refSource",u).getURI();return v},getCurrentURI:function s(){return c("URI").getRequestURI()},isCurrentURIReturnedFromPaypal:function s(){var t=r.getCurrentURI(),u=t.getQueryData()[i.RETURNED_FROM_PAYPAL]==="1";return u},getCurrentURISessionID:function s(){var t=r.getCurrentURI(),u=t.getQueryData()[i.SESSION_ID];return u},getWebviewCloseRedirectURI:function s(t){var u=new(c("URI"))(m);if(t)u.addQueryData(p,t);var v=Object.keys(r.getCurrentURI().getQueryData()).includes(o);if(v)u.setProtocol(l).setDomain(k).setPath(n);return u},getStripeManagedAccountTerms:function s(){return new(c("URI"))("https://stripe.com/us/connect-account/legal")}};f.exports=r}),null);
__d("FBPaymentsContactEmailSelectorViewBase.react",["fbt","FBPaymentsCheckoutConfigurationTypes","FBPaymentsLinkHelper","React","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsCheckoutConfigurationTypes").CustomContactEmailContentPropTypes,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};m.prototype.getContactEmailLabel=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.emailLabel:n:n)||h._("Contact Email")};m.prototype.getAddContactEmailText=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.addEmailPuxCta:n:n)||h._("Add")};m.prototype.getAddContactEmailNUXText=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.addEmailNuxCta:n:n)||h._("Add New Email Address")};m.prototype.getAddContactEmailPlaceholder=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.fieldPlaceholder:n:n)||h._("New email address")};m.prototype.getCancelButtonText=function(){return h._("Cancel")};m.prototype.getSaveButtonText=function(){return h._("Save")};m.prototype.getBackButtonText=function(){return h._("Back")};m.prototype.getHardErrorMessage=function(){return h._("Please select a valid email address.")};m.prototype.getSecurityMessage=function(){var n;if(this.props.helpMessage)return this.props.helpMessage;return((n=this.props)!=null?(n=n.customContent)!=null?n.formFooterMessage:n:n)||h._("Updates about your purchase will be sent to this email. {Link. =Learn more}",[h.param("Link. =Learn more",c("React").createElement("a",{href:c("FBPaymentsLinkHelper").getPayerProtectionURI(),target:"_blank"},h._("Learn More")))])};function m(){i.apply(this,arguments)}m.propTypes={contactEmails:l.object,customContent:k,isActive:l.bool.isRequired,isLoading:l.bool.isRequired,isNewContactEmailValid:l.bool.isRequired,isSavingNewContactEmail:l.bool.isRequired,newContactEmail:l.string.isRequired,onAddNewContactEmail:l.func.isRequired,onCancelActiveStateClick:l.func.isRequired,onClearInput:l.func.isRequired,onContactEmailClick:l.func.isRequired,onHideForm:l.func.isRequired,onNewContactEmailChange:l.func.isRequired,onRowClicked:l.func.isRequired,onShowForm:l.func.isRequired,selectedContactEmail:l.object,serverErrorMessage:l.oneOfType([l.node,l.string]),showForm:l.bool,validationErrorMessage:l.node,helpMessage:l.node,showHardError:l.bool};f.exports=m}),null);
__d("FBPaymentsEmailFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.getPlaceholderText=function(){return h._("Email Address")},m}k.prototype.render=function(){return c("React").createElement(c("FBPaymentsFormField.react"),babelHelpers["extends"]({config:c("FBPaymentsFormFieldInputConfigs").EMAIL_INPUT_CONFIG,placeholder:this.getPlaceholderText()},this.props))};f.exports=k}),null);
__d("FBPaymentsLoadingViewBase.react",["invariant","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);!(m.overlay&&m.loadingText)||h(0)}l.propTypes={className:k.string,loadingIndicatorVisible:k.bool,loadingText:k.node,overlay:k.bool.isRequired,visible:k.bool.isRequired};l.defaultProps={loadingIndicatorVisible:true,overlay:false,visible:true};f.exports=l}),null);
__d("FBPaymentsLoadingView.react",["cx","CenteredContainer.react","FBPaymentsLoadingViewBase.react","React","XUIGrayText.react","XUISpinner.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsLoadingViewBase.react"));j=i&&i.prototype;k.prototype.renderLoadingText=function(){if(!this.props.loadingText)return null;return c("React").createElement(c("XUIGrayText.react"),{className:"_2ph_",display:"block",shade:"light",size:"small"},this.props.loadingText)};k.prototype.render=function(){if(!this.props.visible)return null;var l=this.props.loadingIndicatorVisible?c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}):null;return c("React").createElement(c("CenteredContainer.react"),{className:c("joinClasses")(this.props.className,(!this.props.overlay?"_3c7a":"")+(this.props.overlay?" _41su":"")),"data-testid":this.props["data-testid"],vertical:true},l,this.renderLoadingText())};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsRichSelector.react",["ix","cx","invariant","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","Image.react","InlineBlock.react","React","ReactDOM","SubscriptionsHandler","XUIPopoverButton.react","emptyFunction","fbglyph","joinClasses","requestAnimationFrame"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m,n,o=c("React").PropTypes,p={ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},q=100;function r(v,w,x){__p&&__p();c("React").Children.count(v.children)>0||j(0);var y=null,z=c("React").Children.map(v.children,function(A){__p&&__p();if(!A)return null;switch(A.type){case u:return A;case t:default:if(x==null&&!v.defaultLabel)x=A.props.value;if(x===A.props.value){y=A;w.selected=true}else w.selected=false;return c("React").cloneElement(A,w)}});return{items:z,selectedItem:y}}var s=c("React").createClass({displayName:"FBPaymentsRichSelector",childContextTypes:{onChange:o.func},getChildContext:function v(){return{onChange:this.props.onChange}},propTypes:{defaultLabel:o.oneOfType([o.object,o.string]),defaultValue:o.oneOfType([o.object,o.string]),disabled:o.bool,label:o.oneOfType([o.node,o.string]),size:o.string,width:o.number,onChange:o.func,onDropdown:o.func,onToggleLayer:o.func},getDefaultProps:function v(){return{defaultLabel:"",onDropdown:c("emptyFunction")}},getInitialState:function v(){return{preShowLayer:false,showLayer:false,value:this.props.defaultValue||""}},componentDidMount:function v(){this.subscriptions=new(c("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(this.refs.menu.layer.subscribe("blur",this._onBlur),this.refs.menu.layer.subscribe("hide",this._onBlur))},componentWillUnmount:function v(){this.subscriptions.release()},render:function v(){var w=Math.max(this.props.width,q),x={onSelect:this._onSelect},y=this.state.value,z=r(this.props,x,y),A=z.selectedItem,B=void 0;if(this.props.label)B=this.props.label;else if(A)B=A.props.label;else B=this.props.defaultLabel;var C=this.state.showLayer?h("115703"):h("125303"),D=c("React").createElement(c("Image.react"),{className:"_2vzy",src:C});return c("React").createElement("span",null,c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:c("joinClasses")((this.state.showLayer?"openToggler":"")+" _4hp4",this.props.className),style:{width:w}},c("React").createElement(c("XUIPopoverButton.react"),{className:"_2vzz"+(this.state.showLayer?" _2vz-":"")+(!this.props.label&&!A?" _53q9":""),depressed:this.state.showLayer,disabled:this.props.disabled||false,haschevron:false,imageRight:D,label:B,onClick:this._toggleSelector,ref:"selectorButton",maxwidth:w})),this.renderLayers())},_getBehaviors:function v(){return babelHelpers["extends"]({},p,this.props.behaviors)},renderLayers:function v(){__p&&__p();var w={onSelect:this._onSelect},x=null;if(this.state.showLayer||this.state.preShowLayer){var y=this.state.value;x=r(this.props,w,y).items}if(this.state.showLayer)this.props.onDropdown();var z=q,A=c("ReactDOM").findDOMNode(this.refs.selectorButton);if(A)z=A.getBoundingClientRect().width;var B=c("React").createElement("ul",{ref:"menuItems",role:"menu",style:{width:z}},x);return c("React").createElement(c("ContextualLayer.react"),{behaviors:this._getBehaviors(),contextRef:function(){return this.refs.selectorButton}.bind(this),position:"below",ref:"menu",shown:this.state.showLayer,key:"menu"},c("React").createElement("div",{className:"_4hp4 _54nq _575t _57di _558b"},c("React").createElement("div",{className:"_4hp1",ref:"menuContainer"},B)))},_toggleSelector:function v(){if(!this.props.disabled)this._setLayerShownState(true)},_onBlur:function v(){c("requestAnimationFrame")(function(){if(this.isMounted())this._setLayerShownState(false)}.bind(this))},_setLayerShownState:function v(w,x){if(w!==this.state.showLayer)this.props.onToggleLayer&&this.props.onToggleLayer(w);if(w&&w!==this.state.showLayer)this.setState(babelHelpers["extends"]({preShowLayer:true},x),function(){this.setState({showLayer:w,preShowLayer:false})}.bind(this));else this.setState(babelHelpers["extends"]({showLayer:w,preShowLayer:false},x))},_onSelect:function v(w){this._setLayerShownState(false,{value:w.value});this.props.onChange&&this.props.onChange(w)}});k=babelHelpers.inherits(t,c("React").Component);l=k&&k.prototype;function t(){__p&&__p();var v,w;for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=l.constructor).call.apply(v,[this].concat(y)),this.state={highlighted:false},this.$FBPaymentsRichSelectorOption1=function(A){var B=A.nativeEvent;if(!B||!B.isMiddleClick()&&!B.getModifiers().any){B.preventDefault();this.props.onSelect&&this.props.onSelect({label:this.props.label,value:this.props.value})}}.bind(this),this.$FBPaymentsRichSelectorOption2=function(){this.setState({highlighted:true})}.bind(this),this.$FBPaymentsRichSelectorOption3=function(){this.setState({highlighted:false})}.bind(this),w}t.prototype.render=function(){__p&&__p();var v=this.props.children,w=this.props.clickable,x=null,y=null,z=null;if(w){Object.prototype.hasOwnProperty.call(this.props,"value")||j(0);x=this.$FBPaymentsRichSelectorOption1;y=this.$FBPaymentsRichSelectorOption2;z=this.$FBPaymentsRichSelectorOption3;v=c("React").createElement("a",{className:"_4hp5 _54nc",ref:"menuItemAnchor",role:"menuitem",tabIndex:"0"},c("React").createElement("div",{className:"_4hp6"}),v)}var A=this.state.highlighted;return c("React").createElement("li",{className:c("joinClasses")("_4hp2"+(!w?" _4hp3":"")+(w&&this.props.selected?" _4hp7":"")+(w&&A?" _54ne":"")+" _54ni",this.props.className),onClick:x,onMouseEnter:y,onMouseLeave:z},v)};t.propTypes={clickable:o.bool,label:o.oneOfType([o.object,o.string]),onSelect:o.func,selected:o.bool,value:o.oneOfType([o.string,o.number])};t.defaultProps={clickable:true};m=babelHelpers.inherits(u,c("React").Component);n=m&&m.prototype;function u(){var v,w;for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=n.constructor).call.apply(v,[this].concat(y)),this.$FBPaymentsRichSelectorSeparator1=function(){if(!this.props.label)return null;return c("React").createElement("h4",{className:"_4hp9"},this.props.label)}.bind(this),w}u.prototype.render=function(){!(c("React").Children.count(this.props.children)&&this.props.label)||j(0);var v=this.props.children?this.props.children:this.$FBPaymentsRichSelectorSeparator1();return c("React").createElement("li",{className:"_54ak _4hp8"},v)};u.propTypes={label:o.string};s.Option=t;s.Separator=u;f.exports=s}),null);
__d("FBPaymentsContactEmailSelectorView.react",["cx","fbt","FBPaymentsContactEmailSelectorViewBase.react","FBPaymentsEmailFormField.react","FBPaymentsLoadingView.react","FBPaymentsRichSelector.react","Layout.react","React","XUIButton.react","XUIGrayText.react","XUISpinner.react","XUIText.react","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("FBPaymentsRichSelector.react").Option,m=c("Layout.react").Column,n=c("Layout.react").FillColumn;j=babelHelpers.inherits(o,c("FBPaymentsContactEmailSelectorViewBase.react"));k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.handleSelectorChange=function(u){var v=u.value;this.props.onContactEmailClick(v)}.bind(this),q}o.prototype.renderContactEmailListItem=function(p){return c("React").createElement(l,{key:p.id,label:p.normalizedEmailAddress,value:p.id},c("React").createElement(c("XUIGrayText.react"),{shade:"dark"},p.normalizedEmailAddress))};o.prototype.renderServerErrorMessage=function(){if(!this.props.serverErrorMessage)return null;return c("React").createElement(c("XUIText.react"),{className:"_14tg",display:"block",size:"meta1"},this.props.serverErrorMessage)};o.prototype.renderAddContactEmailInputListItem=function(){return c("React").createElement(l,{className:"_5kyc",clickable:false,key:"add_contact_email_input"},c("React").createElement("div",{className:"_1jnq"},this.renderServerErrorMessage(),c("React").createElement(c("Layout.react"),null,c("React").createElement(n,null,c("React").createElement(c("FBPaymentsEmailFormField.react"),{className:"_3vg0",errorMessage:this.props.validationErrorMessage,name:"email",onChange:this.props.onNewContactEmailChange,placeholder:this.getAddContactEmailPlaceholder(),value:this.props.newContactEmail})),c("React").createElement(m,null,c("React").createElement(c("XUIButton.react"),{className:"_3-9a _3yca",disabled:!this.props.isNewContactEmailValid,label:this.getAddContactEmailText(),onClick:this.props.onAddNewContactEmail,size:"large",use:"confirm"}))),c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:true,visible:this.props.isSavingNewContactEmail})))};o.prototype.renderSecurityMessageListItem=function(){return c("React").createElement(l,{className:"_2y76 _5kyc",clickable:false,key:"security_message"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},this.getSecurityMessage()))};o.prototype.renderContactEmailsDropdown=function(){if(this.props.isLoading)return c("React").createElement(c("XUISpinner.react"),null);var p=this.props.contactEmails;if(!p)return null;var q=this.props.selectedContactEmail,r=q&&q.id;return c("React").createElement(c("FBPaymentsRichSelector.react"),{defaultLabel:this.getAddContactEmailNUXText(),defaultValue:r,name:"contact_email_selector",onChange:this.handleSelectorChange,onToggleLayer:this.props.onClearInput},p.map(this.renderContactEmailListItem),this.renderAddContactEmailInputListItem(),this.renderSecurityMessageListItem())};o.prototype.getContactEmailLabel=function(){var p;return((p=this.props)!=null?(p=p.customContent)!=null?p.emailLabel:p:p)||i._("Confirmation Email")};o.prototype.render=function(){return c("React").createElement("div",{className:"__j9"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getContactEmailLabel()),c("React").createElement("div",{className:"_3-8x _52jv"},this.renderContactEmailsDropdown()))};f.exports=o}),null);
__d("FBPaymentsContactInfoStoreBase",["FBPaymentsContactInfoActions","FBPaymentsContactInfoTypes","FBPaymentsDispatcher","FluxLoadObjectStore","immutable","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxLoadObjectStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("FBPaymentsDispatcher"))}j.prototype.reduce=function(k,l){__p&&__p();var m=l.data;switch(l.type){case c("FBPaymentsContactInfoActions").types.CONTACT_NAME_LOADED:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").NAME,m.contactName);case c("FBPaymentsContactInfoActions").types.CONTACT_NAME_ERROR:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").NAME,m.error);case c("FBPaymentsContactInfoActions").types.CONTACT_EMAILS_LOADED:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").EMAIL,m.contactEmails);case c("FBPaymentsContactInfoActions").types.CONTACT_EMAILS_ERROR:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").EMAIL,m.error);case c("FBPaymentsContactInfoActions").types.CONTACT_PHONE_NUMBERS_LOADED:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").PHONE_NUMBER,m.contactPhoneNumbers);case c("FBPaymentsContactInfoActions").types.CONTACT_PHONE_NUMBERS_ERROR:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").PHONE_NUMBER,m.error);case c("FBPaymentsContactInfoActions").types.MAILING_ADDRESSES_LOADED:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").MAILING_ADDRESS,m.mailingAddresses);case c("FBPaymentsContactInfoActions").types.MAILING_ADDRESSES_ERROR:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").MAILING_ADDRESS,m.error);case c("FBPaymentsContactInfoActions").types.CONTACT_CURRENT_COUNTRY_LOADED:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").CURRENT_COUNTRY,m.contactCurrentCountry);case c("FBPaymentsContactInfoActions").types.CONTACT_CURRENT_COUNTRY_ERROR:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").CURRENT_COUNTRY,m.error);default:return k}};j.prototype.fetch=function(k){this.__load(k)};j.prototype.__load=function(k){this.__getAPI().fetchContactInfosByType(k)};j.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsContactInfoStoreBase","__getAPI")};f.exports=j}),null);
__d("FBPaymentsContactInfoStore",["FBPaymentsContactInfoStoreBase","FBPaymentsModulesAPI"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsContactInfoStoreBase"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d("FBPaymentsContactEmailSelectorContainer.react",["FBPaymentsContactEmailSelectorContainerBase.react","FBPaymentsContactEmailSelectorView.react","FBPaymentsContactInfoStore","FBPaymentsModulesAPI","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsContactEmailSelectorContainerBase.react"));i=h&&h.prototype;j.__getContactInfoStore=function(){return c("FBPaymentsContactInfoStore")};j.prototype.__getView=function(){return c("FBPaymentsContactEmailSelectorView.react")};j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("FBPaymentsContactNameInputContainerBase.react",["FBPaymentsContactInfoTypes","FBPaymentsExtensionInterface.react","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsExtensionInterface.react"));i=h&&h.prototype;function j(k){__p&&__p();i.constructor.call(this,k);this.handleContactNameChange=function(l,m,n){this.setState({contactName:m,errorMessage:n.errorMessage})}.bind(this);this.handleNewContactNameChange=function(l,m,n){this.setState({newContactName:m,isNewContactNameValid:n.isValid,errorMessage:n.errorMessage})}.bind(this);this.handleContactNameRowClicked=function(){this.setState({newContactName:this.state.contactName,isNewContactNameValid:true,errorMessage:null});this.props.onRequestActive(true)}.bind(this);this.handleCancelActiveStateClick=function(){this.props.onRequestActive(false)}.bind(this);this.handleUpdateContactName=function(){this.setState({contactName:this.state.newContactName});this.props.onRequestActive(false)}.bind(this);this.state={contactName:"",errorMessage:null,initialFetch:true,isLoading:false,isNewContactNameValid:false,newContactName:"",showHardError:false}}j.getStores=function(){return[this.__getContactInfoStore()]};j.calculateState=function(k,l){var m=babelHelpers["extends"]({},k),n=this.__getContactInfoStore().get(c("FBPaymentsContactInfoTypes").NAME);m.isLoading=n.isLoading();if(n.hasValue()&&m.initialFetch){m.contactName=n.getValueEnforcing().first();m.initialFetch=false}return m};j.__calculateExtensionState=function(k){var l=false,m={};if(k.contactName.length>=2){l=true;m={name:k.contactName}}return{extraData:m,ready:l}};j.__getContactInfoStore=function(){return c("abstractMethod")("FBPaymentsContactNameInputContainerBase","__getContactInfoStore")};j.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsContactNameInputContainerBase","__getView")};j.prototype.render=function(){var k=this.__getView();return c("React").createElement(k,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isLoading:this.state.isLoading,onCancelActiveStateClick:this.handleCancelActiveStateClick,onContactNameChange:this.handleContactNameChange,onNewContactNameChange:this.handleNewContactNameChange,onRowClicked:this.handleContactNameRowClicked,onUpdateContactName:this.handleUpdateContactName}))};f.exports=j}),null);
__d("FBPaymentsContactNameInputViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};l.prototype.getContactNameLabel=function(){return h._("Name")};l.prototype.getContactNamePlaceholder=function(){return h._("Please enter your name")};l.prototype.getCancelButtonText=function(){return h._("Cancel")};l.prototype.getHardErrorMessage=function(){return h._("Please enter a name.")};l.prototype.getSaveButtonText=function(){return h._("Save")};function l(){i.apply(this,arguments)}l.propTypes={contactName:k.string,errorMessage:k.node,isActive:k.bool.isRequired,isLoading:k.bool.isRequired,isNewContactNameValid:k.bool.isRequired,newContactName:k.string.isRequired,onCancelActiveStateClick:k.func.isRequired,onContactNameChange:k.func.isRequired,onNewContactNameChange:k.func.isRequired,onRowClicked:k.func.isRequired,onUpdateContactName:k.func.isRequired,showHardError:k.bool};f.exports=l}),null);
__d("FBPaymentsNameFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.getPlaceholderText=function(){return h._("Please enter your name")},m}k.prototype.render=function(){return c("React").createElement(c("FBPaymentsFormField.react"),babelHelpers["extends"]({config:c("FBPaymentsFormFieldInputConfigs").NAME_INPUT_CONFIG,placeholder:this.getPlaceholderText()},this.props))};f.exports=k}),null);
__d("FBPaymentsContactNameInputView.react",["cx","FBPaymentsContactNameInputViewBase.react","FBPaymentsNameFormField.react","React","XUIGrayText.react","XUISpinner.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsContactNameInputViewBase.react"));j=i&&i.prototype;k.prototype.renderContactNameInput=function(){if(this.props.isLoading)return c("React").createElement(c("XUISpinner.react"),null);return c("React").createElement(c("FBPaymentsNameFormField.react"),{className:"_3vg0",errorMessage:this.props.errorMessage,height:"tall",name:"name",onChange:this.props.onContactNameChange,value:this.props.contactName})};k.prototype.render=function(){return c("React").createElement("div",{className:"__j9"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getContactNameLabel()),c("React").createElement("div",{className:"_3-8x _52jv _223u"},this.renderContactNameInput()))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsContactNameInputContainer.react",["FBPaymentsContactInfoStore","FBPaymentsContactNameInputContainerBase.react","FBPaymentsContactNameInputView.react","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsContactNameInputContainerBase.react"));i=h&&h.prototype;j.__getContactInfoStore=function(){return c("FBPaymentsContactInfoStore")};j.prototype.__getView=function(){return c("FBPaymentsContactNameInputView.react")};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("FBPaymentsContactPhoneNumberSelectorContainerBase.react",["FBPaymentsContactInfoTypes","FBPaymentsExtensionInterface.react","immutable","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsExtensionInterface.react"));i=h&&h.prototype;function j(k){__p&&__p();i.constructor.call(this,k);this.handleContactPhoneNumberClick=function(l){var m=this.state.contactPhoneNumbers&&this.state.contactPhoneNumbers.find(function(n){return n.id===l});this.setState({selectedContactPhoneNumber:m})}.bind(this);this.handleNewContactPhoneNumberChange=function(l,m,n){this.setState({newContactPhoneNumber:m,isNewContactPhoneNumberValid:n.isValid,validationErrorMessage:n.errorMessage})}.bind(this);this.handleAddNewContactPhoneNumber=function(){this.setState({isSavingNewContactPhoneNumber:true,serverErrorMessage:null});var l={raw_input:this.state.newContactPhoneNumber};this.__getAPI().addContactPhoneNumber(l,this.handleNewContactPhoneNumberAdded,this.handleNewContactPhoneNumberAddedError)}.bind(this);this.handleNewContactPhoneNumberAdded=function(l){this.setState({isSavingNewContactPhoneNumber:false,newContactPhoneNumberID:l,selectedContactPhoneNumber:null,showForm:false});this.$FBPaymentsContactPhoneNumberSelectorContainerBase1()}.bind(this);this.handleNewContactPhoneNumberAddedError=function(l){this.setState({isSavingNewContactPhoneNumber:false,serverErrorMessage:l.message})}.bind(this);this.handleContactPhoneNumberRowClicked=function(){this.props.onRequestActive(true)}.bind(this);this.handleCancelActiveStateClick=function(){this.props.onRequestActive(false)}.bind(this);this.handleShowForm=function(){this.handleToggleShowForm(true)}.bind(this);this.handleHideForm=function(){this.handleToggleShowForm(false)}.bind(this);this.handleClearInput=function(){this.setState({isNewContactPhoneNumberValid:false,newContactPhoneNumber:"",serverErrorMessage:null,validationErrorMessage:null})}.bind(this);this.state={contactPhoneNumbers:null,isLoading:false,isNewContactPhoneNumberValid:false,isSavingNewContactPhoneNumber:false,newContactPhoneNumber:"",newContactPhoneNumberID:null,selectedContactPhoneNumber:null,serverErrorMessage:null,showForm:false,validationErrorMessage:null,showHardError:false}}j.getStores=function(){return[this.__getContactInfoStore()]};j.calculateState=function(k,l){__p&&__p();var m=babelHelpers["extends"]({},k),n=c("FBPaymentsContactInfoTypes").PHONE_NUMBER,o=this.__getContactInfoStore().get(n);m.isLoading=o.isLoading();if(o.hasValue()){var p=o.getValueEnforcing();m.contactPhoneNumbers=p;if(m.newContactPhoneNumberID){var q=p.find(function(s){return s.id===m.newContactPhoneNumberID});if(q){m.selectedContactPhoneNumber=q;m.newContactPhoneNumber="";m.newContactPhoneNumberID=null}}else if(!m.selectedContactPhoneNumber){var r=p.filter(function(s){return s.isDefault}).first();if(!r)r=p.first();if(r)m.selectedContactPhoneNumber=r}}return m};j.__calculateExtensionState=function(k){var l=false,m={};if(k.selectedContactPhoneNumber){l=true;m={phoneNumber:k.selectedContactPhoneNumber.intlNumberWithPlus,id:k.selectedContactPhoneNumber.id}}return{extraData:m,ready:l}};j.__getContactInfoStore=function(){return c("abstractMethod")("FBPaymentsContactPhoneNumberSelectorContainerBase","__getContactInfoStore")};j.prototype.$FBPaymentsContactPhoneNumberSelectorContainerBase1=function(){var k=c("FBPaymentsContactInfoTypes").PHONE_NUMBER;this.constructor.__getContactInfoStore().fetch(k);this.setState({isLoading:true})};j.prototype.handleToggleShowForm=function(k){this.setState({showForm:k});this.handleClearInput()};j.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsContactPhoneNumberSelectorContainerBase","__getView")};j.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsContactPhoneNumberSelectorContainerBase","__getAPI")};j.prototype.render=function(){var k=this.__getView();return c("React").createElement(k,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,onAddNewContactPhoneNumber:this.handleAddNewContactPhoneNumber,onCancelActiveStateClick:this.handleCancelActiveStateClick,onClearInput:this.handleClearInput,onContactPhoneNumberClick:this.handleContactPhoneNumberClick,onHideForm:this.handleHideForm,onNewContactPhoneNumberChange:this.handleNewContactPhoneNumberChange,onRowClicked:this.handleContactPhoneNumberRowClicked,onShowForm:this.handleShowForm}))};f.exports=j}),null);
__d("FBPaymentsContactPhoneNumberSelectorViewBase.react",["fbt","FBPaymentsLinkHelper","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};l.prototype.getHardErrorMessage=function(){return h._("Please enter a phone number.")};l.prototype.getCancelButtonText=function(){return h._("Cancel")};l.prototype.getSaveButtonText=function(){return h._("Save")};l.prototype.getBackButtonText=function(){return h._("Back")};l.prototype.getContactPhoneNumberLabel=function(){return h._("Contact Phone Number")};l.prototype.getAddContactPhoneNumberText=function(){return h._("Add")};l.prototype.getAddContactPhoneNumberNUXText=function(){return h._("Add New Phone Number")};l.prototype.getAddContactPhoneNumberPlaceholder=function(){return h._("New phone number")};l.prototype.getSecurityMessage=function(){return h._("Your contact phone number is stored securely and only shared with the seller you're purchasing from.")};function l(){i.apply(this,arguments)}l.propTypes={contactPhoneNumbers:k.object,isActive:k.bool.isRequired,isLoading:k.bool.isRequired,isNewContactPhoneNumberValid:k.bool.isRequired,isSavingNewContactPhoneNumber:k.bool.isRequired,newContactPhoneNumber:k.string.isRequired,onAddNewContactPhoneNumber:k.func.isRequired,onCancelActiveStateClick:k.func.isRequired,onClearInput:k.func.isRequired,onContactPhoneNumberClick:k.func.isRequired,onHideForm:k.func.isRequired,onNewContactPhoneNumberChange:k.func.isRequired,onRowClicked:k.func.isRequired,onShowForm:k.func.isRequired,selectedContactPhoneNumber:k.object,serverErrorMessage:k.oneOfType([k.node,k.string]),showForm:k.bool,validationErrorMessage:k.node,showHardError:k.bool};f.exports=l}),null);
__d("FBPaymentsPhoneNumberFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.getPlaceholderText=function(){return h._("Phone Number")};k.prototype.render=function(){return c("React").createElement(c("FBPaymentsFormField.react"),babelHelpers["extends"]({config:c("FBPaymentsFormFieldInputConfigs").PHONE_NUMBER_INPUT_CONFIG,placeholder:this.getPlaceholderText()},this.props))};function k(){i.apply(this,arguments)}k.propTypes=c("FBPaymentsFormField.react").propTypes;f.exports=k}),null);
__d("FBPaymentsContactPhoneNumberSelectorView.react",["cx","FBPaymentsContactPhoneNumberSelectorViewBase.react","FBPaymentsLoadingView.react","FBPaymentsPhoneNumberFormField.react","FBPaymentsRichSelector.react","Layout.react","React","XUIButton.react","XUIGrayText.react","XUISpinner.react","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsRichSelector.react").Option,l=c("Layout.react").Column,m=c("Layout.react").FillColumn;i=babelHelpers.inherits(n,c("FBPaymentsContactPhoneNumberSelectorViewBase.react"));j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.handleSelectorChange=function(t){var u=t.value;this.props.onContactPhoneNumberClick(u)}.bind(this),p}n.prototype.renderContactPhoneNumberListItem=function(o){return c("React").createElement(k,{key:o.id,label:o.intlNumberWithPlus,value:o.id},c("React").createElement(c("XUIGrayText.react"),{shade:"dark"},o.intlNumberWithPlus))};n.prototype.renderServerErrorMessage=function(){if(!this.props.serverErrorMessage)return null;return c("React").createElement(c("XUIText.react"),{className:"_14tg",display:"block",size:"meta1"},this.props.serverErrorMessage)};n.prototype.renderAddContactPhoneNumberInputListItem=function(){return c("React").createElement(k,{className:"_5kyc",clickable:false,key:"add_contact_phone_number_input"},c("React").createElement("div",{className:"_1jnq"},this.renderServerErrorMessage(),c("React").createElement(c("Layout.react"),null,c("React").createElement(m,null,c("React").createElement(c("FBPaymentsPhoneNumberFormField.react"),{className:"_3vg0",errorMessage:this.props.validationErrorMessage,name:"phoneNumber",onChange:this.props.onNewContactPhoneNumberChange,placeholder:this.getAddContactPhoneNumberPlaceholder(),value:this.props.newContactPhoneNumber})),c("React").createElement(l,null,c("React").createElement(c("XUIButton.react"),{className:"_3-9a _3yca",disabled:!this.props.isNewContactPhoneNumberValid,label:this.getAddContactPhoneNumberText(),onClick:this.props.onAddNewContactPhoneNumber,size:"large",use:"confirm"}))),c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:true,visible:this.props.isSavingNewContactPhoneNumber})))};n.prototype.renderSecurityMessageListItem=function(){return c("React").createElement(k,{className:"_2y76 _5kyc",clickable:false,key:"security_message"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},this.getSecurityMessage()))};n.prototype.renderContactPhoneNumbersDropdown=function(){if(this.props.isLoading)return c("React").createElement(c("XUISpinner.react"),null);var o=this.props.contactPhoneNumbers;if(!o)return null;var p=this.props.selectedContactPhoneNumber,q=p&&p.id;return c("React").createElement(c("FBPaymentsRichSelector.react"),{defaultLabel:this.getAddContactPhoneNumberNUXText(),defaultValue:q,name:"contact_phone_number_selector",onChange:this.handleSelectorChange,onToggleLayer:this.props.onClearInput},o.map(this.renderContactPhoneNumberListItem),this.renderAddContactPhoneNumberInputListItem(),this.renderSecurityMessageListItem())};n.prototype.render=function(){return c("React").createElement("div",{className:"__j9"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getContactPhoneNumberLabel()),c("React").createElement("div",{className:"_3-8x _52jv"},this.renderContactPhoneNumbersDropdown()))};f.exports=n}),null);
__d("FBPaymentsContactPhoneNumberSelectorContainer.react",["FBPaymentsContactInfoStore","FBPaymentsContactPhoneNumberSelectorContainerBase.react","FBPaymentsContactPhoneNumberSelectorView.react","FBPaymentsModulesAPI","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsContactPhoneNumberSelectorContainerBase.react"));i=h&&h.prototype;j.__getContactInfoStore=function(){return c("FBPaymentsContactInfoStore")};j.prototype.__getView=function(){return c("FBPaymentsContactPhoneNumberSelectorView.react")};j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("FBPaymentsCustomOptionsContainerBase.react",["invariant","FBPaymentsExtensionInterface.react","React","abstractMethod","guid"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k="custom_",l="price";i=babelHelpers.inherits(m,c("FBPaymentsExtensionInterface.react"));j=i&&i.prototype;function m(n){__p&&__p();j.constructor.call(this,n);this.handleCustomOptionClick=function(p){this.setState({selectedOptionID:p})}.bind(this);this.handleCustomOptionRowClicked=function(){this.props.onRequestActive(true)}.bind(this);this.handleCancelActiveStateClick=function(){this.props.onRequestActive(false)}.bind(this);this.handleAddCustomOptionClick=function(){this.props.onRequestActive(true);this.setState({showForm:true})}.bind(this);this.handleNewCustomOptionFormDataChange=function(p,q){this.setState({customOptionFormData:p,isCustomOptionFormValid:q})}.bind(this);this.handleRemoveCustomOptionClick=function(){var p=this.state.configuration,q=p.options;if(q.length===1&&q[0].optionId.startsWith(k)){q.pop();this.setState({configuration:p})}}.bind(this);this.handleSaveNewCustomOption=function(){__p&&__p();var p=this.state.configuration,q=p.customOption||{},r=q.formFields,s=this.state.customOptionFormData;r&&s||h(0);var t=s.title,u=s.price,v=void 0;if(u){var w=r.get(l);w&&w.currency||h(0);v={currency:w.currency,amount:u}}var x={optionId:k+c("guid")(),optionPrice:v,optionPriceList:[{label:q.priceLabel||"",price:v}],optionTitle:t};p.options.push(x);this.setState({configuration:p,customOptionFormData:null,isCustomOptionFormValid:false,selectedOptionID:x.optionId,showForm:false},function(){this.props.onRequestActive(false)}.bind(this))}.bind(this);var o=this.$FBPaymentsCustomOptionsContainerBase1(n.extensionConfiguration);this.state={configuration:o,customOptionFormData:null,isCustomOptionFormValid:false,selectedOptionID:this.$FBPaymentsCustomOptionsContainerBase2(o),showForm:false,showHardError:false}}m.__calculateExtensionState=function(n){var o=n.configuration,p=n.selectedOptionID;if(!p)return{extraData:{},ready:o.optional};var q=o.options.find(function(t){return t.optionId===p}),r=q&&q.optionPriceList,s=p.startsWith(k);return{extraData:{collectedDataKey:o.collectedDataKey,customOption:s?q:null,optionId:p,optionPriceList:r,priceModel:o.priceModel},ready:true}};m.prototype.$FBPaymentsCustomOptionsContainerBase1=function(n){if(n.identifier!=="CUSTOM_OPTIONS")throw Error("Options extension must be supplied proper configuration");return n};m.prototype.$FBPaymentsCustomOptionsContainerBase2=function(n){var o=n.options,p=n.shouldPreSelect&&o.length>0;if(p||o.length===1)return o[0].optionId;return null};m.prototype.componentWillReceiveProps=function(n){var o=this.$FBPaymentsCustomOptionsContainerBase1(n.extensionConfiguration),p=null;o.options.some(function(q){if(q.optionId===this.state.selectedOptionID){p=q.optionId;return true}return false}.bind(this));this.setState({configuration:o,selectedOptionID:p})};m.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsCustomOptionsContainerBase","__getView")};m.prototype.render=function(){var n=this.__getView();return c("React").createElement(n,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isCustomOptionFormSaveEnabled:this.state.isCustomOptionFormValid,onAddCustomOptionClick:this.handleAddCustomOptionClick,onCancelActiveStateClick:this.handleCancelActiveStateClick,onCustomOptionClick:this.handleCustomOptionClick,onCustomOptionFormDataChange:this.handleNewCustomOptionFormDataChange,onRemoveCustomOptionClick:this.handleRemoveCustomOptionClick,onRowClicked:this.handleCustomOptionRowClicked,onSaveNewCustomOption:this.handleSaveNewCustomOption}))};f.exports=m}),null);
__d("FBPaymentsAddButton.react",["ix","cx","Image.react","React","XUIButton.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=c("React").createElement(c("Image.react"),{className:"_2vzy",src:h("139437")});return c("React").createElement(c("XUIButton.react"),{className:c("joinClasses")("_2vzz _53q9",this.props.className),"data-testid":this.props["data-testid"],imageRight:n,label:this.props.label,onClick:this.props.onClick})};function m(){j.apply(this,arguments)}m.propTypes={label:l.node.isRequired,onClick:l.func};f.exports=m}),null);
__d("FBPaymentsFormBase.react",["React","abstractMethod","emptyFunction","getOwnObjectValues","joinClasses"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(l){__p&&__p();i.constructor.call(this,l);this.handleFormFieldMount=function(m,n){if(!this.state[m]){var o,p=this.getInitialFieldStateForChildProps(n);this.setState((o={},o[m]=p,o),function(){this.validateAndUpdate(this.state)}.bind(this))}}.bind(this);this.handleFormFieldUnmount=function(m){var n;this.setState((n={},n[m]=undefined,n),function(){this.validateAndUpdate(this.state)}.bind(this))}.bind(this);this.handleFormFieldChange=function(m,n,o){var p,q=(p={},p[m]={errorMessage:o.errorMessage,valid:o.isValid,value:n},p);this.setState(babelHelpers["extends"]({},q),function(){this.validateAndUpdate(this.state)}.bind(this))}.bind(this);this.state={}}k.prototype.componentWillMount=function(){this.validateAndUpdate(this.state)};k.prototype.validateAndUpdate=function(l){var m=this.validateForm(l),n=this.getFormData(l);this.props.onChange(n,m)};k.prototype.getInitialFieldStateForChildProps=function(l){var m=this.props.prefilledFormData[l.name]||l.value,n=!l.required||!!m;return{valid:n,value:m}};k.prototype.getChildren=function(l){return c("React").Children.toArray(l.children)};k.prototype.getFormData=function(l){var m={};Object.keys(l).forEach(function(n){var o=l[n],p=this.isFieldDeleted(o);if(!p)m[n]=o.value}.bind(this));return m};k.prototype.validateForm=function(l){return c("getOwnObjectValues")(l).every(function(m){return this.isFieldDeleted(m)||m.valid}.bind(this))};k.prototype.isFieldDeleted=function(l){return l===undefined};k.prototype.renderFormFields=function(){var l=this.getChildren(this.props),m=this.props.enableFloatingLabels,n=c("React").Children.map(l,function(o){var p=o.props.name,q=this.state[p],r={key:p,enableFloatingLabel:m,onChange:this.handleFormFieldChange,onWillMount:this.handleFormFieldMount,onWillUnmount:this.handleFormFieldUnmount,ref:p};if(q)o=c("React").cloneElement(o,babelHelpers["extends"]({},r,{errorMessage:q.errorMessage,value:q.value}));else{var s=this.getInitialFieldStateForChildProps(o.props);o=c("React").cloneElement(o,babelHelpers["extends"]({},r,s))}return o}.bind(this),this);return n};k.prototype.__getRootClassName=function(){return c("abstractMethod")("FBPaymentsFormBase","__getRootClassName")};k.prototype.render=function(){var l=this.props.className;return c("React").createElement("form",{className:c("joinClasses")(this.__getRootClassName(),l)},this.renderFormFields())};k.propTypes={onChange:j.func.isRequired,prefilledFormData:j.object.isRequired};k.defaultProps={onChange:c("emptyFunction"),prefilledFormData:{}};f.exports=k}),null);
__d("FBPaymentsForm.react",["cx","FBPaymentsFormBase.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsFormBase.react"));j=i&&i.prototype;k.prototype.__getRootClassName=function(){return"_53r8"};k.prototype.render=function(){return j.render.call(this)};function k(){i.apply(this,arguments)}k.propTypes=c("FBPaymentsFormBase.react").propTypes;f.exports=k}),null);
__d("FBPaymentsCustomForm.react",["fbt","FBPaymentsForm.react","FBPaymentsFormField.react","FBPaymentsNormalizers","FBPaymentsPriceFormField.react","FBPaymentsValidators","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l="currency";i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.renderCustomItemInfoField=function(s){__p&&__p();var t={key:s.identifier,name:s.identifier,placeholder:s.placeholderText,required:!s.optional};if(s.type===l)return c("React").createElement(c("FBPaymentsPriceFormField.react"),babelHelpers["extends"]({},t,{currency:s.currency}));var u=[],v=[];if(s.length)u.push(c("FBPaymentsNormalizers").truncate(s.length));if(!s.optional){var w=h._("Required"),x=this.props.customNonEmptyErrorMessage||w;v.push({validator:c("FBPaymentsValidators").nonEmpty,errorMessage:x})}return c("React").createElement(c("FBPaymentsFormField.react"),babelHelpers["extends"]({},t,{config:{normalizeOnChange:true,normalizers:u,validations:v}}))}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("FBPaymentsForm.react"),{onChange:this.props.onChange},this.props.fields.map(this.renderCustomItemInfoField))};m.propTypes={fields:k.array.isRequired,onChange:k.func.isRequired,customNonEmptyErrorMessage:k.node};f.exports=m}),null);
__d("FBPaymentsCustomOptionsViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.ADD_CUSTOM_OPTION_KEY="add_custom_option",n}l.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};l.prototype.getBackButtonText=function(){return h._("Back")};l.prototype.getAddButtonLabel=function(){return h._("Add")};l.prototype.getHardErrorMessage=function(){return h._("Please enter a valid option.")};l.propTypes={configuration:k.object.isRequired,isActive:k.bool.isRequired,isCustomOptionFormSaveEnabled:k.bool,onAddCustomOptionClick:k.func.isRequired,onCancelActiveStateClick:k.func.isRequired,onCustomOptionClick:k.func.isRequired,onCustomOptionFormDataChange:k.func.isRequired,onRemoveCustomOptionClick:k.func.isRequired,onRowClicked:k.func.isRequired,onSaveNewCustomOption:k.func.isRequired,selectedOptionID:k.string,showForm:k.bool,showHardError:k.bool};f.exports=l}),null);
__d("FBPaymentsCustomOptionsView.react",["cx","fbt","invariant","FBPaymentsAddButton.react","FBPaymentsCustomForm.react","FBPaymentsCustomOptionsViewBase.react","FBPaymentsRichSelector.react","LeftRight.react","Link.react","React","XUIButton.react","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("FBPaymentsRichSelector.react").Option,n="custom_";k=babelHelpers.inherits(o,c("FBPaymentsCustomOptionsViewBase.react"));l=k&&k.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.handleSelectorChange=function(u){if(u.value===this.ADD_CUSTOM_OPTION_KEY){this.props.onAddCustomOptionClick();return}var v=u.value;this.props.onCustomOptionClick(v)}.bind(this),q}o.prototype.isCustomOption=function(p){return p.optionId.startsWith(n)};o.prototype.renderOptionItem=function(p){return c("React").createElement(m,{key:p.optionId,label:p.optionTitle,value:p.optionId},c("React").createElement(c("XUIGrayText.react"),{shade:"dark"},p.optionTitle))};o.prototype.renderAddCustomOptionButton=function(){var p=this.props.configuration.customOption;if(!p)return null;return c("React").createElement(c("FBPaymentsAddButton.react"),{label:p.actionableTitle,onClick:this.props.onAddCustomOptionClick})};o.prototype.renderAddCustomOptionListItem=function(){var p=this.props.configuration.customOption;if(!p)return null;return c("React").createElement(m,{className:"_5kyc _52jv",key:this.ADD_CUSTOM_OPTION_KEY,label:p.actionableTitle,value:this.ADD_CUSTOM_OPTION_KEY},c("React").createElement(c("XUIGrayText.react"),{className:"_1297"},p.actionableTitle))};o.prototype.renderCustomOptionForm=function(){var p=this.props.configuration.customOption;p||j(0);var q=i._("Please enter a shipping method.");return c("React").createElement("div",null,c("React").createElement("div",{className:"_1j8c _2pie"},c("React").createElement(c("XUIGrayText.react"),{className:"_3yoq _1ghk _3-96",display:"block",shade:"medium",size:"small"},p.title),c("React").createElement(c("FBPaymentsCustomForm.react"),{fields:Array.from(p.formFields.values()),onChange:this.props.onCustomOptionFormDataChange,customNonEmptyErrorMessage:q}),c("React").createElement(c("XUIGrayText.react"),{className:"_3yor",display:"block",shade:"light",size:"small"},p.disclaimer)),c("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{label:this.getBackButtonText(),onClick:this.props.onCancelActiveStateClick}),c("React").createElement(c("XUIButton.react"),{disabled:!this.props.isCustomOptionFormSaveEnabled,label:this.getAddButtonLabel(),onClick:this.props.onSaveNewCustomOption,use:"confirm"})))};o.prototype.renderCustomOptionList=function(){var p=!!this.props.configuration.customOption,q=this.props.configuration.options;if(p)if(q.length===0)return this.renderAddCustomOptionButton();else if(q.length===1&&this.isCustomOption(q[0]))return this.renderCustomOptionText(q[0]);return c("React").createElement(c("FBPaymentsRichSelector.react"),{defaultLabel:this.props.configuration.actionableTitle,defaultValue:this.props.selectedOptionID,onChange:this.handleSelectorChange},q.map(this.renderOptionItem),this.renderAddCustomOptionListItem())};o.prototype.renderCustomOptionText=function(p){return c("React").createElement(c("LeftRight.react"),null,c("React").createElement(c("XUIText.react"),{className:"_52ju",display:"block",size:"meta1"},p.optionTitle),c("React").createElement(c("Link.react"),{onClick:this.props.onRemoveCustomOptionClick},c("React").createElement(c("XUIText.react"),{size:"meta1"},i._("Remove"))))};o.prototype.render=function(){if(this.props.isActive&&this.props.showForm)return this.renderCustomOptionForm();return c("React").createElement("div",{className:"__j9"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.props.configuration.title),c("React").createElement("div",{className:"_3-8x _52jv"},this.renderCustomOptionList()))};f.exports=o}),null);
__d("FBPaymentsCustomOptionsContainer.react",["FBPaymentsCustomOptionsContainerBase.react","FBPaymentsCustomOptionsView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsCustomOptionsContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsCustomOptionsView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsExtensionManagerBase",["FBPaymentsCheckoutConstants","FBPaymentsExtensionInterface.react","Map","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FBPaymentsCheckoutConstants").Extensions;i.prototype.getExtensionContainer=function(j){if(!h[j])throw Error("Non-existent payments extension "+j);var k=this.__getExtensionMap().get(j);if(!k)throw Error("Unimplemented payments extension "+j);return k};i.prototype.__getExtensionMap=function(){return c("abstractMethod")("FBPaymentsExtensionManagerBase","__getExtensionMap")};function i(){}f.exports=i}),null);
__d("FBPaymentsFrequencySelectorContainerBase.react",["fbt","BillingAgreementType","FBPaymentsExtensionInterface.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsExtensionInterface.react"));j=i&&i.prototype;function k(l){__p&&__p();j.constructor.call(this,l);this.DEFAULT_SUBSCRIPTION_PERIOD=1;this.DEFAULT_FREQUENCIES=[{label:h._("Once"),period:0,type:null},{label:h._("Monthly"),period:this.DEFAULT_SUBSCRIPTION_PERIOD,type:c("BillingAgreementType").MONTHLY},{label:h._("Yearly"),period:this.DEFAULT_SUBSCRIPTION_PERIOD,type:c("BillingAgreementType").YEARLY}];this.handleFrequencyButtonClick=function(o){this.setState({selectedIndex:o,selectedOption:this.frequencyOptions[o]})}.bind(this);var m=0;if(l.extensionConfiguration.identifier==="FREQUENCY_SELECTOR"){var n=l.extensionConfiguration;this.frequencyOptions=n.frequencyOptions||this.DEFAULT_FREQUENCIES}else this.frequencyOptions=this.DEFAULT_FREQUENCIES;this.state={selectedIndex:m,selectedOption:this.frequencyOptions[m]}}k.__calculateExtensionState=function(l){var m=true,n={},o=l.selectedOption;if(o.type)n={subscriptionPeriod:o.period,subscriptionType:o.type};return{extraData:n,ready:m}};k.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsFrequencySelectorContainerBase","__getView")};k.prototype.render=function(){var l=this.__getView();return c("React").createElement(l,babelHelpers["extends"]({},this.state,{frequencyOptions:this.frequencyOptions,isActive:this.props.isActive,onFrequencyButtonClick:this.handleFrequencyButtonClick}))};f.exports=k}),null);
__d("FBPaymentsFrequencySelectorViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.getFrequencySelectorTitle=function(){var l=this.props.frequencySelectorConfiguration;return l&&l.title||h._("Frequency")};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsFrequencySelectorView.react",["cx","FBPaymentsFrequencySelectorViewBase.react","React","XUIButton.react","XUIGrayText.react","XUIRadioButtonGroup.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsFrequencySelectorViewBase.react"));j=i&&i.prototype;k.prototype.__renderFrequencyButtonGroup=function(){var l=this.props.frequencyOptions,m=this.props.selectedIndex,n=l.map(function(o,p){return c("React").createElement(c("XUIButton.react"),{className:"_4yu2",key:p,label:o.label,size:"xlarge",type:"button",value:p})});return c("React").createElement(c("XUIRadioButtonGroup.react"),{className:"_4yu1",onValueChange:this.props.onFrequencyButtonClick,selectedDepressed:true,selectedValue:m},n)};k.prototype.render=function(){var l=c("React").createElement("div",{className:"_4yt_"},c("React").createElement("div",{className:"_4yu0"},this.__renderFrequencyButtonGroup()));return c("React").createElement("div",{className:"__j9"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getFrequencySelectorTitle()),l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsFrequencySelectorContainer.react",["FBPaymentsFrequencySelectorContainerBase.react","FBPaymentsFrequencySelectorView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsFrequencySelectorContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsFrequencySelectorView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsLoggerConstants",[],(function a(b,c,d,e,f,g){"use strict";var h={LoggerFlowType:{CHECKOUT:"checkout",INVOICE:"invoice",PAYMENT_HISTORY:"payment_history",PAYMENT_SETTINGS:"payment_settings",PAYOUT_SETUP:"payout_setup",VERIFICATION:"verification"},LoggerFlowStep:{ADD_BANK_ACCOUNT:"add_bank_account",ADD_CARD:"add_card",ADD_PAYPAL:"add_paypal",ADD_SHIPPING_ADDRESS:"add_shipping_address",ADDRESS:"address",CHECKOUT:"checkout",CONFIRMATION:"confirmation",DEBUG:"debug",DOB:"dob",FAILURE:"failure",FETCH_PAYMENT_HISTORY:"fetch_payment_history",FETCH_RECEIPT:"fetch_receipt",GIFT_AID:"gift_aid",INTRODUCTION:"introduction",INVOICE:"invoice",NAME_AND_DOB_AND_ADDRESS:"name_and_dob_and_address",NAME_AND_DOB:"name_and_dob",NATIONAL_ID:"national_id",NUX:"nux",PAYMENT_HISTORY:"payment_history",PAYMENT_SETTINGS:"payment_settings",PAYMENT:"payment",PAYOUT_SETUP:"payout_setup",PAYPAL_CONSENT:"paypal_consent",PENDING_MANUAL_REVIEW:"pending_manual_review",REMOVE_BANK_ACCOUNT:"remove_bank_account",REPLACE_BANK_ACCOUNT:"replace_bank_account",REQUEST_CC_CVV:"request_cc_cvv",SELECT_AMOUNT:"select_amount",SELECT_PAYMENT_METHOD:"select_payment_method",SELECT_SHIPPING_ADDRESS:"select_shipping_address",SHOW_RECEIPT:"show_receipt",SSN_FULL:"ssn_full",SSN_LAST_4:"ssn_last_4",SUCCESS:"success",UPDATE_SHIPPING_ADDRESS:"update_shipping_address",VERIFICATION_DOCUMENT:"verification_document",VERIFICATION:"verification",VERIFY_CARD:"verify_card"},LoggerEvent:{INIT:"init",SUCCESS:"success",DONE:"done",FAIL:"fail",CONFIRM:"confirm",CANCEL:"cancel",CANCEL_SAVING:"cancel_saving",BACK_CLICK:"back_click",SAVE_CLICK:"save_click",TERMS_CLICK:"terms_click",SUBMIT:"submit",CLICK:"click",REDIRECT:"redirect",BLUR:"blur",FIELD_FOCUS:"field_focus",CHECK:"check",UNCHECK:"uncheck"},LoggerErrorCategory:{ERROR:"error",TRANSPORT_ERROR:"transport_error"}};f.exports=h}),null);
__d("FBPaymentsMailingAddressSelectorContainerBase.react",["invariant","FBPaymentsContactInfoTypes","FBPaymentsExtensionInterface.react","FBPaymentsLoggerConstants","immutable","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsLoggerConstants").LoggerEvent,l=c("FBPaymentsLoggerConstants").LoggerFlowStep,m=c("FBPaymentsContactInfoTypes").CURRENT_COUNTRY,n=c("FBPaymentsContactInfoTypes").MAILING_ADDRESS;i=babelHelpers.inherits(o,c("FBPaymentsExtensionInterface.react"));j=i&&i.prototype;function o(p){__p&&__p();j.constructor.call(this,p);this.handleAddMailingAddressClick=function(){this.props.onRequestActive(true);this.props.logger.setFlowStep(l.ADD_SHIPPING_ADDRESS).setEventName(k.INIT).log()}.bind(this);this.handleMailingAddressClick=function(q){var r=this.state.mailingAddresses&&this.state.mailingAddresses.find(function(s){return s.id===q});this.setState({selectedAddress:r});this.props.logger.setFlowStep(l.SELECT_SHIPPING_ADDRESS).setEventName(k.INIT).log()}.bind(this);this.handleCancelActiveStateClick=function(){this.setState({saveErrors:null});this.props.onRequestActive(false);this.props.logger.setFlowStep(l.ADD_SHIPPING_ADDRESS).setEventName(k.CANCEL).log()}.bind(this);this.handleMailingAddressRowClicked=function(){this.props.onRequestActive(true)}.bind(this);this.handleShowForm=function(){this.handleToggleShowForm(true)}.bind(this);this.handleHideForm=function(){this.handleToggleShowForm(false)}.bind(this);this.handleAddressFormChanged=function(q,r){this.setState({isNewAddressValid:q,newAddress:r})}.bind(this);this.handleNewAddressFormChanged=function(q,r){this.setState({newAddress:q,isNewAddressValid:r})}.bind(this);this.handleSaveNewAddress=function(){var q=this.state.newAddress;q||h(0);this.setState({isSaving:true,saveErrors:null});this.__getAPI().addMailingAddress(q,this.handleSaveNewAddressSuccess,this.handleSaveNewAddressError);this.props.logger.setFlowStep(l.ADD_SHIPPING_ADDRESS).setEventName(k.SAVE_CLICK).log()}.bind(this);this.handleSaveNewAddressSuccess=function(q){this.setState({isSaving:false,newAddressID:q});this.props.onRequestActive(false);this.$FBPaymentsMailingAddressSelectorContainerBase1();this.props.logger.setFlowStep(l.ADD_SHIPPING_ADDRESS).setEventName(k.SUCCESS).setMailingAddressID(JSON.stringify(q)).log()}.bind(this);this.handleSaveNewAddressError=function(q){this.setState({isSaving:false,saveErrors:q});this.props.logger.setFlowStep(l.ADD_SHIPPING_ADDRESS).setEventName(k.FAIL).setErrorMessage(JSON.stringify(q)).log()}.bind(this);this.state={currentCountry:null,isExtensionHidden:false,isLoading:false,isNewAddressValid:false,isSaving:false,mailingAddresses:null,newAddress:null,newAddressID:null,saveErrors:null,selectedAddress:null,showForm:false,showHardError:false}}o.getStores=function(){return[this.__getContactInfoStore()]};o.calculateState=function(p,q){__p&&__p();var r=babelHelpers["extends"]({},p),s=this.__getCustomContent(q);r.isExtensionHidden=!!s&&!!s.hideExtension;var t=this.__getContactInfoStore().get(n);r.isLoading=t.isLoading();if(t.hasValue()){var u=t.getValueEnforcing();r.mailingAddresses=u;if(r.newAddressID){var v=u.find(function(z){return z.id===r.newAddressID});if(v){r.selectedAddress=v;r.newAddress=null;r.newAddressID=null}}else if(!r.selectedAddress){var w=u.filter(function(z){return z.isDefault}).first();if(!w)w=u.first();if(w)r.selectedAddress=w}}var x=this.__getContactInfoStore().get(m);if(x.hasValue()){var y=x.getValueEnforcing().first();r.currentCountry=y}return r};o.__calculateExtensionState=function(p){var q=false,r={},s=p.selectedAddress;if(p.isExtensionHidden)q=true;else if(s){q=true;r={mailingAddressID:s.id}}return{extraData:r,ready:q}};o.__getContactInfoStore=function(){return c("abstractMethod")("FBPaymentsMailingAddressSelectorContainerBase","__getContactInfoStore")};o.__getCustomContent=function(p){var q=p.extensionConfiguration;if(q.identifier!=="SHIPPING_ADDRESS")return null;return q.customContent};o.prototype.getPaymentType=function(){return this.props.checkoutConfiguration.paymentInfo.paymentItemType};o.prototype.$FBPaymentsMailingAddressSelectorContainerBase1=function(){this.constructor.__getContactInfoStore().fetch(n);this.setState({isLoading:true})};o.prototype.handleToggleShowForm=function(p){this.setState({showForm:p});this.handleClearInput()};o.prototype.handleClearInput=function(){this.setState({currentCountry:null,isNewAddressValid:false,newAddress:null,newAddressID:null,saveErrors:null})};o.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsMailingAddressSelectorContainerBase","__getAPI")};o.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsMailingAddressSelectorContainerBase","__getView")};o.prototype.render=function(){var p=this.__getView(),q=this.constructor.__getCustomContent(this.props);return c("React").createElement(p,babelHelpers["extends"]({},this.state,{customContent:q,isActive:this.props.isActive,onAddMailingAddressClick:this.handleAddMailingAddressClick,onAddressFormChanged:this.handleAddressFormChanged,onNewAddressFormChanged:this.handleNewAddressFormChanged,onCancelActiveStateClick:this.handleCancelActiveStateClick,onHideForm:this.handleHideForm,onMailingAddressClick:this.handleMailingAddressClick,onRowClicked:this.handleMailingAddressRowClicked,onSaveNewAddress:this.handleSaveNewAddress,onShowForm:this.handleShowForm,paymentType:this.getPaymentType()}))};f.exports=o}),null);
__d("FBPaymentsAddressLabelFormField_DEPRECATED.react",["cx","fbt","React","XUISelector.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("XUISelector.react").Option,m=c("React").PropTypes,n=[i._("Home"),i._("Work"),i._("Other")];j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={value:n[0].toString()},this.handleChange=function(u){var v=u.value;this.setState({value:v});this.triggerChange(v)}.bind(this),this.triggerChange=function(u){var v=this.props.onChange;if(typeof v==="function")v(this.props.name,u,true,false)}.bind(this),this.renderSelectorOptions=function(){return n.map(function(u,v){return c("React").createElement(l,{key:v,value:u.toString()},u)})},q}o.prototype.componentDidMount=function(){this.triggerChange(this.state.value)};o.prototype.render=function(){return c("React").createElement(c("XUISelector.react"),{className:c("joinClasses")(this.props.className,"_e-n"),onChange:this.handleChange,name:this.props.name,value:this.state.value},this.renderSelectorOptions())};o.propTypes={onChange:m.func,name:m.string.isRequired};f.exports=o}),null);
__d("FBPaymentsAddressForm_DEPRECATED.react",["cx","fbt","FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react","FBPaymentsAddressLabelFormField_DEPRECATED.react","FBPaymentsForm_DEPRECATED.react","FBPaymentsFormField_DEPRECATED.react","React","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={formData:{},isValid:false},this.handleValidation=function(s,t){this.setState({formData:t,isValid:s});this.props.onValidation(s,t)}.bind(this),o}m.prototype.render=function(){var n=!!(this.props.prefilledFormData&&this.props.prefilledFormData.care_of),o=this.props.showAddressLabelSelector?c("React").createElement(c("FBPaymentsAddressLabelFormField_DEPRECATED.react"),{className:"_3-96",name:"label",ignoreStyling:true,required:true}):null;return c("React").createElement(c("FBPaymentsForm_DEPRECATED.react"),{errorTitle:i._("Problem Saving Address"),prefilledFormData:this.props.prefilledFormData,onValidation:this.handleValidation,saveErrors:this.props.saveErrors,useGutters:true},o,c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{initiallyFocused:!n,name:"care_of",onChange:c("emptyFunction"),placeholder:i._("Your Name"),required:true,width:100}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{initiallyFocused:n,name:"street1",onChange:c("emptyFunction"),placeholder:i._("Street Address"),required:true,width:100}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{name:"street2",onChange:c("emptyFunction"),placeholder:i._("Street Address Continued (optional)"),width:100}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{name:"city",onChange:c("emptyFunction"),placeholder:i._("City\/District"),required:true,width:50}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{name:"state",onChange:c("emptyFunction"),placeholder:i._("State\/Province\/Region"),required:true,width:50}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{name:"zip",onChange:c("emptyFunction"),placeholder:i._("ZIP\/Postal Code"),width:50}),c("React").createElement(c("FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react"),{name:"country",onChange:c("emptyFunction"),required:true,size:"xlarge",width:50}))};m.propTypes={onValidation:l.func.isRequired,prefilledFormData:l.object,saveErrors:l.object,showAddressLabelSelector:l.bool};m.defaultProps={onValidation:c("emptyFunction"),prefilledFormData:{},saveErrors:null,showAddressLabelSelector:true};f.exports=m}),null);
__d("PaymentsAddressFieldsType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CARE_OF:"care_of",STREET_1:"street1",STREET_2:"street2",CITY:"city",STATE:"state",COUNTRY:"country",ZIP:"zip"})}),null);
__d("FBPaymentsCustomAddressFormBase.react",["Map","PaymentsAddressFieldsType","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={config:null,isLoading:false,selectedCountry:null},this.handleConfigFetched=function(p,q){this.setState({config:q,selectedCountry:p,isLoading:false})}.bind(this),this.handleFormDataChanged=function(p,q){var r=p[c("PaymentsAddressFieldsType").COUNTRY];if(r)this.setState({selectedCountry:r});this.props.onChange(p,q)}.bind(this),l}j.prototype.componentWillMount=function(){this.setState({isLoading:true});this.__getAPI().fetchMailingAddressConfig(this.props.paymentType,this.handleConfigFetched)};j.prototype.getCountryConfig=function(k){var l=this.state.config;if(!l)return null;var m=k?l.get(k):null;if(!m)m=l.get("default");return m};j.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsCustomAddressFormBase","__getAPI")};j.prototype.__getLoadingIndicator=function(){return c("abstractMethod")("FBPaymentsCustomAddressFormBase","__getLoadingIndicator")};j.prototype.__getForm=function(){return c("abstractMethod")("FBPaymentsCustomAddressFormBase","__getForm")};j.prototype.__getCustomFormField=function(){return c("abstractMethod")("FBPaymentsCustomAddressFormBase","__getFormField")};j.prototype.render=function(){__p&&__p();var k;if(this.state.isLoading)return this.__getLoadingIndicator();var l=this.getCountryConfig(this.state.selectedCountry);if(!l)return c("React").createElement("div",null,"Cannot find country config for ",this.state.selectedCountry);var m=this.__getForm(),n=this.__getCustomFormField(),o=l.map(function(p){if(p.fieldID===c("PaymentsAddressFieldsType").CARE_OF&&this.props.hideCareOf)return null;var q=p.fieldID===c("PaymentsAddressFieldsType").COUNTRY&&this.props.disableCountrySelector;return c("React").createElement(n,{fieldConfig:p,isDisabled:q,key:p.fieldID,name:p.fieldID,required:!p.isOptional})}.bind(this));return c("React").createElement(m,{className:this.props.className,enableFloatingLabels:this.props.enableFloatingLabels,onChange:this.handleFormDataChanged,prefilledFormData:(k={},k[c("PaymentsAddressFieldsType").COUNTRY]=this.state.selectedCountry,k)},o)};f.exports=j}),null);
__d("FBPaymentsCountrySelectorFormField.react",["FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react","FBPaymentsFormFieldBase.react","FBPaymentsWebdriverTestIDs","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsFormFieldBase.react"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.handleCountrySelectorChange=function(p,q,r){this.props.onChange(p,q,{isValid:r})}.bind(this),l}j.prototype.render=function(){var k=this.getOtherProps();return c("React").createElement("div",null,c("React").createElement(c("FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react"),babelHelpers["extends"]({},k,{className:this.props.classNameOnInput,"data-testid":c("FBPaymentsWebdriverTestIDs").FORM_FIELD_PREFIX+this.props.name,defaultCountry:this.props.value,isDisabled:this.props.isDisabled,name:this.props.name,onChange:this.handleCountrySelectorChange,showLabel:false})))};f.exports=j}),null);
__d("FBPaymentsCustomFormFieldBase.react",["FBPaymentsCustomFormHelper","FBPaymentsFormFieldBase.react","PaymentsAddressFieldsType","PaymentsFormFieldType","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.fieldRef=null,l}j.prototype.componentDidUpdate=function(k){var l=this.getRelevantPropsForRevalidation(k),m=this.getRelevantPropsForRevalidation(this.props),n=JSON.stringify(m),o=JSON.stringify(l);if(n!==o)this.triggerValidation()};j.prototype.getRelevantPropsForRevalidation=function(k){var l=k.fieldConfig,m=k.required;return{fieldConfig:l,required:m}};j.prototype.triggerValidation=function(){if(this.fieldRef)this.fieldRef.triggerValidation()};j.prototype.__getFormField=function(){return c("abstractMethod")("FBPaymentsCustomFormFieldBase","__getFormField")};j.prototype.__getCountrySelectorField=function(){return c("abstractMethod")("FBPaymentsCustomFormFieldBase","__getCountrySelectorField")};j.prototype.render=function(){__p&&__p();if(this.props.fieldConfig.fieldType!==c("PaymentsFormFieldType").TEXT_FIELD)return null;var k=c("FBPaymentsCustomFormHelper").getFormFieldPropsFromCustomFieldProps(this.props);if(this.props.fieldConfig.fieldID===c("PaymentsAddressFieldsType").COUNTRY){var l=this.__getCountrySelectorField();return c("React").createElement(l,k)}else{var m=this.__getFormField();return c("React").createElement(m,babelHelpers["extends"]({},k,{ref:function(n){this.fieldRef=n}.bind(this)}))}};f.exports=j}),null);
__d("FBPaymentsCustomFormField.react",["FBPaymentsCountrySelectorFormField.react","FBPaymentsCustomFormFieldBase.react","FBPaymentsFormField.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsCustomFormFieldBase.react"));i=h&&h.prototype;j.prototype.__getFormField=function(){return c("FBPaymentsFormField.react")};j.prototype.__getCountrySelectorField=function(){return c("FBPaymentsCountrySelectorFormField.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCustomAddressForm.react",["FBPaymentsCustomAddressFormBase.react","FBPaymentsCustomFormField.react","FBPaymentsForm.react","FBPaymentsModulesAPI","React","XUISpinner.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsCustomAddressFormBase.react"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};j.prototype.__getLoadingIndicator=function(){return c("React").createElement(c("XUISpinner.react"),{size:"large"})};j.prototype.__getForm=function(){return c("FBPaymentsForm.react")};j.prototype.__getCustomFormField=function(){return c("FBPaymentsCustomFormField.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsMailingAddressSelectorViewBase.react",["fbt","FBPaymentsCheckoutConfigurationTypes","React","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsCheckoutConfigurationTypes").CustomShippingAddressContentPropTypes,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.shouldHideExtension=function(){return this.props.isExtensionHidden};m.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};m.prototype.shouldUseNewAddressForm=function(){var n;return!!((n=this.props)!=null?(n=n.customContent)!=null?n.useNewAddressForm:n:n)};m.prototype.getBackButtonText=function(){return h._("Back")};m.prototype.getCancelButtonText=function(){return h._("Cancel")};m.prototype.getHardErrorMessage=function(){return h._("Please select a valid address.")};m.prototype.getSaveButtonText=function(){return h._("Save")};m.prototype.getMailingAddressLabel=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.addressLabel:n:n)||h._("Delivery Address")};m.prototype.getAddMailingAddressNUXLabel=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.addAddressNuxCta:n:n)||h._("Add Delivery Address")};m.prototype.getAddMailingAddressLabel=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.addAddressPuxCta:n:n)||h._("Add New Delivery Address")};m.prototype.getAddAddressTitle=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.formTitle:n:n)||h._("New Delivery Address")};m.prototype.getShippingAddressMessage=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.formFooterMessage:n:n)||h._("Your purchase will be sent to this address.")};function m(){i.apply(this,arguments)}m.propTypes={currentCountry:l.string,customContent:k,isActive:l.bool.isRequired,isExtensionHidden:l.bool.isRequired,isLoading:l.bool.isRequired,isNewAddressValid:l.bool.isRequired,isSaving:l.bool.isRequired,mailingAddresses:l.object,onAddMailingAddressClick:l.func.isRequired,onAddressFormChanged:l.func.isRequired,onNewAddressFormChanged:l.func.isRequired,onCancelActiveStateClick:l.func.isRequired,onMailingAddressClick:l.func.isRequired,onSaveNewAddress:l.func.isRequired,saveErrors:l.object,selectedAddress:l.object,showForm:l.bool,showHardError:l.bool};f.exports=m}),null);
__d("FBPaymentsMailingAddressSelectorView.react",["cx","FBPaymentsAddButton.react","FBPaymentsAddressForm_DEPRECATED.react","FBPaymentsCustomAddressForm.react","FBPaymentsLoadingView.react","FBPaymentsMailingAddressSelectorViewBase.react","FBPaymentsRichSelector.react","React","XUIButton.react","XUIGrayText.react","XUINotice.react","XUISpinner.react","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsRichSelector.react").Option,l="new_address";i=babelHelpers.inherits(m,c("FBPaymentsMailingAddressSelectorViewBase.react"));j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.handleSelectorChange=function(s){if(s.value===l){this.props.onAddMailingAddressClick();return}else{var t=s.value;this.props.onMailingAddressClick(t)}}.bind(this),o}m.prototype.renderAddMailingAddressButton=function(){return c("React").createElement(c("FBPaymentsAddButton.react"),{label:this.getAddMailingAddressNUXLabel(),onClick:this.props.onAddMailingAddressClick})};m.prototype.renderMailingAddressListItem=function(n){return c("React").createElement(k,{key:n.id,label:n.getDisplayLabel(),value:n.id},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark"},n.label),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light"},n.getSingleLineAddressWithCountry()))};m.prototype.renderAddMailingAddressListItem=function(){return c("React").createElement(k,{className:"_52jw _5kyc",clickable:false,key:l,label:this.getAddMailingAddressLabel(),value:l},c("React").createElement(c("XUIButton.react"),{label:this.getAddMailingAddressLabel(),onClick:this.props.onAddMailingAddressClick,size:"large",use:"confirm"}))};m.prototype.renderShippingAddressMessageListItem=function(){return c("React").createElement(k,{className:"_2y76 _5kyc",clickable:false,key:"security_message"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},this.getShippingAddressMessage()))};m.prototype.renderMailingAddressesDropdown=function(){if(this.props.isLoading)return c("React").createElement(c("XUISpinner.react"),null);var n=this.props.mailingAddresses;if(!n||n.size===0)return this.renderAddMailingAddressButton();var o=this.props.selectedAddress?this.props.selectedAddress.id:l;return c("React").createElement(c("FBPaymentsRichSelector.react"),{defaultValue:o,multiple:false,name:"mailing_address_selector",onChange:this.handleSelectorChange},n.map(this.renderMailingAddressListItem),this.renderAddMailingAddressListItem(),this.renderShippingAddressMessageListItem())};m.prototype.renderAddMailingAddress=function(){var n,o=(n=this.props.saveErrors)!=null?(n=n.general)!=null?n.message:n:n,p=o?c("React").createElement(c("XUINotice.react"),{className:"_3-96",use:"warn"},o):null,q=this.shouldUseNewAddressForm()?c("React").createElement("div",null,p,c("React").createElement(c("FBPaymentsCustomAddressForm.react"),{onChange:this.props.onNewAddressFormChanged,paymentType:this.props.paymentType})):c("React").createElement(c("FBPaymentsAddressForm_DEPRECATED.react"),{onValidation:this.props.onAddressFormChanged,saveErrors:this.props.saveErrors,prefilledFormData:{country:this.props.currentCountry}});return c("React").createElement("div",{className:"_1jnq"},c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:true,visible:this.props.isSaving}),c("React").createElement("div",{className:"_1j8c"},c("React").createElement("div",{className:"_2pi4"},c("React").createElement(c("XUIGrayText.react"),{className:"_3yoq",display:"block",shade:"dark",size:"small"},this.getAddAddressTitle()),c("React").createElement(c("XUIGrayText.react"),{className:"_3-8w",display:"block",shade:"medium",size:"small"},this.getShippingAddressMessage())),c("React").createElement("div",{className:"_3yor"},q)),c("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{className:"_2-uy",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveStateClick,size:"large"}),c("React").createElement(c("XUIButton.react"),{disabled:!this.props.isNewAddressValid||this.props.isSaving,label:this.getSaveButtonText(),onClick:this.props.onSaveNewAddress,size:"large",use:"confirm"})))};m.prototype.render=function(){if(this.shouldHideExtension())return null;if(this.props.isActive)return this.renderAddMailingAddress();return c("React").createElement("div",{className:"__j9 _2ph_"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getMailingAddressLabel()),c("React").createElement("div",{className:"_3-8x _52jv"},this.renderMailingAddressesDropdown()))};f.exports=m}),null);
__d("FBPaymentsMailingAddressSelectorContainer.react",["FBPaymentsContactInfoStore","FBPaymentsMailingAddressSelectorContainerBase.react","FBPaymentsMailingAddressSelectorView.react","FBPaymentsModulesAPI","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsMailingAddressSelectorContainerBase.react"));i=h&&h.prototype;j.__getContactInfoStore=function(){return c("FBPaymentsContactInfoStore")};j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};j.prototype.__getView=function(){return c("FBPaymentsMailingAddressSelectorView.react")};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("FBPaymentsNoteExtensionBase.react",["fbt","FBPaymentsExtensionInterface.react","FBPaymentsNormalizers","FBPaymentsValidators","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsExtensionInterface.react"));j=i&&i.prototype;function k(l){__p&&__p();var m;j.constructor.call(this,l);this.DEFAULT_NOTE_MAX_LENGTH=500;this.NOTE_FIELD_NAME="note";this.handleAddNoteClick=function(){this.setState({showNoteField:true})}.bind(this);this.handleFormChange=function(o,p){this.setState({note:o[this.NOTE_FIELD_NAME],isNoteValid:p})}.bind(this);var n=(m=this.getExtensionConfig())!=null?m.optional:m;this.state={isNoteValid:!!n,note:null,showNoteField:false,showHardError:false}}k.__calculateExtensionState=function(l){return{extraData:{note:l.note},ready:l.isNoteValid}};k.prototype.getExtensionConfig=function(){var l=this.props.extensionConfiguration;if(l.identifier==="NOTE")return l;else return null};k.prototype.getNoteMaxLength=function(){var l;return((l=this.getExtensionConfig())!=null?l.length:l)||this.DEFAULT_NOTE_MAX_LENGTH};k.prototype.isNoteOptional=function(){var l;return!!((l=this.getExtensionConfig())!=null?l.optional:l)};k.prototype.getNoteInputConfig=function(){var l=[];if(!this.isNoteOptional())l.push({validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Please enter a note.")});return{normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").truncate(this.getNoteMaxLength())],validations:l}};k.prototype.getNoteFieldPlaceholderText=function(){var l;return(l=this.getExtensionConfig())!=null?l.placeholderText:l};k.prototype.getNoteExtensionLabel=function(){return h._("Note")};k.prototype.getAddNoteButtonLabel=function(){if(this.isNoteOptional())return h._("Add Note (Optional)");return h._("Add Note")};f.exports=k}),null);
__d("FBPaymentsNoteExtension.react",["cx","FBPaymentsAddButton.react","FBPaymentsForm.react","FBPaymentsFormField.react","FBPaymentsNoteExtensionBase.react","LeftRight.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsNoteExtensionBase.react"));j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.NOTE_FIELD_ROWS=4,m}k.prototype.renderNoteField=function(){var l=this.state.note||"";return c("React").createElement(c("FBPaymentsForm.react"),{onChange:this.handleFormChange},c("React").createElement(c("FBPaymentsFormField.react"),{config:this.getNoteInputConfig(),fieldType:"textArea",name:this.NOTE_FIELD_NAME,placeholder:this.getNoteFieldPlaceholderText(),required:!this.isNoteOptional(),rows:this.NOTE_FIELD_ROWS,value:l}))};k.prototype.renderNoteButton=function(){return c("React").createElement(c("FBPaymentsAddButton.react"),{label:this.getAddNoteButtonLabel(),onClick:this.handleAddNoteClick})};k.prototype.renderNoteLength=function(){var l=this.state.note?this.state.note.length:0;return c("React").createElement("span",null,l,"/",this.getNoteMaxLength())};k.prototype.render=function(){var l=this.state.showNoteField?this.renderNoteField():this.renderNoteButton(),m=this.state.showNoteField?this.renderNoteLength():null;return c("React").createElement("div",{className:"__j9 _2ph_"},c("React").createElement(c("XUIGrayText.react"),{size:"small"},c("React").createElement(c("LeftRight.react"),null,this.getNoteExtensionLabel(),m)),c("React").createElement("div",{className:"_3-8x _52jv"},l))};f.exports=k}),null);
__d("FBPaymentsPINStoreBase",["EventEmitter","FBPaymentsDispatcher","FBPaymentsPINActions","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=false,k=false,l=null,m=void 0;h=babelHelpers.inherits(n,c("EventEmitter"));i=h&&h.prototype;function n(){i.constructor.call(this);m=c("FBPaymentsDispatcher").register(this.onEventDispatched.bind(this))}n.prototype.getDispatchToken=function(){return m};n.prototype.onEventDispatched=function(o){var p=o.data,q=o.type;switch(q){case c("FBPaymentsPINActions").types.PIN_SETTINGS_UPDATED:this.handlePINSettingsUpdated(p);this.emit("change");break}};n.prototype.handlePINSettingsUpdated=function(o){j=false;k=true;l=o};n.prototype.$FBPaymentsPINStoreBase1=function(){if(j||k)return;j=true;this.__getAPI().fetchPINSettings()};n.prototype.hasFetched=function(){return k};n.prototype.getPINSettings=function(){if(!j&&!k)this.$FBPaymentsPINStoreBase1();return l};n.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPINStoreBase","__getAPI")};f.exports=n}),null);
__d("FBPaymentsPINStore",["FBPaymentsModulesAPI","FBPaymentsPINStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPINStoreBase"));i=h&&h.prototype;j.prototype.__getAPI=function(){"use strict";return c("FBPaymentsModulesAPI")};function j(){"use strict";h.apply(this,arguments)}f.exports=new j()}),null);
__d("FBPaymentsPINVerificationContainerBase.react",["FBPaymentsDispatcher","FBPaymentsExtensionInterface.react","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsExtensionInterface.react"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$FBPaymentsPINVerificationContainerBase1=function(l){var m=this.state;m.verificationData={verified:true,pin:l};this.setState(m,function(){this.calculateExtensionStateAndSendUpdateImmediately(m)}.bind(this))}.bind(this);this.$FBPaymentsPINVerificationContainerBase2=function(){this.props.onRequestActiveForVerification(false)}.bind(this);this.state={needVerification:false,verificationData:null}}j.prototype.componentWillMount=function(){c("FBPaymentsDispatcher").explicitlyRegisterStore(this.constructor.__getPINStore())};j.__calculateExtensionState=function(k){var l=this.__getPINStore().hasFetched(),m=this.__getPINStore().getPINSettings()!==null;return{extraData:{},ready:true,needVerification:l&&m,verificationData:k.verificationData}};j.__getPINStore=function(){return c("abstractMethod")("FBPaymentsPINVerificationContainerBase","__getPINStore")};j.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPINVerificationContainerBase","__getView")};j.prototype.render=function(){var k=this.__getView();return c("React").createElement(k,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isActiveForVerification:this.props.isActiveForVerification,onCancelActiveForVerificationClick:this.$FBPaymentsPINVerificationContainerBase2,onPINEnter:this.$FBPaymentsPINVerificationContainerBase1}))};f.exports=j}),null);
__d("FBPaymentsPINConstants",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h={PIN_FLOW_TYPES:c("keyMirror")({ENABLE_PIN_PROTECTION:"",VALIDATE_PIN:""}),PIN_PROTECTION_REASON:c("keyMirror")({PAYMENTS:"",THREAD:""}),PIN_FLOW_STEPS:c("keyMirror")({UNKNOWN:"",VALIDATE_PIN:"",VALIDATE_PIN_TO_ENABLE:"",CREATE_PIN:"",CREATE_NEW_PIN:"",PIN_CREATED:"",DELETE_PIN_PASSWORD_CONFIRM:""}),PIN_CREATE_FLOW_STEPS:c("keyMirror")({ENTER_PIN:"",ENTER_PIN_AGAIN:""})};f.exports=h}),null);
__d("FBPaymentsPINCreateViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getTitle=function(){return h._("Create PIN")};function l(){i.apply(this,arguments)}l.propTypes={bodyText:k.node.isRequired,isStepConfirmPIN:k.bool.isRequired,loadingMaskVisible:k.bool.isRequired,onToggleDialog:k.func,pinConfirmField:k.object,pinField:k.object,renderInline:k.bool};f.exports=l}),null);
__d("FBPaymentsPINInputFieldView.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=[];for(var n=0;n<4;n++)m.push(c("React").createElement("span",{key:n,className:"_5mb2"+(n<this.props.digitsLength?" _5mb8":"")}));var o=[];for(var p=0;p<this.props.digitsLength;p++)o.push(c("React").createElement("span",{key:p,className:"_5mba"}));return c("React").createElement("div",{className:"_5mbb"+(this.props.shake?" _5mbc":"")},c("React").createElement("div",{className:"_5mbd"},o,c("React").createElement("span",{className:"_5mbe"+(this.props.cursorHidden?" _5mbt":"")})),m,this.props.hiddenInput)};function l(){i.apply(this,arguments)}l.propTypes={cursorHidden:k.bool.isRequired,digitsLength:k.number.isRequired,hiddenInput:k.object.isRequired,shake:k.bool.isRequired};f.exports=l}),null);
__d("FBPaymentsPINInputFieldContainer.react",["cx","AbstractTextInput.react","FBPaymentsPINInputFieldView.react","Keys","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=500,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={cursorBlinkingState:false,digits:this.props.pin?this.props.pin.split(""):[]},this.intervalID=null,this.toggleCursorVisibility=function(){this.setState({cursorBlinkingState:!this.state.cursorBlinkingState})}.bind(this),this.onKeyDown=function(s){__p&&__p();if(this.props.disabled)return;if(s.keyCode===c("Keys").BACKSPACE)s.preventDefault();if(s.repeat)return;var t=this.state.digits.slice(0);if(s.keyCode>=c("Keys").ZERO&&s.keyCode<=c("Keys").ZERO+9||s.keyCode>=c("Keys").NUMPAD_0&&s.keyCode<=c("Keys").NUMPAD_0+9){if(t.length===4)return;t.push(s.keyCode>=c("Keys").NUMPAD_0?s.keyCode-c("Keys").NUMPAD_0:s.keyCode-c("Keys").ZERO)}else if(s.keyCode===c("Keys").BACKSPACE)t.pop();if(this.intervalID!==null)clearInterval(this.intervalID);this.intervalID=setInterval(this.toggleCursorVisibility,k);this.setState({cursorBlinkingState:false,digits:t});if(t.length===4)this.props.onPINEnter(t.join(""))}.bind(this),this.focusHiddenInput=function(){this.refs.hiddenInput.focusInput()}.bind(this),o}m.prototype.componentWillReceiveProps=function(n){if(n.pin!==null)this.setState({digits:n.pin.split("")})};m.prototype.componentDidMount=function(){window.addEventListener("keydown",this.onKeyDown);this.intervalID=setInterval(this.toggleCursorVisibility,k);this.focusHiddenInput()};m.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.onKeyDown);if(this.intervalID!==null)clearInterval(this.intervalID)};m.prototype.render=function(){var n=this.state.digits.length,o=this.props.disabled||this.state.cursorBlinkingState||n===4,p=c("React").createElement(c("AbstractTextInput.react"),{className:"_5mbu",pattern:"\\d*",ref:"hiddenInput",type:"number"}),q=this.props.disabled?null:this.focusHiddenInput;return c("React").createElement("div",{onClick:q},c("React").createElement(c("FBPaymentsPINInputFieldView.react"),{cursorHidden:o,digitsLength:n,hiddenInput:p,shake:this.props.shake}))};m.propTypes={disabled:l.bool.isRequired,pin:l.string,shake:l.bool.isRequired,onPINEnter:l.func.isRequired};m.defaultProps={pin:null};f.exports=m}),null);
__d("FBPaymentsPINCreateContainerBase.react",["fbt","FBPaymentsModulesAPIBase","FBPaymentsPINConstants","FBPaymentsPINCreateViewBase.react","FBPaymentsPINInputFieldContainer.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=c("FBPaymentsPINConstants").PIN_CREATE_FLOW_STEPS,m=c("FBPaymentsPINConstants").PIN_PROTECTION_REASON,n=500;i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(p){__p&&__p();j.constructor.call(this,p);this.onPINCreated=function(q){this.setState({loading:false});this.props.onPINCreate(this.state.pinEntered)}.bind(this);this.onPINCreateError=function(q){this.setState({loading:false,pinEntered:"",shakePINInput:true});setTimeout(function(){this.setState({errorMessage:q.message,shakePINInput:false,step:l.ENTER_PIN,transition:true});setTimeout(function(){this.setState({transition:false})}.bind(this),n)}.bind(this),n)}.bind(this);this.createPIN=function(){var q=true,r={};if(this.props.protectionReason===m.THREAD){q=false;r[this.props.protectedThread]=true}this.__getAPI().createPIN({pin:this.state.pinEntered,payments_protected:q,thread_profiles_protected:r},this.onPINCreated,this.onPINCreateError)}.bind(this);this.onPINEntered=function(q){__p&&__p();if(this.state.step===l.ENTER_PIN){this.setState({confirmFail:false,errorMessage:"",pinEntered:q,step:l.CONFIRM_PIN,transition:true});setTimeout(function(){this.setState({transition:false})}.bind(this),n)}else if(q===this.state.pinEntered){this.createPIN();this.setState({loading:true})}else{this.setState({pinEntered:"",shakePINInput:true});setTimeout(function(){this.setState({confirmFail:true,shakePINInput:false,step:l.ENTER_PIN,transition:true});setTimeout(function(){this.setState({transition:false})}.bind(this),n)}.bind(this),n)}}.bind(this);this.handleDialogToggled=function(q){if(!q)this.props.onCancel()}.bind(this);if(!p.resetPIN&&p.protectionReason===null)throw new Error("If not resetting PIN, protection reason must be specified");if(p.protectionReason===m.THREAD&&p.protectedThread===null)throw new Error("Thread must be specified for thread protection");this.state={confirmFail:false,errorMessage:"",loading:false,pinEntered:"",shakePINInput:false,step:l.ENTER_PIN,transition:false}}o.prototype.render=function(){__p&&__p();var p=void 0;switch(this.state.step){case l.ENTER_PIN:if(this.state.errorMessage)p=this.state.errorMessage;else if(this.state.confirmFail)p=h._("PIN didn't match. Please try again.");else if(this.props.resetPIN)p=h._("Create a new 4-digit PIN.");else if(this.props.protectionReason===m.PAYMENTS)p=h._("Create a 4-digit PIN to use whenever you make a payment.");else if(this.props.protectionReason===m.THREAD)p=h._("Create a 4-digit PIN to use whenever you enter this thread.");break;case l.CONFIRM_PIN:p=h._("Enter your PIN again to confirm.");break;default:throw new Error("Unhandled PIN create flow state!")}var q=void 0,r=void 0;if(this.state.transition||this.state.step===l.ENTER_PIN)q=c("React").createElement(c("FBPaymentsPINInputFieldContainer.react"),{disabled:this.props.loading||this.state.loading,onPINEnter:this.onPINEntered,shake:this.state.shakePINInput});if(this.state.transition||this.state.step===l.CONFIRM_PIN)r=c("React").createElement(c("FBPaymentsPINInputFieldContainer.react"),{disabled:this.props.loading||this.state.loading,onPINEnter:this.onPINEntered,shake:this.state.shakePINInput});var s=this.__getView();return c("React").createElement(s,{bodyText:p,isStepConfirmPIN:this.state.step===l.CONFIRM_PIN,loadingMaskVisible:this.props.loading||this.state.loading,onToggleDialog:this.handleDialogToggled,pinConfirmField:r,pinField:q,renderInline:this.props.renderInline})};o.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPINCreateContainerBase","__getAPI")};o.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPINCreateContainerBase","__getView")};o.propTypes={loading:k.bool.isRequired,onCancel:k.func.isRequired,onPINCreate:k.func.isRequired,protectedThread:k.string,protectionReason:k.oneOf(Object.keys(m)),renderInline:k.bool,resetPIN:k.bool.isRequired};f.exports=o}),null);
__d("FBPaymentsPINCreateView.react",["cx","FBPaymentsPINCreateViewBase.react","P2PDialog.react","P2PDialogBody.react","P2PDialogTitle.react","P2PLoadingMask.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsPINCreateViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.getTitle(),m=c("React").createElement("div",null,c("React").createElement(c("P2PText.react"),{size:"medium",type:"primary",className:"_3-8q"},this.props.bodyText),c("React").createElement("div",{className:"_2iqb"},c("React").createElement("div",{className:"_5ku5"+(this.props.isStepConfirmPIN?" _5ku6":"")},c("React").createElement("div",{className:"_2iqc"},this.props.pinField),c("React").createElement("div",{className:"_2iqc"},this.props.pinConfirmField))),c("React").createElement(c("P2PLoadingMask.react"),{visible:this.props.loadingMaskVisible}));if(this.props.renderInline)return c("React").createElement("div",{className:"_58ba"},m);return c("React").createElement(c("P2PDialog.react"),{onToggle:this.props.onToggleDialog,repositionOnUpdate:true,shown:true},c("React").createElement(c("P2PDialogTitle.react"),null,l),c("React").createElement(c("P2PDialogBody.react"),{className:"_wjy"},m))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPINCreateContainer.react",["FBPaymentsModulesAPI","FBPaymentsPINCreateContainerBase.react","FBPaymentsPINCreateView.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPINCreateContainerBase.react"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};j.prototype.__getView=function(){return c("FBPaymentsPINCreateView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPINCreatedViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getTitle=function(){return h._("PIN Created")};function l(){i.apply(this,arguments)}l.propTypes={bodyText:k.node.isRequired,onConfirm:k.func,onToggleDialog:k.func};f.exports=l}),null);
__d("FBPaymentsPINCreatedContainerBase.react",["fbt","FBPaymentsPINConstants","FBPaymentsPINCreatedViewBase.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=c("FBPaymentsPINConstants").PIN_PROTECTION_REASON;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.handleDialogToggled=function(s){if(!s)this.props.onConfirm()}.bind(this),o}m.prototype.render=function(){var n=void 0;if(this.props.protectionReason===l.PAYMENTS)n=h._("You'll enter your PIN every time you make a payment.");else if(this.props.protectionReason===l.THREAD)n=h._("You'll enter your PIN every time you enter this thread.");var o=this.__getView();return c("React").createElement(o,{bodyText:n,onConfirm:this.props.onConfirm,onToggleDialog:this.handleDialogToggled})};m.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPINCreatedViewBase","__getView")};m.propTypes={onConfirm:k.func.isRequired,protectionReason:k.oneOf(Object.keys(l)).isRequired};f.exports=m}),null);
__d("FBPaymentsPINCreatedView.react",["cx","FBPaymentsPINCreatedViewBase.react","P2PButton.react","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsPINCreatedViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.getTitle(),m=c("React").createElement(c("P2PDialogFooter.react"),null,c("React").createElement(c("P2PButton.react"),{use:"confirm",size:"medium",label:"Continue",onClick:this.props.onConfirm}));return c("React").createElement(c("P2PDialog.react"),{onToggle:this.props.onToggleDialog,shown:true},c("React").createElement(c("P2PDialogTitle.react"),null,l),c("React").createElement(c("P2PDialogBody.react"),{className:"_wjy"},c("React").createElement(c("P2PText.react"),{size:"medium",type:"primary",className:"_3-8q"},this.props.bodyText)),m)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPINCreatedContainer.react",["FBPaymentsPINCreatedContainerBase.react","FBPaymentsPINCreatedView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPINCreatedContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsPINCreatedView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPINFlowContainerBase.react",["fbt","FBPaymentsDispatcher","FBPaymentsPINConstants","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=c("FBPaymentsPINConstants").PIN_FLOW_STEPS,m=c("FBPaymentsPINConstants").PIN_FLOW_TYPES,n=c("FBPaymentsPINConstants").PIN_PROTECTION_REASON;i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(p){__p&&__p();j.constructor.call(this,p);this.pinFetched=function(){if(this.__getPINStore().hasFetched()&&this.__getPINStore().getPINSettings()===null&&this.props.flowType===m.VALIDATE_PIN)this.props.onSuccess("1111")}.bind(this);this.handleStoreChanged=function(){if(!this.state.hasFetched&&this.__getPINStore().hasFetched()){this.setState({flowStep:this.calcInitialFlowStep(),hasFetched:true});this.pinFetched()}}.bind(this);this.handlePINDeleted=function(){this.setState({flowStep:l.CREATE_NEW_PIN})}.bind(this);this.handlePasswordReauthDialogCancelClick=function(){this.passwordCancelSubscribeToken=null;this.setState({flowStep:this.prevFlowStep})}.bind(this);this.handlePINSettingsUpdated=function(){this.props.onSuccess(this.state.pin)}.bind(this);this.handlePINValidated=function(q){__p&&__p();if(this.state.flowStep===l.VALIDATE_PIN){this.props.onSuccess(q);return}this.setState({pin:q,saving:true});var r={old_pin:q,payments_protected:null,thread_profiles_protected:{}};if(this.props.protectionReason===n.PAYMENTS)r.payments_protected=true;else r.thread_profiles_protected[this.props.protectedThread]=true;this.__getAPI().updatePIN(r,this.handlePINSettingsUpdated)}.bind(this);this.handlePINCreated=function(q){if(this.state.flowStep===l.CREATE_NEW_PIN){this.props.onSuccess(q);return}this.setState({pin:q,flowStep:l.PIN_CREATED})}.bind(this);this.handlePINCreationConfirmed=function(){this.props.onSuccess(this.state.pin)}.bind(this);this.__handleForgotPIN=function(){return c("abstractMethod")("FBPaymentsPINFlowContainerBase","__handleForgotPIN")};if(this.props.flowType===m.ENABLE_PIN_PROTECTION&&this.props.protectionReason===null)throw new Error("Protection reason must be specified for enable flow");if(this.props.protectionReason===n.THREAD&&this.props.protectedThread===null)throw new Error("Thread must be specified for thread protection");this.passwordCancelSubscribeToken=null;this.prevFlowStep=l.UNKNOWN;this.state={flowStep:this.calcInitialFlowStep(),hasFetched:this.__getPINStore().hasFetched(),pin:"",saving:false}}o.prototype.calcInitialFlowStep=function(){if(this.props.flowType===m.VALIDATE_PIN)return l.VALIDATE_PIN;else if(this.props.flowType===m.ENABLE_PIN_PROTECTION){if(this.__getPINStore().hasFetched()&&this.__getPINStore().getPINSettings()!==null)return l.VALIDATE_PIN_TO_ENABLE;return l.CREATE_PIN}return l.UNKNOWN};o.prototype.componentWillMount=function(){c("FBPaymentsDispatcher").explicitlyRegisterStore(this.__getPINStore())};o.prototype.componentDidMount=function(){this.__getPINStore().addListener("change",this.handleStoreChanged);this.__getPINStore().getPINSettings();this.pinFetched()};o.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPINFlowContainerBase","__getAPI")};o.prototype.__getPINStore=function(){return c("abstractMethod")("FBPaymentsPINFlowContainerBase","__getPINStore")};o.prototype.__getCreateContainer=function(){return c("abstractMethod")("FBPaymentsPINFlowContainerBase","__getCreateContainer")};o.prototype.__getValidateContainer=function(){return c("abstractMethod")("FBPaymentsPINFlowContainerBase","__getValidateContainer")};o.prototype.__getCreatedContainer=function(){return c("abstractMethod")("FBPaymentsPINFlowContainerBase","__getCreatedContainer")};o.prototype.render=function(){__p&&__p();switch(this.state.flowStep){case l.CREATE_PIN:case l.CREATE_NEW_PIN:var p=this.__getCreateContainer();return c("React").createElement(p,{loading:!this.state.hasFetched,onCancel:this.props.onCancel,onPINCreate:this.handlePINCreated,protectedThread:this.props.protectedThread,protectionReason:this.props.protectionReason,renderInline:this.props.renderInline,resetPIN:this.state.flowStep===l.CREATE_NEW_PIN});case l.VALIDATE_PIN:case l.VALIDATE_PIN_TO_ENABLE:case l.DELETE_PIN_PASSWORD_CONFIRM:var q=h._("For your security, please enter your PIN.");if(this.state.flowStep===l.VALIDATE_PIN_TO_ENABLE)if(this.props.protectionReason===n.PAYMENTS)q=h._("Please verify your PIN to enable payments protection.");else if(this.props.protectionReason===n.THREAD)q=h._("Please verify your PIN to enable thread protection.");var r=this.__getValidateContainer();return c("React").createElement(r,{bodyText:q,loading:!this.state.hasFetched||this.state.saving||this.state.flowStep===l.DELETE_PIN_PASSWORD_CONFIRM,onCancel:this.props.onCancel,onForgotPIN:this.__handleForgotPIN,onValidPIN:this.handlePINValidated,renderInline:this.props.renderInline});case l.PIN_CREATED:var s=this.__getCreatedContainer();return c("React").createElement(s,{onConfirm:this.handlePINCreationConfirmed,protectionReason:this.props.protectionReason});default:throw new Error("Unhandled PIN flow state!")}};o.propTypes={flowType:k.oneOf(Object.keys(m)).isRequired,onCancel:k.func.isRequired,onSuccess:k.func.isRequired,protectedThread:k.string,protectionReason:k.oneOf(Object.keys(n)),renderInline:k.bool};f.exports=o}),null);
__d("FBPaymentsPINValidateViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getTitle=function(){return h._("Enter PIN")};l.prototype.getForgotLinkText=function(){return h._("Forgot?")};l.prototype.getCancelButtonText=function(){return h._("Cancel")};function l(){i.apply(this,arguments)}l.propTypes={bodyText:k.node.isRequired,loadingMaskVisible:k.bool.isRequired,onCancel:k.func.isRequired,onForgotPIN:k.func.isRequired,onToggleDialog:k.func,pinField:k.object.isRequired,renderInline:k.bool};f.exports=l}),null);
__d("FBPaymentsPINValidateContainerBase.react",["fbt","FBPaymentsModulesAPIBase","FBPaymentsPINInputFieldContainer.react","FBPaymentsPINValidateViewBase.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=500;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(n){__p&&__p();j.constructor.call(this,n);this.handlePINValidated=function(o){__p&&__p();if(o.is_valid){this.setState({errorMessage:"",loading:false});this.props.onValidPIN(this.state.pinEntered)}else{var p=o.remain_attempts_count;this.setState({errorMessage:"",loading:false,shakePINInput:true,remainingAttempts:p});setTimeout(function(){this.setState({shakePINInput:false,pinEntered:""})}.bind(this),l);if(p===0)this.props.onForgotPIN()}}.bind(this);this.handlePINValidationError=function(o){this.setState({errorMessage:o.message,loading:false,shakePINInput:true});setTimeout(function(){this.setState({shakePINInput:false,pinEntered:""})}.bind(this),l)}.bind(this);this.onPINEntered=function(o){this.setState({pinEntered:o,loading:true});this.__getAPI().validatePIN({pin:o},this.handlePINValidated,this.handlePINValidationError)}.bind(this);this.handleDialogToggled=function(o){if(!o)this.props.onCancel()}.bind(this);this.state={errorMessage:"",loading:false,pinEntered:"",remainingAttempts:Infinity,shakePINInput:false}}m.prototype.render=function(){var n=this.props.bodyText;if(this.state.errorMessage)n=this.state.errorMessage;else if(this.state.remainingAttempts<=3)if(this.state.remainingAttempts===0)n=h._("Please enter your password to reset your PIN.");else n=h._("You have {attempts} more tries.",[h.param("attempts",this.state.remainingAttempts)]);var o=c("React").createElement(c("FBPaymentsPINInputFieldContainer.react"),{disabled:this.props.loading||this.state.loading,onPINEnter:this.onPINEntered,pin:this.state.pinEntered,shake:this.state.shakePINInput}),p=this.__getView();return c("React").createElement(p,{bodyText:n,loadingMaskVisible:this.props.loading||this.state.loading,onCancel:this.props.onCancel,onForgotPIN:this.props.onForgotPIN,onToggleDialog:this.handleDialogToggled,pinField:o,renderInline:this.props.renderInline})};m.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPINValidateContainerBase","__getAPI")};m.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPINValidateContainerBase","__getView")};m.propTypes={bodyText:k.node.isRequired,loading:k.bool.isRequired,onCancel:k.func.isRequired,onForgotPIN:k.func.isRequired,onValidPIN:k.func.isRequired,renderInline:k.bool};f.exports=m}),null);
__d("FBPaymentsPINValidateView.react",["cx","FBPaymentsPINValidateViewBase.react","P2PDialog.react","P2PDialogBody.react","P2PDialogTitle.react","P2PLoadingMask.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsPINValidateViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.getTitle(),m=c("React").createElement("div",{className:"_2iqb"},c("React").createElement("div",{className:"_2iqc"},this.props.pinField)),n=c("React").createElement("div",{className:"_3-98"},c("React").createElement("a",{href:"#",onClick:this.props.onForgotPIN},this.getForgotLinkText())),o=c("React").createElement("div",null,c("React").createElement(c("P2PText.react"),{size:"medium",type:"primary",className:"_3-8q"},this.props.bodyText),m,n,c("React").createElement(c("P2PLoadingMask.react"),{visible:this.props.loadingMaskVisible}));if(this.props.renderInline)return c("React").createElement("div",{className:"_58ba"},o);return c("React").createElement(c("P2PDialog.react"),{onToggle:this.props.onToggleDialog,repositionOnUpdate:true,shown:true},c("React").createElement("div",null,c("React").createElement(c("P2PDialogTitle.react"),null,l),c("React").createElement(c("P2PDialogBody.react"),{className:"_wjy"},o)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPINValidateContainer.react",["FBPaymentsModulesAPI","FBPaymentsPINValidateContainerBase.react","FBPaymentsPINValidateView.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPINValidateContainerBase.react"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};j.prototype.__getView=function(){return c("FBPaymentsPINValidateView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPINFlowContainer.react",["Arbiter","FBPaymentsModulesAPI","FBPaymentsPINConstants","FBPaymentsPINCreateContainer.react","FBPaymentsPINCreatedContainer.react","FBPaymentsPINFlowContainerBase.react","FBPaymentsPINStore","FBPaymentsPINValidateContainer.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsPINConstants").PIN_FLOW_STEPS;h=babelHelpers.inherits(k,c("FBPaymentsPINFlowContainerBase.react"));i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.__handleForgotPIN=function(){this.prevFlowStep=this.state.flowStep;this.setState({flowStep:j.DELETE_PIN_PASSWORD_CONFIRM});this.passwordCancelSubscribeToken=c("Arbiter").subscribeOnce("PasswordReauthDialogCancelClick",this.handlePasswordReauthDialogCancelClick);this.__getAPI().deletePIN({force_password:true},this.handlePINDeleted)}.bind(this),m}k.prototype.componentWillUnmount=function(){if(this.passwordCancelSubscribeToken!==null){c("Arbiter").unsubscribe(this.passwordCancelSubscribeToken);this.passwordCancelSubscribeToken=null}};k.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};k.prototype.__getPINStore=function(){return c("FBPaymentsPINStore")};k.prototype.__getCreateContainer=function(){return c("FBPaymentsPINCreateContainer.react")};k.prototype.__getValidateContainer=function(){return c("FBPaymentsPINValidateContainer.react")};k.prototype.__getCreatedContainer=function(){return c("FBPaymentsPINCreatedContainer.react")};f.exports=k}),null);
__d("FBPaymentsPINVerificationViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getBackButtonText=function(){return h._("Back")};function l(){i.apply(this,arguments)}l.propTypes={isActive:k.bool.isRequired,isActiveForVerification:k.bool.isRequired,onCancelActiveForVerificationClick:k.func.isRequired,onPINEnter:k.func.isRequired};f.exports=l}),null);
__d("FBPaymentsPINVerificationView.react",["cx","FBPaymentsPINConstants","FBPaymentsPINFlowContainer.react","FBPaymentsPINVerificationViewBase.react","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsPINConstants").PIN_FLOW_TYPES;i=babelHelpers.inherits(l,c("FBPaymentsPINVerificationViewBase.react"));j=i&&i.prototype;l.prototype.render=function(){if(this.props.isActiveForVerification)return c("React").createElement("div",{className:"_2pi2"},c("React").createElement(c("FBPaymentsPINFlowContainer.react"),{flowType:k.VALIDATE_PIN,onCancel:function m(){},onSuccess:this.props.onPINEnter,renderInline:true}),c("React").createElement("div",{className:"_52ju _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{label:this.getBackButtonText(),onClick:this.props.onCancelActiveForVerificationClick})));return null};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsPINVerificationContainer.react",["FBPaymentsPINStore","FBPaymentsPINVerificationContainerBase.react","FBPaymentsPINVerificationView.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPINVerificationContainerBase.react"));i=h&&h.prototype;j.__getPINStore=function(){return c("FBPaymentsPINStore")};j.prototype.__getView=function(){return c("FBPaymentsPINVerificationView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPayPalBillingAgreementTypes",[],(function a(b,c,d,e,f,g){"use strict";var h={MIB:"mib",CIB:"cib"};f.exports=h}),null);
/**
 * License: https://www.facebook.com/legal/license/-aYiJ3rNfIy/
 */
__d("PayPalFraudNet",[],(function a(b,c,d,e,f,g){__p&&__p();var h={paypal:{TYPE:"paypal",IFRAME_BASE_URL:"https://c.paypal.com",IFRAME_JS_URL:"https://c.paypal.com/webstatic/r/fb/fb-all-prod.fbi.min.js",IFRAME_URL:"https://c.paypal.com/v1/r/d/i",PP_VERSION:"20170124"}},i={VERSION:"0.3.0",config:h.paypal,time:{cd:{}},conf:{},resolveCallback:function(k){"use strict";var l;if(k!==null&&typeof k==="string"&&k!==""){l=k.split(".");if(l.length===2)return window.parent[l[0]][l[1]];else if(l.length===1)return window.parent[k]}},now:function(){"use strict";var k={};try{k=window.performance||{}}catch(l){}k.now=function(){return k.now||k.webkitNow||k.msNow||k.oNow||k.mozNow||function(){return new Date().getTime()}}();return k.now()},onEvent:function(k,l){"use strict";if(typeof window.addEventListener!=="undefined")window.addEventListener(k,l,false);else if(typeof window.attachEvent!=="undefined")window.attachEvent("on"+k,l)},fbOuter:function(k){"use strict";__p&&__p();i.time.p1={};i.time.p1.fbOuterStart=new Date().getTime();return{runFbWrapper:function(l,m){__p&&__p();var n,o;i.time.runFbWrapper={};i.time.runFbWrapper.start=i.now();n=function(p){__p&&__p();var q,r,s,t,u,v;v=i.config.IFRAME_BASE_URL;if(p.origin===undefined||p.origin!==v)return;try{q=JSON.parse(p.data);if(q.ppfn){r=(parent.document||document).referrer;s=(parent.document||document).URL}else if(q.cb1)m();else if(typeof q.time!=="undefined"){u={};u.runFbWrapper=i.time.runFbWrapper;u.runFb=q.time.runFb;l(u)}else l()}catch(w){}k.time=i.time.p1;if(p&&q&&q.ppfn&&p.origin===v)if(q.frameReady===true){t={ppfn:true,config:k,referer:r,URL:s};p.source.postMessage(JSON.stringify(t),p.origin)}};o=function(){__p&&__p();var p,q="ppfniframe",r=document.createElement("iframe");i.time.runFbWrapper.createChild=i.time.runFbWrapper.insertIframeStart=i.now();i.time.p1.iframeStart=new Date().getTime();r.id=r.name=q;r.setAttribute("style","width: 0; height: 0; border: 0; position:absolute; z-index:-999");i.onEvent("message",n);document.body.appendChild(r);p=function(){__p&&__p();if(typeof k.e!=="undefined")i.config.IFRAME_URL=i.config.IFRAME_URL.replace(/(?!(http|https)(:\/\/))([\w]+\.){1}([\w]+\.)+([\w]+)/g,k.e);var s,t=i.config.IFRAME_URL+"?js_src="+i.config.IFRAME_JS_URL;s=document.getElementById("ppfniframe");if(-1===navigator.userAgent.indexOf("MSIE"))s.src=t;else{s.location=t;s.src=t}if(typeof window.postMessage==="undefined")s.src=s.src+"#"+encodeURIComponent(JSON.stringify(k))};setTimeout(p,1)};o()}}}};function j(){"use strict";__p&&__p();var k,l,m,n,o,p,q,r=/paypal\.com/,s,t,u=function(){var A="abcdefghijklmnopqrstuvwxyz0123456789",B="";for(n=0;n<32;n++)B+=A[Math.floor(Math.random()*A.length)];return B}(),v=document.createTextNode('{"f":"'+u+'","s":"FB_FLOW_ID"}'),w=document.createElement("script");w.setAttribute("type","application/json");w.setAttribute("fncls","fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99");w.appendChild(v);var x=window.parent.document.getElementsByTagName("script");x=x[x.length-1];x.parentNode.insertBefore(w,x);try{if(window.parent!==window&&document.getElementById("js-iframe-async")){q=window.parent;q.PFB_4732=i}}catch(y){}try{s=document.getElementsByTagName("script");t=parent&&parent.document&&document!==parent.document&&parent.document.getElementsByTagName("script")||[];if(t===undefined||t.length===undefined)t=[];for(n=0;n<s.length+t.length;n+=1){p=n<s.length?s[n]:t[n-s.length];if(p.getAttribute("fncls")==="fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99"&&p.type==="application/json"){o=p;break}}if(typeof o!==undefined)m=JSON.parse(o.text);i.conf=m;i.config=h.paypal;if(typeof m!==undefined){k=i.resolveCallback(m.cb);l=i.resolveCallback(m.cb1);i.fbOuter(m).runFbWrapper(k,l);if(typeof o!=="undefined")o.parentElement.removeChild(o)}}catch(z){}return u}f.exports={collectFraudnetFeatures:j}}),null);
__d("FBPaymentsPaymentMethodSelectorContainerBase.react",["invariant","CreditCardFormParam","FBPaymentsCreditCard","FBPaymentsCreditCardVerificationHelper","FBPaymentsExtensionInterface.react","FBPaymentsLinkHelper","FBPaymentsLoggerConstants","FBPaymentsModulesAPIUtils","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodTypes","FBPaymentsPayPalBillingAgreement","FBPaymentsPayPalBillingAgreementTypes","PaymentMethodVerifyFields","PaymentModulesGating","PayPalFraudNet","QE2Logger","React","Set","abstractMethod","emptyFunction","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsLoggerConstants").LoggerEvent,l=c("FBPaymentsLoggerConstants").LoggerFlowStep,m="payment_modules_growth_www_guest_checkout";i=babelHelpers.inherits(n,c("FBPaymentsExtensionInterface.react"));j=i&&i.prototype;function n(o){__p&&__p();var p,q,r;j.constructor.call(this,o);this.handleBankClick=function(v){this.setState({selectedBank:v})}.bind(this);this.handlePaymentMethodRowClicked=function(){this.props.onRequestActive(true)}.bind(this);this.handlePaymentMethodClick=function(v){this.setState({needVerification:this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase3(v,this.props),selectedBank:null,selectedPaymentMethod:v,selectedPaymentMethodID:v.id,selectedPaymentMethodOrNewPaymentOption:{id:v.id,type:"paymentMethod"}});this.props.onExtensionPrePaymentCallChange(c("emptyFunction"))}.bind(this);this.handleAddPaymentMethod=function(){var v=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(v).setEventName(k.INIT).logVital();this.props.onRequestActive(true)}.bind(this);this.handleNewPaymentOptionClick=function(v){var w=this.getLoggerFlowStepForNewPaymentOption(v);this.props.logger.setFlowStep(w).setEventName(k.INIT).logVital();this.setState({selectedNewPaymentOptionType:v,selectedPaymentMethodOrNewPaymentOption:{id:v,type:"newPaymentOption"},needVerification:false},function(){if(this.state.isNUXInlineCardFormMode||this.state.isPUXInlineCardFormMode)if(v===c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD&&!this.state.isNUXInlineCardFormSavingCreditCard&&this.getIsDirectChargeAllowed())this.props.onExtensionPrePaymentCallChange(this.returnCCDataPrePaymentCall);else this.props.onExtensionPrePaymentCallChange(this.handleSaveNewPaymentOptionPrePaymentCall)}.bind(this))}.bind(this);this.handleSaveCreditCardCheckboxClick=function(event){if(!this.getIsDirectChargeAllowed())return;var v=event.target.checked,w=v?this.handleSaveNewPaymentOptionPrePaymentCall:this.returnCCDataPrePaymentCall;this.setState({isNUXInlineCardFormSavingCreditCard:v},function(){this.props.onExtensionPrePaymentCallChange(w)}.bind(this))}.bind(this);this.handleSaveNewPaymentOptionPrePaymentCall=function(v,w){__p&&__p();this.setState({saveErrors:null},function(){__p&&__p();this.saveNewPaymentOption(function(x){__p&&__p();var y=void 0,z=this.state.selectedNewPaymentOptionType;switch(z){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:y=new(c("FBPaymentsCreditCard"))({id:x});this.state.newPaymentOptionData||h(0);var A=this.state.newPaymentOptionData.data;this.setState({verificationData:babelHelpers["extends"]({csc:A[c("CreditCardFormParam").CSC]},this.state.verificationData)});break;case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:y=new(c("FBPaymentsPayPalBillingAgreement"))({id:x});break;default:h(0)}this.logNewPaymentOptionSaved(x,z);this.setState({selectedPaymentMethod:y,selectedPaymentMethodID:y.id,selectedPaymentMethodOrNewPaymentOption:{id:y.id,type:"paymentMethod"}});this.props.logger.updateExtraData({default_save_cc_option:+this.isNUXInlineCardFormSavingCreditCardDefault,did_user_save_cc:+this.state.isNUXInlineCardFormSavingCreditCard});v({paymentMethod:y})}.bind(this),function(x){this.handleNewPaymentOptionSavedError(x);w()}.bind(this),w)}.bind(this))}.bind(this);this.returnCCDataPrePaymentCall=function(v,w){this.setState({saveErrors:null},function(){this.state.newPaymentOptionData||h(0);var x=this.state.newPaymentOptionData.data;if(!x[c("CreditCardFormParam").COUNTRY])x[c("CreditCardFormParam").COUNTRY]=this.state.billingCountry;this.setState({selectedPaymentMethod:new(c("FBPaymentsCreditCard"))({id:0})});this.props.logger.updateExtraData({default_save_cc_option:+this.isNUXInlineCardFormSavingCreditCardDefault,did_user_save_cc:+this.state.isNUXInlineCardFormSavingCreditCard});v(c("FBPaymentsModulesAPIUtils").prepareInlineCardDirectChargeData(x))}.bind(this))}.bind(this);this.handleNewPaymentOptionFormDataUpdated=function(v){this.setState({newPaymentOptionData:v})}.bind(this);this.handleSaveNewPaymentOption=function(){var v=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(v).setEventName(k.SAVE_CLICK).logVital();this.setState({isSaving:true,saveErrors:null},function(){this.saveNewPaymentOption(this.handleNewPaymentOptionSaved,this.handleNewPaymentOptionSavedError,this.handleCancelSaveNewPaymentOption)}.bind(this))}.bind(this);this.handleNewPaymentOptionSaved=function(v){this.logNewPaymentOptionSaved(v,this.state.selectedNewPaymentOptionType);var w=this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase1(this.props);c("FBPaymentsPaymentMethodActions").fetchPaymentMethods(w);this.props.onRequestActive(false);this.setState({isLoading:true,isSaving:false,newCredentialID:v,newPaymentOptionData:null,selectedBank:null,selectedPaymentMethod:null,selectedPaymentMethodID:null,selectedPaymentMethodOrNewPaymentOption:null,showForm:false})}.bind(this);this.handleNewPaymentOptionSavedError=function(v){var w=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(w).setEventName(k.FAIL).updateExtraData({errors:v}).log();this.setState({isSaving:false,saveErrors:v,showForm:true})}.bind(this);this.handleCancelSaveNewPaymentOption=function(){var v=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(v).setEventName(k.CANCEL_SAVING).log();this.setState({isSaving:false})}.bind(this);this.handleShowCardForm=function(){this.handleToggleShowCardForm(true)}.bind(this);this.handleHideCardForm=function(){this.handleToggleShowCardForm(false)}.bind(this);this.handleCancelActiveStateClick=function(){var v=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(v).setEventName(k.CANCEL).log();var w=this.state.isPUXInlineCardFormMode?this.state.newPaymentOptionData:null;this.setState({newPaymentOptionData:w,saveErrors:null});this.props.onRequestActive(false)}.bind(this);this.handleCancelActiveForVerificationClick=function(){var v,w=this.state.selectedPaymentMethod,x=this.getLoggerFlowStepForVerification((v=w)!=null?v.type:v);this.props.logger.setFlowStep(x).setEventName(k.CANCEL).log();this.setState({convertPayPalErrorMessage:null,saveErrors:null});this.props.onExtensionWidthChange(null);this.props.onRequestActiveForVerification(false)}.bind(this);this.handleCreditCardVerificationFormValidation=function(v,w){this.setState({creditCardVerificationData:w,isCreditCardVerificationDataValid:v})}.bind(this);this.handleConfirmCreditCardVerification=function(){var v=this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase4(this.state.selectedPaymentMethod,this.props),w=c("FBPaymentsCreditCardVerificationHelper").shouldUpdateCreditCard(v);if(w){var x,y;this.setState({isSaving:true,saveErrors:null,verificationData:{verified:false}});var z=babelHelpers["extends"]((x={},x[c("CreditCardFormParam").CARD_FBID]=this.state.selectedPaymentMethodID,x),this.state.creditCardVerificationData,(y={},y[c("CreditCardFormParam").COMBINED_PAYMENT_TYPE]=this.props.checkoutConfiguration.paymentInfo.paymentItemType,y[c("CreditCardFormParam").SESSION_ID]=this.getLoggerSessionID(),y));this.__getAPI().updateCreditCard(z,this.completeCreditCardVerification,this.handleUpdateCreditCardError)}else this.completeCreditCardVerification()}.bind(this);this.completeCreditCardVerification=function(){var v=this.state;v.isSaving=false;v.verificationData={verified:true,csc:this.state.creditCardVerificationData[c("CreditCardFormParam").CSC]};this.setState(v,function(){this.calculateExtensionStateAndSendUpdateImmediately(this.state)}.bind(this))}.bind(this);this.handleUpdateCreditCardError=function(v){this.setState({isSaving:false,saveErrors:v})}.bind(this);this.handleConvertPayPalBAToCIB=function(v){this.props.logger.setFlowStep(l.PAYPAL_CONSENT).setEventName(k.INIT).setPaymentMethodID(v.id).log();this.setState({isConvertingPayPal:true,convertPayPalErrorMessage:null});var w={billing_agreement_id:v.id,billing_agreement_type:c("FBPaymentsPayPalBillingAgreementTypes").CIB};this.__getAPI().convertPayPalBAToCIB(w,this.handleConvertPayPalBAToCIBSuccess,this.handleConvertPayPalBAToCIBError)}.bind(this);this.handleConvertPayPalBAToCIBSuccess=function(v){__p&&__p();this.props.logger.setFlowStep(l.PAYPAL_CONSENT).setEventName(k.SUCCESS).setPaymentMethodID(v).log();var w={key:this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase1(this.props),payPalBAID:v};c("FBPaymentsPaymentMethodActions").convertPayPalBAToCIB(w);var x=this.state;x.needVerification=false;x.verificationData={verified:true};x.isConvertingPayPal=false;x.convertPayPalErrorMessage=null;this.setState(x,function(){this.calculateExtensionStateAndSendUpdateImmediately(x)}.bind(this));this.props.onExtensionWidthChange(null)}.bind(this);this.handleConvertPayPalBAToCIBError=function(v){var w=v.message;this.props.logger.setFlowStep(l.PAYPAL_CONSENT).setEventName(k.FAIL).setErrorMessage(w).log();this.setState({isConvertingPayPal:false,convertPayPalErrorMessage:w})}.bind(this);var s=!!((p=o)!=null?(p=p.checkoutExtraProps)!=null?(p=p.enableInlinePUXAndOtherEnhancements)!=null?p.field_level_errors:p:p:p),t=!!((q=o)!=null?(q=q.checkoutExtraProps)!=null?(q=q.enableInlinePUXAndOtherEnhancements)!=null?q.card_form_auto_tabbing:q:q:q),u=!!((r=o)!=null?(r=r.checkoutExtraProps)!=null?(r=r.enableInlinePUXAndOtherEnhancements)!=null?r.card_icons:r:r:r);this.state={billingCountry:null,connectPayPalURL:null,convertPayPalErrorMessage:null,creditCardVerificationData:{},fraudnetSessionID:null,isConvertingPayPal:false,isCreditCardVerificationDataValid:false,isNUXInlineCardFormMode:false,isPUXInlineCardFormMode:false,shouldShowCardIcons:u,shouldShowFieldLevelErrors:s,enableCardFormAutoTabbing:t,isNUXInlineCardFormSavingCreditCard:c("PaymentModulesGating").guestCheckoutIsCheckboxCheckedByDefault,isPUXNewPaymentOptionTabEnabled:false,isLoading:false,isSaving:false,needVerification:false,newCredentialID:null,newPaymentOptionData:null,paymentMethodsInfo:null,saveErrors:null,selectedBank:null,selectedNewPaymentOptionType:null,selectedPaymentMethod:null,selectedPaymentMethodID:null,selectedPaymentMethodOrNewPaymentOption:null,showForm:false,verificationData:null,showHardError:false};this.isNUXInlineCardFormSavingCreditCardDefault=this.state.isNUXInlineCardFormSavingCreditCard}n.getStores=function(){return[this.__getPaymentMethodStore()]};n.$FBPaymentsPaymentMethodSelectorContainerBase1=function(o){var p=o.checkoutConfiguration.paymentInfo;return{paymentType:p.paymentItemType,orderID:p.orderId,receiverID:p.receiverId,extraData:p.extraData}};n.$FBPaymentsPaymentMethodSelectorContainerBase2=function(o){__p&&__p();if(o.isSaving)return false;var p=o.paymentMethodsInfo;if(!p)return false;var q=o.selectedPaymentMethod;if(!q)return false;var r=q.type||"",s=r===c("FBPaymentsPaymentMethodTypes").NET_BANKING;if(s&&!o.selectedBank)return false;return true};n.$FBPaymentsPaymentMethodSelectorContainerBase3=function(o,p){var q=false;switch(o.type){case c("FBPaymentsPaymentMethodTypes").CREDIT_CARD:var r=this.$FBPaymentsPaymentMethodSelectorContainerBase4(o,p);q=r.length!==0;break;case c("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:q=o.cibConversionNeeded;break}return q};n.$FBPaymentsPaymentMethodSelectorContainerBase4=function(o,p){var q;if(!o)return[];switch(o.type){case c("FBPaymentsPaymentMethodTypes").CREDIT_CARD:var r=new(c("Set"))(o.getVerifyFields()),s=(q=p)!=null?(q=q.checkoutExtraProps)!=null?q.shouldVerifyCSC:q:q;if(s)r.add(c("PaymentMethodVerifyFields").CSC);return Array.from(r);default:return[]}};n.$FBPaymentsPaymentMethodSelectorContainerBase5=function(o,p){switch(o){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:return!!p&&p.isValid;default:return true}};n.calculateState=function(o,p){__p&&__p();var q=babelHelpers["extends"]({},o),r=this.$FBPaymentsPaymentMethodSelectorContainerBase1(p),s=this.__getPaymentMethodStore().get(r,p.logger.getSessionID());q.isLoading=s.isLoading();if(s.hasValue()){var t,u,v,w=s.getValueEnforcing();q.paymentMethodsInfo=w;var x=w.paymentMethods,y=w.newPaymentOptions;q.billingCountry=w.billingCountry;var z=x.size===0,A=!z,B=!!((t=p)!=null?(t=t.checkoutExtraProps)!=null?t.enableInlineCardForm:t:t);q.isNUXInlineCardFormMode=z&&(B||c("PaymentModulesGating").isEnabledForInlineCardFormWWW);q.isPUXInlineCardFormMode=A&&!!((u=p)!=null?(u=u.checkoutExtraProps)!=null?(u=u.enableInlinePUXAndOtherEnhancements)!=null?u.inline_pux:u:u:u);q.isPUXNewPaymentOptionTabEnabled=A&&B;if(z&&((v=p)!=null?(v=v.checkoutExtraProps)!=null?v.isInDirectChargeExperiment:v:v))c("QE2Logger").logExposureForUser(m);var C=y.find(function(I){return I.type===c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL})||{};q.connectPayPalURL=C.url;if(q.newCredentialID){var D=x.find(function(I){return I.id===q.newCredentialID});if(D){q.selectedBank=null;q.selectedPaymentMethod=D;q.selectedPaymentMethodID=D.id;q.newCredentialID=null;q.needVerification=this.$FBPaymentsPaymentMethodSelectorContainerBase3(D,p)}}else{if(!q.selectedPaymentMethod){var E=c("FBPaymentsLinkHelper").isCurrentURIReturnedFromPaypal(),F=x.first(),G=E?x.findLast(function(I){return I.getType()===c("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT})||F:F;if(G){q.selectedBank=null;q.selectedPaymentMethod=G;q.selectedPaymentMethodID=G.id;q.needVerification=this.$FBPaymentsPaymentMethodSelectorContainerBase3(G,p);q.selectedPaymentMethodOrNewPaymentOption={id:q.selectedPaymentMethodID,type:"paymentMethod"}}}if(!q.selectedNewPaymentOptionType){var H=y.first();if(H)q.selectedNewPaymentOptionType=H.type}}}if(q.fraudnetSessionID==null&&q.selectedPaymentMethod&&q.selectedPaymentMethod.type==c("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT)q.fraudnetSessionID=c("PayPalFraudNet").collectFraudnetFeatures();return q};n.__calculateExtensionState=function(o){var p=false,q={fraudnetSessionID:o.fraudnetSessionID};if((o.isPUXInlineCardFormMode||o.enableInlinePaymentMethodsSelector)&&o.selectedPaymentMethodOrNewPaymentOption&&o.selectedPaymentMethodOrNewPaymentOption.type==="newPaymentOption"||o.isNUXInlineCardFormMode)p=this.$FBPaymentsPaymentMethodSelectorContainerBase5(o.selectedNewPaymentOptionType,o.newPaymentOptionData);else if(this.$FBPaymentsPaymentMethodSelectorContainerBase2(o)){p=true;q=babelHelpers["extends"]({bank:o.selectedBank,paymentMethod:o.selectedPaymentMethod,paymentMethodID:o.selectedPaymentMethodID},q)}return{extraData:q,ready:p,needVerification:o.needVerification,verificationData:o.verificationData}};n.__getPaymentMethodStore=function(){return c("abstractMethod")("FBPaymentsPaymentMethodSelectorContainerBase","__getPaymentMethodStore")};n.prototype.getLoggerFlowStepForNewPaymentOption=function(o){switch(o){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:return l.ADD_CARD;case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:return l.ADD_PAYPAL;default:return""}};n.prototype.getLoggerFlowStepForVerification=function(o){switch(o){case c("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return l.VERIFY_CARD;case c("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return l.PAYPAL_CONSENT;default:return""}};n.prototype.getLoggerSessionID=function(){return this.props.logger.getSessionID()};n.prototype.getPaymentType=function(){return this.props.checkoutConfiguration.paymentInfo.paymentItemType};n.prototype.getIsDirectChargeAllowed=function(){var o;return!!((o=this.props)!=null?(o=o.checkoutExtraProps)!=null?o.isDirectChargeEnabled:o:o)&&this.state.isNUXInlineCardFormMode};n.prototype.saveNewPaymentOption=function(o,p,q){__p&&__p();var r=this.state.selectedNewPaymentOptionType;switch(r){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:var s=this.state.newPaymentOptionData;s||h(0);var t=this.props.checkoutConfiguration.paymentInfo,u=s.data;u[c("CreditCardFormParam").COMBINED_PAYMENT_TYPE]=this.props.checkoutConfiguration.paymentInfo.paymentItemType;u[c("CreditCardFormParam").RECEIVER_ID]=t.receiverId;u[c("CreditCardFormParam").SESSION_ID]=this.getLoggerSessionID();if(!u[c("CreditCardFormParam").COUNTRY])u[c("CreditCardFormParam").COUNTRY]=this.state.billingCountry;this.__getAPI().addCreditCard(u,o,p);break;case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:this.__connectPayPal(o,p,q);break;default:h(0)}};n.prototype.logNewPaymentOptionSaved=function(o,p){var q=this.getLoggerFlowStepForNewPaymentOption(p);this.props.logger.setFlowStep(q).setEventName(k.SUCCESS).setPaymentMethodID(o).logVital()};n.prototype.handleToggleShowCardForm=function(o){this.setState({newPaymentOptionData:null,saveErrors:null,showForm:o})};n.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPaymentMethodSelectorContainerBase","__getView")};n.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPaymentMethodSelectorContainerBase","__getAPI")};n.prototype.__connectPayPal=function(o,p,q){return c("abstractMethod")("FBPaymentsPaymentMethodSelectorContainerBase","__connectPayPal")};n.prototype.render=function(){var o,p=this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase5(this.state.selectedNewPaymentOptionType,this.state.newPaymentOptionData),q=!!((o=this.props)!=null?(o=o.checkoutExtraProps)!=null?o.enableInlinePaymentMethodsSelector:o:o),r=this.__getView();return c("React").createElement(r,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isActiveForVerification:this.props.isActiveForVerification,isDirectChargeAllowed:this.getIsDirectChargeAllowed(),enableInlinePaymentMethodsSelector:q,logger:this.props.logger,newPaymentOptionSaveEnabled:p,onAddPaymentMethodClick:this.handleAddPaymentMethod,onBankClick:this.handleBankClick,onCancelActiveForVerificationClick:this.handleCancelActiveForVerificationClick,onCancelActiveStateClick:this.handleCancelActiveStateClick,onConfirmCreditCardVerification:this.handleConfirmCreditCardVerification,onConvertPayPalBAToCIB:this.handleConvertPayPalBAToCIB,onCreditCardVerificationFormValidation:this.handleCreditCardVerificationFormValidation,onExtensionWidthChange:this.props.onExtensionWidthChange,onHideCardForm:this.handleHideCardForm,onNewPaymentOptionClick:this.handleNewPaymentOptionClick,onNewPaymentOptionFormDataUpdated:this.handleNewPaymentOptionFormDataUpdated,onPaymentMethodClick:this.handlePaymentMethodClick,onRowClicked:this.handlePaymentMethodRowClicked,onSaveCreditCardCheckboxClick:this.handleSaveCreditCardCheckboxClick,onSaveNewPaymentOption:this.handleSaveNewPaymentOption,onShowCardForm:this.handleShowCardForm}))};f.exports=n}),null);
__d("FBPaymentsRadioAccordionItemBase.react",["React","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.handleLabelClick=function(){this.props.onLabelClick(this.props.value)}.bind(this),l}j.defaultProps={onLabelClick:c("emptyFunction")};f.exports=j}),null);
__d("FBPaymentsAccordion.react",["FBPaymentsRadioAccordionItemBase.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.handleItemClicked=function(m){this.props.onSelect(m)}.bind(this);var l=k.selectedValue||k.defaultSelectedValue;if(l)this.props.onSelect(l)}j.prototype.render=function(){var k=this.props.selectedValue||this.props.defaultSelectedValue,l=[];if(this.props.children)c("React").Children.forEach(this.props.children,function(m,n){if(!m)return;var o={hideRadioButton:this.props.hideRadioButtons,onLabelClick:this.handleItemClicked,selected:k===m.props.value};l.push(c("React").cloneElement(m,o))}.bind(this));return c("React").createElement("div",{className:this.props.className},l)};f.exports=j}),null);
__d("FBPaymentsConsentViewBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){h.apply(this,arguments)}k.propTypes={consentContent:j.node.isRequired,logoSrc:j.object,subtitle:j.node,termsAndPoliciesText:j.node.isRequired,title:j.node};f.exports=k}),null);
__d("FBPaymentsConsentView.react",["cx","FBPaymentsConsentViewBase.react","Image.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsConsentViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.props.logoSrc?c("React").createElement(c("Image.react"),{src:this.props.logoSrc}):null,m=this.props.title?c("React").createElement("div",{className:"_1awf"},this.props.title):null,n=this.props.subtitle?c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"medium",size:"large",weight:"bold"},this.props.subtitle):null;return c("React").createElement("div",{className:"_1awe"},c("React").createElement("div",{className:"_52jv"},l,m),n,c("React").createElement(c("XUIGrayText.react"),{className:"_1awg",display:"block",shade:"medium",size:"large"},this.props.consentContent),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"medium",size:"large"},this.props.termsAndPoliciesText))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsCreditCardVerificationForm_DEPRECATED.react",["FBPaymentsCreditCardForm_DEPRECATED.react","FBPaymentsCreditCardVerificationHelper","PaymentMethodVerifyFields","React","Set"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.prototype.getVerifyFields=function(){return Array.from(new(c("Set"))([c("PaymentMethodVerifyFields").CSC].concat(this.props.verifyFields)))};k.prototype.render=function(){var l=this.getVerifyFields(),m=c("FBPaymentsCreditCardVerificationHelper").getVerifyFieldsMessage(l),n=c("FBPaymentsCreditCardVerificationHelper").shouldVerifyZIP(l);return c("React").createElement(c("FBPaymentsCreditCardForm_DEPRECATED.react"),{autoTab:true,cscMaxLength:this.props.cscMaxLength,onValidation:this.props.onValidation,prefilledFormData:this.props.prefilledFormData,saveErrors:this.props.saveErrors||m,showCountryField:n,showIcons:false,showLabels:true,showZipCodeField:n,useGutters:this.props.useGutters,verifyFields:l})};function k(){h.apply(this,arguments)}k.propTypes={cscMaxLength:j.number,onValidation:j.func.isRequired,prefilledFormData:j.object.isRequired,saveErrors:j.object,useGutters:j.bool,verifyFields:j.arrayOf(j.oneOf(Object.values(c("PaymentMethodVerifyFields")))).isRequired};k.defaultProps={cscMaxLength:3,useGutters:true,verifyFields:[c("PaymentMethodVerifyFields").CSC]};f.exports=k}),null);
__d("FBPaymentsPaymentMethodIcon.react",["ix","FBPaymentsMethodType","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l={small:[30,20],square:[32,32],normal:[36,24],large:[48,32]},m=h("95526");i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(o){j.constructor.call(this,o)}n.prototype.getImageSrc=function(){switch(this.props.methodType){case c("FBPaymentsMethodType").AMEX:return{small:h("95528"),square:h("95503"),normal:h("95501"),large:h("95502")}[this.props.size];case c("FBPaymentsMethodType").DISC:return{small:h("95529"),square:h("95514"),normal:h("95512"),large:h("95513")}[this.props.size];case c("FBPaymentsMethodType").MC:return{small:h("95531"),square:h("95523"),normal:h("95521"),large:h("95522")}[this.props.size];case c("FBPaymentsMethodType").VISA:return{small:h("95533"),square:h("95539"),normal:h("95537"),large:h("95538")}[this.props.size];case c("FBPaymentsMethodType").GENERIC_CARD:return{small:h("95526"),square:m,normal:m,large:m}[this.props.size];case c("FBPaymentsMethodType").JCB:return{small:h("95530"),square:h("95520"),normal:h("95518"),large:h("95519")}[this.props.size];case c("FBPaymentsMethodType").PAYPAL:return{small:h("95532"),square:h("95536"),normal:h("95534"),large:h("95535")}[this.props.size];default:return m}};n.prototype.render=function(){var o=l[this.props.size],p=o[0],q=o[1];return c("React").createElement(c("Image.react"),{height:q,src:this.getImageSrc(),width:p})};n.propTypes={methodType:k.oneOf(Object.values(c("FBPaymentsMethodType"))).isRequired,size:k.oneOf(["small","square","normal","large"]).isRequired};n.defaultProps={size:"normal"};f.exports=n}),null);
__d("FBPaymentsPaymentMethodListItemViewBase.react",["FBPaymentsMethodType","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l)}k.propTypes={iconURI:j.string,image:j.string,isSelected:j.bool,onClick:j.func,paymentMethodType:j.oneOf(Object.values(c("FBPaymentsMethodType"))),subtitle:j.node,title:j.node.isRequired};f.exports=k}),null);
__d("FBPaymentsPaymentMethodListItemView.react",["cx","FBPaymentsPaymentMethodIcon.react","FBPaymentsPaymentMethodListItemViewBase.react","Image.react","Layout.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("Layout.react").Column,l=c("Layout.react").FillColumn,m="data:image/png;base64,";i=babelHelpers.inherits(n,c("FBPaymentsPaymentMethodListItemViewBase.react"));j=i&&i.prototype;n.prototype.getIcon=function(){var o=this.props.image;if(o)return c("React").createElement(c("Image.react"),{className:"_4xq7",src:m+o});return c("React").createElement(c("FBPaymentsPaymentMethodIcon.react"),{methodType:this.props.paymentMethodType})};n.prototype.getFontSize=function(){return"small"};n.prototype.render=function(){return c("React").createElement(c("Layout.react"),{className:"_4v_s",onClick:this.props.onClick},c("React").createElement(k,{className:"_3-91"},this.getIcon()),c("React").createElement(l,{className:"_4v_t"},c("React").createElement(c("XUIGrayText.react"),{className:"_4v_r",display:"block",shade:"dark",size:this.getFontSize()},this.props.title),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:this.getFontSize()},this.props.subtitle)))};function n(){i.apply(this,arguments)}f.exports=n}),null);
__d("ZipcodeCollectIndicatorFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({REQUIRED:"required",HIDDEN:"hidden",OPTIONAL:"optional"})}),null);
__d("FBPaymentsPaymentMethodSelectorViewBase.react",["fbt","invariant","ix","FBPaymentsLinkHelper","FBPaymentsLoggerBase","FBPaymentsLoggerConstants","FBPaymentsMethodType","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodTypes","immutable","React","ZipcodeCollectIndicatorFields"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("immutable").List,n=c("FBPaymentsLoggerConstants").LoggerEvent,o=c("FBPaymentsLoggerConstants").LoggerFlowStep,p=c("React").PropTypes;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.handleCreditCardFormValidation=function(w,x){var y={newPaymentOptionType:c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD,data:x||{},isValid:w};this.props.onNewPaymentOptionFormDataUpdated(y)}.bind(this),s}q.prototype.isNUXInlineCardFormMode=function(){return this.props.isNUXInlineCardFormMode};q.prototype.isPUXInlineCardFormMode=function(){return this.props.isPUXInlineCardFormMode};q.prototype.shouldShowCardIcons=function(){return this.props.shouldShowCardIcons};q.prototype.shouldShowFieldLevelErrors=function(){return this.props.shouldShowFieldLevelErrors};q.prototype.enableCardFormAutoTabbing=function(){return this.props.enableCardFormAutoTabbing};q.prototype.shouldShowHardErrorMessage=function(){return this.props.showHardError};q.prototype.enableInlinePaymentMethodsSelector=function(){return this.props.enableInlinePaymentMethodsSelector};q.prototype.getAdditionalFields=function(){var r=this.getNewPaymentOptions(),s=r.find(function(t){return t.type===c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});return s?s.additionalFields:null};q.prototype.getPaymentMethods=function(){var r=this.props.paymentMethodsInfo||{};return r.paymentMethods||m()};q.prototype.getNewPaymentOptions=function(){var r=this.props.paymentMethodsInfo||{};return r.newPaymentOptions||m()};q.prototype.getPaymentMethodSubtype=function(r){var s=r.type;Object.values(c("FBPaymentsPaymentMethodTypes")).includes(s)||i(0);switch(s){case c("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return r.cardType;case c("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return c("FBPaymentsMethodType").PAYPAL;case c("FBPaymentsPaymentMethodTypes").MANUAL_TRANSFER:return c("FBPaymentsMethodType").MANUAL_TRANSFER;case c("FBPaymentsPaymentMethodTypes").NET_BANKING:return c("FBPaymentsMethodType").NET_BANKING;default:return""}};q.prototype.getShowZipCodeField=function(){var r=this.getNewPaymentOptions(),s=r.find(function(t){return t.type===c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});if(!s)return false;return s.zipFieldProperty!==c("ZipcodeCollectIndicatorFields").HIDDEN};q.prototype.getCancelButtonText=function(){return h._("Cancel")};q.prototype.getSaveButtonText=function(){switch(this.props.selectedNewPaymentOptionType){case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:return h._("Connect");default:return h._("Save")}};q.prototype.getBackButtonText=function(){return h._("Back")};q.prototype.getBankNameLabel=function(){return h._("Bank Name")};q.prototype.getPayButtonText=function(){return h._("Pay")};q.prototype.getPayPalConfirmButtonText=function(){return h._("Confirm and Pay")};q.prototype.getPaymentMethodLabel=function(){return h._("Payment Method")};q.prototype.getAddPaymentMethodLabel=function(){return h._("Add New Payment Method")};q.prototype.getAddPaymentMethodNUXLabel=function(){return h._("Add Payment Method")};q.prototype.getAddCardLabel=function(){if(this.isPUXInlineCardFormMode())return h._("Use New Card");return h._("Add New Card")};q.prototype.getNewPaymentOptionTabLabel=function(r){var s=r.getCallToActionTitle();if(this.props.isDirectChargeAllowed)if(r.type===c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD)s=h._("Pay With Credit or Debit Card");return s};q.prototype.getAddPayPalLabel=function(){if(this.isPUXInlineCardFormMode())return h._("Use PayPal");return h._("Connect PayPal")};q.prototype.getAddPaymentMethodHeader=function(){return h._("Add a Payment Method")};q.prototype.getDefaultBankSelectorOptionLabel=function(){return h._("Select a Bank")};q.prototype.getHardErrorMessage=function(){return h._("Please select a valid payment method.")};q.prototype.getPayPalLogoSrc=function(){return j("95544")};q.prototype.getPayPalBrandSrc=function(){return j("303560")};q.prototype.getPayPalConnectMessage=function(){return h._("Connect your PayPal account to complete this payment through Facebook.")};q.prototype.getPayPalConsentTitle=function(){return h._("Update to your preapproved payments")};q.prototype.getPayPalConsentSubtitle=function(){return h._("You can now use your preapproved Facebook payments authorization wherever PayPal is available when you pay on Facebook.")};q.prototype.getPayPalConsentPoliciesText=function(r){return h._("View {=Paypal Policies} and your payment method rights.",[h.param("=Paypal Policies",c("React").createElement("a",{href:r,target:"_blank"},h._("PayPal Policies")))])};q.prototype.getSecurityMessage=function(){var r=c("React").createElement("a",{href:c("FBPaymentsLinkHelper").getPayerProtectionURI(),onClick:function(){switch(this.props.selectedNewPaymentOptionType){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:this.props.logger.setFlowStep(o.ADD_CARD).setEventName(n.TERMS_CLICK).log();break;case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:this.props.logger.setFlowStep(o.ADD_PAYPAL).setEventName(n.TERMS_CLICK).log();break}}.bind(this),target:"_blank"},h._("Learn More"));if(this.props.isDirectChargeAllowed)return h._("We use secure transmission and encrypted storage to protect your financial information. {Link. =Learn more}",[h.param("Link. =Learn more",r)]);return h._("Your payment information is encrypted and stored with bank-level security. {Link. =Learn more}",[h.param("Link. =Learn more",r)])};q.prototype.getCSCVerificationMessage=function(r){if(r===4)return h._("For your security, please re-enter your card's four-digit security code on the front of your card.");else return h._("For your security, please re-enter your card's three-digit security code on the back of your card.")};q.propTypes={billingCountry:p.string,convertPayPalErrorMessage:p.node,isActive:p.bool.isRequired,isActiveForVerification:p.bool.isRequired,isConvertingPayPal:p.bool.isRequired,isCreditCardVerificationDataValid:p.bool.isRequired,isDirectChargeAllowed:p.bool.isRequired,isLoading:p.bool.isRequired,isNUXInlineCardFormMode:p.bool.isRequired,isPUXInlineCardFormMode:p.bool.isRequired,shouldShowCardIcons:p.bool.isRequired,shouldShowFieldLevelErrors:p.bool.isRequired,enableCardFormAutoTabbing:p.bool.isRequired,isNUXInlineCardFormSavingCreditCard:p.bool,isPUXNewPaymentOptionTabEnabled:p.bool.isRequired,isSaving:p.bool.isRequired,logger:p.instanceOf(c("FBPaymentsLoggerBase")).isRequired,newPaymentOptionData:p.object,newPaymentOptionSaveEnabled:p.bool.isRequired,onAddPaymentMethodClick:p.func.isRequired,onBankClick:p.func,onCancelActiveForVerificationClick:p.func.isRequired,onCancelActiveStateClick:p.func.isRequired,onConfirmCreditCardVerification:p.func.isRequired,onConvertPayPalBAToCIB:p.func.isRequired,onCreditCardVerificationFormValidation:p.func.isRequired,onExtensionWidthChange:p.func.isRequired,onHideCardForm:p.func.isRequired,onNewPaymentOptionClick:p.func.isRequired,onNewPaymentOptionFormDataUpdated:p.func,onPaymentMethodClick:p.func.isRequired,onRowClicked:p.func.isRequired,onSaveCreditCardCheckboxClick:p.func.isRequired,onSaveNewPaymentOption:p.func,onShowCardForm:p.func.isRequired,paymentMethodsInfo:p.object,saveErrors:p.object,selectedNewPaymentOptionType:p.string,selectedPaymentMethod:p.object,selectedPaymentMethodID:p.string,selectedPaymentMethodOrNewPaymentOption:p.object,showForm:p.bool,showHardError:p.bool,enableInlinePaymentMethodsSelector:p.bool};f.exports=q}),null);
__d("FBPaymentsRadioAccordionItem.react",["cx","FBCheckbox.react","FBPaymentsRadioAccordionItemBase.react","Image.react","Layout.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("Layout.react").Column,l=c("Layout.react").FillColumn;i=babelHelpers.inherits(m,c("FBPaymentsRadioAccordionItemBase.react"));j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.ICON_HEIGHT_PX=24,this.ICON_WIDTH_PX=36,o}m.prototype.getCardIconsView=function(){if(!this.props.iconSrcs)return null;return c("React").createElement(k,{className:"_1q0e"},this.props.iconSrcs.map(function(n,o){return c("React").createElement("span",{className:"_3-99",key:o},c("React").createElement(c("Image.react"),{height:this.ICON_HEIGHT_PX,width:this.ICON_WIDTH_PX,src:n}))}.bind(this)))};m.prototype.render=function(){var n=this.props.selected===true,o="_1q0f"+(n?" _1q0g":"")+(this.props.fullBleedSection?" _1q0h":""),p="_1q0l"+(!n?" _1q0m":""),q=this.props.hideRadioButton?null:c("React").createElement(k,null,c("React").createElement(c("FBCheckbox.react"),{checked:n,className:"_1q0q"}));return c("React").createElement("div",{className:"_1q0r"},c("React").createElement(c("Layout.react"),{className:p,onClick:!n?this.handleLabelClick:null,role:"presentation"},q,c("React").createElement(l,null,c("React").createElement("div",null,this.props.label)),this.getCardIconsView()),c("React").createElement("div",{className:o},n?this.props.children:null))};f.exports=m}),null);
__d("FBPaymentsTabBar.react",["cx","invariant","React","TabBar.react","TabBarItem.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(p){k.constructor.call(this,p);var q=p.tabs,r=p.defaultActiveTabKey;q.size!==0||i(0);r=r||q.first().key;this.state={defaultActiveTabKey:r};this.props.onTabClick(r)}n.prototype.$FBPaymentsTabBar1=function(p){return c("React").createElement(o,{key:p.key},p.label)};n.prototype.render=function(){var p=this.props.tabs,q=p.size===1;return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("TabBar.react"),{activeTabKey:this.props.activeTabKey,className:"_24a0"+(!q?" _hl-":"")+(q?" _hl_":""),defaultActiveTabKey:this.state.defaultActiveTabKey,onTabClick:this.props.onTabClick},p.map(this.$FBPaymentsTabBar1)))};l=babelHelpers.inherits(o,c("React").PureComponent);m=l&&l.prototype;o.prototype.render=function(){return c("React").createElement(c("TabBarItem.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_24a1")}),this.props.children)};function o(){l.apply(this,arguments)}f.exports=n}),null);
__d("FBPaymentsPaymentMethodSelectorView.react",["cx","fbt","invariant","ix","CreditCardFormParam","FBPaymentsAccordion.react","FBPaymentsAddButton.react","FBPaymentsConsentView.react","FBPaymentsCreditCardForm_DEPRECATED.react","FBPaymentsCreditCardVerificationForm_DEPRECATED.react","FBPaymentsLoadingView.react","FBPaymentsLoggerConstants","FBPaymentsMethodType","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodIcon.react","FBPaymentsPaymentMethodListItemView.react","FBPaymentsPaymentMethodSelectorViewBase.react","FBPaymentsPaymentMethodTypes","FBPaymentsRadioAccordionItem.react","FBPaymentsRichSelector.react","FBPaymentsTabBar.react","FBPaymentsWebdriverTestIDs","Image.react","immutable","InputLabel.react","Layout.react","PaymentMethodUtils","PaymentModulesGating","React","XUIButton.react","XUICheckboxInput.react","XUIGrayText.react","XUINotice.react","XUISpinner.react","idx"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("immutable").List,o=c("FBPaymentsRichSelector.react").Option,p=c("Layout.react").Column,q=c("Layout.react").FillColumn,r=c("FBPaymentsLoggerConstants").LoggerEvent,s=c("FBPaymentsLoggerConstants").LoggerFlowStep,t="add_payment_method",u=650;l=babelHelpers.inherits(v,c("FBPaymentsPaymentMethodSelectorViewBase.react"));m=l&&l.prototype;function v(){__p&&__p();var w,x;for(var y=arguments.length,z=Array(y),A=0;A<y;A++)z[A]=arguments[A];return x=(w=m.constructor).call.apply(w,[this].concat(z)),this.handleBankSelectorChange=function(B){var C=this.props.selectedPaymentMethod,D=C&&C.type;if(!C||D!==c("FBPaymentsPaymentMethodTypes").NET_BANKING)return;C.banks||j(0);var E=B.value,F=C.banks.find(function(G){return G.code===E});this.props.onBankClick&&this.props.onBankClick(F)}.bind(this),this.handlePaymentMethodSelectorChange=function(B){var C,D=this;if(B.value===t){this.props.onAddPaymentMethodClick();return}else(function(){var E=B.value,F=D.getPaymentMethods(),G=F.find(function(H){return H.id===E});D.props.onPaymentMethodClick(G)})()}.bind(this),this.handleTogglePaymentMethodsDropdown=function(B){if(B)this.props.logger.setFlowStep(s.SELECT_PAYMENT_METHOD).setEventName(r.INIT).log()}.bind(this),this.renderPaymentMethodListItem=function(B){var C=c("React").createElement(c("Layout.react"),null,c("React").createElement(p,{className:"_3-90"},c("React").createElement(c("FBPaymentsPaymentMethodIcon.react"),{methodType:this.getPaymentMethodSubtype(B),size:"small"})),c("React").createElement(q,null,B.getDisplayLabel()));return c("React").createElement(o,{key:B.id,label:C,value:B.id},c("React").createElement(c("FBPaymentsPaymentMethodListItemView.react"),{paymentMethodType:this.getPaymentMethodSubtype(B),subtitle:B.getDisplaySubtitle(),title:B.getDisplayTitle()}))}.bind(this),this.handleNewPaymentOptionSelectorChange=function(B){var C=B.value;this.props.onNewPaymentOptionClick(C)}.bind(this),this.handleNewPaymentOptionTabClick=function(B){this.props.onNewPaymentOptionClick(B)}.bind(this),this.getExistingPaymentMethodAccordionItem=function(B){var C=void 0;if(this.getPaymentMethodSubtype(B)===c("FBPaymentsMethodType").PAYPAL)C=c("PaymentMethodUtils").getImageForPayPal();else C=c("PaymentMethodUtils").getImageForCardType(this.getPaymentMethodSubtype(B));return c("React").createElement(c("FBPaymentsRadioAccordionItem.react"),{fullBleedSection:true,iconSrcs:n.of(C),key:B.id,label:B.getDisplayTitle(),subtitle:B.getDisplaySubtitle(),value:B.id})}.bind(this),this.handleAccordionPaymentMethodSelected=function(B){__p&&__p();switch(B){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:this.props.onNewPaymentOptionClick(c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD);break;case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:this.props.onNewPaymentOptionClick(c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL);break;default:var C=this.getPaymentMethods().filter(function(D){return D.id===B});if(C.count()===1){this.handlePaymentMethodClicked(C.first());this.props.onCancelActiveStateClick()}}}.bind(this),x}v.prototype.isPUXNewPaymentOptionTabEnabled=function(){return this.props.isPUXNewPaymentOptionTabEnabled||c("PaymentModulesGating").isEnabledForPaymentMethodTabSelectorWWW};v.prototype.renderBankListItem=function(w){return c("React").createElement(o,{key:w.code,label:w.name,value:w.code},c("React").createElement(c("FBPaymentsPaymentMethodListItemView.react"),{image:w.image,title:w.name}))};v.prototype.renderBanksDropdown=function(){var w,x=this.props.selectedPaymentMethod,y=x&&x.type;if(!x||y!==c("FBPaymentsPaymentMethodTypes").NET_BANKING)return null;x.banks||j(0);var z=(w=this.props)!=null?(w=w.selectedBank)!=null?w.code:w:w,A=this.getDefaultBankSelectorOptionLabel();return c("React").createElement(c("FBPaymentsRichSelector.react"),{className:"_3-8x _52jv",defaultValue:z,multiple:false,name:"bank_selector",onChange:this.handleBankSelectorChange},c("React").createElement(o,{key:"default",label:A,value:""},A),x.banks.map(this.renderBankListItem))};v.prototype.renderBanksLabel=function(){var w=this.props.selectedPaymentMethod,x=w&&w.type;if(!w||x!==c("FBPaymentsPaymentMethodTypes").NET_BANKING)return null;return c("React").createElement(c("XUIGrayText.react"),{className:"_3-8y",display:"block",size:"small"},this.getBankNameLabel())};v.prototype.renderSaveCardCheckbox=function(){return c("React").createElement("div",{className:"_1ghk"},c("React").createElement(c("InputLabel.react"),{className:"_s8u",label:i._("Save this card for faster payments on Facebook")},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.props.isNUXInlineCardFormSavingCreditCard,name:"cc_save_card",onChange:this.props.onSaveCreditCardCheckboxClick})))};v.prototype.renderPaymentMethodsNUXView=function(){if(this.isNUXInlineCardFormMode())return this.renderInlineCardForm();else return this.renderAddPaymentMethodButton()};v.prototype.renderInlineCardForm=function(){return c("React").createElement("div",null,this.renderNewPaymentOptionsTab(),c("React").createElement("div",{className:"_1ghk"},this.renderNewPaymentOptionViewTabContent()))};v.prototype.renderAddPaymentMethodButton=function(){return c("React").createElement(c("FBPaymentsAddButton.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").ADD_PAYMENT_METHOD_BUTTON,label:this.getAddPaymentMethodNUXLabel(),onClick:this.props.onAddPaymentMethodClick})};v.prototype.renderAddPaymentMethodListItem=function(){var w=this.getNewPaymentOptions();if(w.size===0)return null;var x=this.getAddPaymentMethodLabel();return c("React").createElement(o,{className:"_52jw _5kyc",clickable:false,"data-testid":c("FBPaymentsWebdriverTestIDs").ADD_PAYMENT_METHOD_LIST_ITEM,key:t,label:x,value:t},c("React").createElement(c("XUIButton.react"),{label:x,onClick:this.props.onAddPaymentMethodClick,size:"large",use:"confirm"}))};v.prototype.renderPaymentMethods=function(){var w=this.props.paymentMethodsInfo;if(this.props.isLoading||!w)return c("React").createElement(c("XUISpinner.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").PAYMENT_METHODS_LOADING_INDICATOR});var x=w.paymentMethods;if(x.size===0)return this.renderPaymentMethodsNUXView();var y=this.props.selectedPaymentMethodID?this.props.selectedPaymentMethodID:t;return c("React").createElement(c("FBPaymentsRichSelector.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").PAYMENT_METHODS_DROPDOWN,defaultValue:y,multiple:false,name:"payment_method_selector",onChange:this.handlePaymentMethodSelectorChange,onToggleLayer:this.handleTogglePaymentMethodsDropdown},x.map(this.renderPaymentMethodListItem),this.renderAddPaymentMethodListItem(),this.renderSecurityMessageListItem())};v.prototype.renderNewPaymentOptionListItem=function(w){return c("React").createElement(o,{key:w.type,label:w.getCallToActionTitle(),value:w.type},c("React").createElement(c("XUIGrayText.react"),{shade:"dark"},w.getCallToActionTitle()))};v.prototype.renderNewPaymentOptionView=function(){var w;switch(this.props.selectedNewPaymentOptionType){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:return this.renderAddCreditCardForm();case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:var x=(w=this.props.saveErrors)!=null?w.message:w,y=x?c("React").createElement(c("XUINotice.react"),{className:"_3-96",use:"warn"},x):null;return y;default:return j(false,"Unhandled new payment option type: %s",this.props.selectedNewPaymentOptionType)}};v.prototype.renderSecurityMessageCreditCard=function(){var w=this.props.isDirectChargeAllowed;return c("React").createElement(c("XUIGrayText.react"),{className:"_2pic"+(w?" _s8v":""),display:"block",shade:"light",size:"small"},this.getSecurityMessage())};v.prototype.renderNewPaymentOptionViewTabContent=function(){var w="_52ju _1ghk";switch(this.props.selectedNewPaymentOptionType){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:if(this.props.isDirectChargeAllowed)return c("React").createElement("div",{className:w},this.renderAddCreditCardForm(),this.renderSaveCardCheckbox(),this.renderSecurityMessageCreditCard());else return c("React").createElement("div",{className:w},this.renderAddCreditCardForm(),this.renderSecurityMessageCreditCard());case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:return c("React").createElement("div",{className:w},this.renderAddPayPalTabContent());default:return j(false,"Unhandled new payment option type: %s",this.props.selectedNewPaymentOptionType)}};v.prototype.renderAddPayPalTabContent=function(){var w,x=(w=this.props.saveErrors)!=null?w.message:w,y=x?c("React").createElement(c("XUINotice.react"),{className:"_3-96",use:"warn"},x):null;return c("React").createElement("div",null,y,c("React").createElement("div",{className:"_2pid _3yor"},c("React").createElement(c("Image.react"),{src:this.getPayPalBrandSrc()}),c("React").createElement(c("XUIGrayText.react"),{className:"_1ghk",display:"block",shade:"medium",size:"medium"},this.getPayPalConnectMessage()),c("React").createElement(c("XUIGrayText.react"),{className:"_1ghk",display:"block",shade:"medium",size:"medium"},this.getSecurityMessage())))};v.prototype.renderNewPaymentOptionsTab=function(){var w=this.getNewPaymentOptions();if(w.size===0)return null;var x=w.map(function(z){return{label:this.getNewPaymentOptionTabLabel(z),key:z.type}}.bind(this)),y=this.isNUXInlineCardFormMode();return c("React").createElement(c("FBPaymentsTabBar.react"),{activeTabKey:this.props.selectedNewPaymentOptionType,className:(y&&x.size>1&&!this.props.isDirectChargeAllowed?"_2owm":"")+(!y?" _2pid":"")+" _3ro0",defaultActiveTabKey:this.props.selectedNewPaymentOptionType,onTabClick:this.handleNewPaymentOptionTabClick,tabs:x})};v.prototype.renderNewPaymentOptionsDropdown=function(){var w=this.getNewPaymentOptions();if(w.size===0)return null;return c("React").createElement(c("FBPaymentsRichSelector.react"),{className:"_2pio",defaultValue:this.props.selectedNewPaymentOptionType,multiple:false,name:"new_payment_options_selector",onChange:this.handleNewPaymentOptionSelectorChange},w.map(this.renderNewPaymentOptionListItem))};v.prototype.renderAddPaymentMethod=function(){var w=this.getSecurityMessage(),x=this.isPUXNewPaymentOptionTabEnabled()?c("React").createElement("div",null,c("React").createElement("div",{className:"_1ghk _420v _2pi9"},this.renderNewPaymentOptionsTab()),c("React").createElement("div",{className:"_420v _2pio _2pi9"},this.renderNewPaymentOptionViewTabContent())):c("React").createElement("div",{className:"_1j8c"},c("React").createElement("div",{className:"_2pio _1ghk"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"small",weight:"bold"},this.getAddPaymentMethodHeader()),c("React").createElement(c("XUIGrayText.react"),{className:"_1ghk",display:"block",shade:"light",size:"small"},w)),this.renderNewPaymentOptionsDropdown(),this.renderNewPaymentOptionView());return c("React").createElement("div",{className:"_1jnq"},c("React").createElement(c("FBPaymentsLoadingView.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").SAVING_PAYMENT_METHOD_INDICATOR,overlay:true,visible:this.props.isSaving}),x,c("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{className:"_2-uy",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveStateClick,size:"large"}),c("React").createElement(c("XUIButton.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").SAVE_PAYMENT_METHOD_BUTTON,disabled:!this.props.newPaymentOptionSaveEnabled||this.props.isSaving,label:this.getSaveButtonText(),onClick:this.props.onSaveNewPaymentOption,size:"large",use:"confirm"})))};v.prototype.renderSecurityMessageListItem=function(){return c("React").createElement(o,{className:"_2y76 _5kyc",clickable:false,key:"security_message"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},this.getSecurityMessage()))};v.prototype.renderAddCreditCardForm=function(){var w={},x=c("PaymentModulesGating").isEnabledForCreditCardCountrySelectorWWW;if(x)w[c("CreditCardFormParam").COUNTRY]=this.props.billingCountry;var y=this.props.newPaymentOptionData||{};if(y.newPaymentOptionType===c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD)w=babelHelpers["extends"]({},w,y.data);return c("React").createElement(c("FBPaymentsCreditCardForm_DEPRECATED.react"),{additionalFields:this.getAdditionalFields(),allowCredit:true,autoTab:true,className:"_3yor",compactMode:false,editMode:false,onValidation:this.handleCreditCardFormValidation,prefilledFormData:w,saveErrors:this.props.saveErrors,showCountryField:x,showIcons:false,showLabels:true,showPlaceholderOnFocus:false,showSecondaryIcons:true,showZipCodeField:this.getShowZipCodeField(),useGutters:true})};v.prototype.renderPayPalConsentView=function(w){this.props.onExtensionWidthChange(u);var x=void 0;if(this.props.convertPayPalErrorMessage)x=c("React").createElement(c("XUINotice.react"),{className:"_q-q",use:"warn"},this.props.convertPayPalErrorMessage);return c("React").createElement("div",{className:"_1jnq"},x,c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:true,visible:this.props.isConvertingPayPal}),c("React").createElement(c("FBPaymentsConsentView.react"),{consentContent:w.cibConsentText,logoSrc:this.getPayPalLogoSrc(),subtitle:this.getPayPalConsentSubtitle(),termsAndPoliciesText:this.getPayPalConsentPoliciesText(w.cibTermsUrl),title:this.getPayPalConsentTitle()}),c("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{className:"_2-uy",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveForVerificationClick,size:"large"}),c("React").createElement(c("XUIButton.react"),{label:this.getPayPalConfirmButtonText(),onClick:function(){this.props.onConvertPayPalBAToCIB(w)}.bind(this),size:"large",use:"confirm"})))};v.prototype.renderCreditCardCSCVerificationView=function(w){var x=w.zip,y=w.countryCode,z={};z[c("CreditCardFormParam").CARD_NUMBER]=w.getCreditCardNumberMask();z[c("CreditCardFormParam").CARD_EXPIRATION]=w.getFormattedExpiration();z[c("CreditCardFormParam").ZIP]=x;z[c("CreditCardFormParam").COUNTRY]=y||this.props.billingCountry;var A=w.getCscMaxLength();return c("React").createElement("div",{className:"_1jnq"},c("React").createElement("div",{className:"_2ph_"},c("React").createElement(c("FBPaymentsCreditCardVerificationForm_DEPRECATED.react"),{cscMaxLength:A,onValidation:this.props.onCreditCardVerificationFormValidation,prefilledFormData:z,saveErrors:this.props.saveErrors,verifyFields:w.getVerifyFields()}),c("React").createElement(c("XUIGrayText.react"),{className:"_2pie",display:"block",size:"small",shade:"light"},this.getCSCVerificationMessage(A))),c("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{className:"_2-uy",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveForVerificationClick,size:"large"}),c("React").createElement(c("XUIButton.react"),{disabled:!this.props.isCreditCardVerificationDataValid,label:this.getPayButtonText(),onClick:this.props.onConfirmCreditCardVerification,size:"large",use:"confirm"})),c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:true,visible:this.props.isSaving}))};v.prototype.renderCardForm=function(){__p&&__p();var w=this.props.saveErrors,x=void 0,y=w&&w.general;if(y)x=y.message;var z=w&&w.fields;if(!x&&z)for(var A in z)if(Object.prototype.hasOwnProperty.call(z,A)){x=z[A].message;break}var B={},C=c("PaymentModulesGating").isEnabledForCreditCardCountrySelectorWWW;if(C)B[c("CreditCardFormParam").COUNTRY]=this.props.billingCountry;return c("React").createElement(c("FBPaymentsCreditCardForm_DEPRECATED.react"),{additionalFields:this.getAdditionalFields(),autoTab:true,enableFloatingLabel:true,prefilledFormData:B,showCountryField:C,showFieldLevelErrors:this.shouldShowFieldLevelErrors(),showLabels:true,showZipCodeField:this.getShowZipCodeField()})};v.prototype.handlePaymentMethodClicked=function(w){this.props.onPaymentMethodClick(w);this.props.onCancelActiveStateClick()};v.prototype.getNewPaymentMethodAccordionItems=function(){__p&&__p();var w=[],x=this.getNewPaymentOptions();x.forEach(function(y){__p&&__p();var z=y.getType();if(z===c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD){var A=y.availableCardTypes.map(function(E){return c("PaymentMethodUtils").getImageForCard(c("PaymentMethodUtils").getCardTypeFromFieldType(E))}),B=c("React").createElement(c("FBPaymentsRadioAccordionItem.react"),{fullBleedSection:true,iconSrcs:A,key:c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD,label:this.getAddCardLabel(),value:c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD},c("React").createElement("div",{className:"_2o-k"},this.renderCardForm()));w.push(B)}else if(z===c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL){var C=n.of(k("95532")),D=c("React").createElement(c("FBPaymentsRadioAccordionItem.react"),{iconSrcs:C,key:c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL,label:this.getAddPayPalLabel(),value:c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL});w.push(D)}}.bind(this));return w};v.prototype.renderInlinePaymentOptions=function(){var w=this.getPaymentMethods().map(this.getExistingPaymentMethodAccordionItem),x=this.props.selectedPaymentMethodOrNewPaymentOption?this.props.selectedPaymentMethodOrNewPaymentOption.id:null;return c("React").createElement("div",{className:"_2pi3"},c("React").createElement(c("FBPaymentsAccordion.react"),{className:"_2o-l",hideRadioButtons:false,selectedValue:x,onSelect:this.handleAccordionPaymentMethodSelected},w.toArray(),this.getNewPaymentMethodAccordionItems()))};v.prototype.render=function(){__p&&__p();if(this.props.isActiveForVerification){var w=this.props.selectedPaymentMethod;w||j(0);switch(w.type){case c("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return this.renderCreditCardCSCVerificationView(w);case c("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return this.renderPayPalConsentView(w);default:return j(false,"Unsupported payment method type for verification: %s",w.type)}}if(this.props.isActive)return this.renderAddPaymentMethod();var x=this.isNUXInlineCardFormMode();if(this.enableInlinePaymentMethodsSelector())return this.renderInlinePaymentOptions();var y=x?null:c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getPaymentMethodLabel());return c("React").createElement("div",{className:"__j9 _2ph_","data-testid":c("FBPaymentsWebdriverTestIDs").PAYMENT_METHOD_EXTENSION},y,c("React").createElement("div",{className:(!x?"_3-8x":"")+" _52jv"},this.renderPaymentMethods()),this.renderBanksLabel(),this.renderBanksDropdown())};f.exports=v}),null);
__d("FBPaymentsPaymentMethodStoreBase",["FBPaymentsDispatcher","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodsInfo","FBPaymentsPayPalBillingAgreement","FBPaymentsPayPalBillingAgreementTypes","FluxLoadObjectStore","immutable","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxLoadObjectStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("FBPaymentsDispatcher"));this.$FBPaymentsPaymentMethodStoreBase1=null}j.prototype.reduce=function(k,l){__p&&__p();var m=l.data,n=void 0;switch(l.type){case c("FBPaymentsPaymentMethodActions").types.FETCH_PAYMENT_METHODS:n=this.makeImmutableKey(m);var o=this.getCached(n);if(o.isEmpty()){this.get(m);return k}else{this.__load(n);return this.__setUpdating(k,[n])}case c("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_LOADED:n=this.makeImmutableKey(m.requestData);return this.__handleOne(k,n,m.paymentMethodsInfo);case c("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_ERROR:n=this.makeImmutableKey(m.requestData);return this.__handleOne(k,n,m.error);case c("FBPaymentsPaymentMethodActions").types.CONVERT_PAYPAL_BA_TO_CIB:n=this.makeImmutableKey(m.key);var p=this.getCached(n),q=p.getValueEnforcing(),r=q.paymentMethods;r=r.update(r.findIndex(function(s){return s.id===m.payPalBAID}),function(s){return s.set(c("FBPaymentsPayPalBillingAgreement").MutableProperties.BA_TYPE,c("FBPaymentsPayPalBillingAgreementTypes").CIB)});q=q.set(c("FBPaymentsPaymentMethodsInfo").MutableProperties.PAYMENT_METHODS,r);p=p.setValue(q);return k.set(n,p);default:return k}};j.prototype.makeImmutableKey=function(k){return c("immutable").fromJS(k)};j.prototype.get=function(k,l){this.$FBPaymentsPaymentMethodStoreBase1=l;var m=this.makeImmutableKey(k);return i.get.call(this,m)};j.prototype.__load=function(k){var l=k.toJS();this.__getAPI().fetchPaymentMethodsInfo(l,this.$FBPaymentsPaymentMethodStoreBase1)};j.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPaymentMethodStoreBase","__getAPI")};f.exports=j}),null);
__d("FBPaymentsPaymentMethodStore",["FBPaymentsModulesAPI","FBPaymentsPaymentMethodStoreBase"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPaymentMethodStoreBase"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d("PaypalPopupManager",[],(function a(b,c,d,e,f,g){var h={_instances:{},register:function i(j,k){Object.prototype.hasOwnProperty.call(this._instances,j);this._instances[j]=k},processPopup:function i(j){var k=j.instance_id;!Object.prototype.hasOwnProperty.call(this._instances,k);var l=this._instances[k];l.close(j)}};f.exports=h}),null);
__d("XPaymentsPaypalInitController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/payments/paypal_init/",{purchase_type:{type:"String"},is_dg_flow:{type:"Bool",defaultValue:false},is_dg_flow_final_action:{type:"Bool",defaultValue:false},use_payment_engine:{type:"Bool",defaultValue:false},item_title:{type:"String"},item_desc:{type:"String"},payment_type:{type:"Enum",enumType:1},session_id:{type:"String"}})}),null);
__d("PaypalPopup",["PopupWindow","URI","guid","PaypalPopupManager","XPaymentsPaypalInitController"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";__p&&__p();this.initData=i;this.pollingInterval=100;this.isDigitalGoodsFlow=true;this.isFinalStepOfDigitalGoodsFlow=false;this.timerID=0;this.width=0;this.height=0;this.secretKey="paypalPopup$"+c("guid")();c("PaypalPopupManager").register(this.secretKey,this)}h.prototype.setPollingInterval=function(i){"use strict";this.pollingInterval=i;return this};h.prototype.setIsDigitalGoodsFlow=function(i){"use strict";this.isDigitalGoodsFlow=i;return this};h.prototype.setIsFinalDigitalGoodFlow=function(i){"use strict";this.isFinalStepOfDigitalGoodsFlow=i;return this};h.prototype.setCancelHandler=function(i){"use strict";this.cancelHandler=i;return this};h.prototype.setHandler=function(i){"use strict";this.handler=i;return this};h.prototype.setWidth=function(i){"use strict";this.width=i;return this};h.prototype.setHeight=function(i){"use strict";this.height=i;return this};h.prototype.open=function(){"use strict";__p&&__p();var i=this.initData;if(Object.prototype.hasOwnProperty.call(i,"redirect_data")){i.redirect_data.instance_id=this.secretKey;i.redirect_data.type="rp"}else i.redirect_data={instance_id:this.secretKey,type:"rp"};i.is_dg_flow_final_action=this.isFinalStepOfDigitalGoodsFlow;var j=c("XPaymentsPaypalInitController").getURIBuilder().getURI().setProtocol("https").setSubdomain("secure").setQueryData(i).toString();this.popup=c("PopupWindow").open(j,this.getHeight(),this.getWidth());this.setupPopupOpenCheck()};h.prototype.close=function(i){"use strict";this.closePopup();if(i.cancel)this.cancelHandler(i);else if(this.handler)this.handler(i)};h.prototype.setupPopupOpenCheck=function(){"use strict";this.timerID=setInterval(function(){if(this.popup&&this.popup.closed){this.closePopup();if(this.cancelHandler)this.cancelHandler()}}.bind(this),this.pollingInterval)};h.prototype.closePopup=function(){"use strict";if(this.timerID!==0){clearInterval(this.timerID);this.timerID=0}if(this.popup){this.popup.close();this.popup=null}};h.prototype.getWidth=function(){"use strict";if(this.width)return this.width;if(this.isDigitalGoodsFlow)return 420;return 955};h.prototype.getHeight=function(){"use strict";if(this.height)return this.height;if(this.isDigitalGoodsFlow)return 600;return 750};f.exports=h}),null);
__d("FBPaymentsPaymentMethodSelectorContainer.react",["invariant","FBPaymentsModulesAPI","FBPaymentsPaymentMethodSelectorContainerBase.react","FBPaymentsPaymentMethodSelectorView.react","FBPaymentsPaymentMethodStore","FluxContainer","PaypalPopup","URI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=100,l=500;i=babelHelpers.inherits(m,c("FBPaymentsPaymentMethodSelectorContainerBase.react"));j=i&&i.prototype;m.__getPaymentMethodStore=function(){return c("FBPaymentsPaymentMethodStore")};m.prototype.__getView=function(){return c("FBPaymentsPaymentMethodSelectorView.react")};m.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};m.prototype.__connectPayPal=function(n,o,p){__p&&__p();var q=this.state.connectPayPalURL;q||h(0);var r=new(c("URI"))(q),s=r.getQueryData();delete s.redirect_url;var t=new(c("PaypalPopup"))(s).setIsDigitalGoodsFlow(false).setWidth(l).setHeight(l).setHandler(function(u){u.payment_type=this.props.checkoutConfiguration.paymentInfo.paymentItemType;u.paypal_ba_type=s.paypal_ba_type;u.session_id=this.props.logger.getSessionID();c("FBPaymentsModulesAPI").completePayPal(u,n,o)}.bind(this)).setCancelHandler(p).setPollingInterval(k);t.open()};function m(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(m,{withProps:true})}),null);
__d("FBPaymentsPriceSelectorStoreBase",["FBPaymentsDispatcher","FBPaymentsPriceSelectorActions","FBPaymentsPriceSelectorConfiguration","FluxLoadObjectStore","immutable","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxLoadObjectStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("FBPaymentsDispatcher"))}j.prototype.reduce=function(k,l){var m=l.data,n=void 0;switch(l.type){case c("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_LOADED:n=this.makeImmutableKey(m.requestData);return this.__handleOne(k,n,m.priceSelectorConfig);case c("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_ERROR:n=this.makeImmutableKey(m.requestData);return this.__handleOne(k,n,m.error);default:return k}};j.prototype.makeImmutableKey=function(k){return c("immutable").fromJS(k)};j.prototype.get=function(k){var l=this.makeImmutableKey(k);return i.get.call(this,l)};j.prototype.__load=function(k){var l=k.toJS();this.__getAPI().fetchPriceSelectorConfiguration(l)};j.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPriceSelectorStoreBase","__getAPI")};f.exports=j}),null);
__d("FBPaymentsPriceSelectorViewBase.react",["fbt","FBPaymentsPriceSelectorConfiguration","PECurrency","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.shouldShowHardErrorMessage=function(){return this.props.showHardError};k.prototype.shouldShowFieldLevelErrors=function(){return this.props.shouldShowFieldLevelErrors};k.prototype.getCustomAmoutInputPlaceHolder=function(){return h._("Other")};k.prototype.getPriceSelectorTitle=function(){var l=this.props.priceSelectorConfiguration;return l&&l.title||h._("Amount")};k.prototype.getCurrencySymbol=function(){var l=this.props.priceSelectorConfiguration?c("PECurrency").getCurrencySymbol(this.props.priceSelectorConfiguration.getCurrency()):"";return l};k.prototype.getHardErrorMessage=function(){return h._("Please select a valid amount.")};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPriceSelectorContainerBase.react",["invariant","FBPaymentsCheckoutConstants","FBPaymentsCheckoutStore","FBPaymentsExtensionInterface.react","FBPaymentsLinkHelper","FBPaymentsLoggerConstants","FBPaymentsPriceSelectorConfiguration","FBPaymentsPriceSelectorStoreBase","FBPaymentsPriceSelectorViewBase.react","FBPaymentsStringHelper","React","abstractMethod","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsCheckoutConstants").RestoreKey,l=c("FBPaymentsLoggerConstants").LoggerEvent,m=c("FBPaymentsLoggerConstants").LoggerFlowStep;i=babelHelpers.inherits(n,c("FBPaymentsExtensionInterface.react"));j=i&&i.prototype;function n(o){__p&&__p();var p;j.constructor.call(this,o);this.handleCustomAmountInputChange=function(r,s,t){this.setState({selectedIndex:-1,customAmount:s,customAmountInputErrorMessage:t.errorMessage});if(!t.isValid)this.props.logger.setFlowStep(m.SELECT_AMOUNT).setEventName(l.CLICK).setRawAmount(Number(s)).setCurrency(this.getCurrency()).setUserFacingMessage(t.errorMessage).log()}.bind(this);this.handleCustomAmountInputFocus=function(){this.setState({selectedIndex:-1});this.props.logger.setFlowStep(m.SELECT_AMOUNT).setEventName(l.FIELD_FOCUS).setRawAmount(Number(this.state.customAmount)).setCurrency(this.getCurrency()).log()}.bind(this);this.handleCustomAmountInputBlur=function(r,s,t){this.props.logger.setFlowStep(m.SELECT_AMOUNT).setEventName(l.BLUR).setRawAmount(Number(s)).setCurrency(this.getCurrency()).setUserFacingMessage(t.errorMessage).log()}.bind(this);this.handlePriceButtonClick=function(r){this.setState({selectedIndex:r,customAmount:"",customAmountInputErrorMessage:null});this.props.logger.setFlowStep(m.SELECT_AMOUNT).setEventName(l.CLICK).setRawAmount(this.getRawAmountAtIndex(r)).setCurrency(this.getCurrency()).log()}.bind(this);var q=!!((p=o)!=null?(p=p.checkoutExtraProps)!=null?(p=p.enableInlinePUXAndOtherEnhancements)!=null?p.field_level_errors:p:p:p);this.state={customAmountInputErrorMessage:null,fetchErrorMessage:null,initialFetch:true,isLoading:false,priceSelectorConfiguration:null,selectedIndex:-1,customAmount:"",showHardError:false,shouldShowFieldLevelErrors:q}}n.getStores=function(){return[c("FBPaymentsCheckoutStore"),this.__getPriceSelectorStore()]};n.$FBPaymentsPriceSelectorContainerBase1=function(o){var p=o.checkoutConfiguration.paymentInfo;return{payment_type:p.paymentItemType,order_id:p.orderId?p.orderId:"",extra_data:JSON.stringify(p.extraData)}};n.calculateState=function(o,p){__p&&__p();var q=babelHelpers["extends"]({},o),r=this.$FBPaymentsPriceSelectorContainerBase1(p),s=this.__getPriceSelectorStore().get(r);q.isLoading=s.isLoading();if(s.hasValue()&&q.initialFetch){var t=s.getValueEnforcing();if(t.message)q.fetchErrorMessage=t.message;else{q.priceSelectorConfiguration=t;var u=c("FBPaymentsLinkHelper").getCurrentURI(),v=u.getQueryData(),w=v[k.PRICE_SELECTOR_CUSTOM_AMOUNT],x=w&&c("FBPaymentsStringHelper").isNumber(w)&&parseInt(w,10)>0;if(x){q.customAmount=w;this.logInitialSelection(p.logger,t,w,null)}else{var y=v[k.PRICE_SELECTOR_SELECTED_INDEX],z=parseInt(y,10),A=c("FBPaymentsStringHelper").isNumber(y)&&z>-1;q.selectedIndex=A?z:parseInt(t.defaultSelected,10);this.logInitialSelection(p.logger,t,null,q.selectedIndex)}}q.initialFetch=false}return q};n.__calculateExtensionState=function(o){__p&&__p();var p=false,q={};if(!o.customAmountInputErrorMessage&&!o.fetchErrorMessage&&o.priceSelectorConfiguration)if(o.customAmount){p=true;q={currency:o.priceSelectorConfiguration.getCurrency(),selectedAmount:o.customAmount,selectedIndex:o.selectedIndex}}else if(o.selectedIndex!==-1){p=true;o.priceSelectorConfiguration||h(0);q={currency:o.priceSelectorConfiguration.getCurrency(),selectedAmount:o.priceSelectorConfiguration.getSelectedAmountFromIndex(o.selectedIndex),selectedIndex:o.selectedIndex}}return{extraData:q,ready:p}};n.logInitialSelection=function(o,p,q,r){var s=0;if(q)s=Number(q);else if(r)s=Number(p.getSelectedAmountFromIndex(r));o.setFlowStep(m.SELECT_AMOUNT).setEventName(l.INIT).setRawAmount(s).setCurrency(p.getCurrency()).log()};n.prototype.getCurrency=function(){var o=this.state.priceSelectorConfiguration;return o&&o.getCurrency()};n.prototype.getRawAmountAtIndex=function(o){var p=this.state.priceSelectorConfiguration;if(!p)return null;return Number(p.getSelectedAmountFromIndex(o))};n.__getPriceSelectorStore=function(){return c("abstractMethod")("FBPaymentsPriceSelectorContainerBase","__getPriceSelectorStore")};n.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPriceSelectorContainerBase","__getView")};n.prototype.render=function(){var o=this.__getView();return c("React").createElement(o,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isLoading:this.state.isLoading,onCustomAmountInputBlur:this.handleCustomAmountInputBlur,onCustomAmountInputChange:this.handleCustomAmountInputChange,onCustomAmountInputFocus:this.handleCustomAmountInputFocus,onPriceButtonClick:this.handlePriceButtonClick}))};f.exports=n}),null);
__d("FBPaymentsPriceSelectorStore",["FBPaymentsModulesAPI","FBPaymentsPriceSelectorStoreBase"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPriceSelectorStoreBase"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d("FBPaymentsFormFieldInputConfigsGenerator",["fbt","invariant","FBPaymentsNormalizers","FBPaymentsValidators","FundraiserCurrencyFormatter"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(l,m,n){l<=m||i(0);var o=c("FundraiserCurrencyFormatter").formatForButton(n,l),p=c("FundraiserCurrencyFormatter").formatForButton(n,m),q=h._("Please enter an amount between {min_amount} and {max_amount}.",[h.param("min_amount",o),h.param("max_amount",p)]),r=h._("Please enter an amount without decimals or commas.");return{normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumericAndNumericSeparator],validations:[{validator:c("FBPaymentsValidators").onlyNumeric,errorMessage:r},{validator:c("FBPaymentsValidators").greaterOrEqualTo(l),errorMessage:q},{validator:c("FBPaymentsValidators").lessOrEqualTo(m),errorMessage:q}]}}var k={getPriceInputConfig:j};f.exports=k}),null);
__d("FBPaymentsPriceSelectorView.react",["cx","invariant","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigsGenerator","FBPaymentsPriceSelectorViewBase.react","React","XUIButton.react","XUIGrayText.react","XUINotice.react","XUIRadioButtonGroup.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("FBPaymentsPriceSelectorViewBase.react"));k=j&&j.prototype;l.prototype.__renderAmountButtonGroup=function(m){var n=m.getButtonLabels(),o=this.props.selectedIndex,p=[];for(var q=0;q<n.size;q++)p.push(c("React").createElement(c("XUIButton.react"),{className:"_t3l",key:q,label:n.get(q),size:"xlarge",type:"button",value:q}));return c("React").createElement(c("XUIRadioButtonGroup.react"),{className:"_4a6b",onValueChange:this.props.onPriceButtonClick,selectedDepressed:true,selectedValue:o},p)};l.prototype.__renderCustomAmountInput=function(m){var n=c("FBPaymentsFormFieldInputConfigsGenerator").getPriceInputConfig(m.getCustomAmountMin(),m.getCustomAmountMax(),m.getCurrency());return c("React").createElement(c("FBPaymentsFormField.react"),{className:"_4a6e"+(this.props.customAmount&&!this.props.customAmountInputErrorMessage?" _1kv1":""),classNameOnInput:"_1kv1",config:n,errorMessage:this.props.customAmountInputErrorMessage,fieldType:"textInput",inline:true,name:"customAmount",onBlur:this.props.onCustomAmountInputBlur,onChange:this.props.onCustomAmountInputChange,onFocus:this.props.onCustomAmountInputFocus,placeholder:this.getCustomAmoutInputPlaceHolder(),value:this.props.customAmount})};l.prototype.render=function(){var m=void 0,n=this.props.priceSelectorConfiguration;if(this.props.fetchErrorMessage)m=c("React").createElement(c("XUINotice.react"),{use:"warn"},this.props.fetchErrorMessage);else if(this.props.isLoading||!this.props.priceSelectorConfiguration)m=c("React").createElement(c("XUISpinner.react"),null);else{!!n||i(0);m=c("React").createElement("div",{className:"_1zbe"},c("React").createElement("div",{className:"_4a6f"},this.__renderAmountButtonGroup(n)),c("React").createElement("div",{className:"_4a6c"},c("React").createElement("span",{className:"_4a6d"},this.getCurrencySymbol()),this.__renderCustomAmountInput(n)))}return c("React").createElement("div",{className:"__j9"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getPriceSelectorTitle()),m)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsPriceSelectorContainer.react",["FBPaymentsPriceSelectorContainerBase.react","FBPaymentsPriceSelectorStore","FBPaymentsPriceSelectorView.react","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPriceSelectorContainerBase.react"));i=h&&h.prototype;j.__getPriceSelectorStore=function(){return c("FBPaymentsPriceSelectorStore")};j.prototype.__getView=function(){return c("FBPaymentsPriceSelectorView.react")};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("FBPaymentsExtensionManager",["FBPaymentsCheckoutConstants","FBPaymentsContactEmailSelectorContainer.react","FBPaymentsContactNameInputContainer.react","FBPaymentsContactPhoneNumberSelectorContainer.react","FBPaymentsCustomOptionsContainer.react","FBPaymentsExtensionManagerBase","FBPaymentsFrequencySelectorContainer.react","FBPaymentsMailingAddressSelectorContainer.react","FBPaymentsNoteExtension.react","FBPaymentsPaymentMethodSelectorContainer.react","FBPaymentsPINVerificationContainer.react","FBPaymentsPriceSelectorContainer.react","Map"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsCheckoutConstants").Extensions;h=babelHelpers.inherits(k,c("FBPaymentsExtensionManagerBase"));i=h&&h.prototype;function k(){__p&&__p();i.constructor.call(this);this.extensionMap=new(c("Map"))();this.extensionMap.set(j.CONTACT_NAME,c("FBPaymentsContactNameInputContainer.react"));this.extensionMap.set(j.CONTACT_EMAIL,c("FBPaymentsContactEmailSelectorContainer.react"));this.extensionMap.set(j.CONTACT_PHONE,c("FBPaymentsContactPhoneNumberSelectorContainer.react"));this.extensionMap.set(j.PAYMENT_METHOD,c("FBPaymentsPaymentMethodSelectorContainer.react"));this.extensionMap.set(j.PIN_VERIFICATION,c("FBPaymentsPINVerificationContainer.react"));this.extensionMap.set(j.SHIPPING_ADDRESS,c("FBPaymentsMailingAddressSelectorContainer.react"));this.extensionMap.set(j.CUSTOM_OPTIONS,c("FBPaymentsCustomOptionsContainer.react"));this.extensionMap.set(j.PRICE_SELECTOR,c("FBPaymentsPriceSelectorContainer.react"));this.extensionMap.set(j.FREQUENCY_SELECTOR,c("FBPaymentsFrequencySelectorContainer.react"));this.extensionMap.set(j.NOTE,c("FBPaymentsNoteExtension.react"))}k.prototype.__getExtensionMap=function(){return this.extensionMap};f.exports=new k()}),null);
__d("FBPaymentsModulesFlowType",[],(function a(b,c,d,e,f,g){"use strict";var h={CART:"cart",CHECKOUT:"checkout",INVOICE:"invoice",RECEIPT:"receipt",INVOICE_EDIT:"invoice_edit"};f.exports=h}),null);
__d("FBPaymentsPriceListHelper",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=2,j={formatStringAmount:function k(l,m){var n=m||i;return l.toFixed(n)},calculateTotal:function k(l){var m={currency:null,amount:0};this._calculatePriceListTotalRecursive(l,m);return m},_calculatePriceListTotalRecursive:function k(l,m){__p&&__p();for(var n=l,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;this._calculatePriceItemTotalRecursive(r,m)}},_calculatePriceItemTotalRecursive:function k(l,m){__p&&__p();if(l.price){var n=l.price;m.amount+=Number(n.amount);if(m.currency===null)m.currency=n.currency;else if(m.currency!==n.currency)throw new Error("Currency code mismatch")}else if(l.userFacingReason)return;else if(l.priceList)this._calculatePriceListTotalRecursive(l.priceList,m);else throw new Error("PriceItem format error")},merge:function k(l,m){__p&&__p();if(m.length===0)return l;var n={};l.forEach(function(p){n[p.label.toString()]=p});m.forEach(function(p){var q=p.label.toString(),r=n[q];if(r){var s=this.mergePriceItems(r,p);n[q]=s}else n[q]=p}.bind(this));var o=Object.values(n);return o},mergePriceItems:function k(l,m){__p&&__p();var n=l.label;n&&n===m.label||h(0);if(this.isBlockedPrice(l))return m;if(this.isBasePrice(l))if(this.isBlockedPrice(m))return l;else if(this.isBasePrice(m))return this.addBasePrices(l,m);else{var o=this.calculateTotal(m.priceList),p=this.addPrices(l.price,o);return this.newBasePrice(n,p)}if(this.isMultiTierPrice(l))if(this.isBlockedPrice(m))return l;else if(this.isBasePrice(m)){var q=this.calculateTotal(l.priceList),r=this.addPrices(m.price,q);return this.newBasePrice(n,r)}else{var s=this.merge(l.priceList,m.priceList);return this.newMultiTieredPrice(n,s)}return l},addBasePrices:function k(l,m){this.isBasePrice(l)&&this.isBasePrice(m)||h(0);var n=l.label;n&&n===m.label||h(0);var o=this.addPrices(l.price,m.price);return this.newBasePrice(n,o)},addPrices:function k(l,m){var n=l.currency;n&&n===m.currency||h(0);var o=Number(l.amount)+Number(m.amount);return{currency:n,amount:o.toString()}},isBasePrice:function k(l){return!!l.price},isMultiTierPrice:function k(l){return!!l.priceList},isBlockedPrice:function k(l){return!!l.userFacingReason},newBasePrice:function k(l,m){return{label:l,price:m}},newMultiTieredPrice:function k(l,m){return{label:l,priceList:m}}};f.exports=j}),null);
__d("FBPaymentsCheckoutFlowContainerBase.react",["invariant","FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationTypes","FBPaymentsCheckoutConstants","FBPaymentsContentConfigurationParser","FBPaymentsLinkHelper","FBPaymentsLoggerBase","FBPaymentsLoggerConstants","FBPaymentsModulesAPIUtils","FBPaymentsModulesFlowType","FBPaymentsPriceListHelper","FBPaymentsStringHelper","immutable","Map","PaymentModulesGating","QE2Logger","React","Set","abstractMethod","emptyFunction","idx","keyMirror","uuid"],(function aa(ba,a,ca,da,ea,fa,b){"use strict";__p&&__p();var c,d,ga=a("FBPaymentsCheckoutConfigurationTypes").CheckoutConfigurationPropTypes,e=a("FBPaymentsCheckoutConstants").CollectedDataKey,f=a("FBPaymentsCheckoutConstants").CustomExtensionKeys,g=a("FBPaymentsCheckoutConstants").Extensions,h=a("FBPaymentsCheckoutConstants").OrderStatusModelType,i=a("FBPaymentsCheckoutConstants").RestoreKey,ha=a("FBPaymentsCheckoutConstants").PaymentAction,j=a("FBPaymentsCheckoutConstants").PaymentCallbackUpdateState,k=a("immutable").List,l=a("FBPaymentsLoggerConstants").LoggerFlowType,m=a("FBPaymentsLoggerConstants").LoggerFlowStep,n=a("FBPaymentsLoggerConstants").LoggerEvent,o=a("FBPaymentsLoggerBase").LOGGER_FIELD_NAMES,p=a("React").PropTypes,q=a("keyMirror")({NUX:null,INCOMPLETE:null,READY_TO_PAY:null,VERIFICATION:null,PAYMENT_LOADING:null,PAYMENT_LOADING_EXTENDED:null,CONFIRMATION:null});c=babelHelpers.inherits(r,a("React").Component);d=c&&c.prototype;function r(t){__p&&__p();var u,v,w;d.constructor.call(this,t);s.call(this);this.validateProps(t);this.initializeLogging(t);var x=t.configuration.contentConfiguration,y=(u=x)!=null?u.priceList:u;this.$FBPaymentsCheckoutFlowContainerBase1=y?y:[];var z=new(a("Map"))(),A=((v=x)!=null?v.purchaseInfo:v)||[];for(var B=0;B<A.length;B++){var C=this.getExtensionName(A[B]);z.set(C,{extraData:{},ready:false})}this.state={activeExtension:null,activeExtensionForVerification:null,confirmationExtensions:new(a("Map"))(),contentConfiguration:x,dialogWidth:(w=x)!=null?w.dialogWidth:w,errors:{},extensionPrePaymentCall:null,extensions:z,paymentLoadingMessage:"",step:this.isCheckoutNUXEnabled()?q.NUX:q.INCOMPLETE};this.__completePaymentOnReady=false}r.prototype.validateProps=function(t){var u=t.configuration,v=u.orderStatusModel.type;switch(v){case h.FIXED_AMOUNT:!!u.contentConfiguration||b(0);break;case h.UPDATE_CHECKOUT_API:break;default:b(0)}};r.prototype.initializeLogging=function(t){__p&&__p();var u,v=void 0,w=void 0;switch(t.paymentModuleFlowType){case a("FBPaymentsModulesFlowType").INVOICE:v=l.INVOICE;w=m.INVOICE;break;default:v=l.CHECKOUT;w=this.isCheckoutNUXEnabled()?null:m.CHECKOUT;break}var x=this.__getLogger();this.$FBPaymentsCheckoutFlowContainerBase3=new x();var y=t.configuration.paymentInfo,z=y.orderId,A=y.receiverId,B=y.paymentItemType,C=y.isFreePurchase,D=a("FBPaymentsLinkHelper").getCurrentURISessionID()||a("uuid")();this.$FBPaymentsCheckoutFlowContainerBase3.setGlobalFields((u={},u[o.session_id]=D,u[o.product]=B,u[o.order_id]=z,u[o.other_profile_id]=A,u[o.flow_name]=v,u[o.is_free]=C,u));var E=a("PaymentModulesGating").isInPaymentModules2017H2Holdout?"1":"",F=babelHelpers["extends"]({},t.extraDataForLogging,t.checkoutExtraProps,{holdout_2017_h2:E});this.$FBPaymentsCheckoutFlowContainerBase3.setGlobalExtraData(F);w&&this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(w).setEventName(n.INIT).logVital()};r.prototype.isCheckoutNUXEnabled=function(){return!!this.props.enableCheckoutNUX&&a("PaymentModulesGating").shouldShowCheckoutNUX};r.prototype.getExtensionName=function(t){if(t.identifier==="CUSTOM_EXTENSION")return t.extensionKey;return t.identifier};r.prototype.getCheckoutConfiguration=function(){return this.props.configuration};r.prototype.getPaymentInfo=function(){return this.props.configuration.paymentInfo};r.prototype.getContentConfiguration=function(){if(this.getIsUsingUpdateCheckoutAPI())return this.state.contentConfiguration;else return this.getCheckoutConfiguration().contentConfiguration};r.prototype.getPriceList=function(){var t=this.getContentConfiguration();return t&&t.priceList};r.prototype.getPayActionContent=function(){var t=this.getContentConfiguration();return t&&t.payActionContent};r.prototype.getConfirmationConfiguration=function(){var t=this.state.contentConfiguration;return t&&t.confirmationConfiguration||{}};r.prototype.getSelectedPaymentMethod=function(){var t,u=this.state.extensions.get(g.PAYMENT_METHOD);return(t=u)!=null?(t=t.extraData)!=null?t.paymentMethod:t:t};r.prototype.getIsUsingUpdateCheckoutAPI=function(){return this.getCheckoutConfiguration().orderStatusModel.type===h.UPDATE_CHECKOUT_API};r.prototype.componentWillMount=function(){this.logExperimentExposures();this.$FBPaymentsCheckoutFlowContainerBase4()};r.prototype.componentWillUpdate=function(t,u){a("FBPaymentsCheckoutActions").updatePaymentStep(u.step)};r.prototype.$FBPaymentsCheckoutFlowContainerBase5=function(){var t;this.$FBPaymentsCheckoutFlowContainerBase3.setGlobalFields((t={},t[o.payment_method_id]=null,t[o.payment_method_type]=null,t[o.mailing_address_id]=null,t[o.shipping_option_id]=null,t[o.raw_amount]=null,t[o.currency]=null,t))};r.prototype.logExperimentExposures=function(){if(a("PaymentModulesGating").isInAndroidWebviewPayPalExp)a("QE2Logger").logExposureForUser(a("PaymentModulesGating").androidWebviewPayPalExpQE)};r.prototype.$FBPaymentsCheckoutFlowContainerBase4=function(){if(this.getIsUsingUpdateCheckoutAPI())this.$FBPaymentsCheckoutFlowContainerBase6()};r.prototype.$FBPaymentsCheckoutFlowContainerBase6=function(){__p&&__p();var t,u=this.getPaymentInfo(),v={payment_type:u.paymentItemType,order_id:u.orderId,receiver_id:u.receiverId,session_id:this.$FBPaymentsCheckoutFlowContainerBase3.getSessionID()},w=u.extraData||{};for(var x=this.state.extensions.entries(),y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}var B=A,C=B[0],D=B[1];switch(C){case g.PAYMENT_METHOD:var E=a("FBPaymentsModulesAPIUtils").getPaymentMethodRequestParams(D.extraData.paymentMethod,D.extraData.bank),F={fraudnet_session_id:D.extraData.fraudnetSessionID};v=babelHelpers["extends"]({},v,E,F);break;case g.SHIPPING_ADDRESS:v.mailing_address_id=D.extraData.mailingAddressID;break;case g.CUSTOM_OPTIONS:var G=D.extraData.collectedDataKey,H=D.extraData.optionId;switch(G){case e.SHIPPING_OPTION:v.shipping_option_id=H;break;default:w=babelHelpers["extends"]({},w,(t={},t[G]=H,t))}break}}v.extra_data=JSON.stringify(w);this.__getAPI().updateCheckout(v,this.$FBPaymentsCheckoutFlowContainerBase7,this.$FBPaymentsCheckoutFlowContainerBase8)};r.prototype.$FBPaymentsCheckoutFlowContainerBase8=function(t){};r.prototype.$FBPaymentsCheckoutFlowContainerBase10=function(t){switch(t){case g.SHIPPING_ADDRESS:case g.PAYMENT_METHOD:return true;default:return false}};r.prototype.$FBPaymentsCheckoutFlowContainerBase9=function(t){__p&&__p();t=t||this.state.extensions;var u=[];for(var v=t.values(),w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y,A=z.extraData.optionPriceList;if(A)u.push(A)}var B=this.$FBPaymentsCheckoutFlowContainerBase11(this.$FBPaymentsCheckoutFlowContainerBase1,u);return B};r.prototype.$FBPaymentsCheckoutFlowContainerBase11=function(t,u){var v=t;u.forEach(function(w){v=a("FBPaymentsPriceListHelper").merge(v,w)});return v};r.prototype.handleExtensionRequestActive=function(t,u){var v={};if(u&&this.state.activeExtension===null)v.activeExtension=t;else if(this.state.activeExtension===t)v.activeExtension=null;this.setState(v)};r.prototype.handleExtensionRequestActiveForVerification=function(t,u){var v={};v.step=q.READY_TO_PAY;if(u&&this.state.activeExtensionForVerification===null)v.activeExtensionForVerification=t;else if(this.state.activeExtensionForVerification===t)v.activeExtensionForVerification=null;this.setState(v)};r.prototype.getAllExtensionsNotReady=function(t){__p&&__p();var u=k();for(var v=t.entries(),w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y,A=z[0],B=z[1];if(!B.ready)u=u.push(A)}return u};r.prototype.areAllExtensionsReady=function(t){return this.getAllExtensionsNotReady(t).size===0};r.prototype.handleExtensionUpdate=function(t,u,v){__p&&__p();var w,x={extensions:this.state.extensions};x.extensions.set(t,v);a("FBPaymentsCheckoutActions").showHardErrorOnExtensions({showError:false,extensionsNotReady:k()});switch(this.state.step){case q.INCOMPLETE:case q.READY_TO_PAY:x.step=this.areAllExtensionsReady(x.extensions)?q.READY_TO_PAY:q.INCOMPLETE;if(t===g.CUSTOM_OPTIONS){var y=v.extraData.priceModel;if(!y||u.shouldAddToOrderSummary){var z=this.$FBPaymentsCheckoutFlowContainerBase9(x.extensions),A=this.getContentConfiguration();if(A){A.priceList=z;x.contentConfiguration=A}}}this.setState(x,function(){if(this.$FBPaymentsCheckoutFlowContainerBase10(t))this.$FBPaymentsCheckoutFlowContainerBase4();if(this.state.step===q.READY_TO_PAY)if(this.__completePaymentOnReady){this.__completePaymentOnReady=false;this.$FBPaymentsCheckoutFlowContainerBase12()}}.bind(this));break;case q.VERIFICATION:var B=(w=v)!=null?(w=w.verificationData)!=null?w.verified:w:w;if(!B||!this.$FBPaymentsCheckoutFlowContainerBase2.has(t))return;this.$FBPaymentsCheckoutFlowContainerBase2["delete"](t);for(var C=this.$FBPaymentsCheckoutFlowContainerBase2,D=Array.isArray(C),E=0,C=D?C:C[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var F;if(D){if(E>=C.length)break;F=C[E++]}else{E=C.next();if(E.done)break;F=E.value}var G=F;this.setState({activeExtensionForVerification:G,step:q.VERIFICATION});return}x.activeExtensionForVerification=null;this.setState(x,function(){this.$FBPaymentsCheckoutFlowContainerBase12()}.bind(this));break}};r.prototype.$FBPaymentsCheckoutFlowContainerBase18=function(){var t,u=(t=this.getContentConfiguration())!=null?t.checkoutClosedCallback:t;u&&u();var v=this.props.onCheckoutClosed;v&&v()};r.prototype.$FBPaymentsCheckoutFlowContainerBase17=function(t){var u=this.getConfirmationConfiguration().confirmationClosedCallback;u&&u(t,this.state.confirmationExtensions);var v=this.props.onConfirmationClosed;v&&v(t,this.state.confirmationExtensions)};r.prototype.$FBPaymentsCheckoutFlowContainerBase12=function(){var t=this.state.extensionPrePaymentCall;if(t)this.setState({step:q.PAYMENT_LOADING},function(){t(this.$FBPaymentsCheckoutFlowContainerBase21,this.$FBPaymentsCheckoutFlowContainerBase22)}.bind(this));else this.$FBPaymentsCheckoutFlowContainerBase23()};r.prototype.$FBPaymentsCheckoutFlowContainerBase23=function(t){__p&&__p();var u,v=this.getPaymentInfo(),w=this.$FBPaymentsCheckoutFlowContainerBase24(t),x=void 0;if(w.nmor_payment_method)x=JSON.parse(w.nmor_payment_method).type;this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(m.PAYMENT).setEventName(n.INIT).setGlobalFields((u={},u[o.payment_method_id]=w.credential_id,u[o.payment_method_type]=x,u[o.mailing_address_id]=w.mailing_address_id,u[o.shipping_option_id]=w.shipping_option_id,u[o.raw_amount]=w.amount,u[o.currency]=w.currency,u)).updateExtraData(JSON.parse(w.extra_data)).logVital();if(v.action===ha.CUSTOM_CALLBACK){v.payCallback!=null||b(0);v.payCallback(this.state.extensions,this.$FBPaymentsCheckoutFlowContainerBase13,w)}else this.__getAPI().completeCheckout(w,this.$FBPaymentsCheckoutFlowContainerBase25,this.$FBPaymentsCheckoutFlowContainerBase26);this.setState({activeExtension:null,step:q.PAYMENT_LOADING})};r.prototype.$FBPaymentsCheckoutFlowContainerBase24=function(t){__p&&__p();var u,v,w,x,y=this.getPaymentInfo(),z={action:y.action,payment_type:y.paymentItemType,receiver_id:y.receiverId,order_id:y.orderId,session_id:this.$FBPaymentsCheckoutFlowContainerBase3.getSessionID()},A=y.extraData||{};for(var B=this.state.extensions.entries(),C=Array.isArray(B),D=0,B=C?B:B[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var E;if(C){if(D>=B.length)break;E=B[D++]}else{D=B.next();if(D.done)break;E=D.value}var F=E,G=F[0],H=F[1];switch(G){case g.PAYMENT_METHOD:var I=(w=t)!=null?w.paymentMethod:w,J=I||H.extraData.paymentMethod,K=a("FBPaymentsModulesAPIUtils").getPaymentMethodRequestParams(J,H.extraData.bank),L={fraudnet_session_id:H.extraData.fraudnetSessionID};z=babelHelpers["extends"]({},z,K,L);if(H.verificationData)z.csc=H.verificationData.csc;if((x=t)!=null?x.credit_card_number:x)z=babelHelpers["extends"]({},z,t);break;case g.CONTACT_NAME:z.contact_name=H.extraData.name;break;case g.CONTACT_EMAIL:z.email_address_id=H.extraData.id;z.email_address=H.extraData.email;break;case g.CONTACT_PHONE:z.contact_number_id=H.extraData.id;break;case g.PIN_VERIFICATION:if(H.verificationData)z.security_pin=H.verificationData.pin;break;case g.PRICE_SELECTOR:z.amount=a("FBPaymentsPriceListHelper").formatStringAmount(Number(H.extraData.selectedAmount));z.currency=H.extraData.currency;break;case g.SHIPPING_ADDRESS:z.mailing_address_id=H.extraData.mailingAddressID;break;case g.CUSTOM_OPTIONS:var M=H.extraData.collectedDataKey,N=H.extraData.optionId;switch(M){case e.SHIPPING_OPTION:z.shipping_option_id=N;break;default:A=babelHelpers["extends"]({},A,(u={},u[M]=N,u))}break;case g.FREQUENCY_SELECTOR:z.subscription_period=H.extraData.subscriptionPeriod;z.subscription_type=H.extraData.subscriptionType;break;default:A=babelHelpers["extends"]({},A,(v={},v[G]=H.extraData,v));break}}var O=this.getPriceList();if(!z.currency||!z.amount){!!O||b(0);var P=a("FBPaymentsPriceListHelper").calculateTotal(O);z.currency=P.currency;z.amount=a("FBPaymentsPriceListHelper").formatStringAmount(P.amount)}z.extra_data=JSON.stringify(A);return z};r.prototype.$FBPaymentsCheckoutFlowContainerBase27=function(t,u){var v,w,x,y=u||this.getConfirmationConfiguration();y.receiptUrl=((v=this.props.checkoutExtraProps)!=null?v.receiptUrl:v)||((w=t)!=null?(w=w.extra_data)!=null?w.receipt_url:w:w)||a("FBPaymentsLinkHelper").getPaymentSettingsReceiptURI(t.id).toString();var z=(x=t)!=null?(x=x.extra_data)!=null?x.message_with_email:x:x;if(z)y.confirmationText=a("FBPaymentsStringHelper").stringToMarkup(z);var A=this.getContentConfiguration();A||b(0);A.confirmationConfiguration=y;this.setState({contentConfiguration:A,step:q.CONFIRMATION})};r.prototype.$FBPaymentsCheckoutFlowContainerBase31=function(){return a("PaymentModulesGating").shouldShowCheckoutV2FeaturesWWW};r.prototype.$FBPaymentsCheckoutFlowContainerBase32=function(t,u,v){__p&&__p();var w=this.getExtensionName(t),x=t.identifier==="CUSTOM_EXTENSION"?t["class"]:this.__getExtensionManager().getExtensionContainer(t.identifier),y=this.state.extensions,z={};y.forEach(function(B,C){__p&&__p();switch(C){case g.PRICE_SELECTOR:var D=B.extraData.selectedIndex;z[i.PRICE_SELECTOR_SELECTED_INDEX]=D;if(D===-1){var E=B.extraData.selectedAmount;z[i.PRICE_SELECTOR_CUSTOM_AMOUNT]=E}break;case f.PRIVACY_SELECTOR:z[i.PRIVACY_SELECTOR_SELECTED_OPTION]=B.extraData.privacyxParam;break;case f.MENTIONS_INPUT:z[i.MENTIONS_INPUT_TEXT]=B.extraData.mentionsInputText;break;case f.EMAIL_SHARING_CHECKBOX:z[i.EMAIL_CHECKBOX_STATE]=B.extraData.emailCheckboxState;break}});var A=y.get(w)||{extraData:{},ready:true};return a("React").createElement(x,{checkoutConfiguration:this.getCheckoutConfiguration(),checkoutExtraProps:this.props.checkoutExtraProps,checkoutRestoreData:z,extensionConfiguration:t,extensionState:A,isActive:u,isActiveForVerification:v,logger:this.$FBPaymentsCheckoutFlowContainerBase3,onExtensionUpdate:function(B){this.handleExtensionUpdate(w,t,B)}.bind(this),onExtensionPrePaymentCallChange:this.$FBPaymentsCheckoutFlowContainerBase30,onExtensionWidthChange:this.$FBPaymentsCheckoutFlowContainerBase29,onRequestActive:function(B){this.handleExtensionRequestActive(w,B)}.bind(this),onRequestActiveForVerification:function(B){this.handleExtensionRequestActiveForVerification(w,B)}.bind(this)})};r.prototype.render=function(){__p&&__p();var t=this.getContentConfiguration(),u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=[],A=void 0,B=false,C=false,D=!!t&&t.renderInline;if(!t){var E=this.__getLoadingContainer();v=a("React").createElement(E,{loadingText:""})}else{var F,G,H,I,J=t.priceList,K=t.payActionContent,L=t.entity;if(L){var M=this.__getEntityHeaderContainer();w=a("React").createElement(M,{entity:L})}else{var N=this.__getOrderSummaryContainer();w=a("React").createElement(N,{configuration:t})}var O=!!((F=this.props)!=null?(F=F.checkoutExtraProps)!=null?F.forceShowTotalAmount:F:F);if(J){var P=this.__getPriceTableContainer();x=a("React").createElement(P,{configuration:{priceList:J},forceTotal:O})}var ia=!!((G=this.props)!=null?(G=G.checkoutExtraProps)!=null?(G=G.enableInlinePUXAndOtherEnhancements)!=null?G.enable_pay_button:G:G:G),ja=!!((H=this.props)!=null?(H=H.checkoutExtraProps)!=null?H.isAmountOnButton:H:H),ka=!!((I=this.props)!=null?(I=I.checkoutExtraProps)!=null?I.showStickyPayButton:I:I),Q=null;if(ja){var R=this.state.extensions.get(g.PRICE_SELECTOR);if(R){var S=R.extraData.selectedAmount,T=R.extraData.currency;if(S&&T)Q={amount:S,currency:T}}else{var U=this.getPriceList();!!U||b(0);var V=a("FBPaymentsPriceListHelper").calculateTotal(U),W=V.currency;if(W)Q={amount:V.amount.toString(),currency:W}}}var la=this.__getPayActionRowContainer();y=a("React").createElement(la,{backButton:K.backButton,configuration:K,isLoading:this.state.step===q.PAYMENT_LOADING,onBackButtonClick:this.$FBPaymentsCheckoutFlowContainerBase14,onPayButtonClick:this.$FBPaymentsCheckoutFlowContainerBase20,payButtonEnabled:this.state.step===q.READY_TO_PAY,payButtonAlwaysEnabled:ia,price:Q,showStickyPayButton:ka});B=this.state.activeExtension!==null;C=this.state.activeExtensionForVerification!==null;var X=t.purchaseInfo;for(var Y=0;Y<X.length;Y++){var Z=X[Y],$=this.getExtensionName(Z),ma=this.state.activeExtension===$,na=this.state.activeExtensionForVerification===$,oa=B&&!ma||C&&!na;z.push(a("React").createElement("div",{style:{display:oa?"none":""},key:$},this.$FBPaymentsCheckoutFlowContainerBase32(Z,ma,na)))}if(this.state.step===q.NUX){var pa=this.__getNUXContainer();u=a("React").createElement(pa,{onBackButtonClick:this.$FBPaymentsCheckoutFlowContainerBase14,onContinueButtonClick:this.$FBPaymentsCheckoutFlowContainerBase15,logger:this.$FBPaymentsCheckoutFlowContainerBase3})}if(this.state.step===q.PAYMENT_LOADING_EXTENDED){var qa=this.__getLoadingContainer();v=a("React").createElement(qa,{loadingText:this.state.paymentLoadingMessage})}if(this.state.step===q.CONFIRMATION){var ra=this.__getConfirmationContainer();A=a("React").createElement(ra,{configuration:this.getConfirmationConfiguration(),onConfirmationDoneClick:this.$FBPaymentsCheckoutFlowContainerBase17.bind(this,true),onExtensionsUpdate:this.$FBPaymentsCheckoutFlowContainerBase19})}}var sa=this.__getCheckoutFlowView();return a("React").createElement(sa,{confirmationContainer:A,dialogTitle:this.props.dialogTitle,dialogWidth:this.state.dialogWidth||undefined,disableClose:this.state.step===q.PAYMENT_LOADING||this.state.step===q.PAYMENT_LOADING_EXTENDED,hideCheckoutHeader:this.props.hideCheckoutHeader,errorMessage:this.state.errors.global,additionalErrors:this.state.errors.additional,extensionContainers:z,renderInline:D,isExtensionActive:B,isExtensionActiveForVerification:C,isProcessing:this.state.step===q.PAYMENT_LOADING||this.__completePaymentOnReady,loadingContainer:v,nuxContainer:u,onBackButtonClick:this.$FBPaymentsCheckoutFlowContainerBase14,onDialogClose:this.$FBPaymentsCheckoutFlowContainerBase16,orderSummaryContainer:w,payActionRowContainer:y,priceTableContainer:x,shouldShowCheckoutV2Features:this.$FBPaymentsCheckoutFlowContainerBase31()})};r.prototype.__scrollToTop=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__scrollToTop")};r.prototype.__getExtensionManager=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getExtensionManager")};r.prototype.__getCheckoutFlowView=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getCheckoutFlowView")};r.prototype.__getNUXContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getNUXContainer")};r.prototype.__getLoadingContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getLoadingContainer")};r.prototype.__getConfirmationContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getConfirmationContainer")};r.prototype.__getOrderSummaryContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getOrderSummaryContainer")};r.prototype.__getEntityHeaderContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getEntityHeaderContainer")};r.prototype.__getPayActionRowContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getPayActionRowContainer")};r.prototype.__getPriceTableContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getPriceTableContainer")};r.prototype.__getAPI=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getAPI")};r.prototype.__getLogger=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getLogger")};r.propTypes={checkoutExtraProps:p.object,configuration:ga.isRequired,dialogTitle:p.node,enableCheckoutNUX:p.bool,extraDataForLogging:p.object,hideCheckoutHeader:p.bool,onCheckoutClosed:p.func,onCheckoutSuccessCallback:p.func,onConfirmationClosed:p.func,paymentModuleFlowType:p.oneOf(Object.values(a("FBPaymentsModulesFlowType"))).isRequired};r.defaultProps={paymentModuleFlowType:a("FBPaymentsModulesFlowType").CHECKOUT};var s=function s(){__p&&__p();this.$FBPaymentsCheckoutFlowContainerBase7=function(t){var u=this.getCheckoutConfiguration().version,v=a("FBPaymentsContentConfigurationParser").parse(u,t),w=v.priceList;if(w){this.$FBPaymentsCheckoutFlowContainerBase1=w;var x=this.$FBPaymentsCheckoutFlowContainerBase9();v.priceList=x}this.setState({contentConfiguration:v})}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase13=function(t){__p&&__p();switch(t.state){case j.LOADING:this.setState({paymentLoadingMessage:t.loadingMessage||"",step:q.PAYMENT_LOADING_EXTENDED});break;case j.DONE:this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(m.PAYMENT).setEventName(n.SUCCESS).logVital();this.$FBPaymentsCheckoutFlowContainerBase5();var u={step:q.CONFIRMATION};if(t.confirmationConfiguration){var v=this.state.contentConfiguration;v||b(0);v.confirmationConfiguration=t.confirmationConfiguration;u=babelHelpers["extends"]({},u,{contentConfiguration:v})}this.setState(u);break;case j.ERROR:this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(m.PAYMENT).setEventName(n.FAIL).setErrorMessage(t.errorMessage).log();this.$FBPaymentsCheckoutFlowContainerBase5();this.setState({errors:{global:t.errorMessage,additional:t.additionalErrors},step:q.READY_TO_PAY});break;default:throw Error("Invalid payment callback state: "+t.state)}}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase14=function(){var t;this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(m.CHECKOUT).setEventName(n.BACK_CLICK).log();var u=(t=this.getPayActionContent())!=null?t.backButtonCallback:t;u&&u()}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase15=function(){this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(m.CHECKOUT).setEventName(n.INIT).logVital();this.setState(function(t){return{step:this.areAllExtensionsReady(t.extensions)?q.READY_TO_PAY:q.INCOMPLETE}}.bind(this))}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase16=function(){if(this.state.step===q.CONFIRMATION){this.$FBPaymentsCheckoutFlowContainerBase17(false);return}this.$FBPaymentsCheckoutFlowContainerBase18()}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase19=function(t){this.setState({confirmationExtensions:t})}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase20=function(){__p&&__p();var t=this.getAllExtensionsNotReady(this.state.extensions),u=this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(m.PAYMENT).setEventName(n.CLICK);if(t.size!==0){a("FBPaymentsCheckoutActions").showHardErrorOnExtensions({showError:true,extensionsNotReady:k.of(t.first())});u.setErrorMessage("Extensions not ready : "+t.join(",")).logVital();return}u.logVital();this.setState({errors:{},activeExtension:null});var v=new(a("Set"))();for(var w=this.state.extensions.entries(),x=Array.isArray(w),y=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(x){if(y>=w.length)break;z=w[y++]}else{y=w.next();if(y.done)break;z=y.value}var A=z,B=A[0],C=A[1];if(C.needVerification)v.add(B)}this.$FBPaymentsCheckoutFlowContainerBase2=v;for(var D=v,E=Array.isArray(D),F=0,D=E?D:D[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var G;if(E){if(F>=D.length)break;G=D[F++]}else{F=D.next();if(F.done)break;G=F.value}var H=G;this.setState({activeExtensionForVerification:H,step:q.VERIFICATION});return}this.$FBPaymentsCheckoutFlowContainerBase12()}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase21=function(t){this.$FBPaymentsCheckoutFlowContainerBase23(t)}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase22=function(){this.setState({step:q.READY_TO_PAY})}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase25=function(t){this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(m.PAYMENT).setEventName(n.SUCCESS).setPaymentID(t.id).updateExtraData(t.extra_data||{}).logVital();this.$FBPaymentsCheckoutFlowContainerBase5();var u=this.props.onCheckoutSuccessCallback;if(u){var v=this.getSelectedPaymentMethod();u(v,t,this.$FBPaymentsCheckoutFlowContainerBase27.bind(this,t),this.$FBPaymentsCheckoutFlowContainerBase28)}else this.$FBPaymentsCheckoutFlowContainerBase27(t)}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase28=function(){this.setState({step:q.READY_TO_PAY})}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase26=function(t){this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(m.PAYMENT).setEventName(n.FAIL).setUserFacingMessage(t.message).setErrorMessage(t.serverErrorMessage).setUserFacingErrorCode(t.code).setErrorCode(t.code).log();this.$FBPaymentsCheckoutFlowContainerBase5();this.setState({errors:{global:t.message},step:q.READY_TO_PAY},function(){a("PaymentModulesGating").shouldCheckoutAutoScrollToError&&this.__scrollToTop()}.bind(this))}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase29=function(t){var u,v=(u=this.getContentConfiguration())!=null?u.dialogWidth:u;if(this.state.activeExtension!==null||this.state.activeExtensionForVerification!==null)v=t||v;if(v===this.state.dialogWidth)return;this.setState({dialogWidth:v})}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase30=function(t){this.setState({extensionPrePaymentCall:t===a("emptyFunction")?null:t})}.bind(this)};ea.exports=r}),null);
__d("FBPaymentsCheckoutFlowViewBase.react",["fbt","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=400;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.__isNUX=function(){return!!this.props.nuxContainer};m.prototype.__isExtensionActive=function(){return this.props.isExtensionActive};m.prototype.__isExtensionActiveForVerification=function(){return this.props.isExtensionActiveForVerification};m.prototype.__isLoading=function(){return!!this.props.loadingContainer};m.prototype.__isConfirmation=function(){return!!this.props.confirmationContainer};m.prototype.__shouldShowNUX=function(){return this.__isNUX()};m.prototype.__shouldShowHeader=function(){return!this.props.hideCheckoutHeader&&!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()};m.prototype.__shouldShowLoading=function(){return this.__isLoading()};m.prototype.__shouldDisableForProcessing=function(){return this.props.isProcessing};m.prototype.__shouldShowConfirmation=function(){return this.__isConfirmation()};m.prototype.__shouldShowOrderSummary=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()};m.prototype.__shouldShowPriceTable=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()&&!!this.props.priceTableContainer};m.prototype.__shouldShowExtensions=function(){return!this.__isNUX()&&!this.__isLoading()&&!this.__isConfirmation()};m.prototype.__shouldShowPayActionRow=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()};m.prototype.__getFlowVersionStyleClass=function(){return c("abstractMethod")("FBPaymentsCheckoutFlowViewBase","__getFlowVersionStyleClass")};m.prototype.getBackButtonText=function(){return h._("Back")};m.prototype.getCheckoutHeader=function(){return this.props.dialogTitle||h._("Checkout")};function m(){i.apply(this,arguments)}m.propTypes={confirmationContainer:k.element,dialogTitle:k.node,dialogWidth:k.number.isRequired,disableClose:k.bool.isRequired,errorMessage:k.node,extensionContainers:k.arrayOf(k.element).isRequired,hideCheckoutHeader:k.bool,isExtensionActive:k.bool.isRequired,isExtensionActiveForVerification:k.bool.isRequired,isProcessing:k.bool,loadingContainer:k.element,nuxContainer:k.element,onBackButtonClick:k.func,onDialogClose:k.func.isRequired,orderSummaryContainer:k.element,payActionRowContainer:k.element,priceTableContainer:k.element,renderInline:k.bool};m.defaultProps={dialogWidth:l};f.exports=m}),null);
__d("FBPaymentsCheckoutFlowView.react",["cx","FBPaymentsCheckoutFlowViewBase.react","FBPaymentsLoadingView.react","FBPaymentsWebdriverTestIDs","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUINotice.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsCheckoutFlowViewBase.react"));j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$FBPaymentsCheckoutFlowView1=function(q){if(!q)this.props.onDialogClose()}.bind(this),m}k.prototype.__getFlowVersionStyleClass=function(){return this.props.shouldShowCheckoutV2Features?"_3kok":null};k.prototype.render=function(){var l=void 0;if(this.props.errorMessage)l=c("React").createElement(c("XUINotice.react"),{className:"_q-q","data-testid":c("FBPaymentsWebdriverTestIDs").PAYMENT_CHECKOUT_ERROR,use:"warn"},this.props.errorMessage,this.props.additionalErrors);var m=c("React").createElement("div",null,l,c("React").createElement("div",{className:!this.__shouldShowNUX()?"hidden_elem":""},this.props.nuxContainer),c("React").createElement("div",{className:!this.__shouldShowLoading()?"hidden_elem":""},this.props.loadingContainer),c("React").createElement("div",{className:!this.__shouldShowConfirmation()?"hidden_elem":""},this.props.confirmationContainer),c("React").createElement("div",{className:"_1jnq"},c("React").createElement(c("FBPaymentsLoadingView.react"),{loadingIndicatorVisible:false,overlay:true,visible:this.__shouldDisableForProcessing()}),c("React").createElement("div",{className:!this.__shouldShowOrderSummary()?"hidden_elem":""},this.props.orderSummaryContainer),c("React").createElement("div",{className:(!this.__shouldShowPriceTable()?"hidden_elem":"")+" _qu2 _2ph_"},this.props.priceTableContainer),c("React").createElement("div",{className:(!this.__shouldShowExtensions()?"hidden_elem":"")+(!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()?" _1j8c":"")},this.props.extensionContainers)),c("React").createElement("div",{className:!this.__shouldShowPayActionRow()?"hidden_elem":""},this.props.payActionRowContainer));if(this.props.renderInline)return m;return c("React").createElement(c("XUIDialog.react"),{className:this.__getFlowVersionStyleClass(),"data-testid":c("FBPaymentsWebdriverTestIDs").PAYMENT_CHECKOUT_ROOT,layerHideOnBlur:false,onToggle:this.$FBPaymentsCheckoutFlowView1,shown:true,width:this.props.dialogWidth},c("React").createElement(c("XUIDialogTitle.react"),{className:"_qu2 _qu3",showCloseButton:!this.props.disableClose},this.getCheckoutHeader()),c("React").createElement(c("XUIDialogBody.react"),{className:"_qu4"},m))};k.prototype.__shouldShowOrderSummary=function(){return!this.__isNUX()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()};f.exports=k}),null);
__d("FBPaymentsCheckoutNUXBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCheckoutNUXMessageBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCheckoutNUXMessage.react",["cx","FBPaymentsCheckoutNUXMessageBase.react","React","XUIGrayText.react","XUIText.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsCheckoutNUXMessageBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l={color:this.props.color,fontWeight:"bold"},m={backgroundColor:this.props.color,borderRadius:20,height:40,width:40,display:"flex",alignItems:"center"};return c("React").createElement("div",{className:c("joinClasses")("_d7r",this.props.className)},c("React").createElement("div",{style:m},c("React").createElement("div",{className:"_s_8"},c("React").createElement("div",{className:this.props.iconSrc}))),c("React").createElement("div",{className:"_f_w"},c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{style:l,shade:"medium",size:"large"},this.props.messageTitle)),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"large"},this.props.message)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsCheckoutNUX.react",["cx","ix","FBPaymentsCheckoutNUXBase.react","FBPaymentsCheckoutNUXMessage.react","Image.react","React","ReactCSSTransitionGroup","XUIGrayText.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("FBPaymentsCheckoutNUXBase.react"));k=j&&j.prototype;l.prototype.$FBPaymentsCheckoutNUX1=function(m,n){return c("React").createElement(c("ReactCSSTransitionGroup"),{className:"_3hij",key:n,transitionName:"nux",transitionAppear:true,transitionAppearTimeout:5e3,transitionEnter:false,transitionLeave:false},c("React").createElement(c("FBPaymentsCheckoutNUXMessage.react"),{className:"_60a3",iconSrc:m.iconSrc,message:m.message,color:m.color,messageTitle:m.messageTitle}))};l.prototype.render=function(){var m=this.props.nuxMessages||[];return c("React").createElement("div",{className:c("joinClasses")("_60a0",this.props.className)},c("React").createElement(c("ReactCSSTransitionGroup"),{className:"_3hij",transitionName:"nux",transitionAppear:true,transitionAppearTimeout:0,transitionEnter:false,transitionLeave:false},c("React").createElement("div",{className:"_d8h"},c("React").createElement(c("Image.react"),{src:i("346093")}))),c("React").createElement(c("ReactCSSTransitionGroup"),{className:"_3hij",transitionName:"nux",transitionAppear:true,transitionAppearTimeout:0,transitionEnter:false,transitionLeave:false},c("React").createElement(c("XUIGrayText.react"),{className:"_60a2",display:"block",shade:"medium"},this.props.headerTitle)),m.map(this.$FBPaymentsCheckoutNUX1))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsCheckoutNUXContainerBase.react",["fbt","FBPaymentsLoggerBase","FBPaymentsLoggerConstants","PaymentModulesGating","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsLoggerConstants").LoggerFlowStep,l=c("FBPaymentsLoggerConstants").LoggerEvent,m=4989,n="paymod_www_checkout_nux_v2";i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(p){__p&&__p();j.constructor.call(this,p);this.handleCheckExperimentSuccess=function(q){this.setState({isCheckingExperiment:false},function(){if(q){this.__getAPI().viewNUX(m);this.props.logger&&this.props.logger.setFlowStep(k.NUX).setEventName(l.INIT).logVital()}else this.props.onContinueButtonClick()}.bind(this))}.bind(this);this.handleCheckExperimentError=function(){this.setState({isCheckingExperiment:false},function(){this.props.onContinueButtonClick()}.bind(this))}.bind(this);this.handleContinueButtonClick=function(){c("PaymentModulesGating").shouldShowCheckoutNUX=false;this.__getAPI().dismissNUX(m);this.props.onContinueButtonClick()}.bind(this);this.state={isCheckingExperiment:true};this.__getAPI().experimentCheck({experiment_name:n},this.handleCheckExperimentSuccess,this.handleCheckExperimentError)}o.prototype.getBackButtonText=function(){return h._("Back")};o.prototype.getContinueButtonText=function(){return h._("Continue")};o.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsCheckoutNUXContainerBase","__getAPI")};f.exports=o}),null);
__d("FBPaymentsCheckoutNUXContentHelper",["cx","fbt"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={getHeaderTitle:function k(){return i._("Simple, Secure Payments")},getNUXMessages:function k(){return[{color:"#4ad0ba",messageTitle:i._("Private"),message:i._("We never post or share your purchases."),iconSrc:"_3ufk"},{color:"#54c7ec",messageTitle:i._("Secure"),message:i._("Info is protected with bank-level security."),iconSrc:"_3ufl"},{color:"#8c72cb",messageTitle:i._("Reliable"),message:i._("Fast, convenient checkout every time."),iconSrc:"_3ufm"}]}};f.exports=j}),null);
__d("FBPaymentsCheckoutNUXContainer.react",["cx","FBPaymentsCheckoutNUX.react","FBPaymentsCheckoutNUXContainerBase.react","FBPaymentsCheckoutNUXContentHelper","FBPaymentsLoadingView.react","FBPaymentsModulesAPI","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsCheckoutNUXContainerBase.react"));j=i&&i.prototype;k.prototype.$FBPaymentsCheckoutNUXContainer1=function(){return c("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{className:"_60by",label:this.getContinueButtonText(),onClick:this.handleContinueButtonClick,size:"large",use:"confirm"}))};k.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};k.prototype.render=function(){if(this.state.isCheckingExperiment)return c("React").createElement(c("FBPaymentsLoadingView.react"),{className:"_1gw_"});return c("React").createElement("div",null,c("React").createElement(c("FBPaymentsCheckoutNUX.react"),babelHelpers["extends"]({className:"_60bz",nuxMessages:c("FBPaymentsCheckoutNUXContentHelper").getNUXMessages()},this.props)),this.$FBPaymentsCheckoutNUXContainer1())};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsConfirmationConstants",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h={Extensions:c("keyMirror")({CUSTOM_EXTENSION:null})};f.exports=h}),null);
__d("FBPaymentsConfirmationContainerBase.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsConfirmationConstants","Map","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=c("FBPaymentsCheckoutConfigurationTypes").ConfirmationConfigurationPropTypes,l=c("FBPaymentsConfirmationConstants").Extensions;h=babelHelpers.inherits(m,c("React").Component);i=h&&h.prototype;function m(n){i.constructor.call(this,n);this.state={extensionData:new(c("Map"))()}}m.prototype.handleConfirmationExtensionUpdate=function(n,o){var p={extensionData:this.state.extensionData};p.extensionData.set(n,o.data);this.setState(p);this.props.onExtensionsUpdate(p.extensionData)};m.prototype.$FBPaymentsConfirmationContainerBase1=function(n){var o=this.getExtensionName(n),p=n["class"],q=n.identifier===l.CUSTOM_EXTENSION?p:this.__getConfirmationExtensionManager().getConfirmationExtensionContainer(o);if(!q)throw Error("Unimplemented payments confirmation extension "+o);return c("React").createElement(q,{extensionConfiguration:n,onConfirmationExtensionUpdate:function(r){this.handleConfirmationExtensionUpdate(o,r)}.bind(this)})};m.prototype.getExtensionName=function(n){return n.extensionKey||n.identifier};m.prototype.render=function(){var n=this.__getView(),o=[],p=this.props.configuration.confirmationExtensions;for(var q=0;p&&q<p.length;q++){var r=p[q],s=this.getExtensionName(r);o.push(c("React").createElement("div",{key:s+q},this.$FBPaymentsConfirmationContainerBase1(r)))}var t=this.props.configuration,u=t.confirmationText,v=t.doneButtonText,w=t.enableReceiptFooterLink,x=t.merchantLogoUrl,y=t.receiptUrl;return c("React").createElement(n,{confirmationText:u,doneButtonText:v,enableReceiptFooterLink:w,handleConfirmationDone:this.props.onConfirmationDoneClick,merchantLogoUrl:x,receiptUrl:y},o)};m.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsConfirmationContainerBase","__getView")};m.prototype.__getConfirmationExtensionManager=function(){return c("abstractMethod")("FBPaymentsConfirmationContainerBase","__getConfirmationExtensionManager")};m.propTypes={configuration:k.isRequired,onConfirmationDoneClick:j.func.isRequired,onExtensionsUpdate:j.func.isRequired};f.exports=m}),null);
__d("FBPaymentsConfirmationExtensionInterface.react",["FBPaymentsCheckoutConfigurationTypes","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes,k=c("FBPaymentsCheckoutConfigurationTypes").ConfirmationExtensionPropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){h.apply(this,arguments)}l.propTypes={extensionConfiguration:k,onConfirmationExtensionUpdate:j.func.isRequired};f.exports=l}),null);
__d("FBPaymentsConfirmationExtensionManagerBase",["FBPaymentsConfirmationConstants","FBPaymentsConfirmationExtensionInterface.react","Map","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FBPaymentsConfirmationConstants").Extensions;i.prototype.getConfirmationExtensionContainer=function(j){if(!h[j])throw Error("Non-existent payments confirmation extension "+j);var k=this.__getConfirmationExtensionMap().get(j);if(!k)throw Error("Unimplemented payments confirmation extension "+j);return k};i.prototype.__getConfirmationExtensionMap=function(){return c("abstractMethod")("FBPaymentsConfirmationExtensionManagerBase","__getConfirmationExtensionMap")};function i(){}f.exports=i}),null);
__d("FBPaymentsConfirmationExtensionManager",["FBPaymentsConfirmationExtensionManagerBase","Map"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsConfirmationExtensionManagerBase"));i=h&&h.prototype;function j(){i.constructor.call(this);this.confirmationExtensionMap=new(c("Map"))()}j.prototype.__getConfirmationExtensionMap=function(){return this.confirmationExtensionMap};f.exports=new j()}),null);
__d("FBPaymentsConfirmationViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getConfirmationText=function(){return this.props.confirmationText||c("React").createElement("span",null,h._("Thanks for your purchase!"))};l.prototype.getConfirmationTitle=function(){return h._("Confirmation")};l.prototype.getReceiptText=function(){return h._("See Receipt")};l.prototype.getDoneButtonText=function(){return this.props.doneButtonText||h._("Done")};function l(){i.apply(this,arguments)}l.propTypes={children:k.node,confirmationText:k.node,doneButtonText:k.node,enableReceiptFooterLink:k.bool,handleConfirmationDone:k.func,merchantLogoUrl:k.string,receiptUrl:k.string};f.exports=l}),null);
__d("FBPaymentsDialogActions",["FBPaymentsDispatcher","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h={types:c("keyMirror")({SHOW_DIALOG:null,HIDE_DIALOG:null}),showDialog:function i(j,k){c("FBPaymentsDispatcher").dispatch({type:h.types.SHOW_DIALOG,data:{dialogClass:j,dialogProps:k}})},hideDialog:function i(){c("FBPaymentsDispatcher").dispatch({type:h.types.HIDE_DIALOG,data:{}})}};f.exports=h}),null);
__d("FBPaymentsReceiptDialogBase.react",["fbt","AbstractSearchSource","CurrentUser","Map","PaymentInvoiceActionIdentifier","PaymentModulesClient","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){__p&&__p();j.constructor.call(this,m);this.handleFetchReceiptConfigSuccess=function(n){this.setState({loading:false,receiptConfiguration:n})}.bind(this);this.handleFetchReceiptConfigError=function(n){this.setState({errorMessage:n.message,loading:false})}.bind(this);this.handleUpdateInvoiceClick=function(n){__p&&__p();this.setState({errorMessage:null,loading:true});var o=[];for(var p=this.state.inputs,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=t[0],v=t[1];if(v.check&&!v.check.isValid)return;o=o.concat({key:u,value:v.value})}var w={action_identifier:n.identifier,actor_id:this.props.actorID,product_id:this.props.receiptID,product_type:this.props.receiptClientType,action_data:o};this.__getAPI().updateInvoice(w,this.handleUpdateInvoiceSuccess,this.handleUpdateInvoiceError)}.bind(this);this.handleUpdateInvoiceSuccess=function(){this.fetchReceiptConfig()}.bind(this);this.handleUpdateInvoiceError=function(n){this.setState({errorMessage:n.message,loading:false})}.bind(this);this.state={errorMessage:null,loading:false,receiptConfiguration:null,inputs:new(c("Map"))()}}l.prototype.componentWillMount=function(){this.fetchReceiptConfig();var m=[c("PaymentInvoiceActionIdentifier").CANCEL,c("PaymentInvoiceActionIdentifier").MARK_AS_PAID,c("PaymentInvoiceActionIdentifier").MARK_AS_SHIPPED,c("PaymentInvoiceActionIdentifier").REQUEST_NEW_RECEIPT];m.forEach(function(n){this.__getReceiptActionHelper().registerActionClickHandler(n,this.handleUpdateInvoiceClick,this)}.bind(this))};l.prototype.fetchReceiptConfig=function(){this.setState({errorMessage:null,loading:true});var m={actor_id:this.props.actorID,id:this.props.receiptID};this.__getAPI().fetchReceiptConfig(m,this.handleFetchReceiptConfigSuccess,this.handleFetchReceiptConfigError)};l.prototype.getDialogTitle=function(){return h._("Order Details")};l.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsReceiptDialogBase","__getAPI")};l.prototype.__getReceiptActionHelper=function(){return c("abstractMethod")("FBPaymentsReceiptDialogBase","__getReceiptActionHelper")};l.propTypes={actorID:k.string.isRequired,onDialogToggle:k.func.isRequired,receiptClientType:k.oneOf(Object.values(c("PaymentModulesClient"))).isRequired,receiptID:k.string.isRequired,renderer:k.string};l.defaultProps={actorID:c("CurrentUser").getID()};f.exports=l}),null);
__d("FBPaymentsReceiptActionHelperBase",["invariant","FBPaymentsReceiptDialogBase.react","Map"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){this.actionHandlerMap=new(c("Map"))();this.actionFormMap=new(c("Map"))()}i.prototype.registerActionClickHandler=function(j,k,l){this.actionHandlerMap.set(j,k);this.actionFormMap.set(j,l)};i.prototype.handleActionClick=function(j){var k=j.identifier,l=this.actionHandlerMap.get(k);l||h(0);l(j)};f.exports=i}),null);
__d("StaticSearchSource",["AbstractSearchSource","SearchSourceCallbackManager","TokenizeUtil"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this);this.$StaticSearchSource2=k;this.$StaticSearchSource1=new(c("SearchSourceCallbackManager"))({parseFn:c("TokenizeUtil").parse,matchFn:c("TokenizeUtil").isQueryMatch,indexFn:l});this.$StaticSearchSource1.addLocalEntries(this.$StaticSearchSource2)}j.prototype.searchImpl=function(k,l,m){"use strict";if(!k)l(this.$StaticSearchSource2,k);else this.$StaticSearchSource1.search(k,l)};f.exports=j}),null);
__d("FBPaymentsReceiptActionHelper",["cx","fbt","invariant","FBPaymentsReceiptConstants","FBPaymentsFormField.react","FBPaymentsReceiptActionHelperBase","Map","React","SearchableEntry","StaticSearchSource","XUIButton.react","XUITypeahead.react","idx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("FBPaymentsReceiptConstants").ActionStyles,n="type-ahead",o="values",p="allowCustom";k=babelHelpers.inherits(q,c("FBPaymentsReceiptActionHelperBase"));l=k&&k.prototype;function q(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.renderAction=function(w){var x,y=((x=w)!=null?(x=x.actionData)!=null?x.action_datas:x:x)||[],z=this.actionFormMap.get(w.identifier),A=true,B=!z?[]:y.map(function(D){var E=this.renderAdditionalInput(z,D),F=E[0],G=E[1];A=A&&F;return G}.bind(this)),C=c("React").createElement(c("XUIButton.react"),{key:w.identifier,label:w.title,onClick:function(){return this.handleActionClick(w)}.bind(this),use:this.getButtonStyle(w.style),className:"_3-94",disabled:!A});if(!z||B.length===0)return C;return c("React").createElement("div",{key:w.identifier},B,C)}.bind(this),s}q.prototype.getButtonStyle=function(r){switch(r){case m.PRIMARY:return"confirm";default:return"default"}};q.prototype.getMandatoryMsg=function(){return i._("Please enter a value")};q.prototype.getInvalidSelectionMsg=function(){return i._("Please choose from provided choices")};q.prototype.initializeInputState=function(r){__p&&__p();var s={isValid:r.optional,errorMessage:r.optional?null:this.getMandatoryMsg()},t={name:r.identifier,value:"",check:s,choices:null,customChoice:true};if(r.category===n){var u,v=((u=r)!=null?u.additional_info:u)||[];v.forEach(function(w){if(w.key===o){var x=JSON.parse(w.value),y=x.map(function(z){return new(c("SearchableEntry"))({title:z,uniqueID:z})});t.choices=new(c("StaticSearchSource"))(y)}else if(w.key===p)t.customChoice=w.value==="true"})}return t};q.prototype.renderTypeAhead=function(r,s,t){__p&&__p();var u,v=r.choices,w=function w(z){t(r.name,z.getUniqueID(),{isValid:true})},x=function(event){__p&&__p();var z={isValid:true,errorMessage:null};t(r.name,event.target.value,z);if(!v)return;v.search(event.target.value,function(A,B){if(!r.customChoice&&A.length===0){z.isValid=false;z.errorMessage=this.getInvalidSelectionMsg()}else if(B.length===0)r.value=""}.bind(this))}.bind(this),y=function y(){t(r.name,"",{isValid:true})};return c("React").createElement(c("XUITypeahead.react"),babelHelpers["extends"]({},s,{onSelectAttempt:w,onChange:x,onClear:y,searchSource:v,clearable:true,xuiError:(u=r)!=null?(u=u.check)!=null?u.errorMessage:u:u,queryString:r.value,viewStyle:"textonly"}))};q.prototype.renderAdditionalInput=function(r,s){__p&&__p();var t,u,v=((t=r)!=null?(t=t.state)!=null?t.inputs:t:t)||new(c("Map"))();if(!v.has(s.identifier))v.set(s.identifier,this.initializeInputState(s));var w=v.get(s.identifier);w||j(0);var x=((u=w)!=null?(u=u.check)!=null?u.isValid:u:u)||false,y={key:s.identifier,name:s.identifier,placeholder:s.placeholder_text,maxLength:s.length,required:!s.optional,value:w.value,className:"_43eb _3-94"},z=function(B,C,D){w.value=C;if(D.isValid){D.isValid=C.trim().length>0||s.optional;D.errorMessage=D.isValid?null:this.getMandatoryMsg()}w.check=D;v.set(B,w);r.setState({inputs:v})}.bind(this);if(s.category===n)return[x,this.renderTypeAhead(w,y,z)];else{var A;return[x,c("React").createElement(c("FBPaymentsFormField.react"),babelHelpers["extends"]({},y,{errorMessage:(A=w)!=null?(A=A.check)!=null?A.errorMessage:A:A,onChange:z,height:"short"}))]}};f.exports=new q()}),null);
__d("FBPaymentsReceiptConfigurationTypes",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsReceiptConstants","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("FBPaymentsCheckoutConfigurationTypes").PricePropTypes,i=c("FBPaymentsCheckoutConfigurationTypes").PriceListPropTypes,j=c("FBPaymentsReceiptConstants").ActionStyles,k=c("FBPaymentsReceiptConstants").Extensions,l=c("React").PropTypes,m={participantID:l.string,name:l.string.isRequired,imageUrl:l.string,description:l.string},n=l.shape({title:l.string.isRequired,style:l.oneOf([].concat(Object.values(j))),identifier:l.string.isRequired,actionData:l.object}),o=l.shape({title:l.string.isRequired,date:l.string}),p=l.shape({actions:l.arrayOf(n),type:l.oneOf([k.PROGRESS]).isRequired,statusText:l.string,steps:l.arrayOf(o).isRequired,currentStep:l.string.isRequired}),q=l.shape({type:l.oneOf([k.IMAGE_VIEW]).isRequired,actions:l.arrayOf(n),imageUrls:l.arrayOf(l.string).isRequired}),r=l.shape({dimensionless_cache_key:l.string,height:l.number,is_silhouette:l.bool,mime_type:l.string,name:l.string,scale:l.number,uri:l.string,width:l.number}),s=l.shape({type:l.oneOf([k.IMAGE_BLOCK_LAYOUT_VIEW]).isRequired,actions:l.arrayOf(n),image:r.isRequired,title:l.string,subtitle:l.string}),t=l.shape({alignment:l.string.isRequired,color:l.string.isRequired,size:l.string.isRequired,text:l.string.isRequired}),u=l.shape({type:l.oneOf([k.AMOUNT]).isRequired,amount:l.string.isRequired,statusRows:l.arrayOf(t),actions:l.arrayOf(n)}),v=l.shape({name:l.string.isRequired,price:h.isRequired,variants:l.arrayOf(l.string).isRequired}),w=l.shape({type:l.oneOf([k.ORDER_SUMMARY]).isRequired,items:l.arrayOf(v).isRequired}),x=l.shape({type:l.oneOf([k.PRICE_DETAIL]).isRequired,priceList:i.isRequired}),y=l.oneOfType([q,w,x,p,s,u]),z={title:l.string,subtitle:l.string,receiptExtensionConfiguration:y},A={components:l.arrayOf(l.shape(z)).isRequired,preferredPosition:l.string,additionalInstruction:l.object},B=l.shape({otherParticipant:l.shape(m),sections:l.arrayOf(l.shape(A)),additionalInstruction:l.object}),C={StatusRowPropTypes:t,ActionPropTypes:n,ItemPropTypes:v,OtherParticipantPropTypes:m,ProductInfoSectionPropTypes:A,ReceiptComponentPropTypes:z,ReceiptConfigurationPropTypes:B,ReceiptExtensionConfigPropTypes:y,StepPropTypes:o,ImagePropTypes:r};f.exports=C}),null);
__d("FBPaymentsReceiptContainerBase.react",["FBPaymentsReceiptConfigurationTypes","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsReceiptConfigurationTypes").ReceiptConfigurationPropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.__getReceiptView=function(){return c("abstractMethod")("FBPaymentsReceiptContainerBase","__getReceiptView")};k.prototype.__getEntityView=function(){return c("abstractMethod")("FBPaymentsReceiptContainerBase","__getEntityView")};k.prototype.render=function(){var l=this.props.configuration,m=this.__getEntityView(),n=l.otherParticipant||{},o=n.description,p=n.imageUrl,q=n.name,r=c("React").createElement(m,{description:o,imageUrl:p,name:q,actions:this.props.actions}),s=this.__getReceiptView();return c("React").createElement(s,babelHelpers["extends"]({},this.props,{entityView:r,sections:l.sections,additionalInstruction:l.additionalInstruction,showAdditionalInstruction:this.props.showAdditionalInstruction}))};function k(){h.apply(this,arguments)}k.propTypes={configuration:j.isRequired};f.exports=k}),null);
__d("FBPaymentsItemSummaryViewBase.react",["React","abstractMethod","joinClasses"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.prototype.__getRootClassName=function(){return c("abstractMethod")("FBPaymentsItemSummaryViewBase","__getRootClassName")};k.prototype.__getImageClassName=function(){return c("abstractMethod")("FBPaymentsItemSummaryViewBase","__getImageClassName")};k.prototype.__getImageColumn=function(){return c("abstractMethod")("FBPaymentsItemSummaryViewBase","__getImageColumn")};k.prototype.getRootClassName=function(){return c("joinClasses")(this.__getRootClassName(),this.props.className)};k.prototype.getImageClassName=function(){return c("joinClasses")(this.__getImageClassName(),this.props.imageClassName)};function k(){h.apply(this,arguments)}k.propTypes={imageClassName:j.string,imageHeight:j.number,imagePosition:j.oneOf(["left","right"]).isRequired,imageSrc:j.string,imageWidth:j.number,rightContent:j.node,summaryAlignv:j.oneOf(["middle","top"]).isRequired,hasPadding:j.bool};k.defaultProps={imagePosition:"left",summaryAlignv:"middle",hasPadding:true};f.exports=k}),null);
__d("FBPaymentsItemSummaryView.react",["cx","FBPaymentsItemSummaryViewBase.react","Image.react","InlineBlock.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsItemSummaryViewBase.react"));j=i&&i.prototype;k.prototype.__getRootClassName=function(){return"_4v_s"+(this.props.hasPadding?" _2ph_":"")};k.prototype.__getImageClassName=function(){var l=this.props.imagePosition;return(l==="left"?"_3-91":"")+(l==="right"?" _3-9b":"")+" _1i26"};k.prototype.__getImageColumn=function(){if(!this.props.imageSrc)return null;return c("React").createElement(c("Image.react"),{className:this.getImageClassName(),height:this.props.imageHeight,src:this.props.imageSrc,width:this.props.imageWidth})};k.prototype.getFillColumnClassName=function(){return"_4v_t"};k.prototype.getRightColumnClassName=function(){return"_1i26"};k.prototype.render=function(){var l=this.__getImageColumn(),m=c("React").createElement("div",{className:this.getFillColumnClassName()},c("React").createElement(c("InlineBlock.react"),{alignv:this.props.summaryAlignv,height:this.props.imageHeight},this.props.children));if(this.props.imagePosition==="right"){var n=l;l=m;m=n}return c("React").createElement("div",{className:this.getRootClassName()},l,m,c("React").createElement("div",{className:this.getRightColumnClassName()},this.props.rightContent))};function k(){i.apply(this,arguments)}k.propTypes=c("FBPaymentsItemSummaryViewBase.react").propTypes;f.exports=k}),null);
__d("FBPaymentsReceiptEntityViewBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsReceiptEntityView.react",["cx","FBPaymentsItemSummaryView.react","FBPaymentsReceiptEntityViewBase.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=36;i=babelHelpers.inherits(l,c("FBPaymentsReceiptEntityViewBase.react"));j=i&&i.prototype;l.prototype.render=function(){var m=this.props.actions;if(this.props.imageUrl||this.props.name||this.props.description)return c("React").createElement(c("FBPaymentsItemSummaryView.react"),{imageSrc:this.props.imageUrl,imageHeight:k,rightContent:m},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"medium",weight:"bold"},this.props.name),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light"},this.props.description));else if(m)return c("React").createElement("div",{className:"_1i26 _2ph_ _4v_s"},c("React").createElement("div",{className:"_43ie"},m));else return null};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsReceiptComponentViewBase.react",["React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.renderReceiptExtension=function(){var k=this.props.receiptExtensionConfiguration;if(!k)return null;var l=this.__getReceiptExtensionManager().getReceiptExtensionContainer(k.type);return c("React").createElement(l,babelHelpers["extends"]({},this.props,{extensionConfiguration:k}))};j.prototype.__getReceiptExtensionManager=function(){return c("abstractMethod")("FBPaymentsReceiptComponentViewBase","__getReceiptExtensionManager")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsReceiptExtensionInterface.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsAmountReceiptExtensionContainerBase.react",["invariant","FBPaymentsReceiptExtensionInterface.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsReceiptExtensionInterface.react"));j=i&&i.prototype;k.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsAmountReceiptExtensionContainerBase","__getView")};k.prototype.render=function(){var l=this.props.extensionConfiguration;l.type==="AMOUNT"||h(0);var m=this.__getView();return c("React").createElement(m,l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsAmountReceiptExtensionViewBase.react",["FBPaymentsReceiptConfigurationTypes","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("FBPaymentsReceiptConfigurationTypes").ActionPropTypes,k=c("FBPaymentsReceiptConfigurationTypes").StatusRowPropTypes,l=c("React").PropTypes;h=babelHelpers.inherits(m,c("React").Component);i=h&&h.prototype;function m(){h.apply(this,arguments)}m.propTypes={amount:l.string.isRequired,statusRows:l.arrayOf(k),actions:l.arrayOf(j)};f.exports=m}),null);
__d("FBPaymentsAmountReceiptExtensionView.react",["cx","FBPaymentsAmountReceiptExtensionViewBase.react","React","Text.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=Object.freeze({DARK_GREY:"dark",LIGHT_GREY:"light"});i=babelHelpers.inherits(l,c("FBPaymentsAmountReceiptExtensionViewBase.react"));j=i&&i.prototype;l.prototype.renderActions=function(m){return null};l.prototype.renderStatusRows=function(m){var n=[];if(m)m.forEach(function(o,p){n.push(c("React").createElement(c("XUIGrayText.react"),{className:"_1hzt",key:p,shade:k[o.color]||"dark"},o.text))});return n};l.prototype.render=function(){var m=this.props,n=m.amount,o=m.statusRows,p=m.actions;return c("React").createElement("div",{className:"_1hzu"},c("React").createElement(c("Text.react"),{className:"_3-97 _1wb8"},n),this.renderStatusRows(o),this.renderActions(p))};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsAmountReceiptExtensionContainer.react",["FBPaymentsAmountReceiptExtensionContainerBase.react","FBPaymentsAmountReceiptExtensionView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsAmountReceiptExtensionContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsAmountReceiptExtensionView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsImageBlockLayoutViewReceiptExtensionContainerBase.react",["invariant","FBPaymentsReceiptExtensionInterface.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsReceiptExtensionInterface.react"));j=i&&i.prototype;k.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsImageBlockLayoutViewReceiptExtensionContainerBase","__getView")};k.prototype.render=function(){var l=this.props.extensionConfiguration;l.type==="IMAGE_BLOCK_LAYOUT_VIEW"||h(0);var m=this.__getView();return c("React").createElement(m,l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsImageBlockLayoutViewReceiptExtensionViewBase.react",["FBPaymentsReceiptConfigurationTypes","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("FBPaymentsReceiptConfigurationTypes").ActionPropTypes,k=c("FBPaymentsReceiptConfigurationTypes").ImagePropTypes,l=c("React").PropTypes;h=babelHelpers.inherits(m,c("React").Component);i=h&&h.prototype;function m(){h.apply(this,arguments)}m.propTypes={actions:l.arrayOf(j),image:k.isRequired,title:l.string,subtitle:l.string};f.exports=m}),null);
__d("FBPaymentsImageBlockLayoutViewReceiptExtensionView.react",["FBPaymentsImageBlockLayoutViewReceiptExtensionViewBase.react","FBPaymentsItemSummaryView.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=50;h=babelHelpers.inherits(k,c("FBPaymentsImageBlockLayoutViewReceiptExtensionViewBase.react"));i=h&&h.prototype;k.prototype.renderActions=function(l){return null};k.prototype.render=function(){var l=this.props,m=l.actions,n=l.image,o=l.title,p=l.subtitle;return c("React").createElement(c("FBPaymentsItemSummaryView.react"),{imageHeight:j,imageSrc:n.uri,hasPadding:false,rightContent:this.renderActions(m)},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"medium",weight:"bold"},o),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light"},p))};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsImageBlockLayoutViewReceiptExtensionContainer.react",["FBPaymentsImageBlockLayoutViewReceiptExtensionContainerBase.react","FBPaymentsImageBlockLayoutViewReceiptExtensionView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsImageBlockLayoutViewReceiptExtensionContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsImageBlockLayoutViewReceiptExtensionView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsImageViewReceiptExtensionContainerBase.react",["invariant","FBPaymentsReceiptExtensionInterface.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsReceiptExtensionInterface.react"));j=i&&i.prototype;k.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsImageViewReceiptExtensionContainerBase","__getView")};k.prototype.render=function(){var l=this.props.extensionConfiguration;l.type==="IMAGE_VIEW"||h(0);var m=this.__getView();return c("React").createElement(m,l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsImageViewReceiptExtensionViewBase.react",["FBPaymentsReceiptConfigurationTypes","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("FBPaymentsReceiptConfigurationTypes").ActionPropTypes,k=c("React").PropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){h.apply(this,arguments)}l.propTypes={actions:k.arrayOf(j),imageUrls:k.arrayOf(k.string).isRequired};f.exports=l}),null);
__d("FBPaymentsImageViewReceiptExtensionView.react",["cx","FBPaymentsImageViewReceiptExtensionViewBase.react","FBPaymentsReceiptActionHelper","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsImageViewReceiptExtensionViewBase.react"));j=i&&i.prototype;k.prototype.$FBPaymentsImageViewReceiptExtensionView1=function(l,m){return c("React").createElement(c("Image.react"),{className:"_sn8 _1svn _2pio",key:m,onClick:function n(){return window.open(l,"_blank")},src:l})};k.prototype.render=function(){var l=this.props,m=l.actions,n=l.imageUrls,o=m?m.map(c("FBPaymentsReceiptActionHelper").renderAction):null;return c("React").createElement("div",null,n.map(this.$FBPaymentsImageViewReceiptExtensionView1),o)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsImageViewReceiptExtensionContainer.react",["FBPaymentsImageViewReceiptExtensionContainerBase.react","FBPaymentsImageViewReceiptExtensionView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsImageViewReceiptExtensionContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsImageViewReceiptExtensionView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsOrderSummaryReceiptExtensionContainerBase.react",["invariant","FBPaymentsReceiptExtensionInterface.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsReceiptExtensionInterface.react"));j=i&&i.prototype;k.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsOrderSummaryReceiptExtensionContainerBase","__getView")};k.prototype.render=function(){var l=this.props.extensionConfiguration;l.type==="ORDER_SUMMARY"||h(0);var m=this.__getView();return c("React").createElement(m,l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsOrderSummaryReceiptExtensionViewBase.react",["FBPaymentsReceiptConfigurationTypes","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("FBPaymentsReceiptConfigurationTypes").ItemPropTypes,k=c("React").PropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){h.apply(this,arguments)}l.propTypes={items:k.arrayOf(j).isRequired};f.exports=l}),null);
__d("PECurrency.react",["PECurrency","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=function i(j){return c("React").createElement("span",{className:j.className},c("PECurrency").formatAmount(j.code,j.value,j.showSymbol,j.showIso,j.stripZeros,j.showThousandDelimiter))};i.defaultProps={showSymbol:true};i.propTypes={code:h.string.isRequired,showIso:h.bool,showSymbol:h.bool,showThousandDelimiter:h.bool,stripZeros:h.bool,value:h.number.isRequired};f.exports=i}),null);
__d("FBPaymentsOrderSummaryReceiptExtensionView.react",["cx","FBPaymentsOrderSummaryReceiptExtensionViewBase.react","Layout.react","PECurrency","PECurrency.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("PECurrency").DEFAULT_AMOUNT_OFFSET,l=c("Layout.react").Column,m=c("Layout.react").FillColumn;i=babelHelpers.inherits(n,c("FBPaymentsOrderSummaryReceiptExtensionViewBase.react"));j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$FBPaymentsOrderSummaryReceiptExtensionView2=function(t,u){var v=t.name,w=t.price,x=t.variants;return c("React").createElement(c("Layout.react"),{className:(u===0?"_2pic":"")+(u!==0?" _2pie":""),key:u},c("React").createElement(m,null,c("React").createElement(c("XUIGrayText.react"),{className:"_2pim",display:"block",shade:"dark"},v),x.map(this.$FBPaymentsOrderSummaryReceiptExtensionView1)),c("React").createElement(l,null,c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light"},c("React").createElement(c("PECurrency.react"),{code:w.currency,value:k*Number(w.amount)}))))}.bind(this),p}n.prototype.$FBPaymentsOrderSummaryReceiptExtensionView1=function(o,p){return c("React").createElement(c("XUIGrayText.react"),{className:"_4cav",display:"block",key:p,shade:"light"},o)};n.prototype.render=function(){return c("React").createElement("div",null,this.props.items.map(this.$FBPaymentsOrderSummaryReceiptExtensionView2))};f.exports=n}),null);
__d("FBPaymentsOrderSummaryReceiptExtensionContainer.react",["FBPaymentsOrderSummaryReceiptExtensionContainerBase.react","FBPaymentsOrderSummaryReceiptExtensionView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsOrderSummaryReceiptExtensionContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsOrderSummaryReceiptExtensionView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPriceDetailReceiptExtensionContainerBase.react",["invariant","FBPaymentsReceiptExtensionInterface.react","React","abstractMethod","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsReceiptExtensionInterface.react"));j=i&&i.prototype;k.prototype.__getPriceTableView=function(){return c("abstractMethod")("FBPaymentsPriceDetailReceiptExtensionContainerBase","__getPriceTableView")};k.prototype.render=function(){var l,m=this.props.extensionConfiguration;m.type==="PRICE_DETAIL"||h(0);var n=m.priceList,o=this.__getPriceTableView();return c("React").createElement(o,{priceList:n,hideTotal:!!((l=this.props)!=null?(l=l.receiptExtraProps)!=null?l.hidePriceTableTotal:l:l)})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPriceTableViewBase.react",["cx","fbt","invariant","FBPaymentsPriceListHelper","PECurrency","PECurrency.react","React","abstractMethod","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("PECurrency").DEFAULT_AMOUNT_OFFSET;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.$FBPaymentsPriceTableViewBase1=function(o,p){return c("React").createElement(c("PECurrency.react"),{code:p,value:m*o})};n.prototype.$FBPaymentsPriceTableViewBase2=function(o,p,q){var r=c("FBPaymentsPriceListHelper").calculateTotal(p),s=r.currency;s||j(0);var t=r.amount;if(this.props.forceTotal||t!==0)return this.__renderItem(0,o,this.$FBPaymentsPriceTableViewBase1(t,s),!q);else return null};n.prototype.$FBPaymentsPriceTableViewBase3=function(o){var p=[];for(var q=0;q<o.length;q++)p.push(this.$FBPaymentsPriceTableViewBase4(q,o[q]));return p};n.prototype.$FBPaymentsPriceTableViewBase4=function(o,p){__p&&__p();var q=p.label,r=p.price,s=p.priceList,t=p.userFacingReason,u=p.zeroAmountReason;if(r){var v=r.amount,w=r.currency;return this.__renderItem(o,q,u||this.$FBPaymentsPriceTableViewBase1(Number(v),w),false)}else if(t)return this.__renderItem(o,q,t,false);else if(s){var x=this.$FBPaymentsPriceTableViewBase3(s),y=this.$FBPaymentsPriceTableViewBase2(q,s,true);if(y)y=c("React").createElement("div",null,c("React").createElement("div",{className:c("joinClasses")("_2pie",this.__getBorderBottomClassName())}),c("React").createElement("div",{className:"_2pie"},y));return c("React").createElement("div",{key:q},x,y)}else throw new Error("PriceItem format error")};n.prototype.__renderItem=function(o,p,q,r){return c("abstractMethod")("FBPaymentsPriceTableViewBase","__renderItem")};n.prototype.__getBorderBottomClassName=function(){return c("abstractMethod")("FBPaymentsPriceTableViewBase","__getBorderBottomClassName")};n.prototype.render=function(){var o=this.props.priceList,p=this.$FBPaymentsPriceTableViewBase3(o),q=this.props.hideTotal?null:this.$FBPaymentsPriceTableViewBase2(i._("Total"),o,false);return c("React").createElement("div",null,p,q)};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("FBPaymentsPriceTableView.react",["cx","FBPaymentsPriceTableViewBase.react","Layout.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("Layout.react").Column,l=c("Layout.react").FillColumn;i=babelHelpers.inherits(m,c("FBPaymentsPriceTableViewBase.react"));j=i&&i.prototype;m.prototype.__renderItem=function(n,o,p,q){var r=q?"dark":"light";return c("React").createElement(c("Layout.react"),{className:q?"_20nx":"",key:n},c("React").createElement(l,null,c("React").createElement(c("XUIGrayText.react"),{shade:r,size:"small"},o)),c("React").createElement(k,null,c("React").createElement(c("XUIGrayText.react"),{shade:r,size:"small"},p)))};m.prototype.__getBorderBottomClassName=function(){return"_qu2"};m.prototype.render=function(){return j.render.call(this)};function m(){i.apply(this,arguments)}m.propTypes=c("FBPaymentsPriceTableViewBase.react").propTypes;f.exports=m}),null);
__d("FBPaymentsPriceDetailReceiptExtensionContainer.react",["FBPaymentsPriceDetailReceiptExtensionContainerBase.react","FBPaymentsPriceTableView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPriceDetailReceiptExtensionContainerBase.react"));i=h&&h.prototype;j.prototype.__getPriceTableView=function(){return c("FBPaymentsPriceTableView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsProgressReceiptExtensionContainerBase.react",["invariant","FBPaymentsReceiptExtensionInterface.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsReceiptExtensionInterface.react"));j=i&&i.prototype;k.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsProgressReceiptExtensionContainerBase","__getView")};k.prototype.render=function(){var l=this.props.extensionConfiguration;l.type==="PROGRESS"||h(0);var m=this.__getView();return c("React").createElement(m,l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsProgressReceiptExtensionViewBase.react",["FBPaymentsReceiptConfigurationTypes","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("FBPaymentsReceiptConfigurationTypes").ActionPropTypes,k=c("FBPaymentsReceiptConfigurationTypes").StepPropTypes,l=c("React").PropTypes;h=babelHelpers.inherits(m,c("React").Component);i=h&&h.prototype;function m(){h.apply(this,arguments)}m.propTypes={actions:l.arrayOf(j),currentStep:l.string.isRequired,statusText:l.string,steps:l.arrayOf(k).isRequired};f.exports=m}),null);
__d("FBPaymentsProgressReceiptExtensionView.react",["cx","FBPaymentsProgressReceiptExtensionViewBase.react","FBPaymentsReceiptActionHelper","React","XUIGrayText.react","XUIStepper.react","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("XUIStepper.react").Step;i=babelHelpers.inherits(l,c("FBPaymentsProgressReceiptExtensionViewBase.react"));j=i&&i.prototype;l.prototype.$FBPaymentsProgressReceiptExtensionView1=function(m,n){return c("React").createElement(k,{key:n},c("React").createElement(c("XUIText.react"),{display:"block"},m.title),c("React").createElement(c("XUIText.react"),{display:"block"},m.date))};l.prototype.render=function(){var m=this.props,n=m.actions,o=m.currentStep,p=m.statusText,q=m.steps,r=q.map(function(t){return t.title}).lastIndexOf(o),s=n?n.map(c("FBPaymentsReceiptActionHelper").renderAction):null;return c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark"},p),c("React").createElement(c("XUIStepper.react"),{animated:false,className:"_2pi4 _1236",currentStep:r,size:"small"},q.map(this.$FBPaymentsProgressReceiptExtensionView1)),c("React").createElement("div",{className:"_2pie"},s))};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsProgressReceiptExtensionContainer.react",["FBPaymentsProgressReceiptExtensionContainerBase.react","FBPaymentsProgressReceiptExtensionView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsProgressReceiptExtensionContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsProgressReceiptExtensionView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsReceiptExtensionManagerBase",["invariant","FBPaymentsReceiptConstants","FBPaymentsReceiptExtensionInterface.react","Map","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("FBPaymentsReceiptConstants").Extensions;function j(){this.receiptExtensionMap=new(c("Map"))()}j.prototype.getReceiptExtensionContainer=function(k){i[k]||h(0);var l=this.__getReceiptExtensionMap().get(k);l||h(0);return l};j.prototype.__getReceiptExtensionMap=function(){return c("abstractMethod")("FBPaymentsReceiptExtensionManagerBase","__getReceiptExtensionMap")};f.exports=j}),null);
__d("FBPaymentsReceiptExtensionManager",["FBPaymentsAmountReceiptExtensionContainer.react","FBPaymentsImageBlockLayoutViewReceiptExtensionContainer.react","FBPaymentsImageViewReceiptExtensionContainer.react","FBPaymentsOrderSummaryReceiptExtensionContainer.react","FBPaymentsPriceDetailReceiptExtensionContainer.react","FBPaymentsProgressReceiptExtensionContainer.react","FBPaymentsReceiptConstants","FBPaymentsReceiptExtensionManagerBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsReceiptConstants").Extensions;h=babelHelpers.inherits(k,c("FBPaymentsReceiptExtensionManagerBase"));i=h&&h.prototype;function k(){i.constructor.call(this);this.receiptExtensionMap.set(j.IMAGE_VIEW,c("FBPaymentsImageViewReceiptExtensionContainer.react"));this.receiptExtensionMap.set(j.ORDER_SUMMARY,c("FBPaymentsOrderSummaryReceiptExtensionContainer.react"));this.receiptExtensionMap.set(j.PRICE_DETAIL,c("FBPaymentsPriceDetailReceiptExtensionContainer.react"));this.receiptExtensionMap.set(j.PROGRESS,c("FBPaymentsProgressReceiptExtensionContainer.react"));this.receiptExtensionMap.set(j.IMAGE_BLOCK_LAYOUT_VIEW,c("FBPaymentsImageBlockLayoutViewReceiptExtensionContainer.react"));this.receiptExtensionMap.set(j.AMOUNT,c("FBPaymentsAmountReceiptExtensionContainer.react"))}k.prototype.__getReceiptExtensionMap=function(){return this.receiptExtensionMap};f.exports=new k()}),null);
__d("FBPaymentsReceiptComponentView.react",["cx","FBPaymentsReceiptComponentViewBase.react","FBPaymentsReceiptExtensionManager","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsReceiptComponentViewBase.react"));j=i&&i.prototype;k.prototype.__getReceiptExtensionManager=function(){return c("FBPaymentsReceiptExtensionManager")};k.prototype.render=function(){return c("React").createElement("div",{className:"_2pi4"},c("React").createElement(c("XUIGrayText.react"),{className:"_1iyz",display:"block",shade:"light"},this.props.title),c("React").createElement(c("XUIGrayText.react"),{className:"_2pic _1iyz",display:"block",shade:"dark"},this.props.subtitle),this.renderReceiptExtension())};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsReceiptSectionViewBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsReceiptSectionView.react",["cx","FBPaymentsReceiptComponentView.react","FBPaymentsReceiptSectionViewBase.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsReceiptSectionViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.props.components,m=[];for(var n=0;n<l.length;n++){var o=l[n];m.push(c("React").createElement(c("FBPaymentsReceiptComponentView.react"),babelHelpers["extends"]({},this.props,{key:n,receiptExtensionConfiguration:o.receiptExtensionConfiguration,subtitle:o.subtitle,title:o.title})))}return c("React").createElement("div",{className:"_2dma"},m)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsReceiptViewBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){h.apply(this,arguments)}j.defaultProps={showAdditionalInstruction:false};f.exports=j}),null);
__d("PaymentSettingsPaymentType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({GAME:"game",DONATION:"donation",BALANCE_REDEMPTION:"balance_redemption",GIFT:"gift",PE_PAYMENT:"pe_payment",MESSENGER_API_FEE:"messenger_api_fee",GAME_BUNDLE:"game_bundle",BOF:"bof",P2P:"p2p",P2P_REQUEST:"p2p_request",NMOR_PAYMENT:"nmor_payment"})}),null);
__d("XPagesPlatformMessagingReplyDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/messaging/reply/dialog/",{av:{type:"FBID",required:true},recipient_id:{type:"FBID",required:true}})}),null);
__d("FBPaymentsReceiptView.react",["cx","invariant","AsyncRequest","FBPaymentsReceiptSectionView.react","FBPaymentsReceiptViewBase.react","PaymentSettingsReceiptFooter.react","React","TextWithEntities.react","XPagesPlatformMessagingReplyDialogController","XUIButton.react","XUICard.react","XUICardSection.react","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l="PRIMARY";j=babelHelpers.inherits(m,c("FBPaymentsReceiptViewBase.react"));k=j&&j.prototype;m.prototype.$FBPaymentsReceiptView1=function(n,o){return c("React").createElement(c("FBPaymentsReceiptSectionView.react"),babelHelpers["extends"]({},this.props,{additionalInstruction:n.additionalInstruction,components:n.components,key:o,preferredPosition:n.preferredPosition}))};m.prototype.$FBPaymentsReceiptView2=function(n){if(!this.props.showAdditionalInstruction)return null;else if(!n)return c("React").createElement(c("PaymentSettingsReceiptFooter.react"),null);return c("React").createElement("div",{className:"_3-8y"},c("React").createElement(c("TextWithEntities.react"),{className:"_3pce _50f8 _3-8y",ranges:n.ranges,text:n.text}))};m.prototype.$FBPaymentsReceiptView3=function(n,o){n.length!==0||i(0);var p=c("React").createElement("div",{className:"_3r_s"},c("React").createElement("div",{className:"_2pi9"},n)),q=o.length===0?null:c("React").createElement("div",{className:"_3r_s _3r_u"},c("React").createElement("div",{className:"_2pi9"},o));return c("React").createElement("div",{className:"_3r_v"},p,q)};m.prototype.$FBPaymentsReceiptView4=function(){__p&&__p();var n=this.props.sections;if(!n||n.length===0)return null;var o=[],p=[];for(var q=0;q<n.length;q++){var r=n[q];if(r.preferredPosition&&r.preferredPosition===l)o.push(this.$FBPaymentsReceiptView1(r,q));else p.push(this.$FBPaymentsReceiptView1(r,q))}if(o.length===0){o=p;p=[]}return c("React").createElement(c("XUICardSection.react"),null,this.$FBPaymentsReceiptView3(o,p))};m.prototype.$FBPaymentsReceiptView5=function(n){var o=c("XPagesPlatformMessagingReplyDialogController").getURIBuilder().setFBID("av",this.props.pageID).setFBID("recipient_id",n).getURI();new(c("AsyncRequest"))().setURI(o).setData({}).send()};m.prototype.render=function(){var n,o=this.props.configuration,p=this.props.renderer&&this.props.renderer==="ORDER_MANAGEMENT",q=(n=o)!=null?(n=n.otherParticipant)!=null?n.participantID:n:n,r=p&&this.props.pageID&&q?c("React").createElement(c("XUIButton.react"),{className:"_3-8t _3-94",label:"Send Message",onClick:function(){return this.$FBPaymentsReceiptView5(q)}.bind(this)}):null;return c("React").createElement("div",null,c("React").createElement(c("XUICard.react"),null,c("React").createElement(c("XUICardSection.react"),null,this.props.entityView,r),this.$FBPaymentsReceiptView4()),this.$FBPaymentsReceiptView2(this.props.additionalInstruction))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("FBPaymentsReceiptContainer.react",["FBPaymentsReceiptContainerBase.react","FBPaymentsReceiptEntityView.react","FBPaymentsReceiptView.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsReceiptContainerBase.react"));i=h&&h.prototype;j.prototype.__getReceiptView=function(){return c("FBPaymentsReceiptView.react")};j.prototype.__getEntityView=function(){return c("FBPaymentsReceiptEntityView.react")};j.prototype.render=function(){return i.render.call(this)};function j(){h.apply(this,arguments)}j.propTypes=babelHelpers["extends"]({},c("FBPaymentsReceiptContainerBase.react").propTypes);f.exports=j}),null);
__d("FBPaymentsReceiptDialog.react",["cx","FBPaymentsLoadingView.react","FBPaymentsModulesAPI","FBPaymentsReceiptActionHelper","FBPaymentsReceiptContainer.react","FBPaymentsReceiptDialogBase.react","React","ScrollableArea.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUINotice.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=465,l=750;i=babelHelpers.inherits(m,c("FBPaymentsReceiptDialogBase.react"));j=i&&i.prototype;m.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};m.prototype.__getReceiptActionHelper=function(){return c("FBPaymentsReceiptActionHelper")};m.prototype.render=function(){var n=this.state,o=n.errorMessage,p=n.receiptConfiguration,q=p?c("React").createElement(c("FBPaymentsReceiptContainer.react"),{renderer:this.props.renderer,pageID:this.props.actorID,configuration:p}):null,r=o?c("React").createElement("div",{className:"_2pio"},c("React").createElement(c("XUINotice.react"),{use:"warn"},o)):null;return c("React").createElement("div",null,c("React").createElement(c("XUIDialog.react"),{onToggle:this.props.onDialogToggle,shown:true,width:l},c("React").createElement(c("XUIDialogTitle.react"),null,this.getDialogTitle()),c("React").createElement(c("XUIDialogBody.react"),{className:"_1jnq",fontSize:"inherit"},c("React").createElement(c("ScrollableArea.react"),{height:k},r,q),c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:true,visible:this.state.loading}))))};function m(){i.apply(this,arguments)}m.propTypes=babelHelpers["extends"]({},c("FBPaymentsReceiptDialogBase.react").propTypes);f.exports=m}),null);
__d("FBPaymentsConfirmationView.react",["cx","ix","CommerceContactMerchantReceiptDialog.react","CurrentUser","FBPaymentsConfirmationViewBase.react","FBPaymentsDialogActions","FBPaymentsLinkHelper","FBPaymentsReceiptDialog.react","FBPaymentsWebdriverTestIDs","Image.react","Link.react","React","URI","XUIButton.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=36;j=babelHelpers.inherits(m,c("FBPaymentsConfirmationViewBase.react"));k=j&&j.prototype;m.prototype.$FBPaymentsConfirmationView1=function(n){var o=new(c("URI"))(n).getProtocol(),p=o!=="http"&&o!=="https"&&o!=="";if(p){var q=c("FBPaymentsLinkHelper").parseInAppUrl(n),r=q.clientType,s=q.productID,t=q.platformContextID;if(r)c("FBPaymentsDialogActions").showDialog(c("FBPaymentsReceiptDialog.react"),{actorID:c("CurrentUser").getAccountID(),onDialogToggle:this.$FBPaymentsConfirmationView2,receiptID:s,receiptClientType:r});else c("FBPaymentsDialogActions").showDialog(c("CommerceContactMerchantReceiptDialog.react"),{invoiceID:s,onDialogToggle:this.$FBPaymentsConfirmationView2,platformContextID:t})}else window.open(n,"_blank")};m.prototype.$FBPaymentsConfirmationView2=function(n){if(!n)c("FBPaymentsDialogActions").hideDialog()};m.prototype.$FBPaymentsConfirmationView3=function(){var n=this.props.receiptUrl;if(!n)return null;if(this.props.enableReceiptFooterLink)return c("React").createElement("div",{className:"_2ppt"},c("React").createElement(c("Link.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").SEE_RECEIPT_BUTTON,onClick:function(){return this.$FBPaymentsConfirmationView1(n)}.bind(this)},this.getReceiptText()));return c("React").createElement("div",{className:"_2ppt"},c("React").createElement(c("XUIButton.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").SEE_RECEIPT_BUTTON,label:this.getReceiptText(),onClick:function(){return this.$FBPaymentsConfirmationView1(n)}.bind(this),size:"xlarge"}))};m.prototype.render=function(){var n=c("React").createElement(c("Image.react"),{className:"_3fai",src:i("94361")}),o=c("React").createElement(c("XUIGrayText.react"),{className:"_2ppu"},this.getConfirmationText()),p=this.props.merchantLogoUrl?c("React").createElement(c("Image.react"),{className:"_2ppv",height:l,src:this.props.merchantLogoUrl}):null,q=c("React").createElement(c("XUIButton.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").CONFIRMATION_SCREEN_DONE_BUTTON,label:this.getDoneButtonText(),onClick:this.props.handleConfirmationDone,size:"xlarge",use:"confirm"}),r=this.props.enableReceiptFooterLink?c("React").createElement("div",null,this.props.children,this.$FBPaymentsConfirmationView3()):c("React").createElement("div",null,this.$FBPaymentsConfirmationView3(),this.props.children);return c("React").createElement("div",{"data-testid":c("FBPaymentsWebdriverTestIDs").PAYMENT_CONFIRMATION_SCREEN},c("React").createElement("div",{className:"_2ppw"},c("React").createElement("div",{className:"_2ppx"},n,o,p),r),c("React").createElement("div",{className:"_5kyc _2ph_ _52jw"},q))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("FBPaymentsConfirmationContainer.react",["FBPaymentsConfirmationContainerBase.react","FBPaymentsConfirmationExtensionManager","FBPaymentsConfirmationView.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsConfirmationContainerBase.react"));i=h&&h.prototype;j.prototype.__getConfirmationExtensionManager=function(){return c("FBPaymentsConfirmationExtensionManager")};j.prototype.__getView=function(){return c("FBPaymentsConfirmationView.react")};j.prototype.render=function(){return i.render.call(this)};function j(){h.apply(this,arguments)}j.propTypes=c("FBPaymentsConfirmationContainerBase.react").propTypes;f.exports=j}),null);
__d("FBPaymentsEntityHeaderViewBase.react",["FBPaymentsCheckoutConfigurationTypes","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsCheckoutConfigurationTypes").EntityPropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.ENTITY_IMAGE_HEIGHT=36,m}k.prototype.getTitle=function(){return this.props.entity.participant.title};k.prototype.getSubtitle=function(){return this.props.entity.participant.subtitle};k.prototype.getImageSrc=function(){return this.props.entity.participant.imageURL};k.prototype.getDescription=function(){return this.props.entity.description};k.prototype.isLargeTitle=function(){return!this.getSubtitle()};k.propTypes={entity:j.isRequired};f.exports=k}),null);
__d("FBPaymentsEntityHeaderView.react",["cx","FBPaymentsEntityHeaderViewBase.react","FBPaymentsItemSummaryView.react","React","XUIGrayText.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsEntityHeaderViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.isLargeTitle()?"large":"medium",m=c("React").createElement(c("XUIGrayText.react"),{className:"_3yoq",display:"block",shade:"dark",size:l},this.getTitle()),n=this.getSubtitle()?c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"medium",size:"small"},this.getSubtitle()):null,o=this.getDescription()?c("React").createElement(c("XUIGrayText.react"),{className:"_2ph_ _5kyc",display:"block",shade:"medium",size:"small"},this.getDescription()):null;return c("React").createElement("div",{className:c("joinClasses")("_qu2",this.props.className)},c("React").createElement(c("FBPaymentsItemSummaryView.react"),{imageHeight:this.ENTITY_IMAGE_HEIGHT,imageSrc:this.getImageSrc()},m,n),o)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsLoadingContainerBase.react",["React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.__getView();return c("React").createElement(l,{loadingText:this.props.loadingText})};k.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsLoadingContainerBase","__getView")};function k(){h.apply(this,arguments)}k.propTypes={loadingText:j.node.isRequired};f.exports=k}),null);
__d("FBPaymentsLoadingContainer.react",["FBPaymentsLoadingContainerBase.react","FBPaymentsLoadingView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsLoadingContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsLoadingView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("PaymentsFlowsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:PaymentsFlowsLoggerConfig",this.$PaymentsFlowsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:PaymentsFlowsLoggerConfig",this.$PaymentsFlowsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$PaymentsFlowsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$PaymentsFlowsTypedLogger1=babelHelpers["extends"]({},this.$PaymentsFlowsTypedLogger1,j);return this};h.prototype.setAdAccountID=function(j){this.$PaymentsFlowsTypedLogger1.ad_account_id=j;return this};h.prototype.setClientTime=function(j){this.$PaymentsFlowsTypedLogger1.client_time=j;return this};h.prototype.setContainermodule=function(j){this.$PaymentsFlowsTypedLogger1.containermodule=j;return this};h.prototype.setContextID=function(j){this.$PaymentsFlowsTypedLogger1.context_id=j;return this};h.prototype.setCurrency=function(j){this.$PaymentsFlowsTypedLogger1.currency=j;return this};h.prototype.setErrorCategory=function(j){this.$PaymentsFlowsTypedLogger1.error_category=j;return this};h.prototype.setErrorCode=function(j){this.$PaymentsFlowsTypedLogger1.error_code=j;return this};h.prototype.setErrorMessage=function(j){this.$PaymentsFlowsTypedLogger1.error_message=j;return this};h.prototype.setErrorOrigin=function(j){this.$PaymentsFlowsTypedLogger1.error_origin=j;return this};h.prototype.setErrorStacktrace=function(j){this.$PaymentsFlowsTypedLogger1.error_stacktrace=j;return this};h.prototype.setEventName=function(j){this.$PaymentsFlowsTypedLogger1.event_name=j;return this};h.prototype.setEventType=function(j){this.$PaymentsFlowsTypedLogger1.event_type=j;return this};h.prototype.setExceptionClass=function(j){this.$PaymentsFlowsTypedLogger1.exception_class=j;return this};h.prototype.setFlowName=function(j){this.$PaymentsFlowsTypedLogger1.flow_name=j;return this};h.prototype.setFlowStep=function(j){this.$PaymentsFlowsTypedLogger1.flow_step=j;return this};h.prototype.setIncomingParams=function(j){this.$PaymentsFlowsTypedLogger1.incoming_params=j;return this};h.prototype.setIsFree=function(j){this.$PaymentsFlowsTypedLogger1.is_free=j;return this};h.prototype.setIsTestPayment=function(j){this.$PaymentsFlowsTypedLogger1.is_test_payment=j;return this};h.prototype.setLoggingServiceID=function(j){this.$PaymentsFlowsTypedLogger1.logging_service_id=j;return this};h.prototype.setMailingAddressID=function(j){this.$PaymentsFlowsTypedLogger1.mailing_address_id=j;return this};h.prototype.setOrderID=function(j){this.$PaymentsFlowsTypedLogger1.order_id=j;return this};h.prototype.setOtherProfileID=function(j){this.$PaymentsFlowsTypedLogger1.other_profile_id=j;return this};h.prototype.setPaymentAccountID=function(j){this.$PaymentsFlowsTypedLogger1.payment_account_id=j;return this};h.prototype.setPaymentID=function(j){this.$PaymentsFlowsTypedLogger1.payment_id=j;return this};h.prototype.setPaymentMethodID=function(j){this.$PaymentsFlowsTypedLogger1.payment_method_id=j;return this};h.prototype.setPaymentMethodType=function(j){this.$PaymentsFlowsTypedLogger1.payment_method_type=j;return this};h.prototype.setPaymodExtraData=function(j){this.$PaymentsFlowsTypedLogger1.paymod_extra_data=j;return this};h.prototype.setProduct=function(j){this.$PaymentsFlowsTypedLogger1.product=j;return this};h.prototype.setProvider=function(j){this.$PaymentsFlowsTypedLogger1.provider=j;return this};h.prototype.setRawAmount=function(j){this.$PaymentsFlowsTypedLogger1.raw_amount=j;return this};h.prototype.setRedirectURL=function(j){this.$PaymentsFlowsTypedLogger1.redirect_url=j;return this};h.prototype.setRequestID=function(j){this.$PaymentsFlowsTypedLogger1.request_id=j;return this};h.prototype.setSessionID=function(j){this.$PaymentsFlowsTypedLogger1.session_id=j;return this};h.prototype.setShippingOptionID=function(j){this.$PaymentsFlowsTypedLogger1.shipping_option_id=j;return this};h.prototype.setUserFacingErrorCode=function(j){this.$PaymentsFlowsTypedLogger1.user_facing_error_code=j;return this};h.prototype.setUserFacingMessage=function(j){this.$PaymentsFlowsTypedLogger1.user_facing_message=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$PaymentsFlowsTypedLogger1=babelHelpers["extends"]({},this.$PaymentsFlowsTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={ad_account_id:true,client_time:true,containermodule:true,context_id:true,currency:true,error_category:true,error_code:true,error_message:true,error_origin:true,error_stacktrace:true,event_name:true,event_type:true,exception_class:true,flow_name:true,flow_step:true,incoming_params:true,is_free:true,is_test_payment:true,logging_service_id:true,mailing_address_id:true,order_id:true,other_profile_id:true,payment_account_id:true,payment_id:true,payment_method_id:true,payment_method_type:true,paymod_extra_data:true,product:true,provider:true,raw_amount:true,redirect_url:true,request_id:true,session_id:true,shipping_option_id:true,user_facing_error_code:true,user_facing_message:true};f.exports=h}),null);
__d("FBPaymentsLogger",["FBPaymentsLoggerBase","PaymentsFlowsTypedLogger"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsLoggerBase"));i=h&&h.prototype;j.prototype.__getLoggerInstance=function(){return new(c("PaymentsFlowsTypedLogger"))()};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsOrderSummaryViewBase.react",["fbt","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getItemImage=function(m,n){return m?c("React").createElement(c("Image.react"),{src:m,width:n,height:n}):null};l.prototype.getMerchantText=function(m,n){if(m)return m;else if(n)return h._("Sold by {merchantName}",[h.param("merchantName",n)]);return null};function l(){i.apply(this,arguments)}l.propTypes={items:k.arrayOf(k.shape({title:k.string.isRequired,subtitle:k.string,subsubtitle:k.string,merchantName:k.string,merchantText:k.string,itemImageUrl:k.string})).isRequired};f.exports=l}),null);
__d("FBPaymentsOrderSummaryContainerBase.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsOrderSummaryViewBase.react","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsCheckoutConfigurationTypes").ContentConfigurationPropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.__getView();return c("React").createElement(l,this.props.configuration)};k.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsOrderSummaryContainerBase","__getView")};function k(){h.apply(this,arguments)}k.propTypes={configuration:j.isRequired};f.exports=k}),null);
__d("FBPaymentsOrderSummaryView.react",["cx","FBPaymentsOrderSummaryViewBase.react","ImageBlock.react","InlineBlock.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=72;i=babelHelpers.inherits(l,c("FBPaymentsOrderSummaryViewBase.react"));j=i&&i.prototype;l.prototype.render=function(){var m=this.props.items[0];return c("React").createElement(c("ImageBlock.react"),{className:"_qu2 _2ph_"},c("React").createElement("div",{className:"_3-91"},this.getItemImage(m.itemImageUrl,k)),c("React").createElement(c("InlineBlock.react"),{alignv:"middle",height:k},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"medium",weight:"bold"},m.title),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"small"},m.subtitle),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"small"},m.subsubtitle),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},this.getMerchantText(m.merchantText,m.merchantName))))};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsOrderSummaryContainer.react",["FBPaymentsOrderSummaryContainerBase.react","FBPaymentsOrderSummaryView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsOrderSummaryContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsOrderSummaryView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPayActionRowViewBase.react",["fbt","FBPaymentsLinkHelper","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getPayButtonText=function(){return this.props.actionTitle?this.props.actionTitle:h._("Pay")};l.prototype.getBackButtonText=function(){return h._("Back")};l.prototype.getDefaultTermsAndPoliciesText=function(){var m=h._("terms and policies"),n=c("React").createElement("a",{href:this.props.termsAndPoliciesUrl,target:"_blank"},m);if(this.props.merchantName&&this.props.processorName)return h._("By clicking {text on action button}, you agree to {merchant name}'s and {processor name}'s terms and policies.",[h.param("text on action button",this.getPayButtonText()),h.param("merchant name",c("React").createElement("a",{href:this.props.merchantTermsAndPoliciesUrl,target:"_blank"},this.props.merchantName)),h.param("processor name",c("React").createElement("a",{href:this.props.termsAndPoliciesUrl,target:"_blank"},this.props.processorName))]);else if(this.props.merchantName)return h._("By clicking {text on action button}, you agree to {merchant name}'s terms and policies.",[h.param("text on action button",this.getPayButtonText()),h.param("merchant name",c("React").createElement("a",{href:this.props.merchantTermsAndPoliciesUrl,target:"_blank"},this.props.merchantName))]);else return h._("By clicking {text on action button}, you agree to these {=terms and policies}.",[h.param("text on action button",this.getPayButtonText()),h.param("=terms and policies",n)])};function l(){i.apply(this,arguments)}l.propTypes={actionTitle:k.node,backButton:k.bool,customTermsAndPoliciesText:k.element,isLoading:k.bool.isRequired,merchantName:k.string,onBackButtonClick:k.func.isRequired,onPayButtonClick:k.func.isRequired,payButtonEnabled:k.bool.isRequired,payButtonAlwaysEnabled:k.bool,processorName:k.string,termsAndPoliciesUrl:k.string,merchantTermsAndPoliciesUrl:k.string.isRequired,price:k.shape({amount:k.string.isRequired,currency:k.string.isRequired})};l.defaultProps={merchantTermsAndPoliciesUrl:c("FBPaymentsLinkHelper").getPaymentsTermsURI().toString(),payButtonAlwaysEnabled:false};f.exports=l}),null);
__d("FBPaymentsPayActionRowContainerBase.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsPayActionRowViewBase.react","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=c("FBPaymentsCheckoutConfigurationTypes").PayActionContentPropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;l.prototype.render=function(){var m=this.__getView();return c("React").createElement(m,babelHelpers["extends"]({isLoading:this.props.isLoading,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,payButtonEnabled:this.props.payButtonEnabled,payButtonAlwaysEnabled:this.props.payButtonAlwaysEnabled,price:this.props.price,showStickyPayButton:this.props.showStickyPayButton},this.props.configuration))};l.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPayActionRowContainerBase","__getView")};function l(){h.apply(this,arguments)}l.propTypes={configuration:k.isRequired,isLoading:j.bool.isRequired,onBackButtonClick:j.func.isRequired,onPayButtonClick:j.func.isRequired,payButtonEnabled:j.bool.isRequired,payButtonAlwaysEnabled:j.bool};l.defaultProps={payButtonAlwaysEnabled:false};f.exports=l}),null);
__d("FBPaymentsPayActionButtonViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.getActionText=function(){var l=this.props.actionTitle?this.props.actionTitle:h._("Pay");return l};k.prototype.getBackText=function(){return this.props.backTitle?this.props.backTitle:h._("Back")};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPayActionButtonContainerBase.react",["FBPaymentsPayActionButtonViewBase.react","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.__getView();return c("React").createElement(k,{actionTitle:this.props.actionTitle,backTitle:this.props.backTitle,backButton:this.props.backButton,isLoading:this.props.isLoading,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,payButtonEnabled:this.props.payButtonEnabled,use:this.props.use,price:this.props.price})};j.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPayActionButtonContainerBase","__getView")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPayActionButtonView.react",["cx","FBPaymentsPayActionButtonViewBase.react","FBPaymentsWebdriverTestIDs","LeftRight.react","PECurrency","PECurrency.react","React","XUIButton.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("PECurrency").DEFAULT_AMOUNT_OFFSET;i=babelHelpers.inherits(l,c("FBPaymentsPayActionButtonViewBase.react"));j=i&&i.prototype;l.prototype.render=function(){__p&&__p();var m=void 0;if(this.props.isLoading)m=c("React").createElement(c("XUISpinner.react"),{background:"dark",size:"small"});else if(this.props.price){var n=this.props.price;m=c("React").createElement(c("LeftRight.react"),{className:"_304_"},c("React").createElement("div",{className:"_2pis"},this.getActionText()),c("React").createElement("div",{className:"_2pii"},c("React").createElement(c("PECurrency.react"),{code:n.currency,showSymbol:true,value:k*Number(n.amount)})))}else m=this.getActionText();var o=void 0;if(this.props.backButton)o=c("React").createElement(c("XUIButton.react"),{className:"_2oqx",disabled:this.props.isLoading,label:this.getBackText(),size:"large",onClick:this.props.onBackButtonClick,use:"default"});var p=c("React").createElement(c("XUIButton.react"),{className:"_39gi","data-testid":c("FBPaymentsWebdriverTestIDs").PAY_BUTTON,disabled:!this.props.payButtonEnabled,label:m,size:"large",onClick:this.props.onPayButtonClick,use:this.props.use?this.props.use:"confirm"});return c("React").createElement("div",{className:"_39ge"},o,p)};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsPayActionButtonContainer.react",["FBPaymentsPayActionButtonContainerBase.react","FBPaymentsPayActionButtonView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPayActionButtonContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsPayActionButtonView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPayActionRowView.react",["cx","FBPaymentsPayActionButtonContainer.react","FBPaymentsPayActionRowViewBase.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsPayActionRowViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.props.customTermsAndPoliciesText?this.props.customTermsAndPoliciesText:this.getDefaultTermsAndPoliciesText(),m=this.props.payButtonEnabled||this.props.payButtonAlwaysEnabled;return c("React").createElement("div",{className:"_5kyc _2ph_"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},l),c("React").createElement(c("FBPaymentsPayActionButtonContainer.react"),{actionTitle:this.getPayButtonText(),backTitle:this.getBackButtonText(),backButton:this.props.backButton,isLoading:this.props.isLoading,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,payButtonEnabled:m,price:this.props.price}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPayActionRowContainer.react",["FBPaymentsPayActionRowContainerBase.react","FBPaymentsPayActionRowView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPayActionRowContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsPayActionRowView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPriceTableContainerBase.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsPriceTableViewBase.react","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=c("FBPaymentsCheckoutConfigurationTypes").PriceListPropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;l.prototype.render=function(){var m=this.__getView();return c("React").createElement(m,{priceList:this.props.configuration.priceList,forceTotal:this.props.forceTotal})};l.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPriceTableContainerBase","__getView")};function l(){h.apply(this,arguments)}l.propTypes={configuration:j.shape({priceList:k.isRequired}).isRequired,forceTotal:j.bool};f.exports=l}),null);
__d("FBPaymentsPriceTableContainer.react",["FBPaymentsPriceTableContainerBase.react","FBPaymentsPriceTableView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPriceTableContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsPriceTableView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCheckoutFlowContainer.react",["DOMScroll","FBPaymentsCheckoutFlowContainerBase.react","FBPaymentsCheckoutFlowView.react","FBPaymentsCheckoutNUXContainer.react","FBPaymentsConfirmationContainer.react","FBPaymentsEntityHeaderView.react","FBPaymentsExtensionManager","FBPaymentsLoadingContainer.react","FBPaymentsLogger","FBPaymentsModulesAPI","FBPaymentsOrderSummaryContainer.react","FBPaymentsPayActionRowContainer.react","FBPaymentsPriceTableContainer.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsCheckoutFlowContainerBase.react"));i=h&&h.prototype;j.prototype.__scrollToTop=function(){c("DOMScroll").scrollToTop(true)};j.prototype.__getExtensionManager=function(){return c("FBPaymentsExtensionManager")};j.prototype.__getCheckoutFlowView=function(){return c("FBPaymentsCheckoutFlowView.react")};j.prototype.__getNUXContainer=function(){return c("FBPaymentsCheckoutNUXContainer.react")};j.prototype.__getLoadingContainer=function(){return c("FBPaymentsLoadingContainer.react")};j.prototype.__getConfirmationContainer=function(){return c("FBPaymentsConfirmationContainer.react")};j.prototype.__getOrderSummaryContainer=function(){return c("FBPaymentsOrderSummaryContainer.react")};j.prototype.__getEntityHeaderContainer=function(){return c("FBPaymentsEntityHeaderView.react")};j.prototype.__getPayActionRowContainer=function(){return c("FBPaymentsPayActionRowContainer.react")};j.prototype.__getPriceTableContainer=function(){return c("FBPaymentsPriceTableContainer.react")};j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};j.prototype.__getLogger=function(){return c("FBPaymentsLogger")};j.prototype.render=function(){return i.render.call(this)};function j(){h.apply(this,arguments)}j.propTypes=babelHelpers["extends"]({},c("FBPaymentsCheckoutFlowContainerBase.react").propTypes);f.exports=j}),null);
__d("FBPaymentsBankDetailsShape_DEPRECATED",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({code:h.string.isRequired,image:h.string,name:h.string.isRequired});f.exports=i}),null);
__d("FBPaymentsBankSelector_DEPRECATED.react",["ix","cx","fbt","FBPaymentsBankDetailsShape_DEPRECATED","Image.react","React","XUIPopoverButton.react","XUISingleSelector.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("XUISingleSelector.react").Option,n=c("React").PropTypes,o="data:image/png;base64,",p=480;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.onChange=function(w){this.props.onBankSelected(this.props.banks.find(function(x){return x.code===w.value}))}.bind(this),s}q.prototype.renderBankIcon=function(r){if(!r.image)return null;return c("React").createElement(c("Image.react"),{className:"_4e1_",src:o+r.image})};q.prototype.renderCustomButton=function(){var r=c("React").createElement(c("Image.react"),{className:"_4e20",src:h("127625")});return c("React").createElement(c("XUIPopoverButton.react"),{chevron:r,className:"_4e22",maxwidth:0,size:"large"})};q.prototype.renderDefaultOption=function(){return c("React").createElement(m,{className:"_4e23","default":true,key:"default"},j._("Select your bank"))};q.prototype.render=function(){return c("React").createElement(c("XUISingleSelector.react"),{className:"_4e2g",customButton:this.renderCustomButton(),maxheight:this.props.maxheight,maxwidth:0,onChange:this.onChange,size:"large"},this.renderDefaultOption(),this.props.banks.map(function(r){return c("React").createElement(m,{className:"_4e23",icon:this.renderBankIcon(r),key:r.code,value:r.code},r.name)}.bind(this)))};q.propTypes={banks:n.arrayOf(c("FBPaymentsBankDetailsShape_DEPRECATED")).isRequired,maxheight:n.number,onBankSelected:n.func.isRequired};q.defaultProps={maxheight:p};f.exports=q}),null);
__d("FBPaymentsPaymentMethodShape_DEPRECATED",["FBPaymentsMethodType","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({title:h.string,type:h.oneOf(Object.values(c("FBPaymentsMethodType"))).isRequired});f.exports=i}),null);
__d("FBPaymentsChoosePaymentMethodForm_DEPRECATED.react",["cx","fbt","FBAccordion.react","FBAccordionSection.react","FBPaymentsBankSelector_DEPRECATED.react","FBPaymentsCreditCardForm_DEPRECATED.react","FBPaymentsMethodType","FBPaymentsPaymentMethodShape_DEPRECATED","Link.react","P2PCreditCardDetails.react","P2PLinkConstants","P2PText.react","React","XUIRadioList.react","emptyFunction","setImmediate"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("XUIRadioList.react").Item,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){__p&&__p();k.constructor.call(this,o);this.handleBankSelected=function(p){this.props.onPaymentMethodConfigured({bank:p,isValid:!!p,type:c("FBPaymentsMethodType").NET_BANKING})}.bind(this);this.handleCreditCardFormValidation=function(p,q){this.props.onPaymentMethodConfigured({isValid:p,formData:q,type:c("FBPaymentsMethodType").NEW_CREDIT_CARD})}.bind(this);this.renderPaymentMethodItem=function(p,q){__p&&__p();var r=null,s=null;switch(p.type){case c("FBPaymentsMethodType").GENERIC_CARD:r=c("React").createElement(c("P2PCreditCardDetails.react"),{creditCard:p.creditCard});break;case c("FBPaymentsMethodType").NEW_CREDIT_CARD:r=i._("Credit or Debit Card");s=this.renderCreditCardFormSection(q);break;case c("FBPaymentsMethodType").NET_BANKING:r=i._("Online Banking");s=this.renderBankSelectorSection(p);break;case c("FBPaymentsMethodType").PAY_OVER_COUNTER:r=i._("Payment at Store Counter");break;case c("FBPaymentsMethodType").MANUAL_TRANSFER:r=p.title;break;default:r=p.title?p.title:p.type;s=c("React").createElement(c("P2PText.react"),{type:"primary"},"Expanded content for ",r);break}s=s?c("React").createElement("div",{className:"_51c-"},s):null;var t=c("React").createElement(l,{className:"_51c_",selectedValue:this.state.selectedKey,value:q},c("React").createElement(c("P2PText.react"),{type:"primary"},r));return c("React").createElement(c("FBAccordionSection.react"),{header:t,key:q,onClick:this.onSectionClick.bind(this)},s)}.bind(this);this.state={selectedKey:0}}n.prototype.componentWillMount=function(){c("setImmediate")(function(){return this.onSectionClick(this.state.selectedKey)}.bind(this))};n.prototype.onSectionClick=function(o){__p&&__p();this.setState({selectedKey:o});var p=this.props.paymentMethods[o];this.props.onPaymentMethodSelected(p);switch(p.type){case c("FBPaymentsMethodType").PAY_OVER_COUNTER:this.props.onPaymentMethodConfigured({isValid:true,type:p.type});break;case c("FBPaymentsMethodType").MANUAL_TRANSFER:var q=p.manual_transfer_info&&p.manual_transfer_info.id;this.props.onPaymentMethodConfigured({isValid:true,type:p.type,optionId:q});break;case c("FBPaymentsMethodType").GENERIC_CARD:this.props.onPaymentMethodConfigured({isValid:true,creditCard:p.creditCard,type:p.type});break}};n.prototype.getSections=function(){return this.props.paymentMethods.map(this.renderPaymentMethodItem,this)};n.prototype.renderCreditCardFormSection=function(o){if(o!==this.state.selectedKey)return null;return c("React").createElement("div",null,c("React").createElement(c("FBPaymentsCreditCardForm_DEPRECATED.react"),{onValidation:this.handleCreditCardFormValidation,saveErrors:this.props.saveErrors,showIcons:false,showSecondaryIcons:true,showZipCodeField:false,useGutters:true}),c("React").createElement(c("P2PText.react"),{className:"_3-8y",type:"secondary"},i._("Your payment info is stored securely. {Link with text that goes to learn more page}",[i.param("Link with text that goes to learn more page",c("React").createElement(c("Link.react"),{href:c("P2PLinkConstants").securePayInfoLearnMoreURI,target:"_blank"},i._("Learn More")))])))};n.prototype.renderBankSelectorSection=function(o){return c("React").createElement(c("FBPaymentsBankSelector_DEPRECATED.react"),{banks:o.banks,onBankSelected:this.handleBankSelected})};n.prototype.render=function(){return c("React").createElement("ul",{className:"_51d0"},c("React").createElement(c("FBAccordion.react"),null,this.getSections()))};n.propTypes={onPaymentMethodConfigured:m.func.isRequired,onPaymentMethodSelected:m.func.isRequired,paymentMethods:m.arrayOf(c("FBPaymentsPaymentMethodShape_DEPRECATED")).isRequired,saveErrors:m.object};n.defaultProps={onPaymentMethodConfigured:c("emptyFunction")};f.exports=n}),null);
__d("FBPaymentsLegalDisclaimer_DEPRECATED.react",["fbt","FBPaymentsLinkHelper","FBPaymentsMethodType","Link.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m)}l.prototype.getLegalDisclaimerText=function(){var m=c("FBPaymentsLinkHelper").getPayTermsAndPoliciesURI(this.props.paymentType),n=h._("By clicking Complete Purchase, you agree to Facebook's {=terms and policies}",[h.param("=terms and policies",c("React").createElement(c("Link.react"),{href:m,target:"_blank"},"terms and policies"))]),o=h._("By clicking Pay, you agree to Facebook's and 2C2P's {=terms and policies}",[h.param("=terms and policies",c("React").createElement(c("Link.react"),{href:m,target:"_blank"},"terms and policies"))]),p=h._("By clicking Log In and Pay, you agree to Facebook's and 2C2P's {=terms and policies}",[h.param("=terms and policies",c("React").createElement(c("Link.react"),{href:m,target:"_blank"},"terms and policies"))]),q=h._("By clicking Continue to Pay, you agree to Facebook's and 2C2P's {=terms and policies}",[h.param("=terms and policies",c("React").createElement(c("Link.react"),{href:m,target:"_blank"},"terms and policies"))]);switch(this.props.paymentMethodType){case c("FBPaymentsMethodType").GENERIC_CARD:return o;case c("FBPaymentsMethodType").NET_BANKING:return p;case c("FBPaymentsMethodType").PAY_OVER_COUNTER:return q;case c("FBPaymentsMethodType").MANUAL_TRANSFER:return n;default:return null}};l.prototype.render=function(){return c("React").createElement(c("P2PText.react"),{type:"secondary"},this.getLegalDisclaimerText())};l.propTypes={paymentMethodType:k.string.isRequired,paymentType:k.string.isRequired};l.defaultProps={paymentType:""};f.exports=l}),null);
__d("FBPaymentsCreditCardVerificationDialog_DEPRECATED.react",["cx","fbt","CreditCardFormParam","FBPaymentsCreditCardVerificationForm_DEPRECATED.react","P2PButton.react","P2PCreditCard","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PLoadingMask.react","P2PText.react","PaymentMethodUtils","React","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={cscInput:null,isValid:false},this.handleValidation=function(s,t){this.setState({cscInput:t[c("CreditCardFormParam").CSC],isValid:s})}.bind(this),this.handleConfirmClick=function(){this.props.onConfirm(this.state.cscInput)}.bind(this),this.getMaxCSCLength=function(){var s=this.props.creditCard.getCardType();return c("PaymentMethodUtils").getCardTypeFromCode(s).cscDigits}.bind(this),this.getMessage=function(){if(this.getMaxCSCLength()===3)return i._("Please re-enter your card's three-digit security code.");else return i._("Please re-enter your card's four-digit security code.")}.bind(this),this.renderFooter=function(){var s=i._("Cancel"),t=this.props.showCancelButton?c("React").createElement(c("P2PButton.react"),{label:s,onClick:this.props.onCancel,use:"default"}):null;return c("React").createElement(c("P2PDialogFooter.react"),{className:"_3-8-",leftContent:this.props.leftContent},t,c("React").createElement(c("P2PButton.react"),{disabled:!this.state.isValid,label:this.props.primaryButtonText,onClick:this.handleConfirmClick,use:"confirm"}))}.bind(this),o}m.prototype.render=function(){var n={};n[c("CreditCardFormParam").CARD_NUMBER]=this.props.creditCard.getCreditCardNumberMask();n[c("CreditCardFormParam").CARD_EXPIRATION]=this.props.creditCard.getExpFormattedShort();return c("React").createElement(c("P2PDialog.react"),{layerHideOnBlur:false,repositionOnUpdate:true,shown:true},c("React").createElement(c("P2PDialogTitle.react"),null,i._("Enter Security Code")),c("React").createElement(c("P2PDialogBody.react"),null,c("React").createElement(c("FBPaymentsCreditCardVerificationForm_DEPRECATED.react"),{cscMaxLength:this.getMaxCSCLength(),onValidation:this.handleValidation,prefilledFormData:n}),c("React").createElement(c("P2PText.react"),{className:"_3-8y",type:"secondary"},this.getMessage())),this.renderFooter(),c("React").createElement(c("P2PLoadingMask.react"),{visible:this.props.loading}))};m.propTypes={creditCard:l.instanceOf(c("P2PCreditCard")).isRequired,leftContent:l.node,loading:l.bool,onCancel:l.func,onConfirm:l.func.isRequired,primaryButtonText:l.node,showCancelButton:l.bool};m.defaultProps={loading:false,onCancel:c("emptyFunction"),onConfirm:c("emptyFunction"),primaryButtonText:i._("Confirm"),showCancelButton:true};f.exports=m}),null);
__d("MNContentSubscriptionMessageUserEngagementTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MNContentSubscriptionMessageUserEngagementLoggerConfig",this.$MNContentSubscriptionMessageUserEngagementTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MNContentSubscriptionMessageUserEngagementLoggerConfig",this.$MNContentSubscriptionMessageUserEngagementTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1=babelHelpers["extends"]({},this.$MNContentSubscriptionMessageUserEngagementTypedLogger1,j);return this};h.prototype.setAppID=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.appid=j;return this};h.prototype.setAppversion=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.appversion=j;return this};h.prototype.setBroadcastUnitID=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.broadcast_unit_id=j;return this};h.prototype.setClientUserID=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.client_userid=j;return this};h.prototype.setClienttime=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.clienttime=j;return this};h.prototype.setCommerceItemID=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.commerce_item_id=j;return this};h.prototype.setCommerceMessageType=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.commerce_message_type=j;return this};h.prototype.setCountry=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.country=j;return this};h.prototype.setDeviceid=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.deviceid=j;return this};h.prototype.setInterface=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1["interface"]=j;return this};h.prototype.setMessageID=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.message_id=j;return this};h.prototype.setMessageTs=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.message_ts=j;return this};h.prototype.setName=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.name=j;return this};h.prototype.setPageID=function(j){this.$MNContentSubscriptionMessageUserEngagementTypedLogger1.page_id=j;return this};var i={appid:true,appversion:true,broadcast_unit_id:true,client_userid:true,clienttime:true,commerce_item_id:true,commerce_message_type:true,country:true,deviceid:true,"interface":true,message_id:true,message_ts:true,name:true,page_id:true};f.exports=h}),null);
__d("MNPlatformMessageUserEngagementTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MNPlatformMessageUserEngagementLoggerConfig",this.$MNPlatformMessageUserEngagementTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MNPlatformMessageUserEngagementLoggerConfig",this.$MNPlatformMessageUserEngagementTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$MNPlatformMessageUserEngagementTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1=babelHelpers["extends"]({},this.$MNPlatformMessageUserEngagementTypedLogger1,j);return this};h.prototype.setAppID=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1.appid=j;return this};h.prototype.setAppversion=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1.appversion=j;return this};h.prototype.setClientUserID=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1.client_userid=j;return this};h.prototype.setClienttime=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1.clienttime=j;return this};h.prototype.setCommerceItemID=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1.commerce_item_id=j;return this};h.prototype.setCommerceMessageType=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1.commerce_message_type=j;return this};h.prototype.setCountry=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1.country=j;return this};h.prototype.setDeviceid=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1.deviceid=j;return this};h.prototype.setInterface=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1["interface"]=j;return this};h.prototype.setMessageID=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1.message_id=j;return this};h.prototype.setMessageTs=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1.message_ts=j;return this};h.prototype.setName=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1.name=j;return this};h.prototype.setPageID=function(j){this.$MNPlatformMessageUserEngagementTypedLogger1.page_id=j;return this};var i={appid:true,appversion:true,client_userid:true,clienttime:true,commerce_item_id:true,commerce_message_type:true,country:true,deviceid:true,"interface":true,message_id:true,message_ts:true,name:true,page_id:true};f.exports=h}),null);
__d("MNCommerceOrderConfigActions",["MessengerDispatcher","MNCommerceActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h={itemLoaded:function i(j){c("MessengerDispatcher").dispatch({type:c("MNCommerceActionTypes").RETAIL_ITEM.LOADED,item:j})},itemLoadError:function i(j){c("MessengerDispatcher").dispatch({type:c("MNCommerceActionTypes").RETAIL_ITEM.LOAD_ERROR,itemID:j})},itemReload:function i(j){c("MessengerDispatcher").dispatch({type:c("MNCommerceActionTypes").RETAIL_ITEM.RELOAD,itemID:j})}};f.exports=h}),null);
__d("MNCommerceBubbleImage.react",["cx","React","cssURL","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_4y9n"+(this.props.isSquare?" _2j_n":"")+(!this.props.isSquare?" _2j_r":""),this.props.className),style:{backgroundImage:c("cssURL")(this.props.source)}})};function l(){i.apply(this,arguments)}l.propTypes={location:k.string,source:k.string.isRequired,width:k.number,isSquare:k.bool};f.exports=l}),null);
__d("MNCommerceCheckoutButton.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l="medium";i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.getButtonSize=function(n){return l};m.prototype.render=function(){var n="_48a0"+(this.props.disabled?" _48a1":"")+(this.props.use==="default"?" _48a2":"")+(this.props.use==="confirm"&&!this.props.disabled?" _48a3":"");return c("React").createElement("span",{className:c("joinClasses")(this.props.className,n),use:"default"},this.props.children)};function m(){i.apply(this,arguments)}m.propTypes={disabled:k.bool,use:k.oneOf(["default","confirm"])};f.exports=m}),null);
__d("MNCommerceCheckoutOrderConfigReactShape",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({allVariantOptions:h.object,id:h.string,initialVariantOptions:h.object,itemIDToItem:h.object,logo:h.string,name:h.string,optionToItems:h.object,ordered_product_items:h.array,product_item_id:h.string,variant_labels:h.array});f.exports=i}),null);
__d("MNCommerceCheckoutOrderConfigUtils",["Map","Set"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={DELIMITER:"!@*",addVariantOptions:function i(j){var k=j,l=this._buildItemMaps(k),m=l.optionToItems,n=l.itemIDToItem,o=l.variantToItemID,p=this._getVariantOptionsAndEligibleItems(k,m,n),q=p.allVariantOptions,r=p.initialVariantOptions;k.itemIDToItem=n;k.optionToItems=m;k.variantToItemID=o;k.allVariantOptions=q;k.initialVariantOptions=r;return k},_buildItemMaps:function i(j){__p&&__p();var k=new(c("Map"))(),l=new(c("Map"))(),m=new(c("Map"))();j.ordered_product_items.forEach(function(n){__p&&__p();var o=n.variant_values,p=[];Object.keys(o).forEach(function(q){p.push(o[q])});var q=p.join(h.DELIMITER);m.set(q,n.item_id);k.set(n.item_id,n);for(var r=0;r<p.length;r++){if(!l.has(r))l.set(r,new(c("Map"))());var s=p[r],t=l.get(r);if(!t.has(s))t.set(s,new(c("Set"))([n.item_id]));else t.get(s).add(n.item_id)}});return{itemIDToItem:k,optionToItems:l,variantToItemID:m}},_getVariantOptionsAndEligibleItems:function i(j,k,l){__p&&__p();var m={},n={};for(var o=0;o<j.variant_labels.length;o++){m[o]={};var p=[];k.get(o).forEach(function(q,r){__p&&__p();var s=new(c("Map"))();p.push({label:r,available:true});for(var t=0;t<j.variant_labels.length;t++){if(o===t)continue;var u=[];k.get(t).forEach(function(v,w){var x=this._getIntersection(v,k.get(o).get(r)),y=false;if(x.size>0)y=this._isInStock(x,l);u.push({label:w,available:y})}.bind(this),this);s.set(t,u)}m[o][r]=s;n[o]=p}.bind(this),this)}return{allVariantOptions:m,initialVariantOptions:n}},_getIntersection:function i(j,k){var l=new(c("Set"))([]);j.forEach(function(m){if(k.has(m))l.add(m)});return l},_isInStock:function i(j,k){var l=false;j.forEach(function(m){var n=k.get(m);if(n.commerce_inventory>0)l=true});return l}};f.exports=h}),null);
__d("MNCommerceCheckoutOrderConfigDialog.react",["cx","fbt","MessengerEnvironment","MNCommerceButton.react","MNCommerceCheckoutButton.react","MNCommerceCheckoutOrderConfigReactShape","MNCommerceCheckoutOrderConfigUtils","MNCommerceDetailsDialog.react","MNCommerceDialogFooter.react","MNCommerceDialogBody.react","mNCommerceLogoHeaderReact","MNCommerceSingleListItemReact","React","Set","XUIRadioButtonGroup.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("mNCommerceLogoHeaderReact").jsComponent,m=c("MNCommerceSingleListItemReact").jsComponent,n=c("React").PropTypes,o=18,p="\xb7";j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(s,t){k.constructor.call(this,s,t);r.call(this);this.state=this.$MNCommerceCheckoutOrderConfigDialog1()}q.prototype.componentWillReceiveProps=function(s){this.setState(this.$MNCommerceCheckoutOrderConfigDialog1(s))};q.prototype.render=function(){var s=i._("Your item couldn't be shown.");return c("React").createElement(c("MNCommerceDetailsDialog.react"),babelHelpers["extends"]({errorMessage:s},this.props),this.$MNCommerceCheckoutOrderConfigDialog2())};q.prototype.$MNCommerceCheckoutOrderConfigDialog2=function(){__p&&__p();if(this.props.error||this.props.loading)return null;var s=i._("Continue"),t=i._("Cancel"),u=this.props.checkoutOrderConfig,v=null,w=this.$MNCommerceCheckoutOrderConfigDialog3(),x=u&&u.ordered_product_items;if(w&&w.size){var y=w.values().next().value,z=u&&u.itemIDToItem.get(y);v=z&&z.images}else if(x&&x.length)v=x[0].images;var A=this.state.variants.filter(function(I){return I}).join(" "+p+" "),B=A?{metaline_1:A}:null,C=this.state.variants,D=u&&u.variant_labels,E=u&&(!D||D.length===0||C.length>0&&C.every(function(I){return I})),F={src:u?u.logo:"",width:o,height:o},G=c("React").createElement(c("MNCommerceButton.react"),{className:"_23qd",label:t,onClick:this.$MNCommerceCheckoutOrderConfigDialog4,use:"default"});G=!c("MessengerEnvironment").messengerui?G:null;var H=u&&D&&D.length>0;return c("React").createElement("div",{className:"_vg4"},c("React").createElement(c("MNCommerceDialogBody.react"),null,c("React").createElement("div",{className:H?"_vg5":""},c("React").createElement(l,{className:"_vg6",logo:F,logoPosition:"left"}),c("React").createElement("div",{className:"_vg7"},c("React").createElement(m,{imageDimension:60,metalines:B,size:"large",thumbURL:v,title:u&&u.name}))),this.$MNCommerceCheckoutOrderConfigDialog5()),c("React").createElement(c("MNCommerceDialogFooter.react"),null,G,c("React").createElement(c("MNCommerceButton.react"),{className:"_23qe",disabled:!E,label:s,onClick:this.$MNCommerceCheckoutOrderConfigDialog6,use:"default"})))};q.prototype.$MNCommerceCheckoutOrderConfigDialog3=function(s){__p&&__p();var t=this.props.checkoutOrderConfig;if(!t)return null;var u=s||this.state.variants,v=t.optionToItems,w=null;for(var x=0;x<u.length;x++){var y=u[x];if(y){var z=v.get(x),A=z&&z.get(y);if(!w)w=A;else w=c("MNCommerceCheckoutOrderConfigUtils").$MNCommerceCheckoutOrderConfigDialog7(w,A)}}return w};q.prototype.$MNCommerceCheckoutOrderConfigDialog8=function(s,t){this.setState(this.$MNCommerceCheckoutOrderConfigDialog9(s,t))};q.prototype.$MNCommerceCheckoutOrderConfigDialog10=function(s,t,u){__p&&__p();var v=this.props.checkoutOrderConfig;if(!v)return null;var w=this.state.variants.slice();if(this.state.variants[s]!==t){w[s]=t;w[u]=null}var x=this.$MNCommerceCheckoutOrderConfigDialog3(w),y=[],z=v.optionToItems,A=v.itemIDToItem;z.get(u).forEach(function(B,C){var D=c("MNCommerceCheckoutOrderConfigUtils").$MNCommerceCheckoutOrderConfigDialog7(B,x?x:new(c("Set"))()),E=false;if(D.size>0)E=c("MNCommerceCheckoutOrderConfigUtils").$MNCommerceCheckoutOrderConfigDialog11(D,A);y.push({label:C,available:E})},this);return y};q.prototype.$MNCommerceCheckoutOrderConfigDialog5=function(){var s=this.props.checkoutOrderConfig;if(!s)return null;var t=i._("Select"),u=s.variant_labels.map(function(v,w){return c("React").createElement("div",{key:w},c("React").createElement("div",{className:"_vg8"},t+" "+v),c("React").createElement("div",{className:"_vg9"},this.$MNCommerceCheckoutOrderConfigDialog12(this.state.variantOptions[w],this.$MNCommerceCheckoutOrderConfigDialog8.bind(this,w),this.state.variants[w])))}.bind(this));return u};q.propTypes={error:n.object,checkoutOrderConfig:c("MNCommerceCheckoutOrderConfigReactShape"),loading:n.bool.isRequired,onContinue:n.func.isRequired,onTryAgain:n.func,shown:n.bool.isRequired,statusType:n.number};q.defaultProps={shown:false};var r=function r(){__p&&__p();this.$MNCommerceCheckoutOrderConfigDialog1=function(s){var t=s||this.props,u=t.checkoutOrderConfig;if(!u)return{};return{variantOptions:u.initialVariantOptions,variants:[]}}.bind(this);this.$MNCommerceCheckoutOrderConfigDialog9=function(s,t){__p&&__p();var u=this.props.checkoutOrderConfig;if(!u)return null;var v=[],w=[],x=u.allVariantOptions[s][t];for(var y=0;y<u.variant_labels.length;y++)if(y===s){v.push(t);w.push(this.state.variantOptions[y])}else{var z=this.state.variants.filter(function(B){return B}),A=null;if(u.variant_labels.length<=2||z.length<2)A=x.get(y);else A=this.$MNCommerceCheckoutOrderConfigDialog10(s,t,y);w.push(A);v.push(this.state.variants[y])}return{variants:v,variantOptions:w}}.bind(this);this.$MNCommerceCheckoutOrderConfigDialog6=function(s){var t=this.props.checkoutOrderConfig;if(!t||this.state.variants.some(function(x){return!x}))return;var u=t.seller_id,v=this.state.variants.join(c("MNCommerceCheckoutOrderConfigUtils").DELIMITER),w=t.variantToItemID.get(v);this.props.onContinue(w,u,this.state.variants.join(" "+p+" "));this.props.onToggle(false)}.bind(this);this.$MNCommerceCheckoutOrderConfigDialog4=function(s){this.props.onToggle(false)}.bind(this);this.$MNCommerceCheckoutOrderConfigDialog12=function(s,t,u){var v=s.map(function(w,x){return c("React").createElement(c("MNCommerceCheckoutButton.react"),{key:x,disabled:w.available===false,use:"default",value:w.label},w.label)});return c("React").createElement(c("XUIRadioButtonGroup.react"),{onValueChange:t,selectedValue:u,selectedUse:"confirm"},v)}};f.exports=q}),null);
__d("XMNCommerceCheckoutOrderConfigController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messages/commerce/checkout_order_config/",{item_id:{type:"String",required:true},owner_id:{type:"String",required:true}})}),null);
__d("MNCommerceOrderConfigDataManager",["AsyncRequest","MNCommerceOrderConfigActions","XMNCommerceCheckoutOrderConfigController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.fetchItem=function(i,j){var k=c("XMNCommerceCheckoutOrderConfigController").getURIBuilder().setString("item_id",i).setString("owner_id",j).getURI();new(c("AsyncRequest"))().setURI(k).setHandler(this.$MNCommerceOrderConfigDataManager1).setErrorHandler(this.$MNCommerceOrderConfigDataManager2).send()};h.prototype.$MNCommerceOrderConfigDataManager1=function(i){c("MNCommerceOrderConfigActions").itemLoaded(i.payload)};h.prototype.$MNCommerceOrderConfigDataManager2=function(i){var j=i.getRequest().uri.getQueryData(),k=j.item_id;c("MNCommerceOrderConfigActions").itemLoadError(k)};function h(){}f.exports=new h()}),null);
__d("MNCommerceOrderConfigStore",["Cache","FluxStore","LoadObject","MessengerDispatcher","MNCommerceActionTypes","MNCommerceCacheTimeoutLimits","MNCommerceCheckoutOrderConfigUtils","MNCommerceOrderConfigDataManager"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("MessengerDispatcher"));this.$MNCommerceOrderConfigStore1=new(c("Cache"))()}j.prototype.__onDispatch=function(k){__p&&__p();var l=k.type,m=k.item?k.item.id:k.itemID;switch(l){case c("MNCommerceActionTypes").RETAIL_ITEM.LOADED:var n=k.item;n=c("MNCommerceCheckoutOrderConfigUtils").addVariantOptions(n);this.$MNCommerceOrderConfigStore1.set(m,c("LoadObject").empty().setValue(n),null,c("MNCommerceCacheTimeoutLimits").SUCCESS_TIMEOUT);this.__emitChange();break;case c("MNCommerceActionTypes").RETAIL_ITEM.LOAD_ERROR:this.$MNCommerceOrderConfigStore1.set(m,c("LoadObject").empty().setError(new Error("Unable to load item: "+m)),null,c("MNCommerceCacheTimeoutLimits").ERROR_TIMEOUT);this.__emitChange();break;case c("MNCommerceActionTypes").RETAIL_ITEM.RELOAD:if(m){this.$MNCommerceOrderConfigStore1.set(m,c("LoadObject").loading());c("MNCommerceOrderConfigDataManager").fetchItem(m)}this.__emitChange();break}};j.prototype.getItem=function(k,l){if(k&&!this.$MNCommerceOrderConfigStore1.has(k)){this.$MNCommerceOrderConfigStore1.set(k,c("LoadObject").loading().setValue({itemID:k}));c("MNCommerceOrderConfigDataManager").fetchItem(k,l)}return this.$MNCommerceOrderConfigStore1.get(k)||c("LoadObject").empty()};f.exports=new j()}),null);
__d("MNCommerceCheckoutOrderConfigDialogContainer.react",["BanzaiLogger","MNCommerceDialogStateActions","MNCommerceDialogStateStore","MNCommerceLoggingConstants","MNCommerceLoggerEvents","MNCommerceCheckoutOrderConfigDialog.react","MNCommerceOrderConfigActions","MNCommerceOrderConfigStore","PureStoreBasedStateMixin","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").createClass({displayName:"MNCommerceCheckoutOrderConfigDialogContainer",mixins:[c("PureStoreBasedStateMixin")(c("MNCommerceOrderConfigStore"))],statics:{calculateState:function i(){__p&&__p();var j=c("MNCommerceDialogStateStore").getState(),k=null,l=null,m=null;if(j){k=j.itemID;l=j.ownerID;m=j.onContinue}var n=c("MNCommerceOrderConfigStore").getItem(k,l);if(!n.isLoading())c("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:n.hasError()?c("MNCommerceLoggerEvents").DIALOG_LOAD_ERROR:c("MNCommerceLoggerEvents").DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c("MNCommerceLoggingConstants").DIALOG_SURFACE.CHECKOUT_ORDER_CONFIG,item_id:k})});return{shown:!!j,loading:n.isLoading(),itemID:k,checkoutOrderConfig:n.getValue(),onContinue:m,error:n.getError()}}},render:function i(){return c("React").createElement(c("MNCommerceCheckoutOrderConfigDialog.react"),{error:this.state.error,checkoutOrderConfig:this.state.loading?null:this.state.checkoutOrderConfig,loading:this.state.loading,onContinue:this.state.onContinue,onToggle:this._onToggle,onTryAgain:this._onTryAgainClick,shown:this.state.shown})},_onToggle:function i(j){if(!j){c("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:c("MNCommerceLoggerEvents").DIALOG_CLOSED,debug_data:JSON.stringify({dialog_surface:c("MNCommerceLoggingConstants").DIALOG_SURFACE.CHECKOUT_ORDER_CONFIG,item_id:this.state.itemID})});c("MNCommerceDialogStateActions").hideDialog()}},_onTryAgainClick:function i(){c("MNCommerceOrderConfigActions").itemReload(this.state.itemID)}});f.exports=h}),null);
__d("FBPaymentsSerializableCheckoutConfigurationParser",["FBPaymentsContentConfigurationParser"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={parse:function i(j){var k=JSON.parse(j);return this._parseCheckoutConfiguration(k.checkout_configuration)},_parseCheckoutConfiguration:function i(j){var k={version:j.version,paymentInfo:this._parsePaymentInfo(j.payment_info),contentConfiguration:c("FBPaymentsContentConfigurationParser").parse(j.version,j.content_configuration),orderStatusModel:this._parseOrderStatusModel(j.order_status_model)};return k},_parsePaymentInfo:function i(j){var k={paymentItemType:j.payment_item_type,receiverId:j.receiver_id,orderId:j.order_id,action:j.action,extraData:j.extra_data};return k},_parseOrderStatusModel:function i(j){var k={type:j.type};return k}};f.exports=h}),null);
__d("MNCommercePromotionReactShapes",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.arrayOf(h.shape({action_link:h.string,title:h.string})),j={CallToActions:i,RetailItem:h.shape({call_to_actions:i,id:h.string,metalines:h.shape({metaline_1:h.string,metaline_2:h.string,metaline_3:h.string}),name:h.string,url:h.string,source:h.string})};f.exports=j}),null);
__d("MessengerPlatformGenericItemMercuryAttachment.react",["cx","fbt","invariant","AsyncDialog","AsyncRequest","Banzai","Bootloader","BrowserExtensionsDialog","CurrentUser","MessengerEnvironment","FBConfirmDialog.react","FBPaymentsCheckoutFlowContainer.react","FBPaymentsSerializableCheckoutConfigurationParser","Image.react","Link.react","LazyComponent.react","LoadOnRender.react","MercuryIDs","MercuryShareAttachmentRenderLocations","MessageShareType","MessagingForwardAttachmentDialog.react","MessengerAdsWebTypedLogger","messengerForwardAttachmentDialogReact","MessengerPlatformBubbleAspectRatio","MessengerVideoPlayer.react","MNAdsLoggerEventEnum","MNCommerceCallToActionHandlerMap","MNCommerceCallToActionType","MNCommerceCTAProcessor","MNCommerceBubbleImage.react","MNCommerceMessageType","MNCommercePostbackCTADataManager","MNCommercePromotionReactShapes","MNContentSubscriptionMessageUserEngagementTypedLogger","bs_pervasives","React","Tooltip","URI","idx","joinClasses","nullthrows"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("messengerForwardAttachmentDialogReact").jsComponent,n=c("React").PropTypes,o=function o(r){c("Bootloader").loadModules(["messengerPreviewDialogReact"],function(s){var t=s.jsComponent;return r(t)},"MessengerPlatformGenericItemMercuryAttachment.react")};function p(r){if(r!==undefined){var s=r.match(/\d+/);if(s!==undefined&&s!==null)return s[0]}return null}k=babelHelpers.inherits(q,c("React").PureComponent);l=k&&k.prototype;function q(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.state={showDialog:false,showShare:false,showPaymentCheckoutDialog:false},this.$MessengerPlatformGenericItemMercuryAttachment19=function(){this.setState({showShare:true})}.bind(this),this.$MessengerPlatformGenericItemMercuryAttachment18=function(){this.setState({showShare:false})}.bind(this),this.$MessengerPlatformGenericItemMercuryAttachment17=function(){this.setState({showPaymentCheckoutDialog:true})}.bind(this),this.$MessengerPlatformGenericItemMercuryAttachment20=function(){this.setState({showPaymentCheckoutDialog:false})}.bind(this),this.onConfirm=function(){this.setState({showDialog:true})}.bind(this),this.onCancel=function(){this.setState({showDialog:false})}.bind(this),s}q.prototype.render=function(){var r={},s=this.props.location===c("MercuryShareAttachmentRenderLocations").CHAT;if(s&&this.props.width)r.width=this.props.width;if(this.props.isButtonList)return c("React").createElement("div",{className:"_3cn0",style:r},c("React").createElement("div",{className:(s?"_4id8":"")+(!s?" _4ida":"")},this.$MessengerPlatformGenericItemMercuryAttachment1()));return c("React").createElement("div",{className:"_3cn0",style:r},this.$MessengerPlatformGenericItemMercuryAttachment2(),c("React").createElement("div",{className:(s?"_4id8":"")+(!s?" _4ida":"")},this.$MessengerPlatformGenericItemMercuryAttachment3(),this.$MessengerPlatformGenericItemMercuryAttachment1()))};q.prototype.$MessengerPlatformGenericItemMercuryAttachment2=function(){if(this.props.isMediaAttachment)return this.$MessengerPlatformGenericItemMercuryAttachment4();else return this.$MessengerPlatformGenericItemMercuryAttachment5()};q.prototype.$MessengerPlatformGenericItemMercuryAttachment4=function(){__p&&__p();var r,s,t=this.props.retailItem;if(!t)return null;var u=(r=t)!=null?(r=r.media_blob_attachments)!=null?(r=r[0])!=null?(r=r.large_preview)!=null?r.uri:r:r:r:r;if(u)return c("React").createElement(c("Image.react"),{className:"_4idc",src:u});var v=(s=t)!=null?(s=s.media_blob_attachments)!=null?(s=s[0])!=null?s.playable_url:s:s:s;if(v){var w,x=c("nullthrows")((w=t)!=null?(w=w.media_blob_attachments)!=null?w[0]:w:w),y=x.legacy_attachment_id?x.legacy_attachment_id:x.id,z={};z.legacy_attachment_id=y;if(x.__typename==="MessageVideo")z.original_dimensions=this.$MessengerPlatformGenericItemMercuryAttachment6({width:x.original_dimensions.x,height:x.original_dimensions.y});else{z.original_dimensions=this.$MessengerPlatformGenericItemMercuryAttachment6({width:x.width,height:x.height});z.is_share=true}z.start_muted=true;z.no_fullscreen=false;z.hide_controls_on_finish=true;z.url=x.playable_url;return c("React").createElement(c("MessengerVideoPlayer.react"),{attachment:x,videoData:z,isInThread:true,isVisible:true,className:"_n4o _3_om _1wno"})}return null};q.prototype.$MessengerPlatformGenericItemMercuryAttachment6=function(r){var s=c("bs_pervasives").max(r.width,r.height),t=+(window.screen.width>1800),u=t!==0?640:450;if(s<=u)return{x:r.width,y:r.height};else{var v=u/s;return{x:Math.round(r.width*v),y:Math.round(r.height*v)}}};q.prototype.$MessengerPlatformGenericItemMercuryAttachment5=function(){__p&&__p();var r,s=this.props,t=s.isSubattachment,u=s.retailItem;if(!u)return null;var v=u.thumb_url?u.thumb_url:(r=u)!=null?(r=r.media_blob_attachments)!=null?(r=r[0])!=null?(r=r.image)!=null?r.uri:r:r:r:r;if(!v)return null;var w=c("React").createElement(c("MNCommerceBubbleImage.react"),{className:(!t?"_3_om":"")+(!t?" _4j39":""),location:this.props.location,source:v,width:this.props.width,isSquare:u.image_aspect_ratio===c("MessengerPlatformBubbleAspectRatio").IMAGE_ASPECT_RATIO_SQUARE}),x=null,y=u.default_action;if(y){var z,A=(z=y)!=null?(z=z.webview_metadata)!=null?z.messenger_extensions:z:z;if(A)x=c("React").createElement(c("Link.react"),{onClick:function(){this.$MessengerPlatformGenericItemMercuryAttachment7();this.$MessengerPlatformGenericItemMercuryAttachment8(y)}.bind(this)},w);else x=c("React").createElement(c("Link.react"),{href:y.action_link,onClick:function(){this.$MessengerPlatformGenericItemMercuryAttachment7()}.bind(this),target:"_blank"},w)}else x=w;var B=c("React").createElement("div",{className:"_3cn2",key:"image"},x);return B};q.prototype.$MessengerPlatformGenericItemMercuryAttachment7=function(){if(this.props.mnMessageType==c("MNCommerceMessageType").CONTENT_SUBSCRIPTION){var r=p(this.props.pageID),s=this.props.retailItem&&this.props.retailItem.id;new(c("MNContentSubscriptionMessageUserEngagementTypedLogger"))().setPageID(r).setMessageID(this.props.messageID).setCommerceItemID(s).setName("mn_platform_msg_click").log();c("Banzai").post("mn_platform_message_click_setsuna",{page_id:r,item_id:s})}};q.prototype.$MessengerPlatformGenericItemMercuryAttachment3=function(){var r=this.props.retailItem;if(!r||!r.name)return null;return c("React").createElement("div",{className:"_3cne"},c("React").createElement("div",{className:"_3cnf"},c("React").createElement("div",{className:"_3cng"},c("React").createElement("div",{className:"_3cnh"},this.props.longestName),c("React").createElement("div",{className:this.props.longestName?"_3cni":""},r.name)),this.$MessengerPlatformGenericItemMercuryAttachment9(),this.$MessengerPlatformGenericItemMercuryAttachment10()))};q.prototype.$MessengerPlatformGenericItemMercuryAttachment11=function(){if(this.props.isSponsored)return null;return c("React").createElement("div",{className:"_3cnj"},c("React").createElement("span",{className:"_3cnk"}),this.$MessengerPlatformGenericItemMercuryAttachment12())};q.prototype.$MessengerPlatformGenericItemMercuryAttachment12=function(){var r=this.props.label;if(r===0)return i._("Promoted");else if(r===1)return i._("Sponsored");return null};q.prototype.$MessengerPlatformGenericItemMercuryAttachment9=function(){var r=this.props.retailItem&&this.props.retailItem.metalines;if(!r)return null;r=Object.keys(r).filter(function(s){return r&&r[s]}).map(function(s,t){var u=r&&r[s];return c("React").createElement("div",{className:"_3cnl",key:s},c("React").createElement("div",{className:"_3cnh"},this.props.longestMetaline),c("React").createElement("div",{className:this.props.longestMetaline?"_3cni":""},u))}.bind(this));return r};q.prototype.$MessengerPlatformGenericItemMercuryAttachment10=function(){__p&&__p();var r=this.props.retailItem&&this.props.retailItem.item_url;if(!this.props.isSponsored&&r){var s=document.createElement("a");s.href=r;var t=s.hostname;if(this.props.retailItem&&this.props.retailItem.source)t=this.props.retailItem.source;return c("React").createElement("div",{className:"_3cnn"},c("React").createElement("a",{href:r,target:"_blank"},t))}else return null};q.prototype.$MessengerPlatformGenericItemMercuryAttachment1=function(){__p&&__p();var r=this.props.retailItem,s=this.props.callToActions,t=this.props.threadID;if(!s||!s.length)return null;var u=function u(C,D){var E=i._("The feature has been disabled.");return w(C,D,E)},v=function v(C,D){var E=i._("To use this feature, use the Messenger app.");return w(C,D,E)},w=function w(C,D,E){return c("React").createElement("div",babelHelpers["extends"]({className:c("joinClasses")(D,"_3cno"),"data-tooltip-alignh":"center","data-tooltip-position":"above",key:C.title},c("Tooltip").propsFor(E)),C.translated_title||C.title)},x=function(C,D){return c("React").createElement("div",{key:C.id},c("React").createElement(c("Link.react"),{className:D,onClick:function(){this.$MessengerPlatformGenericItemMercuryAttachment8(C)}.bind(this)},C.title))}.bind(this);s=s.filter(function(C){return C.action_link}).map(function(C,D){__p&&__p();var E,F="_3cnp"+(D===0&&!r?" _3cnq":"");if(C.is_disabled)return u(C,F);switch(C.action_type){case c("MNCommerceCallToActionType").POSTBACK:var G=function(S){this.onCancel();this.$MessengerPlatformGenericItemMercuryAttachment13(C.id);if(C.is_mutable_by_server)c("MNCommercePostbackCTADataManager").send(C.id,null,null,this.props.messageID);else c("MNCommercePostbackCTADataManager").sendAndConfirm(C.id,C.title,t,null,null,null,[],this.props.messageID)}.bind(this),H=null;if(this.state.showDialog&&C.should_show_user_confirmation)H=c("React").createElement(c("FBConfirmDialog.react"),{title:C.confirmation_title,shown:true,onConfirm:G,onCancel:this.onCancel,confirmButtonText:C.confirmation_continue_label,cancelButtonText:C.confirmation_cancel_label,content:C.confirmation_message});var I=C.should_show_user_confirmation?this.onConfirm:G;return c("React").createElement("div",{key:D},c("React").createElement(c("Link.react"),{className:F,onClick:I},C.translated_title||C.title),H);case c("MNCommerceCallToActionType").OPEN_URL:return c("MNCommerceCallToActionHandlerMap").getHandler(C.action_link).setFallbackOnClick(this.$MessengerPlatformGenericItemMercuryAttachment14.bind(this,C.id)).setThreadID(t).renderForWebLink(C,F);case c("MNCommerceCallToActionType").OPEN_CANCEL_RIDE_MUTATION:return v(C,F);case c("MNCommerceCallToActionType").OPEN_NATIVE:var J=(E=C)!=null?(E=E.webview_metadata)!=null?E.messenger_extensions:E:E;if(J)return x(C,F);return c("MNCommerceCallToActionHandlerMap").getHandler(C.action_link).setFallbackOnClick(this.$MessengerPlatformGenericItemMercuryAttachment14.bind(this,C.id)).setThreadID(t).renderForNativeLink(C,F);case c("MNCommerceCallToActionType").PAYMENT:var K="_idv",L="_idw";return c("React").createElement("div",{key:D},this.$MessengerPlatformGenericItemMercuryAttachment15(C),c("React").createElement(c("Link.react"),{className:F,onClick:function(){this.$MessengerPlatformGenericItemMercuryAttachment16(C);this.$MessengerPlatformGenericItemMercuryAttachment17()}.bind(this)},c("React").createElement("div",{className:K},C.payment_metadata.total_price),c("React").createElement("div",{className:L},C.translated_title||C.title)));case c("MNCommerceCallToActionType").SHARE:var M=c("MessengerEnvironment").messengerui?m:c("MessagingForwardAttachmentDialog.react"),N=i._("Share in Separate messages"),O=c("React").createElement(M,{attachmentID:C.id,messageID:this.props.messageID,onClose:this.$MessengerPlatformGenericItemMercuryAttachment18,shown:this.state.showShare,title:N,shareType:c("MessageShareType").PLATFORM_SHARE_CTA});return c("React").createElement("div",{key:D},c("React").createElement(c("Link.react"),{className:F,onClick:this.$MessengerPlatformGenericItemMercuryAttachment19},C.title),O);case c("MNCommerceCallToActionType").EXTENSIBLE_SHARE:var P=i._("Share in Separate messages");return c("React").createElement("div",{key:D},c("React").createElement(c("Link.react"),{className:F,onClick:this.$MessengerPlatformGenericItemMercuryAttachment19},C.title),c("React").createElement(c("LoadOnRender.react"),{key:"dialog",component:c("React").createElement(c("LazyComponent.react"),{attachmentID:C.id,image_url:C.action_objects[0].image_url,messageID:this.props.messageID,onClose:this.$MessengerPlatformGenericItemMercuryAttachment18,pageID:this.props.pageID,preview_title:C.action_objects[0].preview_title,preview_subtitle:C.action_objects[0].preview_subtitle,shown:this.state.showShare,target_display:C.action_objects[0].target_display,title:P,threadID:this.props.threadID}),loader:o,placeholder:c("React").createElement("span",null)}));case c("MNCommerceCallToActionType").ACCOUNT_LINK:var Q=function(S){c("MNCommerceCTAProcessor").process(C.id,this.props.messageID)}.bind(this);return c("React").createElement(c("Link.react"),{className:F,key:D,onClick:Q},C.translated_title||C.title);case c("MNCommerceCallToActionType").FACEBOOK_REPORT_A_PROBLEM:var R=function R(S){c("AsyncDialog").send(new(c("AsyncRequest"))("/ajax/bugs/report"))};return c("React").createElement(c("Link.react"),{className:F,key:D,onClick:R},C.translated_title||C.title);default:return v(C,F)}}.bind(this));var y=this.props.longestCTAs,z=[];if(y&&y>s.length){for(var A=0;A<y-s.length;A++)z.push(c("React").createElement("div",{className:"_3cnh _3cnp",key:"placeholder"+A},"CTA placeHolder"));var B=z.concat(s);return c("React").createElement("div",{className:"_3cnr"},B)}return c("React").createElement("div",{className:"_3cnr"},s)};q.prototype.$MessengerPlatformGenericItemMercuryAttachment14=function(r,event){this.$MessengerPlatformGenericItemMercuryAttachment13(r)};q.prototype.$MessengerPlatformGenericItemMercuryAttachment13=function(r){if(this.props.isSponsored)new(c("MessengerAdsWebTypedLogger"))().setActionID(r).setEvent(c("MNAdsLoggerEventEnum").LINK_CLICK_CTA).setIsSponsored(this.props.isSponsored).setItemID(this.props.retailItem&&this.props.retailItem.id).setMessageID(this.props.messageID).setPageID(this.props.pageID).log()};q.prototype.$MessengerPlatformGenericItemMercuryAttachment15=function(r){if(this.state.showPaymentCheckoutDialog){var s=c("FBPaymentsSerializableCheckoutConfigurationParser").parse(this.$MessengerPlatformGenericItemMercuryAttachment21(r.payment_metadata.payment_module_config)),t=s.contentConfiguration.confirmationConfiguration||{};s.contentConfiguration.confirmationConfiguration=t;return c("React").createElement(c("FBPaymentsCheckoutFlowContainer.react"),{configuration:s,onCheckoutClosed:this.$MessengerPlatformGenericItemMercuryAttachment20,onConfirmationClosed:this.$MessengerPlatformGenericItemMercuryAttachment20})}return null};q.prototype.$MessengerPlatformGenericItemMercuryAttachment21=function(r){var s="";try{s=JSON.parse(r)}catch(t){return r}if(s.checkout_configuration&&s.checkout_configuration.payment_info&&s.checkout_configuration.payment_info.extra_data)s.checkout_configuration.payment_info.extra_data.message_id=this.props.messageID;return JSON.stringify(s)};q.prototype.$MessengerPlatformGenericItemMercuryAttachment8=function(r){c("BrowserExtensionsDialog").show(new(c("URI"))(r.action_link),c("MercuryIDs").getThreadFBIDFromThreadID(this.props.pageID),c("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID),c("CurrentUser").getID());this.$MessengerPlatformGenericItemMercuryAttachment16(r)};q.prototype.$MessengerPlatformGenericItemMercuryAttachment16=function(r){c("MNCommerceCTAProcessor").postHandle(r.id,this.props.messageID)};q.propTypes={callToActions:c("MNCommercePromotionReactShapes").CallToActions,isMediaAttachment:n.bool,isSponsored:n.bool,isSubattachment:n.bool,label:n.number,logo:n.object,location:n.oneOf(c("MercuryShareAttachmentRenderLocations").getValues()),longestCTAs:n.number,longestMetaline:n.string,longestName:n.string,messageID:n.string,mnMessageType:n.string,pageID:n.string,retailItem:c("MNCommercePromotionReactShapes").RetailItem,url:n.string,width:n.number,threadID:n.string};f.exports=q}),null);
__d("P2PAddressStore",["P2PActionConstants","EventEmitter","ImmutableObject","P2PAPI","P2PDispatcher","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").List,k=j(),l=false,m=false,n={},o=void 0,p=null,q=false;function r(u,v){if(u)n[u]=new(c("ImmutableObject"))(v)}function s(u,v){p=v;if(u)n[u]={error:v}}h=babelHelpers.inherits(t,c("EventEmitter"));i=h&&h.prototype;function t(){i.constructor.call(this);l=false;m=false;k=j();n={};o=c("P2PDispatcher").register(this.onEventDispatched.bind(this))}t.prototype.onEventDispatched=function(u){__p&&__p();var v=u.data,w=u.type;switch(w){case c("P2PActionConstants").ADDRESS_SAVING:this.handleAddressSaving(v);this.emit("change");break;case c("P2PActionConstants").ADDRESSES_UPDATED:this.handleAddressesUpdated(v);this.emit("change");break;case c("P2PActionConstants").ADDRESS_ADDED:this.handleAddressAdded(v);this.emit("change");break;case c("P2PActionConstants").ADDRESS_ADDED_ERROR:this.handleAddressAddedError(v);this.emit("change");break;case c("P2PActionConstants").ADDRESS_ADDED_ERROR_CLEARED:this.handleAddressAddedErrorCleared();this.emit("change");break}};t.prototype.getAsyncRequestState=function(){return n};t.prototype.isAddressesFetchComplete=function(){return l};t.prototype.handleAddressSaving=function(){q=true;p=null};t.prototype.handleAddressesUpdated=function(u){l=true;u=u.map(function(v){return new(c("ImmutableObject"))(v)});k=j(u)};t.prototype.handleAddressAdded=function(u){q=false;r(u.requestID,u);if(!this.getAddressByID(u.id))k=k.push(new(c("ImmutableObject"))(u))};t.prototype.handleAddressAddedError=function(u){q=false;s(u.requestID,u.errors)};t.prototype.handleAddressAddedErrorCleared=function(){p=null};t.prototype.getAll=function(u){if(!m){m=true;c("P2PAPI").getAddresses()}if(u)return k.filter(function(v){return v.isVerified});return k};t.prototype.getAddressByID=function(u){return k.find(function(v){return v.id===u})};t.prototype.getDispatchToken=function(){return o};t.prototype.getSaveErrors=function(){return p};t.prototype.isSaving=function(){return q};f.exports=new t()}),null);
__d("P2PAddressShape",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({label:h.string,care_of:h.string,city:h.string,id:h.string,state:h.string,street1:h.string,street2:h.string,zip:h.string});f.exports=i}),null);
__d("P2PAddressDetails.react",["P2PAddressShape","P2PText.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.address,l=[k.city,k.state],m=void 0,n=void 0,o=void 0,p={display:"block",type:"primary"},q=k.zip?" "+k.zip:"",r=k.country?" "+k.country:"";l=l.join(", ")+q+r;if(k.streeet2)m=c("React").createElement(c("P2PText.react"),p,k.street2);if(k.label)n=c("React").createElement(c("P2PText.react"),p,k.label);if(k.care_of)o=c("React").createElement(c("P2PText.react"),p,k.care_of);return c("React").createElement("div",null,n,o,c("React").createElement(c("P2PText.react"),p,k.street1),m,c("React").createElement(c("P2PText.react"),p,l))};function j(){h.apply(this,arguments)}j.propTypes={address:c("P2PAddressShape").isRequired};f.exports=j}),null);
__d("P2PAddressForm.react",["cx","fbt","FBPaymentsAddressLabelFormField_DEPRECATED.react","FBPaymentsForm_DEPRECATED.react","FBPaymentsFormField_DEPRECATED.react","FBPaymentsFormFieldUtils_DEPRECATED","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={formData:{},isValid:false},this.handleValidation=function(s,t){this.setState({formData:t,isValid:s});this.props.onValidation(s,t)}.bind(this),o}m.prototype.render=function(){var n=!!(this.props.prefilledFormData&&this.props.prefilledFormData.care_of);return c("React").createElement(c("FBPaymentsForm_DEPRECATED.react"),{errorTitle:i._("Problem Saving Address"),prefilledFormData:this.props.prefilledFormData,onValidation:this.handleValidation,saveErrors:this.props.saveErrors},c("React").createElement(c("FBPaymentsAddressLabelFormField_DEPRECATED.react"),{className:"_3-96",name:"label",ignoreStyling:true,required:true}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{name:"care_of",initiallyFocused:!n,placeholder:i._("Name"),required:true,width:100}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{name:"street1",initiallyFocused:n,placeholder:i._("Street"),required:true,width:100}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{name:"street2",placeholder:i._("Street 2"),width:100}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{name:"city",placeholder:i._("City"),required:true,width:50}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{formatValue:function o(p){p=c("FBPaymentsFormFieldUtils_DEPRECATED").stripNonAlpha(p);return p.toUpperCase()},limit:2,name:"state",placeholder:i._("State"),required:true,width:25}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{formatValue:c("FBPaymentsFormFieldUtils_DEPRECATED").stripNonDigits,limit:5,name:"zip",placeholder:i._("ZIP"),required:true,width:25}))};m.propTypes={onValidation:l.func.isRequired,prefilledFormData:l.object,saveErrors:l.object};m.defaultProps={editMode:false,prefilledFormData:{},saveErrors:null};f.exports=m}),null);
__d("P2PCheckoutConfigSection.react",["cx","fbt","LeftRight.react","Link.react","React","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.renderChangeLink=function(){if(this.props.showEditOptions||!this.props.hasOptions)return null;return c("React").createElement(c("Link.react"),{className:"_nb2",href:"#",onClick:this.props.onChangeClicked},i._("Change"))}.bind(this),this.renderContent=function(){var s=this.props,t=void 0,u=void 0;if(s.showEditOptions)t=this.renderSelector();else if(s.hasOptions)t=this.renderCurrentItem();if(s.showForm)u=this.renderForm();return c("React").createElement("div",null,t,u)}.bind(this),this.renderForm=function(){var s=void 0;if(!this.props.renderFormComponent)return null;if(this.props.renderFormFooterMessage)s=c("React").createElement("div",{className:"_nb4"},this.props.renderFormFooterMessage());return c("React").createElement("div",{className:"_nb3",key:"form"},this.props.renderFormComponent(),s)}.bind(this),this.renderSelector=function(){return c("React").createElement("div",{className:"_nb5",key:"selector"},this.props.renderSelectorComponent())}.bind(this),this.renderCurrentItem=function(){if(!this.props.renderSelectedRow)return null;return c("React").createElement("div",{className:"_nb6",key:"currentItem"},this.props.renderSelectedRow())}.bind(this),o}m.prototype.render=function(){return c("React").createElement("div",{className:"_nb7"},c("React").createElement(c("LeftRight.react"),{className:"_nb8"},c("React").createElement("div",{className:"_nb9"},this.props.title),this.renderChangeLink()),c("React").createElement("div",{className:"_nba"},this.renderContent()))};m.propTypes={onChangeClicked:l.func,hasOptions:l.bool,showEditOptions:l.bool,showForm:l.bool,renderFormComponent:l.func,renderFormFooterMessage:l.func,renderSelectedRow:l.func,renderSelectorComponent:l.func.isRequired,title:l.string.isRequired};m.defaultProps={onChangeClicked:c("emptyFunction"),renderFormFooterMessage:c("emptyFunction"),renderFormComponent:c("emptyFunction"),renderSelectedRow:c("emptyFunction")};f.exports=m}),null);
__d("P2PChooseAddressForm.react",["cx","fbt","immutable","P2PAddressShape","P2PAddressDetails.react","P2PText.react","React","XUIRadioList.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("immutable").List,m=c("XUIRadioList.react").Item,n=c("React").PropTypes,o="add_address";j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={selectedValue:this.props.selectedAddress.id},this.getselectedAddress=function(){return this.props.addresses.filter(function(v){return v.id===this.state.selectedValue}.bind(this)).first()}.bind(this),this.handleChange=function(v){__p&&__p();var w=void 0;if(v===o){this.props.onNewAddressOptionSelected();this.setState({selectedValue:v})}else{w=this.props.addresses.filter(function(w){return w.id===v}).first();this.setState({selectedValue:w.id});this.props.onChange(w)}}.bind(this),this.renderAddressItem=function(v){return c("React").createElement(m,{className:"_54sy",key:v.id,value:v.id},c("React").createElement(c("P2PAddressDetails.react"),{address:v}))},this.renderAddNewAddressItem=function(){return c("React").createElement(m,{className:"_54sy",key:o,value:o},c("React").createElement(c("P2PText.react"),{type:"primary"},i._("Add New Address")))},this.getRadioListItems=function(){var v=this.props.addresses,w=v.map(this.renderAddressItem).concat(this.renderAddNewAddressItem());return w}.bind(this),r}p.prototype.render=function(){return c("React").createElement(c("XUIRadioList.react"),{className:"_1ck2",onValueChange:this.handleChange,selectedValue:this.state.selectedValue},this.getRadioListItems())};p.propTypes={addresses:n.instanceOf(l),onChange:n.func.isRequired,onNewAddressOptionSelected:n.func.isRequired,selectedAddress:c("P2PAddressShape")};f.exports=p}),null);
__d("P2PAddressConfigSection.react",["fbt","MessengerEnvironment","FBPaymentsAddressForm_DEPRECATED.react","P2PAddressDetails.react","P2PAddressForm.react","P2PAddressShape","P2PCheckoutConfigSection.react","P2PChooseAddressForm.react","P2PText.react","React","immutable"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l="P2PAddressConfigSection_learnMoreSentenceID";i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.renderFormComponent=function(){var s=this.props;if(s.acceptInternational)return c("React").createElement(c("FBPaymentsAddressForm_DEPRECATED.react"),{onValidation:s.onValidation,prefilledFormData:{care_of:this.props.buyerName},saveErrors:s.saveErrors});return c("React").createElement(c("P2PAddressForm.react"),{onValidation:s.onValidation,prefilledFormData:{care_of:this.props.buyerName},saveErrors:s.saveErrors})}.bind(this),this.renderSelectedRow=function(){var s=this.props.selectedAddress;if(!s)return null;return c("React").createElement(c("P2PAddressDetails.react"),{address:s})}.bind(this),this.renderSelectorComponent=function(){var s=this.props;return c("React").createElement(c("P2PChooseAddressForm.react"),{addresses:s.addresses,onChange:this.props.onAddressSelected,onNewAddressOptionSelected:this.props.onNewAddressSelected,selectedAddress:s.selectedAddress})}.bind(this),this.renderFormFooterMessage=function(){return c("React").createElement(c("P2PText.react"),{id:l,type:"secondary"},h._("Your shipping address will be stored securely for future purchases on Facebook."))},this.getTitle=function(){if(c("MessengerEnvironment").messengerui)return h._("Shipping Address");return h._("SHIPPING ADDRESS")},o}m.prototype.render=function(){var n=this.props;return c("React").createElement(c("P2PCheckoutConfigSection.react"),{hasOptions:n.addresses.count()!==0,showEditOptions:n.showEditOptions,showForm:n.showForm,onChangeClicked:n.onChangeClicked,renderFormComponent:this.renderFormComponent,renderFormFooterMessage:this.renderFormFooterMessage,renderSelectedRow:this.renderSelectedRow,renderSelectorComponent:this.renderSelectorComponent,title:this.getTitle()})};m.propTypes={acceptInternational:k.bool,addresses:k.instanceOf(c("immutable").List).isRequired,buyerName:k.string,showEditOptions:k.bool,showForm:k.bool,onAddressSelected:k.func.isRequired,onChangeClicked:k.func.isRequired,onNewAddressSelected:k.func.isRequired,onValidation:k.func.isRequired,selectedAddress:c("P2PAddressShape"),saveErrors:k.object};f.exports=m}),null);
__d("P2PCreditCardConfigSection.react",["fbt","MessengerEnvironment","Link.react","MessengerPaymentProductType","P2PChooseCreditCardForm.react","P2PCreditCard","P2PCreditCardDetails.react","P2PCreditCardForm.react","P2PCheckoutConfigSection.react","P2PLinkConstants","P2PText.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l="P2PCreditCardConfigSection_learnMoreSentenceID";i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.renderFormComponent=function(){var s=this.props;return c("React").createElement(c("P2PCreditCardForm.react"),{onValidation:s.onValidation,saveErrors:s.saveErrors,productType:c("MessengerPaymentProductType").MESSENGER_COMMERCE})}.bind(this),this.renderSelectedRow=function(){var s=this.props.selectedCreditCard;if(!s)return null;return c("React").createElement(c("P2PCreditCardDetails.react"),{creditCard:s})}.bind(this),this.renderSelectorComponent=function(){var s=this.props;return c("React").createElement(c("P2PChooseCreditCardForm.react"),{addCardOptionText:h._("Add New Card"),creditCards:s.creditCards,onAddDebitCardOptionSelected:this.props.onNewCreditCardSelected,onChange:this.props.onCreditCardSelected,selectedCard:s.selectedCreditCard,showAddDebitCardOption:true})}.bind(this),this.renderFormFooterMessage=function(){return c("React").createElement(c("P2PText.react"),{id:l,type:"secondary"},h._("Your payment info is stored securely."),c("React").createElement("div",null,c("React").createElement(c("Link.react"),{"aria-describedby":l,href:c("P2PLinkConstants").addDebitCardHelpURI,target:"_blank"},h._("Learn More"))))},this.getTitle=function(){if(c("MessengerEnvironment").messengerui)return h._("Payment Information");return h._("PAYMENT INFORMATION")},o}m.prototype.render=function(){var n=this.props;return c("React").createElement(c("P2PCheckoutConfigSection.react"),{hasOptions:n.creditCards.length!==0,showEditOptions:n.showEditOptions,showForm:n.showForm,onChangeClicked:n.onChangeClicked,renderFormComponent:this.renderFormComponent,renderFormFooterMessage:this.renderFormFooterMessage,renderSelectedRow:this.renderSelectedRow,renderSelectorComponent:this.renderSelectorComponent,title:this.getTitle()})};m.propTypes={creditCards:k.arrayOf(k.instanceOf(c("P2PCreditCard"))).isRequired,showEditOptions:k.bool,showForm:k.bool,onCreditCardSelected:k.func.isRequired,onChangeClicked:k.func.isRequired,onNewCreditCardSelected:k.func.isRequired,onValidation:k.func.isRequired,selectedCreditCard:k.instanceOf(c("P2PCreditCard")),saveErrors:k.object};f.exports=m}),null);
__d("P2PPaymentMethodConfigSection.react",["fbt","MessengerEnvironment","P2PCheckoutConfigSection.react","P2PCreditCardDetails.react","P2PText.react","FBPaymentsChoosePaymentMethodForm_DEPRECATED.react","FBPaymentsPaymentMethodShape_DEPRECATED","FBPaymentsMethodType","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.renderFormComponent=function(){return c("React").createElement(c("FBPaymentsChoosePaymentMethodForm_DEPRECATED.react"),{onPaymentMethodConfigured:this.props.onPaymentMethodConfigured,onPaymentMethodSelected:this.props.onPaymentMethodSelected,paymentMethods:this.props.paymentMethods})}.bind(this),this.renderSelectedRow=function(){__p&&__p();var r=this.props.confirmedPaymentMethod;if(!r)return null;switch(r.type){case c("FBPaymentsMethodType").GENERIC_CARD:return c("React").createElement(c("P2PCreditCardDetails.react"),{creditCard:r.creditCard});case c("FBPaymentsMethodType").MANUAL_TRANSFER:return c("React").createElement(c("P2PText.react"),{type:"primary"},h._("Transfer at ATM or Bank"));case c("FBPaymentsMethodType").NET_BANKING:var s=r.bank.name;return c("React").createElement(c("P2PText.react"),{type:"primary"},h._("{bank_name} (Online Banking)",[h.param("bank_name",s)]));case c("FBPaymentsMethodType").PAY_OVER_COUNTER:return c("React").createElement(c("P2PText.react"),{type:"primary"},h._("Payment at Store Counter"));default:return c("React").createElement("div",null,r?r.toString():"")}}.bind(this),this.renderSelectorComponent=function(){return this.renderFormComponent()}.bind(this),n}l.prototype.getTitle=function(){if(c("MessengerEnvironment").messengerui)return h._("Payment Method");return h._("PAYMENT METHOD")};l.prototype.render=function(){var m=this.props;return c("React").createElement(c("P2PCheckoutConfigSection.react"),{hasOptions:!!m.confirmedPaymentMethod,showEditOptions:m.showEditOptions,showForm:m.showForm,onChangeClicked:m.onChangeClicked,renderFormComponent:this.renderFormComponent,renderSelectedRow:this.renderSelectedRow,renderSelectorComponent:this.renderSelectorComponent,title:this.getTitle()})};l.propTypes={confirmedPaymentMethod:k.shape(c("FBPaymentsPaymentMethodShape_DEPRECATED")),onChangeClicked:k.func.isRequired,onPaymentMethodConfigured:k.func.isRequired,onPaymentMethodSelected:k.func.isRequired,paymentMethods:k.arrayOf(c("FBPaymentsPaymentMethodShape_DEPRECATED")).isRequired,showEditOptions:k.bool,showForm:k.bool};f.exports=l}),null);
__d("P2PPlatformContextBannerShape",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({shouldShowToBuyer:h.bool,shouldShowToSeller:h.bool,shouldShowPayNux:h.bool});f.exports=i}),null);
__d("P2PPlatformContextShippingOptionShape",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({formattedShippingPrice:h.string,formattedSubtotal:h.string,formattedTax:h.string,formattedTotal:h.string,id:h.string,rawTotal:h.string,title:h.string});f.exports=i}),null);
__d("P2PPlatformContextShape",["P2PPlatformContextBannerShape","P2PPlatformContextProductItemShape","P2PPlatformContextShippingOptionShape","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({id:h.string,banner:c("P2PPlatformContextBannerShape"),buyerID:h.string,product:c("P2PPlatformContextProductItemShape"),sellerID:h.string,shippingOptions:h.arrayOf(c("P2PPlatformContextShippingOptionShape"))});f.exports=i}),null);
__d("P2PChooseShippingOptionForm.react",["cx","P2PPlatformContextShippingOptionShape","React","P2PText.react","XUIRadioList.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("XUIRadioList.react").Item,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={selectedValue:this.props.selectedShippingOption.id},this.handleChange=function(s){var t=this.props.shippingOptions.filter(function(t){return t.id===s})[0];this.setState({selectedValue:t.id});this.props.onChange(t)}.bind(this),this.renderShippingOptionItem=function(s){return c("React").createElement(k,{className:"_2i8o",key:s.id,value:s.id},c("React").createElement(c("P2PText.react"),{type:"primary"},s.title))},this.getRadioListItems=function(){return this.props.shippingOptions.map(this.renderShippingOptionItem)}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("XUIRadioList.react"),{className:"_2i8p",onValueChange:this.handleChange,selectedValue:this.state.selectedValue},this.getRadioListItems())};m.propTypes={shippingOptions:l.arrayOf(c("P2PPlatformContextShippingOptionShape")).isRequired,onChange:l.func.isRequired,selectedShippingOption:c("P2PPlatformContextShippingOptionShape")};f.exports=m}),null);
__d("P2PShippingOptionsConfigSection.react",["fbt","MessengerEnvironment","P2PChooseShippingOptionForm.react","P2PPlatformContextShippingOptionShape","P2PCheckoutConfigSection.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.renderSelectorComponent=function(){var r=this.props;return c("React").createElement(c("P2PChooseShippingOptionForm.react"),{shippingOptions:r.shippingOptions,onChange:this.props.onShippingOptionSelected,selectedShippingOption:r.selectedShippingOption})}.bind(this),this.getTitle=function(){if(c("MessengerEnvironment").messengerui)return h._("Shipping Options");return h._("SHIPPING OPTIONS")},n}l.prototype.render=function(){return c("React").createElement(c("P2PCheckoutConfigSection.react"),{hasOptions:true,showEditOptions:true,showForm:false,renderSelectorComponent:this.renderSelectorComponent,title:this.getTitle()})};l.propTypes={onShippingOptionSelected:k.func.isRequired,selectedShippingOption:c("P2PPlatformContextShippingOptionShape"),shippingOptions:k.arrayOf(c("P2PPlatformContextShippingOptionShape"))};f.exports=l}),null);
__d("P2PCheckoutDialog.react",["cx","csx","fbt","CommerceContactMerchantManualPaymentSection.react","MessengerEnvironment","CSS","DOMQuery","FBPaymentsLegalDisclaimer_DEPRECATED.react","FBPaymentsMethodType","P2PActions","P2PAddressConfigSection.react","P2PAddressShape","P2PButton.react","P2PCheckoutPriceDetails.react","P2PCreditCardConfigSection.react","P2PCreditCard","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PLoadingMask.react","P2PPaymentMethodConfigSection.react","P2PPlatformContextShape","P2PPlatformContextShippingOptionShape","P2PPlatformProductItemDetails.react","P2PShippingOptionsConfigSection.react","React","immutable"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("React").PropTypes,l=c("React").createClass({displayName:"P2PCheckoutDialog",propTypes:{acceptInternationalAddresses:k.bool,addresses:k.instanceOf(c("immutable").List).isRequired,addressFormData:k.object,addressFormValid:k.bool,addressSaveErrors:k.object,asyncPaymentDetails:k.object,buyer:k.object,configuredPaymentMethod:k.object,confirmedPaymentMethod:k.object,creditCardFormData:k.object,creditCardFormValid:k.bool,creditCardSaveErrors:k.object,creditCards:k.arrayOf(k.instanceOf(c("P2PCreditCard"))).isRequired,customCheckoutDetails:k.node,editingPaymentMethod:k.bool,paymentMethods:k.array,paymentProductType:k.string,initialDataLoaded:k.bool,onClose:k.func.isRequired,onCompleteManualPayment:k.func.isRequired,onConfirmSelectedPaymentMethod:k.func.isRequired,onPlaceOrder:k.func.isRequired,onSaveAddress:k.func.isRequired,onSaveCreditCard:k.func.isRequired,onSetAddress:k.func.isRequired,orderID:k.string,platformContext:c("P2PPlatformContextShape"),receiptAttached:k.bool,saving:k.bool,selectedAddress:c("P2PAddressShape"),selectedCreditCard:k.instanceOf(c("P2PCreditCard")),selectedPaymentMethod:k.object,selectedShippingOption:c("P2PPlatformContextShippingOptionShape"),showAddressEditOptions:k.bool,showAsyncPaymentDetails:k.bool,showCreditCardEditOptions:k.bool,showPaymentMethodEditOptions:k.bool,showAddressForm:k.bool,showCreditCardForm:k.bool,showPaymentMethodForm:k.bool,showTaxField:k.bool,shippingOptions:k.arrayOf(c("P2PPlatformContextShippingOptionShape")),usePaymentMethods:k.bool},_toggledCreditCard:null,_toggledAddress:null,handleToggle:function m(n){if(!n)this.props.onClose();this.cleanup()},handleCloseDialog:function m(){this.props.onClose();this.cleanup()},componentDidMount:function m(){setTimeout(function(){if(this.isMounted()){var n=c("DOMQuery").find(document,"div._ugr");if(n)c("CSS").addClass(n,"_225w")}}.bind(this),200)},getProductFromPlatformContext:function m(){var n=this.props.platformContext;return n?n.product:null},renderPriceDetails:function m(){__p&&__p();var n=this.getProductFromPlatformContext(),o=this.props.selectedShippingOption,p=void 0,q=void 0,r=void 0,s=void 0;if(n){p=n.formattedAmount;s=p}if(o){p=o.formattedSubtotal;r=o.formattedShippingPrice;q=o.formattedTax;s=o.formattedTotal}return c("React").createElement(c("P2PCheckoutPriceDetails.react"),{shipping:r,subtotal:p,tax:q,total:s,showShippingField:!this.props.showAsyncPaymentDetails,showSubtotalField:!this.props.showAsyncPaymentDetails,showTaxField:this.props.showTaxField&&!this.props.showAsyncPaymentDetails})},renderItemSection:function m(){var n=this.getProductFromPlatformContext();if(!n)return null;var o=void 0;if(this.props.customCheckoutDetails)o=c("React").createElement("div",{className:"_145w"},this.props.customCheckoutDetails);return c("React").createElement("div",null,c("React").createElement("div",{className:"_4oyy"},c("React").createElement(c("P2PPlatformProductItemDetails.react"),{configSelections:this.props.configSelections,item:n,size:"medium"})),o,c("React").createElement("div",{className:"_4oz5"},this.renderPriceDetails()))},renderRightPanel:function m(){var n=!this.props.showAsyncPaymentDetails;return c("React").createElement("div",{className:(n?"_4oz9":"")+(!n?" _334":"")},n?this.renderConfigSection():this.renderAsyncPaymentDetailsSection(),this.renderDialogFooter())},renderConfigSection:function m(){__p&&__p();if(!this.props.initialDataLoaded)return null;var n=void 0,o=c("React").createElement("div",{className:"_4gf2",key:"addressConigSection"},c("React").createElement(c("P2PAddressConfigSection.react"),{acceptInternational:this.props.acceptInternationalAddresses,addresses:this.props.addresses,buyerName:this.props.buyer&&this.props.buyer.name,onAddressSelected:this.handleAddressSelected,onChangeClicked:this.handleAddressChangeClicked,onNewAddressSelected:this.handleNewAddressSelected,onValidation:this.handleAddressFormValidation,saveErrors:this.props.addressSaveErrors,selectedAddress:this.props.selectedAddress,showEditOptions:this.props.showAddressEditOptions,showForm:this.props.showAddressForm})),p=this.props.usePaymentMethods?c("React").createElement("div",{className:"_4gf2",key:"paymentMethodConfigSection"},c("React").createElement(c("P2PPaymentMethodConfigSection.react"),{confirmedPaymentMethod:this.props.confirmedPaymentMethod,onPaymentMethodConfigured:this.handlePaymentMethodConfigured,onPaymentMethodSelected:this.handlePaymentMethodSelected,onChangeClicked:this.handlePaymentMethodChangeClicked,paymentMethods:this.props.paymentMethods,showEditOptions:this.props.showPaymentMethodEditOptions,showForm:this.props.showPaymentMethodForm})):c("React").createElement("div",{className:"_4gf2",key:"creditCardConfigSection"},c("React").createElement(c("P2PCreditCardConfigSection.react"),{creditCards:this.props.creditCards,onCreditCardSelected:this.handleCreditCardSelected,onChangeClicked:this.handleCreditCardChangeClicked,onNewCreditCardSelected:this.handleNewCreditCardSelected,onValidation:this.handleCreditCardFormValidation,saveErrors:this.props.creditCardSaveErrors,selectedCreditCard:this.props.selectedCreditCard,showEditOptions:this.props.showCreditCardEditOptions,showForm:this.props.showCreditCardForm}));if(this.props.shippingOptions&&this.props.shippingOptions.length&&this.props.selectedShippingOption)n=c("React").createElement("div",{className:"_4gf2",key:"shippingConfigSection"},c("React").createElement(c("P2PShippingOptionsConfigSection.react"),{onShippingOptionSelected:this.handleShippingOptionSelected,shippingOptions:this.props.shippingOptions,selectedShippingOption:this.props.selectedShippingOption}));if(this.props.showAddressEditOptions||this.props.showAddressForm){p=null;n=null}if(this.props.showPaymentMethodEditOptions||this.props.showCreditCardEditOptions){o=null;n=null}return c("React").createElement("div",null,o,n,p)},renderAsyncPaymentDetailsSection:function m(){var n=this.props.asyncPaymentDetails,o=this.props.orderID;if(!n||!o)return null;return c("React").createElement(c("CommerceContactMerchantManualPaymentSection.react"),{paymentOptionDetails:n,invoiceID:o,onReceiptUpdated:function p(q,r){c("P2PActions").checkoutManualPaymentReceiptUpdated({receiptFbid:q})}})},renderDialogFooter:function m(){__p&&__p();if(!this.props.initialDataLoaded)return null;var n=void 0,o=void 0,p=j._("Cancel"),q=j._("Continue"),r=void 0;if(c("MessengerEnvironment").messengerui)r=c("React").createElement(c("P2PButton.react"),{label:p,onClick:this.props.onClose});var s=this.props.editingPaymentMethod;if(s&&this.props.selectedPaymentMethod)switch(this.props.selectedPaymentMethod.type){case c("FBPaymentsMethodType").NEW_CREDIT_CARD:q=j._("Add Card");break;case c("FBPaymentsMethodType").NET_BANKING:q=j._("Confirm Bank");break}var t=this.props.showCreditCardEditOptions||s||this.props.showAddressEditOptions||this.props.showAddressForm;if(t)n=c("React").createElement("div",null,c("React").createElement(c("P2PButton.react"),{label:p,onClick:this.handleEditCancelClicked}),c("React").createElement(c("P2PButton.react"),{disabled:this.isSaveDisabled(),label:q,onClick:this.handleContinueClicked,use:"confirm"}));else if(this.props.showAsyncPaymentDetails)n=c("React").createElement("div",null,c("React").createElement(c("P2PButton.react"),{disabled:!this.props.receiptAttached,label:j._("Complete Purchase"),onClick:this.handleCompleteManualPaymentClicked,use:"confirm"}));else{o=this.getLegalDisclaimerSection();n=c("React").createElement("div",{className:"_35cu"},r,c("React").createElement(c("P2PButton.react"),{className:this.props.usePaymentMethods?"_35cv":"",disabled:this.isSaveDisabled(),label:this.getCheckoutButtonLabel(),onClick:this.handlePlaceOrderClicked,use:"confirm"}))}return c("React").createElement("div",{className:"_35cw"},c("React").createElement(c("P2PDialogFooter.react"),{className:"_ugq"+(t?" _35cx":"")},o,n))},isSaveDisabled:function m(){var n=this.props.configuredPaymentMethod&&this.props.configuredPaymentMethod.isValid&&this.isConfiguredPaymentMethodSelected();return!!this.props.showCreditCardForm&&!this.props.creditCardFormValid||!!this.props.editingPaymentMethod&&!n||!!this.props.showAddressForm&&!this.props.addressFormValid},isConfiguredPaymentMethodSelected:function m(){return!!this.props.configuredPaymentMethod&&!!this.props.selectedPaymentMethod&&this.props.configuredPaymentMethod.type===this.props.selectedPaymentMethod.type},getCheckoutButtonLabel:function m(){__p&&__p();if(!this.props.usePaymentMethods)return j._("Place Order");var n=this.props.confirmedPaymentMethod,o=j._("Complete Purchase");if(!n)return o;switch(n.type){case c("FBPaymentsMethodType").NET_BANKING:return j._("Log In and Pay");case c("FBPaymentsMethodType").GENERIC_CARD:return j._("Pay");case c("FBPaymentsMethodType").PAY_OVER_COUNTER:return j._("Continue to Pay");default:return o}},getLegalDisclaimerSection:function m(){if(!this.props.usePaymentMethods||!this.props.confirmedPaymentMethod)return null;return c("React").createElement("div",{className:"_35d1"},c("React").createElement(c("FBPaymentsLegalDisclaimer_DEPRECATED.react"),{paymentMethodType:this.props.confirmedPaymentMethod.type,paymentType:this.props.paymentProductType}))},handleShippingOptionSelected:function m(n){c("P2PActions").checkoutShippingOptionSelected(n.id)},handleCreditCardFormValidation:function m(n,o){c("P2PActions").checkoutCreditCardFormValidated(n,o)},handleCreditCardChangeClicked:function m(){c("P2PActions").checkoutCreditCardEditOptionsToggled(true)},handlePaymentMethodChangeClicked:function m(){c("P2PActions").checkoutPaymentMethodEditOptionsToggled(true)},handleCreditCardSelected:function m(n){this._toggledCreditCard=n;c("P2PActions").checkoutCreditCardFormToggled(false)},handleNewCreditCardSelected:function m(){c("P2PActions").addCreditCardErrorCleared();c("P2PActions").checkoutCreditCardFormToggled(true)},saveCreditCard:function m(){this.props.onSaveCreditCard()},handlePaymentMethodSelected:function m(n){c("P2PActions").checkoutPaymentMethodSelected(n)},handlePaymentMethodConfigured:function m(n){c("P2PActions").checkoutPaymentMethodConfigured(n)},handleAddressFormValidation:function m(n,o){c("P2PActions").checkoutAddressFormValidated(n,o)},handleAddressChangeClicked:function m(){c("P2PActions").checkoutAddressEditOptionsToggled(true)},handleAddressSelected:function m(n){this._toggledAddress=n;c("P2PActions").checkoutAddressFormToggled(false)},handleNewAddressSelected:function m(){c("P2PActions").addAddressErrorCleared();c("P2PActions").checkoutAddressFormToggled(true)},saveAddress:function m(){this.props.onSaveAddress()},handleEditCancelClicked:function m(){if(!this.props.addresses.count()||this.props.showPaymentMethodForm)this.props.onClose();this.cleanup()},cleanup:function m(){c("P2PActions").addCreditCardErrorCleared();c("P2PActions").addAddressErrorCleared();c("P2PActions").checkoutEditCompleted()},handleContinueClicked:function m(){__p&&__p();var n=this._toggledAddress;if(this.props.showCreditCardForm)this.saveCreditCard();else if(this.props.showAddressForm)this.saveAddress();else if(this.props.showCreditCardEditOptions)if(this._toggledCreditCard){c("P2PActions").checkoutCreditCardSelected(this._toggledCreditCard.getCredentialId());this._toggledCreditCard=null}else this.handleEditCancelClicked();else if(this.props.editingPaymentMethod){if(this.isConfiguredPaymentMethodSelected())this.props.onConfirmSelectedPaymentMethod()}else if(this.props.showAddressEditOptions)if(n){c("P2PActions").checkoutAddressSelected(n.id);if(this.props.platformContext)this.props.onSetAddress(n.id);this._toggledAddress=null}else this.handleEditCancelClicked()},handleCompleteManualPaymentClicked:function m(){this.props.onCompleteManualPayment()},handlePlaceOrderClicked:function m(){this.props.onPlaceOrder()},render:function m(){var n=void 0,o=c("MessengerEnvironment").messengerui,p=o?720:680;if(!o)n=c("React").createElement(c("P2PDialogTitle.react"),null,j._("Checkout"));return c("React").createElement(c("P2PDialog.react"),{className:"_ugr",hideOnEscape:true,layerHideOnBlur:o,onToggle:this.handleToggle,repositionOnUpdate:true,shown:true,width:p},n,c("React").createElement(c("P2PDialogBody.react"),{className:"_4oz6"+(this.props.initialDataLoaded?" _3t72":"")},c("React").createElement("div",{className:"_4oz7"},c("React").createElement("div",{className:"_4oz8"},this.renderItemSection()),this.renderRightPanel()),c("React").createElement(c("P2PLoadingMask.react"),{visible:!this.props.initialDataLoaded||this.props.saving})))}});f.exports=l}),null);
__d("P2PPaymentMethodStore",["P2PActionConstants","CreditCardFormParam","EventEmitter","FBPaymentsMethodType","Map","P2PCreditCard","P2PDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(){i.constructor.call(this);this.$P2PPaymentMethodStore1=c("P2PDispatcher").register(this.onEventDispatched.bind(this));this.$P2PPaymentMethodStore2=new(c("Map"))();this.$P2PPaymentMethodStore3=new(c("Map"))();this.$P2PPaymentMethodStore4=new(c("Map"))()}j.prototype.onEventDispatched=function(k){var l=k.data,m=k.type;switch(m){case c("P2PActionConstants").PAYMENT_METHODS_UPDATED:this.handlePaymentMethodsUpdated(l);this.emit("change");break;case c("P2PActionConstants").PAYMENT_METHODS_UPDATED_ERROR:this.handlePaymentMethodsUpdatedError(l);this.emit("change")}};j.prototype.handlePaymentMethodsUpdated=function(k){__p&&__p();var l=k.id,m=k.paymentMethodsData,n=m.available_payment_methods_details,o=m.existing_payment_methods;if(o){o=o.map(function(p){var q=p.data;q[c("CreditCardFormParam").CARD_NUMBER]=p.data.ccNumber;q[c("CreditCardFormParam").CREDENTIAL_ID]=p.id;return{creditCard:new(c("P2PCreditCard"))(q),type:c("FBPaymentsMethodType").GENERIC_CARD}});n=o.concat(n)}this.$P2PPaymentMethodStore3["delete"](l);this.$P2PPaymentMethodStore2.set(l,n);this.$P2PPaymentMethodStore4.set(l,o[0])};j.prototype.handlePaymentMethodsUpdatedError=function(k){this.$P2PPaymentMethodStore3.set(k.id,k.error)};j.prototype.getPreviousPaymentMethod=function(k){if(k&&this.$P2PPaymentMethodStore4.has(k))return this.$P2PPaymentMethodStore4.get(k);return null};j.prototype.getDispatchToken=function(){return this.$P2PPaymentMethodStore1};j.prototype.failedPaymentMethodsFetch=function(k){return this.$P2PPaymentMethodStore3.has(k)};j.prototype.getPaymentMethodsFetchError=function(k){return this.$P2PPaymentMethodStore3.get(k)};f.exports=new j()}),null);
__d("P2PCheckoutStore",["P2PActionConstants","CreditCardFormParam","EventEmitter","MessengerPaymentProductType","P2PAddressStore","P2PAPI","P2PCreditCardStore","P2PDispatcher","P2PPaymentMethodStore","P2PPlatformContextStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=null,k=null,l=false,m=false,n=false,o=false,p=false,q=false,r=false,s=null,t=false,u=null,v=false,w=null,x=null,y=false,z=null,A=null,B=null,C=null,D=null,E=false,F=null;h=babelHelpers.inherits(G,c("EventEmitter"));i=h&&h.prototype;function G(){i.constructor.call(this);this.$P2PCheckoutStore1=c("P2PDispatcher").register(this.onEventDispatched.bind(this))}G.prototype.getDispatchToken=function(){return this.$P2PCheckoutStore1};G.prototype.onEventDispatched=function(H){__p&&__p();var I=H.data,J=H.type;c("P2PDispatcher").waitFor([c("P2PAddressStore").getDispatchToken(),c("P2PCreditCardStore").getDispatchToken(),c("P2PPlatformContextStore").getDispatchToken()]);switch(J){case c("P2PActionConstants").CREDIT_CARD_UPDATED:case c("P2PActionConstants").CREDIT_CARD_VERIFIED:this.handleCreditCardUpdated(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_CART_INITIATED:this.handleCheckoutCartInitiated();this.emit("change");break;case c("P2PActionConstants").CHECKOUT_CART_CREATED:this.handleCheckoutCartCreated(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_ADDRESS_SELECTED:this.handleAddressSelected(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_SHIPPING_OPTION_SELECTED:this.handleShippingOptionSelected(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_CREDIT_CARD_SELECTED:this.handleCreditCardSelected(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_ADDRESS_FORM_TOGGLED:this.handleAddressFormToggled(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_CREDIT_CARD_FORM_TOGGLED:this.handleCreditCardFormToggled(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_ADDRESS_EDIT_OPTIONS_TOGGLED:this.handleAddressEditOptionsToggled(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_CREDIT_CARD_EDIT_OPTIONS_TOGGLED:this.handleCreditCardEditOptionsToggled(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_PAYMENT_METHOD_EDIT_OPTIONS_TOGGLED:this.handlePaymentMethodEditOptionsToggled(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_PAYMENT_METHOD_CONFIGURED:this.handlePaymentMethodConfigured(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_PAYMENT_METHOD_CONFIRMED:this.handlePaymentMethodConfirmed(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_PAYMENT_METHOD_SELECTED:this.handlePaymentMethodSelected(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_ADDRESS_FORM_VALIDATED:this.handleAddressFormValidated(I.isValid,I.formData);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_CREDIT_CARD_FORM_VALIDATED:this.handleCreditCardFormValidated(I.isValid,I.formData);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_EDIT_COMPLETED:this.handleCheckoutEditCompleted();this.emit("change");break;case c("P2PActionConstants").CHECKOUT_PROCESSING:this.handleCheckoutProcessing(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_BUYER_PROFILE_UPDATED:this.handleCheckoutBuyerProfileUpdated(I);this.emit("change");break;case c("P2PActionConstants").CHECKOUT_MANUAL_PAYMENT_RECEIPT_UPDATED:this.handleManualPaymentReceiptUpdated(I);this.emit("change");break}};G.prototype.handleCreditCardUpdated=function(H){var I=this.getSelectedCreditCard();if(I&&I.getCredentialId()===H[c("CreditCardFormParam").CREDENTIAL_ID])k=c("P2PCreditCardStore").getCreditCardByCredentialID(I.getCredentialId())};G.prototype.handleCheckoutCartInitiated=function(){w=null;D=null;B=null;j=null;x=null;F=null;E=false};G.prototype.handleCheckoutCartCreated=function(H){w=H.sellerID;D=H.invoiceID;E=!!H.acceptInternationalAddresses};G.prototype.handleCheckoutProcessing=function(H){v=H};G.prototype.handleAddressSelected=function(H){var I=c("P2PAddressStore").getAll(!E),J=I.find(function(J){return J.id===H});j=J;x=null;this.handleCheckoutEditCompleted()};G.prototype.handleShippingOptionSelected=function(H){var I=this.getPlatformContext(),J=I&&I.shipping&&I.shipping.shippingOptions,K=void 0;if(J)K=J.filter(function(K){return K.id===H})[0];x=K};G.prototype.handleCreditCardSelected=function(H){var I=c("P2PCreditCardStore").getAll(c("MessengerPaymentProductType").MESSENGER_COMMERCE),J=I.filter(function(J){return J.getCredentialId()===H})[0];k=J;this.handleCheckoutEditCompleted()};G.prototype.handleAddressFormToggled=function(H){l=H;this.handleAddressFormValidated(false,null)};G.prototype.handleCreditCardFormToggled=function(H){m=H;this.handleCreditCardFormValidated(false,null)};G.prototype.handlePaymentMethodFormToggled=function(H){n=H};G.prototype.handleAddressEditOptionsToggled=function(H){o=H};G.prototype.handleAddressFormValidated=function(H,I){r=H;s=I};G.prototype.handleCreditCardFormValidated=function(H,I){t=H;u=I};G.prototype.handleCheckoutEditCompleted=function(){__p&&__p();this.handleAddressFormValidated(false,null);this.handleAddressEditOptionsToggled(false);this.handleAddressFormToggled(false);this.handleCreditCardFormValidated(false,null);this.handleCreditCardEditOptionsToggled(false);this.handleCreditCardFormToggled(false);this.handlePaymentMethodSelected(null);this.handlePaymentMethodConfigured(null);this.handlePaymentMethodFormToggled(false);this.handlePaymentMethodEditOptionsToggled(false)};G.prototype.handleCreditCardEditOptionsToggled=function(H){p=H};G.prototype.handlePaymentMethodEditOptionsToggled=function(H){q=H};G.prototype.handleCheckoutBuyerProfileUpdated=function(H){z=H;y=true};G.prototype.handleManualPaymentReceiptUpdated=function(H){F=H.receiptFbid};G.prototype.handlePaymentMethodConfigured=function(H){A=H};G.prototype.handlePaymentMethodConfirmed=function(H){B=H;this.handleCheckoutEditCompleted()};G.prototype.handlePaymentMethodSelected=function(H){C=H};G.prototype.isAddressFormShown=function(){return!c("P2PAddressStore").getAll(!E).count()||l};G.prototype.isCreditCardFormShown=function(){var H=c("P2PCreditCardStore").getAll(c("MessengerPaymentProductType").MESSENGER_COMMERCE);return!this.isAddressFormShown()&&(!H.length||m)};G.prototype.isPaymentMethodFormShown=function(){var H=!this.isAddressFormShown()&&(!this.getConfirmedPaymentMethod()||n);return H};G.prototype.isAddressEditOptionsShown=function(){return o};G.prototype.isCreditCardEditOptionsShown=function(){return p};G.prototype.isPaymentMethodEditOptionsShown=function(){return q};G.prototype.isEditingPaymentMethod=function(){return this.isPaymentMethodFormShown()||this.isPaymentMethodEditOptionsShown()};G.prototype.getConfirmedPaymentMethod=function(){return B||c("P2PPaymentMethodStore").getPreviousPaymentMethod(this.getInvoiceID())};G.prototype.getConfiguredPaymentMethod=function(){return A};G.prototype.getSelectedPaymentMethod=function(){return C};G.prototype.getAttachedReceiptFbid=function(){return F};G.prototype.getSelectedAddress=function(){__p&&__p();var H=this.getPlatformContext(),I=c("P2PAddressStore").getAll(!E),J=void 0;if(j)return j;if(H&&H.shipping&&H.shipping.selectedShippingAddressID){J=I.find(function(J){return H&&J.id===H.shipping.selectedShippingAddressID});if(J)return J}return I.first()};G.prototype.getSelectedShippingOption=function(){__p&&__p();var H=this.getPlatformContext(),I=H&&H.shipping,J=I&&I.selectedShippingOptionID,K=I&&I.shippingOptions,L=void 0;if(x)return x;if(K&&K.length){L=K.filter(function(L){return L.id===J})[0];if(L)return L}return K&&K[0]};G.prototype.getSelectedCreditCard=function(){var H=c("P2PCreditCardStore").getAll(c("MessengerPaymentProductType").MESSENGER_COMMERCE);return k||H[0]};G.prototype.isAddressFormValid=function(){return r};G.prototype.getAddressFormData=function(){return s};G.prototype.isCreditCardFormValid=function(){return t};G.prototype.getCreditCardFormData=function(){return u};G.prototype.isProcessing=function(){return v};G.prototype.isBuyerProfileFetchComplete=function(){return y};G.prototype.getPlatformContext=function(){if(w)return c("P2PPlatformContextStore").getPlatformContextByOtherUserID(w)};G.prototype.getInvoiceID=function(){return D};G.prototype.getPlaceOrderFormData=function(){var H=this.getPlatformContext(),I=this.getSelectedShippingOption(),J=this.getSelectedAddress(),K=this.getSelectedCreditCard(),L=c("CreditCardFormParam").CREDENTIAL_ID,M={};M[L]=K&&K.getCredentialId();M=babelHelpers["extends"]({},M,{amount:I&&I.rawTotal,platform_context_id:H&&H.id,receiverId:H&&H.sellerID,shippingAddressID:J&&J.id,shippingOptionID:I&&I.id});return M};G.prototype.getBuyerProfileData=function(){if(z)return z;z={};c("P2PAPI").getCurrentUserProfileData()};f.exports=new G()}),null);
__d("P2PCheckoutDialogContainer.react",["fbt","invariant","Arbiter","FBPaymentsCreditCardVerificationDialog_DEPRECATED.react","FBPaymentsMethodType","Link.react","P2PActions","P2PAPI","P2PAPIUtils","P2PAddressStore","P2PCreditCardStore","P2PCheckoutDialog.react","P2PCheckoutStore","P2PDispatcher","P2PEditCreditCardDialog.react","P2PErrorDialog.react","P2PLogger","P2PPasswordProtectionNUXDialog.react","P2PPasswordProtectionStatusTypes","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PPlatformContextShape","P2PSuccessDialog.react","P2PText.react","P2PVerifyCreditCardDialog.react","React","ReactLayeredComponentMixin_DEPRECATED","StoreAndPropBasedStateMixin"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k="fbpay_login_and_pay",l="about:blank",m=c("React").createClass({displayName:"P2PCheckoutDialogContainer",mixins:[c("ReactLayeredComponentMixin_DEPRECATED"),c("StoreAndPropBasedStateMixin")(c("P2PAddressStore"),c("P2PCheckoutStore"),c("P2PCreditCardStore"))],propTypes:{acceptInternationalAddresses:j.bool,asyncPaymentDetails:j.object,onCheckoutSuccess:j.func,onClose:j.func.isRequired,onSeeReceiptClick:j.func,configSelections:j.string,customCheckoutDetails:j.node,paymentMethods:j.array,paymentMethodsFetchError:j.object,paymentProductType:j.string,platformContext:c("P2PPlatformContextShape"),platformContextSaveError:j.object,productItemID:j.string,showAsyncPaymentDetails:j.bool,showTaxField:j.bool,usePaymentMethods:j.bool},getInitialState:function n(){return{creditCardVerificationDialogShown:false,editCreditCardDialogShown:false,openedWindow:null,passwordProtectionNUXShown:false,successDialogShown:false,transferError:null,verifyCreditCardDialogShown:false}},statics:{calculateState:function n(o){return{addresses:c("P2PAddressStore").getAll(!o.acceptInternationalAddresses),addressFormData:c("P2PCheckoutStore").getAddressFormData(),addressFormValid:c("P2PCheckoutStore").isAddressFormValid(),addressSaveErrors:c("P2PAddressStore").getSaveErrors(),buyer:c("P2PCheckoutStore").getBuyerProfileData(),configuredPaymentMethod:c("P2PCheckoutStore").getConfiguredPaymentMethod(),confirmedPaymentMethod:c("P2PCheckoutStore").getConfirmedPaymentMethod(),creditCardAsyncRequestState:c("P2PCreditCardStore").getAsyncRequestState(),creditCardFormData:c("P2PCheckoutStore").getCreditCardFormData(),creditCardFormValid:c("P2PCheckoutStore").isCreditCardFormValid(),creditCards:c("P2PCreditCardStore").getAll(o.paymentProductType),creditCardSaveErrors:c("P2PCreditCardStore").getSaveErrors(),editingPaymentMethod:c("P2PCheckoutStore").isEditingPaymentMethod()&&o.usePaymentMethods,initialDataLoaded:o.platformContext&&(!!o.asyncPaymentDetails||c("P2PAddressStore").isAddressesFetchComplete()&&c("P2PCreditCardStore").isCreditCardsFetchComplete()&&c("P2PCheckoutStore").isBuyerProfileFetchComplete()&&(!o.usePaymentMethods||!!o.paymentMethods)),orderID:c("P2PCheckoutStore").getInvoiceID(),receiptAttached:!!c("P2PCheckoutStore").getAttachedReceiptFbid(),saving:c("P2PCheckoutStore").isProcessing()||c("P2PCreditCardStore").isSaving()||c("P2PAddressStore").isSaving(),selectedAddress:c("P2PCheckoutStore").getSelectedAddress(),selectedCreditCard:c("P2PCheckoutStore").getSelectedCreditCard(),selectedPaymentMethod:c("P2PCheckoutStore").getSelectedPaymentMethod(),selectedShippingOption:c("P2PCheckoutStore").getSelectedShippingOption(),shippingOptions:o.platformContext&&o.platformContext.shipping?o.platformContext.shipping.shippingOptions:null,showAddressForm:c("P2PCheckoutStore").isAddressFormShown(),showCreditCardForm:c("P2PCheckoutStore").isCreditCardFormShown()&&!o.usePaymentMethods,showAddressEditOptions:c("P2PCheckoutStore").isAddressEditOptionsShown(),showCreditCardEditOptions:c("P2PCheckoutStore").isCreditCardEditOptionsShown()&&!o.usePaymentMethods,showPaymentMethodEditOptions:c("P2PCheckoutStore").isPaymentMethodEditOptionsShown()&&o.usePaymentMethods,showPaymentMethodForm:c("P2PCheckoutStore").isPaymentMethodFormShown()&&o.usePaymentMethods}}},_paymentMethodAddCardRequestId:"",componentWillMount:function n(){this.log(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_CHECKOUT);c("P2PDispatcher").explicitlyRegisterStores([c("P2PCheckoutStore")])},componentWillUnmount:function n(){if(this._passwordCancelSubscribeToken!==null){c("Arbiter").unsubscribe(this._passwordCancelSubscribeToken);this._passwordCancelSubscribeToken=null}},componentDidUpdate:function n(o,p){this._trackEvents(o,p)},log:function n(o,p){var q=this.props.platformContext,r={};if(q)r=q.product.rawAmount;c("P2PLogger").log(o,babelHelpers["extends"]({www_event_flow:c("P2PPaymentLoggerEventFlow").UI_FLOW_CHECKOUT,raw_amount:r.amount,currency:r.currency,object_id:this.props.productItemID},p))},_placeOrderPending:false,_passwordCancelSubscribeToken:null,_passwordProtectionNUXPending:false,handleCancel:function n(){this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CHECKOUT_CANCEL);this.props.onClose()},handleSuccess:function n(){var o=arguments.length<=0||arguments[0]===undefined?true:arguments[0];this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CHECKOUT_SUCCESS);o&&this.props.onClose()},handleSaveAddress:function n(){this.saveAddress()},closeOpenedWindow:function n(){this.state.openedWindow&&this.state.openedWindow.close()},saveAddress:function n(){c("P2PAPI").addAddress(babelHelpers["extends"]({},this.state.addressFormData,{platformContext:this.props.platformContext,onSuccess:this.handleSaveAddressSuccess,onError:this.handleSaveAddressError}));this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CONFIRM_ADDRESS_DETAILS)},handleSaveAddressSuccess:function n(){this.log(c("P2PPaymentLoggerEvent").UI_ACTN_ADD_ADDRESS_SUCCESS)},handleSaveAddressError:function n(o){o=o.errors;this.log(c("P2PPaymentLoggerEvent").UI_ACTN_ADD_ADDRESS_FAIL,{message:o&&o.general?o.general.message:""})},handleSaveCreditCard:function n(){this.saveCreditCard()},saveCreditCard:function n(){c("P2PAPI").addCreditCard(babelHelpers["extends"]({product_type:this.props.paymentProductType},this.state.creditCardFormData,{hasPlatformContext:!!this.props.platformContext,onSuccess:this.handleSaveCreditCardSuccess,onError:this.handleSaveCreditCardError}));this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CONFIRM_CARD_DETAILS)},handleSaveCreditCardSuccess:function n(){if(this._placeOrderPending){this._placeOrderPending=false;this.placeOrder()}this.log(c("P2PPaymentLoggerEvent").UI_ACTN_ADD_CARD_SUCCESS)},handleSaveCreditCardError:function n(o){o=o.errors;this.log(c("P2PPaymentLoggerEvent").UI_ACTN_ADD_CARD_FAIL,{message:o&&o.general?o.general.message:""})},handleConfirmPaymentMethod:function n(){var o=this.state.configuredPaymentMethod;switch(o.type){case c("FBPaymentsMethodType").NEW_CREDIT_CARD:var p=c("P2PAPIUtils").genRequestID();this._paymentMethodAddCardRequestId=p;c("P2PAPI").addCreditCard(babelHelpers["extends"]({product_type:this.props.paymentProductType,requestID:p},o.formData,{hasPlatformContext:!!this.props.platformContext,onSuccess:this.handleConfirmPaymentMethodSuccess}));break;case c("FBPaymentsMethodType").GENERIC_CARD:case c("FBPaymentsMethodType").PAY_OVER_COUNTER:case c("FBPaymentsMethodType").MANUAL_TRANSFER:case c("FBPaymentsMethodType").NET_BANKING:this.handleConfirmPaymentMethodSuccess();break}},handleConfirmPaymentMethodSuccess:function n(){var o=this.state.configuredPaymentMethod;switch(o.type){case c("FBPaymentsMethodType").NEW_CREDIT_CARD:this.handleConfirmPaymentMethodAddCardSuccess();break;default:c("P2PActions").checkoutPaymentMethodConfirmed(o)}},handleConfirmPaymentMethodAddCardSuccess:function n(){var o=c("P2PCreditCardStore").getAsyncRequestState(),p=o[this._paymentMethodAddCardRequestId];if(!p)return;var q=c("P2PCreditCardStore").getCreditCardByCredentialID(p.credential_id),r={creditCard:q,type:c("FBPaymentsMethodType").GENERIC_CARD};this._paymentMethodAddCardRequestId="";c("P2PActions").checkoutPaymentMethodConfirmed(r)},handlePlaceOrder:function n(){if(this.props.usePaymentMethods){this.completePaymentMethodCheckout();return}if(this.state.showCreditCardForm){this._placeOrderPending=true;this.saveCreditCard()}else this.placeOrderWithExistingCard()},handleCompleteManualPayment:function n(){var o=this.state.orderID,p=this.props.asyncPaymentDetails&&this.props.asyncPaymentDetails.id;o&&p||i(0);c("P2PAPI").completeReceiptUploadCheckout({onSuccess:function(){this.setState({successDialogShown:true})}.bind(this),onError:function(q){this.setState({transferError:q})}.bind(this),receiptImageID:c("P2PCheckoutStore").getAttachedReceiptFbid(),invoiceID:o,selectedPaymentOptionID:p})},placeOrderWithExistingCard:function n(){__p&&__p();var o=c("P2PCheckoutStore").getSelectedCreditCard();o||i(0);if(!o.getIsVerified()){this.setState({verifyCreditCardDialogShown:true});return}else if(o.isExpired()){this.setState({editCreditCardDialogShown:true});return}this.placeOrder()},placeOrder:function n(){c("P2PActions").checkoutProcessing(true);this.setState({transferError:null});this._passwordCancelSubscribeToken=c("Arbiter").subscribeOnce("PasswordReauthDialogCancelClick",function(){this._passwordCancelSubscribeToken=null;c("P2PActions").checkoutProcessing(false)}.bind(this));c("P2PAPI").createTransaction({error:this.handlePlaceOrderError,formData:c("P2PCheckoutStore").getPlaceOrderFormData(),success:this.handlePlaceOrderSuccess});this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CHECKOUT_CONFIRM)},handlePlaceOrderError:function n(o){c("P2PActions").checkoutProcessing(false);this.setState({transferError:o})},handlePlaceOrderSuccess:function n(o){c("P2PActions").checkoutProcessing(false);var p=o.passwordProtection===c("P2PPasswordProtectionStatusTypes").NOT_SET;if(p)this.setState({passwordProtectionNUXShown:true});else this.handleSuccess()},completePaymentMethodCheckout:function n(){__p&&__p();var o=this.state.confirmedPaymentMethod;switch(o.type){case c("FBPaymentsMethodType").NET_BANKING:case c("FBPaymentsMethodType").PAY_OVER_COUNTER:var p=window.open(l,k);this.setState({openedWindow:p});break;case c("FBPaymentsMethodType").GENERIC_CARD:if(o.creditCard.getCSC())this.completeNMORCheckout({securityCode:o.creditCard.getCSC()});else this.setState({creditCardVerificationDialogShown:true});return}this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CHECKOUT_CONFIRM);this.completeNMORCheckout()},completeNMORCheckout:function n(o){__p&&__p();var p=this.props.platformContext;p||i(0);var q=this.state.confirmedPaymentMethod;q||i(0);var r=q.type,s=null,t=null;switch(r){case c("FBPaymentsMethodType").GENERIC_CARD:r="cc";t=q.creditCard.getCredentialId();o&&o.securityCode||i(0);break;case c("FBPaymentsMethodType").NET_BANKING:s={bank_code:q.bank.code};break;case c("FBPaymentsMethodType").MANUAL_TRANSFER:s={receipt_image_id:q.receiptFbid,transfer_option_id:q.optionId};break}var u=babelHelpers["extends"]({amount:this.state.selectedShippingOption.rawTotal,currency:p.product.rawAmount.currency,nmorOrderType:this.props.paymentProductType,receiverID:p.sellerID,orderID:this.state.orderID,paymentMethodType:r,paymentMethodData:s,credentialId:t,shippingAddressID:this.state.selectedAddress.id,shippingOptionID:this.state.selectedShippingOption.id,error:this.handleCompletePaymentMethodCheckoutError,success:this.handleCompletePaymentMethodCheckoutSuccess},o);c("P2PActions").checkoutProcessing(true);c("P2PAPI").completeNMORCheckout(u)},handleCreditCardVerificationCancel:function n(){this.setState({creditCardVerificationDialogShown:false})},handleVerifyCreditCardAndCompleteCheckout:function n(o){this.completeNMORCheckout({securityCode:o})},handleCompletePaymentMethodCheckoutError:function n(o){c("P2PActions").checkoutProcessing(false);this.setState({transferError:o});this.closeOpenedWindow()},handleCompletePaymentMethodCheckoutSuccess:function n(o,p){__p&&__p();c("P2PActions").checkoutProcessing(false);this.setState({creditCardVerificationDialogShown:false});var q=this.props.onCheckoutSuccess;q&&q(o,p);var r=this.state.confirmedPaymentMethod;switch(r.type){case c("FBPaymentsMethodType").NET_BANKING:p&&p.net_banking_info||i(0);var s=p.net_banking_info.redirect_url;window.open(s,k);this.handleSuccess();break;case c("FBPaymentsMethodType").PAY_OVER_COUNTER:p&&p.pay_over_counter_info||i(0);var t=p.pay_over_counter_info.instructions_url;window.open(t,k);this.handleSuccess();break;case c("FBPaymentsMethodType").MANUAL_TRANSFER:this.handleSuccess(false);break;default:this.handleSuccess(false);this.setState({successDialogShown:true})}},handleSetAddress:function n(o){var p=this.props.platformContext;p||i(0);c("P2PAPI").setPlatformContextShippingAddress({platformContextID:p.id,shippingAddressID:o})},renderLayers:function n(){__p&&__p();var o={};if(this.props.platformContextSaveError)o.error=c("React").createElement(c("P2PErrorDialog.react"),{title:h._("Problem with purchase"),onOKClick:this.handleCancel,error:this.props.platformContextSaveError});else if(this.props.paymentMethodsFetchError)o.error=c("React").createElement(c("P2PErrorDialog.react"),{title:h._("Sorry, Something Went Wrong"),onOKClick:this.handleCancel,error:h._("We can't load the available payment methods at this time. Please try again later.")});else if(this.state.transferError)o.error=c("React").createElement(c("P2PErrorDialog.react"),{title:h._("Problem with purchase"),onOKClick:this.handleCancel,error:this.state.transferError});else if(this.state.verifyCreditCardDialogShown)o.verificationDialog=c("React").createElement(c("P2PVerifyCreditCardDialog.react"),{creditCard:this.state.selectedCreditCard,asyncRequestState:this.state.creditCardAsyncRequestState,isSending:true,onCancel:function(){this.setState({verifyCreditCardDialogShown:false});c("P2PActions").checkoutProcessing(false)}.bind(this),onSuccess:function(){this.setState({verifyCreditCardDialogShown:false});this.placeOrderWithExistingCard()}.bind(this)});else if(this.state.editCreditCardDialogShown)o.editCreditCardDialog=c("React").createElement(c("P2PEditCreditCardDialog.react"),{asyncRequestState:this.state.creditCardAsyncRequestState,creditCard:this.state.selectedCreditCard,onCancel:function(){this.setState({editCreditCardDialogShown:false});c("P2PActions").checkoutProcessing(false)}.bind(this),onSuccess:function(){this.setState({editCreditCardDialogShown:false});this.placeOrderWithExistingCard()}.bind(this)});return o},render:function n(){__p&&__p();if(this.state.passwordProtectionNUXShown)return c("React").createElement(c("P2PPasswordProtectionNUXDialog.react"),{onComplete:this.handleSuccess});else if(this.state.creditCardVerificationDialogShown){var o=this.state.confirmedPaymentMethod.creditCard,p=c("React").createElement(c("P2PText.react"),{size:"small",type:"secondary"},c("React").createElement(c("Link.react"),{onClick:this.handleCreditCardVerificationCancel,size:"small"},h._("Use Different Payment Method"))),q=h._("Pay");return c("React").createElement(c("FBPaymentsCreditCardVerificationDialog_DEPRECATED.react"),{creditCard:o,leftContent:p,loading:this.state.saving,onConfirm:this.handleVerifyCreditCardAndCompleteCheckout,primaryButtonText:q,showCancelButton:false})}else if(this.state.successDialogShown){var r=h._("Your purchase is complete. You'll receive a confirmation email soon.");if(this.props.asyncPaymentDetails)r=h._("Your proof of payment has been sent. The seller will verify your payment soon.");return c("React").createElement(c("P2PSuccessDialog.react"),{buttonLabel:h._("See Receipt"),buttonUse:"confirm",onOKClick:this.props.onSeeReceiptClick||this.handleSuccess,onToggle:function(){this.handleSuccess()}.bind(this),showCloseButton:true,title:h._("Confirmation")},c("React").createElement(c("P2PText.react"),{type:"secondary",style:{textAlign:"center"}},r))}return c("React").createElement(c("P2PCheckoutDialog.react"),babelHelpers["extends"]({},this.props,this.state,{onClose:this.handleCancel,onCompleteManualPayment:this.handleCompleteManualPayment,onConfirmSelectedPaymentMethod:this.handleConfirmPaymentMethod,onPlaceOrder:this.handlePlaceOrder,onSaveAddress:this.handleSaveAddress,onSaveCreditCard:this.handleSaveCreditCard,onSetAddress:this.handleSetAddress}))},_trackEvents:function n(o,p){__p&&__p();if(!o.platformContextSaveError&&this.props.platformContextSaveError)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CHECKOUT_CART_CREATION_FAIL);if(!this.state.initialDataLoaded)return;if(!p.initialDataLoaded&&this.state.initialDataLoaded)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CHECKOUT_CART_CREATION_SUCCESS);if(!p.showCreditCardForm&&this.state.showCreditCardForm)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_ADD_CARD);if(p.showCreditCardForm&&!this.state.showCreditCardForm)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CANCEL_ADD_CARD);if(!p.showCreditCardEditOptions&&this.state.showCreditCardEditOptions)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_CHOOSE_CARD);if(!p.showAddressForm&&this.state.showAddressForm)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_ADD_ADDRESS);if(p.showAddressForm&&!this.state.showAddressForm)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CANCEL_ADD_ADDRESS);if(!p.showAddressEditOptions&&this.state.showAddressEditOptions)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_CHOOSE_ADDRESS);if(!p.verifyCreditCardDialogShown&&this.state.verifyCreditCardDialogShown)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_VERIFY_CSC);if(!p.editCreditCardDialogShown&&this.state.editCreditCardDialogShown)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_EDIT_CARD);if(!p.transferError&&this.state.transferError)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CHECKOUT_FAIL)}});f.exports=m}),null);
__d("P2PMCCartCreationDialogContainer.react",["MessengerPaymentProductType","P2PActions","P2PAPI","P2PCheckoutDialogContainer.react","P2PCheckoutStore","P2PPlatformContextStore","React","StoreAndPropBasedStateMixin"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"P2PMCCartCreationDialogContainer",mixins:[c("StoreAndPropBasedStateMixin")(c("P2PCheckoutStore"),c("P2PPlatformContextStore"))],propTypes:{configSelections:h.string,productItemID:h.string.isRequired,sellerID:h.string.isRequired},statics:{calculateState:function j(k){return{platformContext:c("P2PCheckoutStore").getPlatformContext(),platformContextSaveError:c("P2PPlatformContextStore").getSaveError(k.productItemID)}}},componentWillMount:function j(){c("P2PAPI").createMCCart({productItemID:this.props.productItemID,sellerID:this.props.sellerID})},handleClose:function j(){c("P2PActions").clearPlatformContextSaveErrors(this.props.productItemID);c("P2PActions").hideDialog()},render:function j(){return c("React").createElement(c("P2PCheckoutDialogContainer.react"),{onClose:this.handleClose,configSelections:this.props.configSelections,paymentProductType:c("MessengerPaymentProductType").MESSENGER_COMMERCE,platformContext:this.state.platformContext,platformContextSaveError:this.state.platformContextSaveError,productItemID:this.props.productItemID})}});f.exports=i}),null);
__d("MNCommercePromotionMercuryShareAttachment.react",["Banzai","MercuryFallbackShareAttachment.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MessengerAdsWebTypedLogger","MNAdsLoggerEventEnum","MNCommerceCheckoutOrderConfigDialogContainer.react","MNCommerceDialogStateActions","MNCommerceMessageType","MessengerPlatformGenericItemMercuryAttachment.react","MNContentSubscriptionMessageUserEngagementTypedLogger","MNPlatformMessageUserEngagementTypedLogger","P2PActions","P2PMCCartCreationDialogContainer.react","React","StoryAttachmentStyle","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;function k(n){if(n!==undefined){var o=n.match(/\d+/);if(o!==undefined&&o!==null)return o[0]}return null}function l(n,event){__p&&__p();var o=k(n.props.pageID),p=n.getRetailItem(n.props.attachment.target),q=p&&p.id;if(n.props.mnMessageType==c("MNCommerceMessageType").CONTENT_SUBSCRIPTION){new(c("MNContentSubscriptionMessageUserEngagementTypedLogger"))().setPageID(o).setMessageID(n.props.messageID).setCommerceItemID(q).setName(event).log();switch(event){case"mn_platform_msg_imp":c("Banzai").post("mn_platform_message_imp_setsuna",{page_id:o,item_id:q});break;case"mn_platform_msg_click":c("Banzai").post("mn_platform_message_click_setsuna",{page_id:o,item_id:q});break;default:break}}new(c("MNPlatformMessageUserEngagementTypedLogger"))().setPageID(o).setMessageID(n.props.messageID).setCommerceItemID(q).setName(event).log()}h=babelHelpers.inherits(m,c("React").Component);i=h&&h.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.$MNCommercePromotionMercuryShareAttachment4=function(){__p&&__p();var s=this.props.attachment&&this.props.attachment.target;if(!s)return;var t=this.getRetailItem(s),u=t&&t.id;if(this.props.isSponsored)new(c("MessengerAdsWebTypedLogger"))().setEvent(c("MNAdsLoggerEventEnum").LINK_CLICK_CTA).setIsSponsored(this.props.isSponsored).setItemID(u).setMessageID(this.props.messageID).setPageID(this.props.pageID).log();l(this,"mn_platform_msg_click");var v=this.props.pageID,w=function w(x,y,z){return c("P2PActions").showDialog(c("P2PMCCartCreationDialogContainer.react"),{productItemID:x,sellerID:y,configSelections:z})};c("MNCommerceDialogStateActions").showDialog(c("MNCommerceCheckoutOrderConfigDialogContainer.react"),{onContinue:w,itemID:u,ownerID:v})}.bind(this),o}m.prototype.componentDidMount=function(){l(this,"mn_platform_msg_imp")};m.prototype.render=function(){var n=this.props.attachment&&this.props.attachment.target;if(!n)return c("React").createElement(c("MercuryFallbackShareAttachment.react"),this.props);var o=this.props.attachment&&this.props.attachment.uri,p=this.props.attachment&&this.props.attachment.label,q=this.$MNCommercePromotionMercuryShareAttachment1(),r=this.getRetailItem(n),s=void 0;if(r&&r.call_to_actions&&r.call_to_actions.length>0)s=r.call_to_actions;else s=n.call_to_actions;return c("React").createElement(c("MessengerPlatformGenericItemMercuryAttachment.react"),{callToActions:this.$MNCommercePromotionMercuryShareAttachment2(s),isMediaAttachment:this.$MNCommercePromotionMercuryShareAttachment3(),isSponsored:this.props.isSponsored,isSubattachment:this.props.isSubattachment,itemID:r&&r.id,label:p,location:this.props.location,longestCTAs:this.props.longestCTAs,longestMetaline:this.props.longestMetaline,longestName:this.props.longestName,messageID:this.props.messageID,mnMessageType:this.props.mnMessageType,pageID:this.props.pageID,threadID:this.props.threadID,retailItem:r,url:o,width:this.props.maxWidth,isButtonList:q})};m.prototype.$MNCommercePromotionMercuryShareAttachment2=function(n){__p&&__p();var o=n||[],p=o.map(function(q){var r=q.action_link&&(q.action_link.startsWith("fb-messenger://payments/buy/mc?")||q.action_link.startsWith("fb-messenger://business/commerce/"));if(r){if(c("gkx")("AT4VcZ2n8GFrD7MjVVAjcX0NmvwopB7f803i8mNRrJiQunF1FwYQ1kl6EgxABUzgu-ERWV--QUw6PQC9d4CFCek0"))return babelHelpers["extends"]({onClick:this.$MNCommercePromotionMercuryShareAttachment4},q);return null}else return q}.bind(this));return p.filter(function(q){return q})};m.prototype.$MNCommercePromotionMercuryShareAttachment1=function(){var n=this.props.attachment,o=n&&n.style_list;if(o&&o.length&&o[0]===c("StoryAttachmentStyle").MESSENGER_PLATFORM_BUTTON_LIST)return true;return false};m.prototype.$MNCommercePromotionMercuryShareAttachment3=function(){var n=this.props.attachment,o=n&&n.style_list;if(o&&o.length&&o[0]===c("StoryAttachmentStyle").MESSENGER_PLATFORM_MEDIA_ATTACHMENT)return true;return false};m.prototype.getRetailItem=function(n){var o=this.$MNCommercePromotionMercuryShareAttachment1();if(o)return n;if(n&&n.items)if(n.items.length)return n.items[0];else return null;return n};m.propTypes={attachment:c("MercuryShareAttachmentReactShape"),isSponsored:j.bool,isSubattachment:j.bool,location:j.oneOf(c("MercuryShareAttachmentRenderLocations").getValues()),maxWidth:j.number,messageID:j.string,mnMessageType:j.string,pageID:j.string,threadID:j.string,longestCTAs:j.number,longestMetaline:j.string,longestName:j.string};f.exports=m}),null);