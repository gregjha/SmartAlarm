if (self.CavalryLogger) { CavalryLogger.start_js(["YdfSX"]); }

__d("AppCustomEventType",[],(function a(b,c,d,e,f,g){f.exports={FB_MOBILE_ACTIVATE_APP:"fb_mobile_activate_app",FB_MOBILE_COMPLETE_REGISTRATION:"fb_mobile_complete_registration",FB_MOBILE_CONTENT_VIEW:"fb_mobile_content_view",FB_MOBILE_SEARCH:"fb_mobile_search",FB_MOBILE_RATE:"fb_mobile_rate",FB_MOBILE_TUTORIAL_COMPLETION:"fb_mobile_tutorial_completion",FB_MOBILE_ADD_TO_CART:"fb_mobile_add_to_cart",FB_MOBILE_ADD_TO_WISHLIST:"fb_mobile_add_to_wishlist",FB_MOBILE_INITIATED_CHECKOUT:"fb_mobile_initiated_checkout",FB_MOBILE_ADD_PAYMENT_INFO:"fb_mobile_add_payment_info",FB_MOBILE_PURCHASE:"fb_mobile_purchase",FB_MOBILE_LEVEL_ACHIEVED:"fb_mobile_level_achieved",FB_MOBILE_ACHIEVEMENT_UNLOCKED:"fb_mobile_achievement_unlocked",FB_MOBILE_SPENT_CREDITS:"fb_mobile_spent_credits",FB_DIRECT_INSTALL_SUCCESS:"fb_direct_install_success",APPMANAGER_CRASH_REPORT:"appmanager_crash_report",FB_PAGE_VIEW:"fb_page_view",FB_WEB_NEW_USER:"fb_web_new_user",FB_OTHER:"fb_other",FB_MESSENGER_BOT_NEW_USER:"fb_messenger_bot_new_user",FB_MESSENGER_BOT_MESSAGE_SENT:"fb_messenger_bot_message_sent",FB_MESSENGER_BOT_MESSAGE_RECEIVED:"fb_messenger_bot_message_received",FB_MESSENGER_BOT_THREAD_DELETED:"fb_messenger_bot_thread_deleted",FB_MESSENGER_BOT_STOPPED:"fb_messenger_bot_stopped",FB_MESSENGER_BOT_STARTED:"fb_messenger_bot_started",FB_MESSENGER_BOT_POSTBACK_CALLED:"fb_messenger_bot_postback_called",FB_INSTANT_EXPERIENCES_LAUNCH:"fb_instant_experiences_launch",FB_INSTANT_EXPERIENCES_NEW_USER:"fb_instant_experiences_new_user",FB_INSTANT_ARTICLES_CTA_SIGN_UP:"fb_instant_articles_cta_sign_up",FB_INSTANT_ARTICLES_CTA_IMPRESSION:"fb_instant_articles_cta_impression",FB_INSTANT_ARTICLES_NEW_USER:"fb_instant_articles_new_user",FB_INSTANT_ARTICLES_CLICK:"fb_instant_articles_click",FB_INSTANT_GAMES_NEW_USER:"fb_instant_games_new_user",FB_INSTANT_GAMES_LAUNCH:"fb_instant_games_launch",FB_INSTANT_GAMES_UPDATE_SENT:"fb_instant_games_update_sent",FB_INSTANT_GAMES_UPDATE_CLICK:"fb_instant_games_update_click",FB_INSTANT_GAMES_BOT_MESSAGE_SEND:"fb_instant_games_bot_message_sent",FB_INSTANT_GAMES_BOT_MESSAGE_CLICK:"fb_instant_games_bot_message_click",FB_INSTANT_GAMES_SESSION_PLAY:"fb_instant_games_session_play",FB_INSTANT_GAMES_PLATFORM_EVENT:"fb_instant_games_platform_event",FB_OFFLINE_PURCHASE:"fb_offline_purchase",FB_OFFLINE_NEW_USER:"fb_offline_new_user",FB_OFFLINE_LEAD:"fb_offline_lead",FB_PAGES_POST_REACTION:"fb_pages_post_reaction",FB_PAGES_POST_COMMENT:"fb_pages_post_comment",FB_PAGES_POST_SHARE:"fb_pages_post_share",FB_PAGES_POST_ANSWER:"fb_pages_post_answer",FB_PAGES_POST_RSVP:"fb_pages_post_rsvp",FB_PAGES_PAGE_CHECKIN:"fb_pages_page_checkin",FB_PAGES_MESSAGING_THREAD_READ:"fb_pages_messaging_thread_read",FB_PAGES_MESSAGING_MESSAGE_RECEIVED:"fb_pages_messaging_message_received",FB_PAGES_MESSAGING_MESSAGE_SENT:"fb_pages_messaging_message_sent",FB_PAGES_MESSAGING_BLOCK:"fb_pages_messaging_block",FB_PAGES_MESSAGING_DELETE_THREAD:"fb_pages_messaging_delete_thread",FB_PAGES_MESSAGING_MARK_SPAM:"fb_pages_messaging_mark_spam",FB_PAGES_MESSAGING_LABEL_ADDED:"fb_pages_messaging_label_added",FB_PAGES_MESSAGING_LABEL_REMOVED:"fb_pages_messaging_label_removed",FB_PAGES_MESSAGING_NEW_CONVERSATION:"fb_pages_messaging_new_conversation",FB_PAGES_POST_VIDEO_PLAY_CLICK:"fb_pages_post_video_play_click",FB_PAGES_POST_PHOTO_VIEW_CLICK:"fb_pages_post_photo_view_click",FB_PAGES_NEW_USER:"fb_pages_new_user",FB_CAMERA_EFFECT_OPENED:"fb_camera_effect_opened",FB_CAMERA_EFFECT_SHARED:"fb_camera_effect_shared",FB_CAMERA_EFFECT_SHARE_IMPRESSION:"fb_camera_effect_share_impression",FB_CAMERA_EFFECT_TIME_SPENT:"fb_camera_effect_time_spent",FB_CAMERA_EFFECT_POST_IMPRESSION:"fb_camera_effect_post_impression",FB_VIDEO_ASSET_VIDEO_VIEW:"fb_video_asset_video_view",FB_VIDEO_ASSET_IMPRESSION:"fb_video_asset_impression",FB_VIDEO_ASSET_REACTION:"fb_video_asset_reaction",FB_VIDEO_ASSET_COMMENT:"fb_video_asset_comment",FB_VIDEO_ASSET_SHARE:"fb_video_asset_share",FB_VIDEO_POST_VIDEO_VIEW:"fb_video_post_video_view",FB_VIDEO_POST_IMPRESSION:"fb_video_post_impression",FB_VIDEO_POST_REACTION:"fb_video_post_reaction",FB_VIDEO_POST_COMMENT:"fb_video_post_comment",FB_VIDEO_POST_SHARE:"fb_video_post_share",FB_MOBILE_INSTALL:"fb_mobile_first_app_launch",FB_MOBILE_DEACTIVATE_APP:"fb_mobile_deactivate_app",FB_BASE_EVENT:"fb_base_event",FB_NEW_USER:"fb_new_user",FB_PURCHASE:"fb_purchase",FB_PAGE_MESSAGING_ACTIVE_CONVERSATION:"fb_pages_messaging_active_conversation"}}),null);
__d("FBRTCDismissReason",[],(function a(b,c,d,e,f,g){f.exports={CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,JOIN_APPROVAL_DENIED:8}}),null);
__d("FBRTCHangupReason",[],(function a(b,c,d,e,f,g){f.exports={IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5}}),null);
__d("FBRTCParticipantCallState",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12}}),null);
__d("FBRTCRtcResponseStatusCode",[],(function a(b,c,d,e,f,g){f.exports={OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONDITIONAL_REQUEST_FAILED:412,BUSY_HERE:486,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503,PRECONDITION_FAILURE:580}}),null);
__d("MNCommerceBlockTypeJSInstance",[],(function a(b,c,d,e,f,g){f.exports={ALL:"all",PROMOTION:"promotion",NONE:"none"}}),null);
__d("MNCommerceErrors",[],(function a(b,c,d,e,f,g){f.exports={ALREADY_UNLINKED:1893001}}),null);
__d("MNCommerceReplyTypes",[],(function a(b,c,d,e,f,g){f.exports={COMMERCE_LINK:2,COMMERCE_UNLINK:3}}),null);
__d("BonfireStrings",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){"use strict";f.exports={add_friend_button:i._("Add"),ring_friend_button:i._("Ring"),bonfire_edit_name_submit:i._("Done"),cancel_ring_button:i._("Cancel"),close_window_warning:i._("Leaving so soon?"),join_button_label:i._("Join"),joining_message:i._("Joining"),label_refresh:i._("Refresh"),load_error_media:i._("An Error occured when trying to get access to Camera and\/or Microphone:"),load_error_media_permission:i._("Please Allow Camera and Microphone Access"),load_error_media_permission_explanation:i._("To use Bonfire, you need to turn your camera and microphone on. This will let your friends see and hear you when you connect with them."),load_error_media_permission_explanation_later:i._("You can turn these off later."),load_error_media_permission_learn_more:i._("Learn more"),load_error_unknown:i._("An Unknown Error occured trying to load Bonfire."),load_error_unknown_refresh_request:i._("Please refresh your browser or try again later."),leave_button_label:i._("Leave"),list_tray_active_bonfire_header:i._("ACTIVE BONFIRES"),list_tray_friend_requests_header:i._("FRIEND REQUESTS"),list_tray_all_friend_header:i._("FRIENDS"),report_user_modal_title:i._("What's going on?"),report_user_modal_subtitle:i._("You can report a profile if someone is violating our community standards."),contact_law_enforcement_msg:i._("Contact law enforcement in your area if someone is in immediate danger."),is_self_display_name:i._("You"),bonfire_edit_name_placeholder:i._("Name this bonfire"),cancel_friend_request:i._("Cancel"),respond_yes_friend_request:i._("Accept"),reporting_threatening_violence:i._("This person is threatening violence"),reporting_bullying:i._("This person is bullying me or others"),reporting_harassment:i._("This person is harassing me or others"),reporting_self_harm:i._("This person is threatening to hurt themselves"),reporting_pornography:i._("This person is exposing themselves or committing sex acts"),reporting_hate_speech:i._("This person is using hate speech"),reporting_other:i._("Other"),login_continue_as_button_label:function j(k){return i._("Sign in as {name}",[i.param("name",c("React").createElement("span",{className:"_140t"},k))])},login_phone_generic_error:i._("The email or phone number you've entered doesn't match an account. Sign up for an account in the mobile app. Get the app on {=iOS} or {=Android}.",[i.param("=iOS",c("React").createElement("a",{className:"_3-a-",target:"_blank",href:"https://itunes.apple.com/dk/app/bonfire-group-video-chat/id1240352476"},i._("iOS"))),i.param("=Android",c("React").createElement("a",{className:"_3-a-",target:"_blank",href:"https://play.google.com/store/apps/details?id=com.facebook.bonfire"},i._("Android")))]),login_button_label:i._("Sign in"),logout_button_label:i._("Log out"),login_fb_header:i._("Sign in with Facebook"),login_fb_explanation:i._("Sign in with Facebook"),login_ig_explanation:i._("Sign in with Instagram Account"),login_phone_explanation:i._("Sign in with Phone Number"),login_switch_account_link:i._("Not You?"),login_with_fb:i._("Facebook"),login_with_phone:i._("Bonfire"),login_with_ig:i._("Instagram"),login_generic_error:i._("The username or password you've entered is incorrect. Please re-enter your username and password."),login_password_error:i._("The password you've entered is incorrect. Please re-enter your password."),login_password_placeholder:i._("Password"),login_phone_placeholder:i._("Phone"),login_username_placeholder:i._("Email, phone or username"),login_invalid_error:i._("Invalid value"),get_bonfire_button:i._("Get Bonfire"),landing_about:i._("ABOUT"),landing_privacy:i._("PRIVACY"),landing_terms:i._("TERMS"),get_app_text:i._("Get the app to sign up"),or:i._("or"),login_back_button:i._("Back"),user_video_off:function j(k){return i._("{name}'s camera is off",[i.param("name",k)])}}}),null);
__d("CollabRTCChromeScreenSharingExtension",["invariant","Promise","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="CHROME_WEBSTORE_UNDEFINED",j="DIALOG_USER_CANCEL",k="EXTENSION_NOT_FOUND",l="REQUEST_ID_UNDEFINED",m="UNEXPECTED_ERROR",n="degmgkchmbgaognjjlhggmhbcpicdifm",o="data-fb-screensharing-extension-available";function p(){this.CHROME_WEBSTORE_UNDEFINED=i;this.DIALOG_USER_CANCEL=j;this.EXTENSION_NOT_FOUND=k;this.EXTENSION_PRESENCE_ATTR=o;this.REQUEST_ID_UNDEFINED=l;this.UNEXPECTED_ERROR=m}p.prototype.isInstalled=function(){var v=document,w=v.documentElement;return w!=null&&w.hasAttribute(o)&&w.getAttribute(o)==="true"};p.prototype.install=function(){__p&&__p();var v;q(this.getExtensionURL());var w=(v=window)!=null?(v=v.chrome)!=null?v.webstore:v:v;if(w==null)return c("Promise").reject(new Error(i));return new(c("Promise"))(function(x,y){w.install(this.getExtensionURL(),function(){var z=document,A=z.documentElement;if(A!=null)A.setAttribute(o,"true");x()},function(z,A){return y(new Error(A))})}.bind(this)).then(function(){return this.$CollabRTCChromeScreenSharingExtension2(5)}.bind(this))};p.prototype.getSourceID=function(){__p&&__p();var v=arguments.length<=0||arguments[0]===undefined?false:arguments[0];if(!this.isInstalled()){if(v)return c("Promise").reject(new Error(k));return this.install().then(function(){return this.getSourceID(true)}.bind(this))}return s().then(function(w){switch(w.type){case"streamID":this.$CollabRTCChromeScreenSharingExtension1=w.requestID;return w.streamID;case"canceledGetStreamID":throw new Error(j);default:throw new Error(m)}}.bind(this))};p.prototype.getExtensionID=function(){return n};p.prototype.getExtensionURL=function(){return"https://chrome.google.com/webstore/detail/"+n};p.prototype.stop=function(){return t(this.$CollabRTCChromeScreenSharingExtension1).then(function(){this.$CollabRTCChromeScreenSharingExtension1=null}.bind(this))};p.prototype.$CollabRTCChromeScreenSharingExtension2=function(v){return u({type:"ping"})["catch"](function(w){if(v<1)throw w;return r(100).then(function(){return this.$CollabRTCChromeScreenSharingExtension2(v-1)}.bind(this))}.bind(this))};function q(v){var w="chrome-webstore-item";if(!document.querySelector('link[href="'+v+'"][rel="'+w+'"]')){var x=document.createElement("link");x.setAttribute("href",v);x.setAttribute("rel",w);document.head!=null||h(0);document.head.appendChild(x)}}function r(v){return new(c("Promise"))(function(w){return setTimeout(w,v)})}function s(){return u({type:"getStreamID",sources:["screen","window","tab"]})}function t(v){if(v==null)return c("Promise").reject(new Error(l));return u({type:"cancel",requestID:v})}function u(v){return new(c("Promise"))(function(w,x){window.chrome.runtime.sendMessage(n,v,function(y){if(y!=null)w(y);else{var z=window.chrome.runtime.lastError.message;x(new Error(z))}})})}f.exports=new p()}),null);
__d("CollabRTCChromeScreenSharing",["CollabRTCChromeScreenSharingExtension"],(function a(b,c,d,e,f,g){"use strict";var h={getSourceID:function i(){return c("CollabRTCChromeScreenSharingExtension").getSourceID()},stop:function i(){return c("CollabRTCChromeScreenSharingExtension").stop()}};f.exports=h}),null);
__d("XCommerceTransactionInvoiceUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/commerce/transaction-invoice/update/",{})}),null);
__d("CommerceInvoiceAPI",["ActorURI","AsyncRequest","XCommerceTransactionInvoiceUpdateController","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={updateInvoiceStatus:function i(j){var k=c("XCommerceTransactionInvoiceUpdateController").getURIBuilder().getURI();k=c("ActorURI").create(k,j.pageID);var l=j.onSuccess||c("emptyFunction"),m=j.onError||c("emptyFunction"),n={invoice_id:j.invoiceID,transaction_status:j.status,receipt_reject_reason:j.receiptRejectReason,shipment_tracking_no:j.shipmentTrackingNumber};new(c("AsyncRequest"))().setURI(k).setData(n).setMethod("POST").setHandler(function(o){var p=o.getPayload();l(p)}).setErrorHandler(function(o){m()}).send()}};f.exports=h}),null);
__d("CommerceInvoiceAdminActionsTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirrorRecursive")({CREATE_INVOICE_START:"",CREATE_INVOICE_SUCCESS:"",CREATE_INVOICE_FAILURE:"",HIDE_DIALOG:"",SAVE_CONFIG:"",SET_CONFIG:"",SET_INVOICE_DETAILS:"",SET_INVOICE_NOTE:"",SET_PRODUCT_PRICE:"",SET_SELECTED_PRODUCTS:"",SHOW_DIALOG:"",SHOW_MANAGE_INVOICE_DIALOG:"",UPDATE_INVOICE_STATUS_START:"",UPDATE_INVOICE_STATUS_SUCCESS:"",MANAGE_INVOICE_ERROR:"",HIDE_MANAGE_INVOICE_DIALOG:"",TOGGLE_ADMIN_ACTION_DIALOG:""});f.exports=h}),null);
__d("CommerceInvoiceAdminDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("XCommerceAdminTransactionInvoiceDetailsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messages/commerce/admin/transaction_invoice_details/",{invoice_id:{type:"FBID",required:true}})}),null);
__d("XCommerceTransactionInvoiceConfigController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/commerce/transaction/invoice/config/",{})}),null);
__d("CommerceInvoiceAdminActions",["fbt","CommerceInvoiceAdminActionsTypes","ActorURI","AsyncRequest","CommerceInvoiceAPI","CommerceInvoiceAdminDispatcher","XCommerceAdminTransactionInvoiceDetailsController","XCommerceTransactionInvoiceConfigController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={setConfig:function j(k){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SET_CONFIG,config:k})},createInvoiceStart:function j(){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_START})},createInvoiceSuccess:function j(){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_SUCCESS})},createInvoiceFailure:function j(k){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_FAILURE,error:k})},hideDialog:function j(){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").HIDE_DIALOG})},hideManageInvoiceDialog:function j(){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").HIDE_MANAGE_INVOICE_DIALOG})},saveConfiguration:function j(){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SAVE_CONFIG})},setInvoiceDetails:function j(k,l){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SET_INVOICE_DETAILS,invoiceID:k,invoiceDetails:l})},setInvoiceNote:function j(k){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SET_INVOICE_NOTE,invoiceNote:k})},setProductPrice:function j(k,l){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SET_PRODUCT_PRICE,productID:k,price:l})},setSelectedProducts:function j(k){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SET_SELECTED_PRODUCTS,products:k})},showDialog:function j(){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SHOW_DIALOG})},showManageInvoiceDialog:function j(k,l){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SHOW_MANAGE_INVOICE_DIALOG,invoiceID:k,pageID:l})},updateInvoiceStatusStart:function j(k,l){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").UPDATE_INVOICE_STATUS_START,invoiceID:l,pageID:k})},updateInvoiceStatusSuccess:function j(k,l,m){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").UPDATE_INVOICE_STATUS_SUCCESS,invoiceID:l,pageID:k,status:m})},setManageInvoiceError:function j(k,l){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").MANAGE_INVOICE_ERROR,invoiceID:k,errorMessage:l})},fetchInvoiceDetails:function j(k,l){var m=c("XCommerceAdminTransactionInvoiceDetailsController").getURIBuilder().setFBID("invoice_id",l).getURI(),n=c("ActorURI").create(m,k);new(c("AsyncRequest"))().setURI(n).setHandler(function(o){var p=o.payload,q=p.items[0],r={id:q.product_item_id,imageURL:q.product_image_uri,name:q.product_name,price:q.product_price/100},s={currency:p.currency,id:p.invoice_id,pageID:p.page_id,status:p.status,statusDisplay:p.status_display,totalCost:p.total_cost,products:[r],availableShippingOptions:p.available_shipping_options,selectedShippingOption:p.selected_shipping_option,availablePaymentOptions:p.available_payment_options,selectedPaymentOption:p.selected_payment_option,receiptPhotoURL:p.receipt_photo_url,shippingAddress:p.ship_to_address,note:p.invoice_notes,customerPhoneNumber:p.customer_phone_number};i.setInvoiceDetails(l,s)}).send()},fetchConfig:function j(k){var l=c("XCommerceTransactionInvoiceConfigController").getURIBuilder().getURI(),m=c("ActorURI").create(l,k);new(c("AsyncRequest"))().setURI(m).setHandler(function(n){var o=n.payload,p={isOnboarded:o.isOnboarded,businessEmail:o.merchantSettings.contactEmail,paymentMethods:o.paymentOptions,shippingOptions:o.shippingOptions,merchantSettings:o.merchantSettings};i.setConfig(p)}).send()},updateInvoiceStatus:function j(k,l,m){this.updateInvoiceStatusStart(k,l);c("CommerceInvoiceAPI").updateInvoiceStatus({invoiceID:l,pageID:k,status:m,onSuccess:function(){this.updateInvoiceStatusSuccess(k,l,m)}.bind(this),onError:function(){var n=h._("There was an error updating the order status");this.setManageInvoiceError(l,n)}.bind(this)})},toggleActionsDialog:function j(k){var l=arguments.length<=1||arguments[1]===undefined?null:arguments[1],m=arguments.length<=2||arguments[2]===undefined?null:arguments[2],n=arguments.length<=3||arguments[3]===undefined?null:arguments[3];c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").TOGGLE_ADMIN_ACTION_DIALOG,showDialog:k,messageID:l,dialogView:m,referrer:n})}};f.exports=i}),null);
__d("HovercardLink",["Bootloader","URI"],(function a(b,c,d,e,f,g){__p&&__p();var h={getBaseURI:function i(){return new(c("URI"))("/ajax/hovercard/hovercard.php")},constructEndpoint:function i(j,k){return h.constructEndpointWithGroupAndLocation(j,k,null)},constructEndpointWithLocation:function i(j,k){return h.constructEndpointWithGroupAndLocation(j,null,k)},constructEndpointWithGroupAndLocation:function i(j,k,l,m){return h.constructEndpointWithGroupLocationAndExtraParams(j,k,l,m)},constructEndpointWithGroupLocationAndExtraParams:function i(j,k,l,m){__p&&__p();var n=arguments.length<=4||arguments[4]===undefined?null:arguments[4],o=new(c("URI"))(h.getBaseURI()).setQueryData({id:j.id}),p={};if(n!==null)for(var q in n)p[q]=n[q];if((j.weakreference||m)&&k)p.group_id=k;if(l)p.hc_location=l;if(k)p.directed_target_id=k;o.addQueryData({extragetparams:JSON.stringify(p)});return o}};f.exports=h}),null);
__d("FacepileRounded.react",["cx","fbt","ix","Image.react","React","Tooltip.react","HovercardLink","Link.react","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props,p=o.className,q=o.profiles,r=o.message,s=o.numProfilesToDisplay,t=null;if(r)t=c("React").createElement("div",{className:"_4mnt"},r);var u=s?q.slice(0,s).map(function(v,w){return this.$FacepileRounded1(v,w)}.bind(this)):q.map(function(v,w){return this.$FacepileRounded1(v,w)}.bind(this));return c("React").createElement("div",{className:c("joinClasses")("_4mnv",p)},c("React").createElement("div",{className:"_4mnw"},u,this.$FacepileRounded2()),t)};n.prototype.$FacepileRounded2=function(){__p&&__p();var o=this.props,p=o.direction,q=o.imageSize,r=o.profiles,s=o.remainingProfilesCount,t=o.numProfilesToDisplay,u=o.showRemainingProfilesCount;if(!t)return null;var v=s?s:r.length-t,w=r.slice(t).map(function(C){return C.name}).filter(Boolean),x=w.join("\n"),y=v-w.length;if(y>0){var z=i._({"*":"and {count} others.","_1":"and {count} other."},[i.param("count",y),i.plural(y)]);x+="\n"+z.toString()}var A={borderRadius:q,height:q,marginLeft:-(q*.3125)+"px",minWidth:q,position:p==="descending"?"relative":null,zIndex:p==="descending"?0:null},B=this.$FacepileRounded3(q);return v>0?c("React").createElement(c("Tooltip.react"),{className:"_4mns",key:"remainingFaceCount",tooltip:x},u||!B?c("React").createElement("span",{className:"_4mnq _34n6",style:A},c("React").createElement("span",{className:"_40vg"},v)):c("React").createElement("div",{className:"_4mnq",style:A},c("React").createElement(c("Image.react"),{className:"_1h_6",src:B}))):null};n.prototype.$FacepileRounded1=function(o,p){__p&&__p();var q=this.props,r=q.direction,s=q.imageSize,t=q.profiles,u=q.showNames,v=q.showHovercards,w=q.isClickable,x=o.glyph_size,y=o.image_src,z=o.entity_id,A={},B=x||s;A.height=B+"px";A.width=B+"px";if(p>0)A.marginLeft=-(B*.3125)+"px";if(r==="descending"){A.position="relative";A.zIndex=t.length-p}var C="_4mnq";if(o.className)C=c("joinClasses")(C,o.className);var D=c("React").createElement("div",{className:C,key:p,style:A},c("React").createElement(c("Image.react"),{className:"_1h_6",height:B,src:y,width:B}));if(u&&!v&&o.name)D=c("React").createElement(c("Tooltip.react"),{className:"_4mns",key:p+o.image_src,tooltip:o.name},D);if(z&&(w||v)){var E={};if(v){var F=c("HovercardLink").constructEndpoint({id:z}).toString();E["data-hovercard"]=F}if(w)E.href="/"+z;D=c("React").createElement(c("Link.react"),babelHelpers["extends"]({},E,{key:p}),D)}return D};n.prototype.$FacepileRounded3=function(o){switch(o){case 16:return j("409177");case 20:return j("409178");case 28:return j("409179");case 32:return j("409180");case 48:return j("409181")}return null};function n(){k.apply(this,arguments)}n.defaultProps={direction:"ascending",imageSize:32,showNames:false,isClickable:false,showHovercards:false,showRemainingProfilesCount:true};n.propTypes={className:m.string,direction:m.string,imageSize:m.number,message:m.oneOfType([m.array,m.string,m.object]),numProfilesToDisplay:m.number,remainingProfilesCount:m.number,profiles:m.arrayOf(m.shape({image_src:m.any.isRequired,className:m.string,glyph_size:m.number,name:m.string,entity_id:m.string})).isRequired,showNames:m.bool,showHovercards:m.bool,isClickable:m.bool,showRemainingProfilesCount:m.bool};f.exports=n}),null);
__d("PagesCommerceBuyerNUXDialog.react",["cx","fbt","ix","Image.react","LayerFadeOnHide","LayerFadeOnShow","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=400,n=j("276000");k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$PagesCommerceBuyerNUXDialog2=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").PAGES_COMMERCE_BUYER_NUX);this.props.onConfirm()}.bind(this),this.$PagesCommerceBuyerNUXDialog3=function(u){if(!u)this.$PagesCommerceBuyerNUXDialog2()}.bind(this),q}o.prototype.$PagesCommerceBuyerNUXDialog1=function(){return i._("OK")};o.prototype.$PagesCommerceBuyerNUXDialog4=function(){return c("React").createElement("div",{className:"_1lc0"},c("React").createElement(c("XUIButton.react"),{className:"_1lcd",label:this.$PagesCommerceBuyerNUXDialog1(),size:"xxlarge",use:"confirm",onClick:this.$PagesCommerceBuyerNUXDialog2}))};o.prototype.$PagesCommerceBuyerNUXDialog5=function(){return c("React").createElement("ul",{className:"_1lce"},c("React").createElement("li",{className:"_1lcf"},c("React").createElement(c("Image.react"),{className:"_1_2f",src:j("275996")}),c("React").createElement(c("XUIText.react"),{className:"_1_2g",size:"large"},i._("Use your bank account or credit card."))),c("React").createElement("li",{className:"_1lcf"},c("React").createElement(c("Image.react"),{className:"_1_2f",src:j("275998")}),c("React").createElement(c("XUIText.react"),{className:"_1_2g",size:"large"},i._("Payments are protected and private."))),c("React").createElement("li",{className:"_1lcf"},c("React").createElement(c("Image.react"),{className:"_1_2f",src:j("275997")}),c("React").createElement(c("XUIText.react"),{className:"_1_2g",size:"large"},i._("FREE! No extra fees or charges."))))};o.prototype.render=function(){if(!this.props.isShown)return null;return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide"),LayerFadeOnShow:c("LayerFadeOnShow")},onToggle:this.$PagesCommerceBuyerNUXDialog3,shown:this.props.isShown,width:this.props.width||m},c("React").createElement(c("XUIDialogBody.react"),{className:"_52jv"},c("React").createElement(c("Image.react"),{className:"_1lcg",src:n}),c("React").createElement("div",{className:"_1lci"},i._("Instant, secure payments on Messenger.")),this.$PagesCommerceBuyerNUXDialog5(),this.$PagesCommerceBuyerNUXDialog4()))};f.exports=o}),null);
__d("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"InstantGameLogCustomEventData!",defaultValue:null}],j=[{kind:"LinkedField",alias:"logCustomEvent",name:"instant_game_log_custom_event",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"InstantGameLogCustomEventData!"}],concreteType:"InstantGameLogCustomEventResponsePayload",plural:false,selections:[{kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"mutation",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",id:"1543857295701947",text:null,metadata:{},fragment:{kind:"Fragment",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:j},operation:{kind:"Operation",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",argumentDefinitions:i,selections:j}}}();f.exports=h}),null);
__d("MessengerGamesCustomUpdateAdminContainerQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"gameID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"gameID",type:"ID!"}];return{kind:"Request",operationKind:"query",name:"MessengerGamesCustomUpdateAdminContainerQuery",id:"1444897842249195",text:null,metadata:{},fragment:{kind:"Fragment",name:"MessengerGamesCustomUpdateAdminContainerQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"InlineFragment",type:"Application",selections:[{kind:"LinkedField",alias:"gameInfo",name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:false,selections:[{kind:"FragmentSpread",name:"MessengerGamesCustomUpdateAdmin_gameInfo",args:null}]}]}]}]},operation:{kind:"Operation",name:"MessengerGamesCustomUpdateAdminContainerQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"InlineFragment",type:"Application",selections:[{kind:"LinkedField",alias:"gameInfo",name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:false,selections:[{kind:"ScalarField",alias:"name",name:"game_name",args:null,storageKey:null},{kind:"ScalarField",alias:"iconURI",name:"icon_uri",args:null,storageKey:null}]}]}]}]}}}();f.exports=h}),null);
__d("MessengerGamesCustomUpdateAdmin_gameInfo.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={kind:"Fragment",name:"MessengerGamesCustomUpdateAdmin_gameInfo",type:"GamesInstantPlayStyleInfo",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"name",name:"game_name",args:null,storageKey:null},{kind:"ScalarField",alias:"iconURI",name:"icon_uri",args:null,storageKey:null}]};f.exports=h}),null);
__d("MercuryLWARenderer",["MercuryConfig","MessengerTextWithEntities.react","MessengerLightweightActionUtils","React","TextWithEntities.react"],(function a(b,c,d,e,f,g){"use strict";var h={renderCollapsedText:function i(j){var k=null;if(c("MercuryConfig").MessengerNewEmojiGK)k=c("React").createElement(c("MessengerTextWithEntities.react"),{renderEmoji:true,renderEmoticons:true,text:c("MessengerLightweightActionUtils").getCollapsedLWAText(j)});else k=c("React").createElement(c("TextWithEntities.react"),{renderEmoji:true,renderEmoticons:true,text:c("MessengerLightweightActionUtils").getCollapsedLWAText(j)});return c("React").createElement("span",null,k)}};f.exports=h}),null);
__d("MNCommercePromotionStateActions",["MessengerDispatcher","MNCommerceActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h={stateLoaded:function i(j){c("MessengerDispatcher").dispatch({type:c("MNCommerceActionTypes").PROMOTION_STATE.LOADED,state:j})},stateLoadError:function i(j){c("MessengerDispatcher").dispatch({type:c("MNCommerceActionTypes").PROMOTION_STATE.LOAD_ERROR,pageID:j})},stateReload:function i(j){c("MessengerDispatcher").dispatch({type:c("MNCommerceActionTypes").PROMOTION_STATE.RELOAD,pageID:j})}};f.exports=h}),null);
__d("XMNCommercePromotionBlockController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messages/commerce/promotion/block/",{page_id:{type:"String",required:true},type:{type:"String",required:true}})}),null);
__d("MNCommercePromotionBlockDataManager",["AsyncRequest","MNCommercePromotionStateActions","XMNCommercePromotionBlockController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.block=function(i,j){var k=c("XMNCommercePromotionBlockController").getURIBuilder().setString("page_id",i).setString("type",j).getURI();new(c("AsyncRequest"))().setURI(k).setHandler(this.$MNCommercePromotionBlockDataManager1).setErrorHandler(this.$MNCommercePromotionBlockDataManager2).send()};h.prototype.$MNCommercePromotionBlockDataManager1=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c("MNCommercePromotionStateActions").stateReload(k)};h.prototype.$MNCommercePromotionBlockDataManager2=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c("MNCommercePromotionStateActions").stateLoadError(k)};function h(){}f.exports=new h()}),null);
__d("MNCommercePromotionManageBlockDialog.react",["fbt","MessengerEnvironment","Link.react","MessengerRadioList.react","MNCommerceButton.react","MNCommerceDetailsDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react","MNCommerceBlockTypeJSInstance","React","URI","WorkModeConfig","XUIRadioList.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("MessengerRadioList.react").Item,l=c("XUIRadioList.react").Item,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(p,q){j.constructor.call(this,p,q);o.call(this);this.state=this.$MNCommercePromotionManageBlockDialog1()}n.prototype.componentWillReceiveProps=function(p){this.setState(this.$MNCommercePromotionManageBlockDialog1(p))};n.prototype.$MNCommercePromotionManageBlockDialog1=function(p){var q=p||this.props,r=c("MNCommerceBlockTypeJSInstance").ALL;if(q.isAllBlocked||q.isPromotionBlocked)r=c("MNCommerceBlockTypeJSInstance").NONE;return{type:r}};n.prototype.render=function(){var p=this.props.merchantName||"",q=h._("Manage messages from {label for merchant name}",[h.param("label for merchant name",p)]),r=h._("Cancel"),s=h._("Confirm"),t=h._("Manage Options couldn't be shown."),u=c("WorkModeConfig").is_work_user?new(c("URI"))("https://facebook.com/help/work/1731361900459513").setSubdomain(c("WorkModeConfig").company_subdomain||""):new(c("URI"))("https://www.facebook.com/help/389645087895231"),v=c("React").createElement(c("Link.react"),{href:u,target:"_blank"},h._("Learn More"));return c("React").createElement(c("MNCommerceDetailsDialog.react"),babelHelpers["extends"]({errorMessage:t,onToggle:this.props.onToggle,shown:this.props.shown},this.props),c("React").createElement(c("MNCommerceDialogTitle.react"),{showCloseButton:true},q),c("React").createElement(c("MNCommerceDialogBody.react"),null,this.$MNCommercePromotionManageBlockDialog2()),c("React").createElement(c("MNCommerceDialogFooter.react"),{leftContent:v},c("React").createElement(c("MNCommerceButton.react"),{label:r,onClick:this.props.onCancelButtonClick,use:"default"}),c("React").createElement(c("MNCommerceButton.react"),{label:s,onClick:this.$MNCommercePromotionManageBlockDialog3,use:"confirm"})))};n.prototype.$MNCommercePromotionManageBlockDialog2=function(){var p=c("MessengerEnvironment").messengerui,q=p?c("MessengerRadioList.react"):c("XUIRadioList.react"),r=p?k:l;return c("React").createElement(q,{selectedValue:this.state.type,onValueChange:this.onTypeChange},c("React").createElement(r,{value:c("MNCommerceBlockTypeJSInstance").ALL},h._("Receive all messages")),c("React").createElement(r,{value:c("MNCommerceBlockTypeJSInstance").NONE},h._("Turn off all messages")))};n.propTypes={isAllBlocked:m.bool,isPromotionBlocked:m.bool,error:m.object,loading:m.bool.isRequired,merchantName:m.string,onCancelButtonClick:m.func,onConfirmButtonClick:m.func.isRequired,pageID:m.string};var o=function o(){this.onTypeChange=function(p){this.setState({type:p})}.bind(this);this.$MNCommercePromotionManageBlockDialog3=function(p){var q=this.props;q.onToggle(false);if(!q.onConfirmButtonClick)return;var r=q.pageID;q.onConfirmButtonClick(r,this.state.type)}.bind(this)};f.exports=n}),null);
__d("XMNCommercePromotionStateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messages/commerce/promotion/state/",{page_id:{type:"String",required:true}})}),null);
__d("MNCommercePromotionStateDataManager",["AsyncRequest","MNCommercePromotionStateActions","XMNCommercePromotionStateController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.fetchPromotionState=function(i){var j=c("XMNCommercePromotionStateController").getURIBuilder().setString("page_id",i).getURI();new(c("AsyncRequest"))().setURI(j).setHandler(this.$MNCommercePromotionStateDataManager1).setErrorHandler(this.$MNCommercePromotionStateDataManager2).send()};h.prototype.$MNCommercePromotionStateDataManager1=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;i.payload.pageID=k;c("MNCommercePromotionStateActions").stateLoaded(i.payload)};h.prototype.$MNCommercePromotionStateDataManager2=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c("MNCommercePromotionStateActions").stateLoadError(k)};function h(){}f.exports=new h()}),null);
__d("MNCommercePromotionStateStore",["Cache","FluxStore","LoadObject","MessengerDispatcher","MNCommerceActionTypes","MNCommerceCacheTimeoutLimits","MNCommercePromotionStateDataManager"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("MessengerDispatcher"));this.$MNCommercePromotionStateStore1=new(c("Cache"))()}j.prototype.__onDispatch=function(k){__p&&__p();var l=k.type,m=k.pageID||k.state&&k.state.pageID;switch(l){case c("MNCommerceActionTypes").PROMOTION_STATE.LOADED:var n=k.state;this.$MNCommercePromotionStateStore1.set(m,c("LoadObject").empty().setValue(n),null,c("MNCommerceCacheTimeoutLimits").SUCCESS_TIMEOUT);this.__emitChange();break;case c("MNCommerceActionTypes").PROMOTION_STATE.LOAD_ERROR:this.$MNCommercePromotionStateStore1.set(m,c("LoadObject").empty().setError(new Error("Unable to load permissions for: "+m)),null,c("MNCommerceCacheTimeoutLimits").ERROR_TIMEOUT);this.__emitChange();break;case c("MNCommerceActionTypes").PROMOTION_STATE.RELOAD:if(m){this.$MNCommercePromotionStateStore1.set(m,c("LoadObject").loading());c("MNCommercePromotionStateDataManager").fetchPromotionState(m)}this.__emitChange();break}};j.prototype.getPromotionState=function(k){if(k&&!this.$MNCommercePromotionStateStore1.has(k)){this.$MNCommercePromotionStateStore1.set(k,c("LoadObject").loading().setValue({pageID:k}));c("MNCommercePromotionStateDataManager").fetchPromotionState(k)}return this.$MNCommercePromotionStateStore1.get(k)||c("LoadObject").empty()};f.exports=new j()}),null);
__d("MNCommercePromotionManageBlockDialogContainer.react",["MNCommerceDialogStateActions","MNCommerceDialogStateStore","MNCommercePromotionBlockDataManager","MNCommercePromotionManageBlockDialog.react","MNCommercePromotionStateActions","MNCommercePromotionStateStore","PureStoreBasedStateMixin","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").createClass({displayName:"MNCommercePromotionManageBlockDialogContainer",mixins:[c("PureStoreBasedStateMixin")(c("MNCommercePromotionStateStore"))],statics:{calculateState:function i(){var j=c("MNCommerceDialogStateStore").getState(),k=null;if(j)k=j.pageID;var l=c("MNCommercePromotionStateStore").getPromotionState(k);return{shown:!!j,loading:l.isLoading(),pageID:k,promotionState:l.getValue(),error:l.getError()}}},render:function i(){var j=this.state.promotionState;return c("React").createElement(c("MNCommercePromotionManageBlockDialog.react"),{error:this.state.error,isAllBlocked:j&&j.is_all_blocked,isPromotionBlocked:j&&j.is_promotion_blocked,loading:this.state.loading,merchantName:j&&j.name,onCancelButtonClick:this._hideDialog,onToggle:this._onToggle,pageID:this.state.pageID,onTryAgain:this._onTryAgainClick,onConfirmButtonClick:this._handleConfirmButtonClick,shown:this.state.shown})},_onToggle:function i(j){if(!j)this._hideDialog()},_onTryAgainClick:function i(){c("MNCommercePromotionStateActions").stateReload(this.state.pageID)},_hideDialog:function i(){c("MNCommerceDialogStateActions").hideDialog()},_handleConfirmButtonClick:function i(j,k){return c("MNCommercePromotionBlockDataManager").block(j,k)}});f.exports=h}),null);
__d("MNCommerceUnlinkDialog.react",["fbt","MNCommerceButton.react","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=h._("Cancel"),n=h._("Turn Off");return c("React").createElement(c("MNCommerceDialog.react"),{onToggle:this.props.onToggle,shown:this.props.shown},c("React").createElement(c("MNCommerceDialogTitle.react"),{showCloseButton:false},h._("Unlink account?")),c("React").createElement(c("MNCommerceDialogBody.react"),null,c("React").createElement("div",null,h._("You can turn off updates if you didn't sign up or just don't want to get them anymore."))),c("React").createElement(c("MNCommerceDialogFooter.react"),null,c("React").createElement(c("MNCommerceButton.react"),{label:m,onClick:this.props.onCancelButtonClick,use:"default"}),c("React").createElement(c("MNCommerceButton.react"),{label:n,onClick:this.props.onTurnOffButtonClick,use:"confirm"})))};function l(){i.apply(this,arguments)}l.propTypes={onCancelButtonClick:k.func,onTurnOffButtonClick:k.func};f.exports=l}),null);
__d("MNCommerceUnlinkErrorDialog.react",["fbt","MNCommerceAttachmentConstants","MNCommerceErrors","React","MNCommerceButton.react","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=h._("OK"),n=null,o=null;switch(this.props.errorType){case c("MNCommerceErrors").ALREADY_UNLINKED:o=c("React").createElement("div",null,h._("Updates Are Already Off"));n=c("React").createElement("div",null,h._("You aren't getting updates in Messenger."));break;default:o=c("React").createElement("div",null,h._("Couldn't Turn Off Updates"));n=c("React").createElement("div",null,h._("Sorry, something went wrong. Please try again."));break}return c("React").createElement(c("MNCommerceDialog.react"),{onToggle:this.props.onToggle,shown:this.props.shown,width:c("MNCommerceAttachmentConstants").UNLINK_ERROR_DIALOG.WIDTH},c("React").createElement(c("MNCommerceDialogTitle.react"),null,o),c("React").createElement(c("MNCommerceDialogBody.react"),null,n),c("React").createElement(c("MNCommerceDialogFooter.react"),null,c("React").createElement(c("MNCommerceButton.react"),{label:m,onClick:this.props.onOkayButtonClick,use:"confirm"})))};function l(){i.apply(this,arguments)}l.propTypes={errorType:k.number,onOkayButtonClick:k.func};f.exports=l}),null);
__d("MNCommerceUnlinkDialogContainer.react",["BanzaiLogger","MNCommerceDialogStateActions","MNCommerceDialogStateStore","MNCommerceLoggingConstants","MNCommerceLoggerEvents","MNCommerceUnlinkDialog.react","MNCommerceUnlinkErrorDialog.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$MNCommerceUnlinkDialogContainer1=function(p){if(!p)this.$MNCommerceUnlinkDialogContainer2()}.bind(this),this.$MNCommerceUnlinkDialogContainer2=function(){c("MNCommerceDialogStateActions").hideDialog()},l}j.prototype.render=function(){var k=c("MNCommerceDialogStateStore").getState();if(k&&k.errorType){c("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:c("MNCommerceLoggerEvents").DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c("MNCommerceLoggingConstants").DIALOG_SURFACE.UNLINK_ERROR})});return c("React").createElement(c("MNCommerceUnlinkErrorDialog.react"),{onToggle:this.$MNCommerceUnlinkDialogContainer1,shown:!!k,errorType:k.errorType,onOkayButtonClick:this.$MNCommerceUnlinkDialogContainer2})}else{c("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:c("MNCommerceLoggerEvents").DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c("MNCommerceLoggingConstants").DIALOG_SURFACE.UNLINK})});return c("React").createElement(c("MNCommerceUnlinkDialog.react"),{onToggle:this.$MNCommerceUnlinkDialogContainer1,shown:!!k,onCancelButtonClick:this.$MNCommerceUnlinkDialogContainer2,onTurnOffButtonClick:k&&k.onTurnOffButtonClick})}};f.exports=j}),null);
__d("XMNCommerceUnlinkController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messages/commerce/unlink/",{page_id:{type:"String",required:true},user_id:{type:"String",required:true}})}),null);
__d("MNCommerceUnlinkDataManager",["AsyncRequest","MNCommerceDialogStateActions","MNCommerceUnlinkDialogContainer.react","XMNCommerceUnlinkController"],(function a(b,c,d,e,f,g){"use strict";h.prototype.unlink=function(i,j){var k=c("XMNCommerceUnlinkController").getURIBuilder().setString("page_id",i).setString("user_id",j).getURI();new(c("AsyncRequest"))().setURI(k).setErrorHandler(this.$MNCommerceUnlinkDataManager1).send()};h.prototype.$MNCommerceUnlinkDataManager1=function(i){c("MNCommerceDialogStateActions").showDialog(c("MNCommerceUnlinkDialogContainer.react"),{errorType:i.error})};function h(){}f.exports=new h()}),null);
__d("MNCommerceLogMessageUtils",["cx","fbt","invariant","BanzaiLogger","Link.react","MercuryIDs","MercuryThreads","MNCommerceLoggingConstants","MNCommerceLoggerEvents","MNCommerceDialogStateActions","MNCommerceReplyTypes","MNCommercePromotionBlockDataManager","MNCommercePromotionManageBlockDialogContainer.react","MNCommerceUnlinkDataManager","MNCommerceUnlinkDialogContainer.react","React","gkx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("MercuryThreads").get();l.prototype.isCommercePageAdminMessage=function(m){return!!(m&&m.log_message_data&&(m.log_message_data.replyType===c("MNCommerceReplyTypes").COMMERCE_LINK||m.log_message_data.replyType===c("MNCommerceReplyTypes").COMMERCE_UNLINK))};l.prototype.getCommercePageManage=function(m,n){__p&&__p();var o=null;if(c("gkx")("AT7IUpMNCDwRhHRxDzBLrJpPbYE8uTJ1DeVPi7kI4P6d1kkPlaoUvVQ4PD7tRb3ytv8Qfy0k-XTjn2GSfPmPRWCn")){var p=function p(){var r=c("MercuryIDs").getUserIDFromParticipantID(m.author),s=function s(r,t){return c("MNCommercePromotionBlockDataManager").block(r,t)};c("MNCommerceDialogStateActions").showDialog(c("MNCommercePromotionManageBlockDialogContainer.react"),{pageID:r,onConfirmButtonClick:s});c("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:c("MNCommerceLoggerEvents").DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:c("MNCommerceLoggingConstants").DIALOG_SURFACE.MANAGE})})};o=c("React").createElement(c("Link.react"),{className:(!n?"_2w2m":"")+(n?" _1jvn":""),onClick:p},i._("Manage"))}else if(m.log_message_data.replyType===c("MNCommerceReplyTypes").COMMERCE_LINK){var q=function q(){__p&&__p();var r=c("MercuryIDs").getUserIDFromParticipantID(m.author),s=k.getThreadMetaNow(m.thread_id);s||j(0);var t=null;s.participants.every(function(v){if(v!==m.author){t=c("MercuryIDs").getUserIDFromParticipantID(v);return false}return true});var u=function u(){c("MNCommerceDialogStateActions").hideDialog();c("MNCommerceUnlinkDataManager").unlink(r,t)};c("MNCommerceDialogStateActions").showDialog(c("MNCommerceUnlinkDialogContainer.react"),{onTurnOffButtonClick:u});c("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:c("MNCommerceLoggerEvents").DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:c("MNCommerceLoggingConstants").DIALOG_SURFACE.UNLINK})})};o=c("React").createElement(c("Link.react"),{className:(!n?"_2w2m":"")+(n?" _1jvn":""),onClick:q},i._("Turn Off"))}return c("React").createElement("span",null,m.log_message_body," ",o)};function l(){}f.exports=new l()}),null);
__d("AdPageMessageTypeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble"})}),null);
__d("MNCommerceReportFlowType",[],(function a(b,c,d,e,f,g){var h=Object.freeze({HIDE:"hide",REPORT:"report",WHY:"why",USEFUL:"useful",WHAT:"what"});f.exports=h}),null);
__d("XMessengerDotComSponsoredMessagesXOutReportMutationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messenger/sponsored_message/xout/mutation/",{ad_id:{type:"String",required:true},ad_client_token:{type:"String",required:true}})}),null);
__d("XMessengerDotComSponsoredMessagesXOutSubmitPageController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messenger/sponsored_message/xout/submit/",{ad_token:{type:"String",required:true},selected_option_type:{type:"String",required:true},event_type:{type:"String",required:true}})}),null);
__d("MNAdsMessageUtils",["ix","cx","fbt","AdPageMessageTypeEnum","Bootloader","FBJSON","Image.react","Link.react","MercuryIDs","MessagingGenericAdminTextType","MessagingTag","MessengerPopoverMenu.react","MNCommerceDialogStateActions","MNCommercePromotionBlockDataManager","MNCommerceReportFlowType","React","ReactXUIMenu","XAsyncRequest","XMessengerDotComSponsoredMessagesXOutReportMutationController","XMessengerDotComSponsoredMessagesXOutSubmitPageController","fbglyph","getPageIDFromThreadID","gkx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("ReactXUIMenu").Item,l="offsite_ad";m.prototype.isAdsMessageRequest=function(n){return n.folder==c("MessagingTag").PENDING&&!!n.last_message_type&&n.last_message_type!==c("AdPageMessageTypeEnum").NON_AD};m.prototype.renderAdsMessageRequestStatus=function(){var n=j._("Sponsored");return c("React").createElement("span",null,n)};m.prototype.isAdsAdminMessage=function(n){return n&&n.log_message_data&&n.log_message_data.message_type&&n.log_message_data.message_type===c("MessagingGenericAdminTextType").AD_MANAGE_MESSAGE};m.prototype.isOffsiteAd=function(n){__p&&__p();if(n.log_message_data&&n.log_message_data.untypedData&&n.log_message_data.untypedData.ad_properties){var o=c("FBJSON").parse(n.log_message_data.untypedData.ad_properties);for(var p=o,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s;if(t===l)return true}}return false};m.prototype.getadPreferencesUrl=function(n){if(n.log_message_data&&n.log_message_data.untypedData&&n.log_message_data.untypedData.ad_preferences_link)return n.log_message_data.untypedData.ad_preferences_link;return""};m.prototype.hasAdProperties=function(n){if(n.log_message_data&&n.log_message_data.untypedData&&n.log_message_data.untypedData.ad_properties)return true;return false};m.prototype.getadId=function(n){if(n.log_message_data&&n.log_message_data.untypedData&&n.log_message_data.untypedData.ad_id)return n.log_message_data.untypedData.ad_id;return null};m.prototype.getadClientToken=function(n){if(n.log_message_data&&n.log_message_data.untypedData&&n.log_message_data.untypedData.ad_client_token)return n.log_message_data.untypedData.ad_client_token;return null};m.prototype.getAdsPageManage=function(n,o){__p&&__p();var p,q=this,r=null;if(c("gkx")("AT7IUpMNCDwRhHRxDzBLrJpPbYE8uTJ1DeVPi7kI4P6d1kkPlaoUvVQ4PD7tRb3ytv8Qfy0k-XTjn2GSfPmPRWCn"))if(n.is_sponsored&&c("gkx")("AT6C9eFRZzv5aBnUbaPl8EMWoqk-0PCoHr4DzPcUAeGCIPHwjkC5o9BVL5F3ssfwh4ZkvikNKfodzFNR-DeT2dYAgSi3Qtu4mOiYCkgV3jT-dQ"))(function(){__p&&__p();var t=q.getadId(n),u=q.getadClientToken(n),v=function v(){__p&&__p();var B=c("getPageIDFromThreadID")(n.thread_id);if(!B)B=c("MercuryIDs").getUserIDFromParticipantID(n.author);if(t!==null){var C=c("XMessengerDotComSponsoredMessagesXOutReportMutationController").getURIBuilder().setString("ad_id",t).setString("ad_client_token",u).getURI();new(c("XAsyncRequest"))(C).setHandler(function(E){if(E.payload.err||E.payload===false)c("Bootloader").loadModules(["SimpleXUIDialog"],function(F){F.show(j._("We Couldn't Hide This Ad. Please try again later."))},"MNAdsMessageUtils")}).setMethod("POST").send()}var D=function D(E){if(u!==null){var F=c("XMessengerDotComSponsoredMessagesXOutSubmitPageController").getURIBuilder().setString("ad_token",u).setString("selected_option_type",E).setString("event_type",c("MNCommerceReportFlowType").HIDE).getURI();new(c("XAsyncRequest"))(F).setMethod("POST").send()}};c("Bootloader").loadModules(["MNAdsHideAdDialogContainer.react"],function(E){c("MNCommerceDialogStateActions").showDialog(E,{onConfirmButtonClick:D,pageID:B})},"MNAdsMessageUtils")},w=function w(){__p&&__p();var B=c("getPageIDFromThreadID")(n.thread_id);if(!B)B=c("MercuryIDs").getUserIDFromParticipantID(n.author);var C=function C(D){__p&&__p();if(t!==null){var E=c("XMessengerDotComSponsoredMessagesXOutReportMutationController").getURIBuilder().setString("ad_id",t).setString("ad_client_token",u).getURI();new(c("XAsyncRequest"))(E).setHandler(function(G){if(G.payload.err||G.payload===false)c("Bootloader").loadModules(["SimpleXUIDialog"],function(H){H.show(j._("We Couldn't Hide This Ad. Please try again later."))},"MNAdsMessageUtils")}).setMethod("POST").send()}if(u!==null){var F=c("XMessengerDotComSponsoredMessagesXOutSubmitPageController").getURIBuilder().setString("ad_token",u).setString("selected_option_type",D).setString("event_type",c("MNCommerceReportFlowType").REPORT).getURI();new(c("XAsyncRequest"))(F).setMethod("POST").send()}};c("Bootloader").loadModules(["MNAdsReportAdDialogContainer.react"],function(D){c("MNCommerceDialogStateActions").showDialog(D,{onConfirmButtonClick:C,pageID:B})},"MNAdsMessageUtils")},x=function x(){c("Bootloader").loadModules(["SimpleXUIDialog"],function(B){if(u!==null){var C=c("XMessengerDotComSponsoredMessagesXOutSubmitPageController").getURIBuilder().setString("ad_token",u).setString("selected_option_type","useful").setString("event_type",c("MNCommerceReportFlowType").USEFUL).getURI();new(c("XAsyncRequest"))(C).setMethod("POST").send()}B.show(j._("Thank you for the feedback"))},"MNAdsMessageUtils")},y="https://www.facebook.com/help/messenger-app/948677458561379",z=q.getadPreferencesUrl(n),A=c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(k,{icon:c("React").createElement(c("Image.react"),{src:h("123107")}),key:c("MNCommerceReportFlowType").HIDE,onclick:v},j._("Hide Ad")),c("React").createElement(k,{icon:c("React").createElement(c("Image.react"),{src:h("123502")}),key:c("MNCommerceReportFlowType").REPORT,onclick:w},j._("Report Ad")),c("React").createElement(k,{href:z,icon:q.hasAdProperties(n)?c("React").createElement(c("Image.react"),{src:h("122203")}):c("React").createElement(c("Image.react"),{src:h("123137")}),key:c("MNCommerceReportFlowType").WHY,target:"_blank"},j._("Why am I seeing this?")),c("React").createElement(k,{icon:c("React").createElement(c("Image.react"),{src:h("122574")}),key:c("MNCommerceReportFlowType").USEFUL,onclick:x},j._("This ad is useful")),c("React").createElement(k,{href:y,icon:c("React").createElement(c("Image.react"),{src:h("123230")}),key:c("MNCommerceReportFlowType").WHAT,target:"_blank"},j._("What are sponsored messages?")));r=c("React").createElement(c("MessengerPopoverMenu.react"),{"aria-label":"Manage Messages","data-tooltip-content":"Manage Messages","data-hover":"tooltip",menu:A},c("React").createElement(c("Link.react"),{className:(!o?"_3kyk":"")+(o?" _3kyl":"")},j._("Manage")))})();else{var s=function(){var t=this.isOffsiteAd(n),u=c("getPageIDFromThreadID")(n.thread_id);if(!u)u=c("MercuryIDs").getUserIDFromParticipantID(n.author);var v=this.getadPreferencesUrl(n),w=function w(u,x){return c("MNCommercePromotionBlockDataManager").block(u,x)};c("Bootloader").loadModules(["MNAdsMessagesManageBlockDialogContainer.react"],function(x){c("MNCommerceDialogStateActions").showDialog(x,{adPreferencesUrl:v,isOffsiteAd:t,onConfirmButtonClick:w,pageID:u})},"MNAdsMessageUtils")}.bind(this);r=c("React").createElement(c("Link.react"),{className:(!o?"_3kyk":"")+(o?" _3kyl":""),onClick:s},j._("Manage"))}return c("React").createElement("span",{className:!o?"_3kym":""},n.log_message_body," \xb7 ",r)};m.prototype.getadUrl=function(n){if(n.log_message_data&&n.log_message_data.untypedData&&n.log_message_data.untypedData.ad_url)return n.log_message_data.untypedData.ad_url;return""};m.prototype.getAdContextAdminMessage=function(n){var o=this.getadUrl(n),p=c("React").createElement(c("Link.react"),{className:"_36ql",href:o},j._("View Ad"));return c("React").createElement("span",{className:"_3kym"},n.log_message_body," ",p)};function m(){}f.exports=new m()}),null);
__d("InstantGamesAnalyticsLogger",["Promise","ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ClientIDs").getNewClientID,i=c("RelayModern").commitMutation,j=c("RelayModern").graphql,k=function k(){return c("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql")};function l(m){this.$InstantGamesAnalyticsLogger1=m}l.prototype.logCustomAppEvent=function(m){var n=arguments.length<=1||arguments[1]===undefined?null:arguments[1],o=arguments.length<=2||arguments[2]===undefined?null:arguments[2],p=o?JSON.stringify(o):null;return new(c("Promise"))(function(q,r){i(c("RelayFBEnvironment"),{mutation:k,variables:{input:{actor_id:c("RelayAPIConfig").actorID,event_name:m,game_id:this.$InstantGamesAnalyticsLogger1,client_mutation_id:h(),value_to_sum:n,params:p}},onCompleted:q,onError:r})}.bind(this))};f.exports=l}),null);
__d("MessengerGamesCustomUpdateAdmin.react",["cx","fbt","Link.react","messengerButtonReact","messengerContactImageReact","Image.react","React","RelayModern","MessengerGamesCustomUpdateAdmin_gameInfo.graphql"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("messengerButtonReact").jsComponent,m=c("messengerContactImageReact").jsComponent,n=c("RelayModern").createFragmentContainer,o=c("RelayModern").graphql;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.prototype.render=function(){var q=this.props.data.getImageURL(),r=this.props.data.getText(),s=this.props.data.getTitle()?this.props.data.getTitle():i._("Play");if(!this.props.gameInfo)return c("React").createElement("span",null,r);return c("React").createElement("div",null,c("React").createElement(c("Link.react"),{className:"_fy2 _2621","aria-haspopup":"true","aria-label":i._("View Less"),href:"#",onClick:this.props.hideAdmin,role:"button"}),c("React").createElement("div",{className:"_261_"},c("React").createElement(m,{size:25,src:this.props.gameInfo.iconURI}),c("React").createElement("h2",{className:"_2620"},this.props.gameInfo.name)),c("React").createElement("div",{className:"_3rpv"},c("React").createElement(c("Image.react"),{className:"_3rp-",onClick:this.props.playGame,src:q}),c("React").createElement("div",{className:"_3rp_"},r),c("React").createElement("div",{className:"_3cnr"},c("React").createElement(l,{className:"_3rq0 _fy2",label:s,onClick:this.props.playGame,type:"primary",use:"default"}))))};function p(){j.apply(this,arguments)}f.exports=n(p,{gameInfo:function q(){return c("MessengerGamesCustomUpdateAdmin_gameInfo.graphql")}})}),null);
__d("MessengerGamesCustomUpdateAdminContainer.react",["fbt","MessengerGamesCustomUpdateAdmin.react","React","RelayFBEnvironment","RelayModern","MessengerGamesCustomUpdateAdminContainerQuery.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){__p&&__p();return c("React").createElement(l,{environment:c("RelayFBEnvironment"),query:i||(i=function i(){return c("MessengerGamesCustomUpdateAdminContainerQuery.graphql")}),variables:{gameID:this.props.gameID},render:function(o){__p&&__p();var p=o.error,q=o.props;if(p)return c("React").createElement("div",null,h._("Failed to Load"));else if(q){var r=q.node&&q.node.gameInfo;if(!r)return c("React").createElement("div",null,this.props.text);return c("React").createElement(c("MessengerGamesCustomUpdateAdmin.react"),babelHelpers["extends"]({},this.props,{gameInfo:r}))}return this.props.renderLoading()}.bind(this)})};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("MessengerGamesCustomUpdateData",["GamesQuicksilverContextKey","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();this.$MessengerGamesCustomUpdateData1=null;this.$MessengerGamesCustomUpdateData2=i.custom_image_url||null;this.$MessengerGamesCustomUpdateData4=i.text||i.collapsed_text||i.expanded_text||"";this.$MessengerGamesCustomUpdateData5=i.cta_title;this.$MessengerGamesCustomUpdateData6=i.template||null;var j=new(c("URI"))(i.cta_url).getQueryData();this.$MessengerGamesCustomUpdateData3=j.payload||null;var k=j.context_id||null,l=j.context_type;if(l)this.$MessengerGamesCustomUpdateData1=new(c("GamesQuicksilverContextKey"))({id:null,size:null,sourceID:k,type:l})}h.prototype.getContextKey=function(){return this.$MessengerGamesCustomUpdateData1};h.prototype.getImageURL=function(){return this.$MessengerGamesCustomUpdateData2};h.prototype.getPayload=function(){return this.$MessengerGamesCustomUpdateData3};h.prototype.getTitle=function(){return this.$MessengerGamesCustomUpdateData5};h.prototype.getText=function(){return this.$MessengerGamesCustomUpdateData4};h.prototype.getTemplate=function(){return this.$MessengerGamesCustomUpdateData6};f.exports=h}),null);
__d("MessengerGameAdminMessageRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("react-relay/classic/route/RelayRoute"));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName="MessengerGameAdminMessageRoute";j.queries={adminMessageText:function k(l){return function(m){return{calls:[{kind:"Call",metadata:{type:"MessageData!"},name:"thread_and_message_id",value:{kind:"CallVariable",callVariableName:"messageData"}}],children:[].concat.apply([],[{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"},c("react-relay/classic/query/RelayQL").__frag(m)]),fieldName:"message",kind:"Query",metadata:{isAbstract:true,identifyingArgName:"thread_and_message_id",identifyingArgType:"MessageData!"},name:"MessengerGameAdminMessageRoute",type:"Message"}}(l.getFragment("adminMessageText"))}};j.paramDefinitions={messageData:{type:"MessageData!",required:true}};f.exports=j}),null);
__d("MessengerResponsiveBlock.react",["React","createCancelableFunction","requestAnimationFrame","shallowEqual","throttle"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,visibility:"hidden",zIndex:-1},l={left:0,position:"absolute",top:0,transition:"0s"},m={height:"200%",left:0,position:"absolute",top:0,transition:"0s",width:"200%"};h=babelHelpers.inherits(n,c("React").Component);i=h&&h.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.dirty=false,this.lastWidth=null,this.lastHeight=null,this.lastBreakpointsToggles=null,this.setupWeirdScrollTracking=function(){this.refs.expandChild.style.width="10000px";this.refs.expandChild.style.height="10000px";this.refs.expand.scrollLeft=1e5;this.refs.expand.scrollTop=1e5;this.refs.shrink.scrollLeft=1e5;this.refs.shrink.scrollTop=1e5}.bind(this),this.$MessengerResponsiveBlock2=function(){__p&&__p();var t=this.refs.outer.offsetWidth,u=this.refs.outer.offsetHeight;if(t!=this.lastWidth||u!=this.lastHeight)if(!this.dirty){if(Math.abs(t-(this.lastWidth||0))<10&&Math.abs(u-(this.lastHeight||0))<16)return;this.dirty=true;this.lastWidth=t;this.lastHeight=u;var v=this.props.breakpointsToggles(t,u);if(c("shallowEqual")(this.lastBreakpointsToggles,v))this.dirty=false;else this.forceUpdate(function(){c("requestAnimationFrame")(function(){this.dirty=false}.bind(this))}.bind(this));this.lastBreakpointsToggles=v}this.setupWeirdScrollTracking()}.bind(this),p}n.prototype.componentDidMount=function(){this.$MessengerResponsiveBlock1=c("createCancelableFunction")(this.$MessengerResponsiveBlock2);this.onScroll=c("throttle")(this.$MessengerResponsiveBlock1,50);this.setupWeirdScrollTracking();this.onScroll()};n.prototype.componentWillUnmount=function(){this.$MessengerResponsiveBlock1.cancel()};n.prototype.render=function(){return c("React").createElement("div",{ref:"outer"},this.props.children(this.props.breakpointsToggles(this.lastWidth,this.lastHeight)),c("React").createElement("div",{style:k,onScroll:this.onScroll,ref:"expand"},c("React").createElement("div",{style:l,ref:"expandChild"})),c("React").createElement("div",{style:k,onScroll:this.onScroll,ref:"shrink"},c("React").createElement("div",{style:m})))};n.propTypes={children:j.func.isRequired,breakpointsToggles:j.func.isRequired};f.exports=n}),null);
__d("MessengerGamesHorizontalLeaderboard.react",["cx","messengerContactImageReact","MessengerHorizontalScroll.react","MessengerResponsiveBlock.react","React","RelayClassic","react-relay/classic/query/RelayQL"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("messengerContactImageReact").jsComponent,l=10,m=150,n=function n(q){var r=q.name,s=q.score,t=q.position;return c("React").createElement("div",{className:"_4u4_"},c("React").createElement("h3",null,r),c("React").createElement("div",null,s))},o=function o(q,r){if(!q||!q.user)return null;return c("React").createElement("div",{className:"_4u50",key:r},c("React").createElement(k,{size:40,src:q.user.profile_picture.uri,customBadge:String(r+1)}),c("React").createElement(n,{name:q.user.short_name,position:r+1,score:q.score}))};i=babelHelpers.inherits(p,c("React").PureComponent);j=i&&i.prototype;p.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad()};p.prototype.render=function(){var q=this.props.leaderboard.leaderboard_entries;return c("React").createElement(c("MessengerResponsiveBlock.react"),{breakpointsToggles:function r(s){return[s]}},function(r){var s=r[0];return c("React").createElement(c("MessengerHorizontalScroll.react"),{batchScroll:true,childPadding:l,childWidth:m,numChildrenVisible:Math.floor(s/(m+l)),width:s||0},q.map(o).filter(Boolean))})};function p(){i.apply(this,arguments)}f.exports=c("RelayClassic").createContainer(p,{fragments:{leaderboard:function q(){return function(){return{children:[{calls:[{kind:"Call",metadata:{},name:"scores_only",value:{kind:"CallValue",callValue:true}}],children:[{fieldName:"score",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"short_name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"profile_picture",kind:"Field",metadata:{canHaveSubselections:true},type:"Image"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"user",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"}],fieldName:"leaderboard_entries",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"InstantGameLeaderboardEntry"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"MessengerGamesHorizontalLeaderboard_react_LeaderboardRelayQL",type:"InstantGameLeaderboard"}}()}}})}),null);
__d("MessengerGamesExpandedAdmin.react",["cx","fbt","messengerButtonReact","messengerContactImageReact","MessengerGamesHorizontalLeaderboard.react","Link.react","React","RelayClassic","react-relay/classic/query/RelayQL","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("messengerButtonReact").jsComponent,m=c("messengerContactImageReact").jsComponent,n=function n(p){var q=p.name,r=p.uri;return c("React").createElement("div",{className:"_261_"},c("React").createElement(m,{size:25,src:r}),c("React").createElement("h2",{className:"_2620"},q))};j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;o.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad()};o.prototype.render=function(){var p,q,r=this.$MessengerGamesExpandedAdmin1(),s=this.$MessengerGamesExpandedAdmin2();if(!s||!r)return null;var t=(p=s)!=null?(p=p.game)!=null?p.name:p:p,u=(q=s)!=null?(q=q.game)!=null?(q=q.instant_game_info)!=null?q.icon_uri:q:q:q;return c("React").createElement("div",null,c("React").createElement("div",{className:"_4ea2 _2kar"}),c("React").createElement(c("Link.react"),{className:"_fy2 _2621","aria-haspopup":"true","aria-label":i._("View Less"),href:"#",onClick:this.props.hideAdmin,role:"button"}),c("React").createElement(n,{name:t,uri:u}),c("React").createElement("div",{className:"_2622"},s.expanded_text),c("React").createElement(c("MessengerGamesHorizontalLeaderboard.react"),{leaderboard:r,onLoad:this.props.onLoad}),c("React").createElement(l,{className:"_fy2 _2623",label:i._("Play Now"),onClick:this.props.playGame,type:"primary",use:"default"}),c("React").createElement("div",{className:"_4ea2 _2kar"}))};o.prototype.$MessengerGamesExpandedAdmin1=function(){var p;return(p=this.$MessengerGamesExpandedAdmin2())!=null?p.leaderboard:p};o.prototype.$MessengerGamesExpandedAdmin2=function(){var p;return(p=this.props)!=null?(p=p.adminMessageText)!=null?p.extensible_message_admin_text:p:p};function o(){j.apply(this,arguments)}f.exports=c("RelayClassic").createContainer(o,{fragments:{adminMessageText:function p(){return function(q){return{children:[{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"},{children:[{children:[{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"},{children:[{children:[{fieldName:"name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"icon_uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"instant_game_info",kind:"Field",metadata:{canHaveSubselections:true},type:"GamesInstantPlayStyleInfo"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"game",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Application"},{fieldName:"expanded_text",kind:"Field",metadata:{},type:"String"},{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},c("react-relay/classic/query/RelayQL").__frag(q)]),fieldName:"leaderboard",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"InstantGameLeaderboard"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"InstantGameUpdateExtensibleMessageAdminText",type:"InstantGameUpdateExtensibleMessageAdminText"}],fieldName:"extensible_message_admin_text",kind:"Field",metadata:{canHaveSubselections:true,isAbstract:true},type:"ExtensibleMessageAdminText"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"GenericAdminTextMessage",type:"GenericAdminTextMessage"},{children:[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{isAbstract:true},name:"IdFragment",type:"Node"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{isAbstract:true},name:"MessengerGamesExpandedAdmin_react_AdminMessageTextRelayQL",type:"Message"}}(c("MessengerGamesHorizontalLeaderboard.react").getFragment("leaderboard"))}}})}),null);
__d("MessengerGamesExpandedAdminContainer.react",["fbt","MessengerGameAdminMessageRoute","MessengerGamesExpandedAdmin.react","React","RelayClassic"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RelayClassic").RootContainer;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.renderLoaded=function(r){var s=this.props,t=s.gameID,u=s.hideAdmin,v=s.playGame,w=s.threadFBID;return c("React").createElement(c("MessengerGamesExpandedAdmin.react"),babelHelpers["extends"]({},r,{gameID:t,hideAdmin:u,onLoad:this.props.onLoad,playGame:v,threadFBID:w}))}.bind(this),n}l.prototype.render=function(){var m=this.props,n=m.messageID,o=m.threadFBID,p=m.renderLoading;return c("React").createElement(k,{Component:c("MessengerGamesExpandedAdmin.react"),route:new(c("MessengerGameAdminMessageRoute"))({messageData:{message_id:n,thread_id:o}}),renderLoading:p,renderFetched:this.renderLoaded,renderFailure:this.renderFailure})};l.prototype.renderFailure=function(){return h._("Failed to Load")};f.exports=l}),null);
__d("UniversalCustomEventField",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FB_MESSENGER_BOT_POSTBACK_EVENT:"fb_messenger_bot_postback_event",FB_MESSENGER_BOT_POSTBACK_CTA_ID:"fb_messenger_bot_cta_id",FB_MESSENGER_BOT_POSTBACK_CTA_KIND:"fb_messenger_bot_cta_kind",FB_MESSENGER_BOT_MESSAGE_TYPE:"fb_messenger_bot_message_type",FB_MESSENGER_BOT_MESSAGE_TEMPLATE_TYPE:"fb_messenger_bot_message_template_type",FB_INSTANT_ARTICLES_CTA_ID:"fb_instant_articles_cta_id",FB_INSTANT_ARTICLES_CTA_TYPE:"fb_instant_articles_cta_type",FB_INSTANT_GAMES_CONTEXT_PLAYERS:"fb_instant_games_context_players",FB_INSTANT_GAMES_CONTEXT_TYPE:"fb_instant_games_context_type",FB_INSTANT_GAMES_ENTRY_POINT:"fb_instant_games_entry_point",FB_INSTANT_GAMES_TEMPLATE_NAME:"fb_instant_games_template_name",FB_PAGE_POST_REACTION_TYPE:"fb_page_post_reaction_type",FB_PAGE_POST_ID:"fb_page_post_id",FB_PAGES_MESSAGING_LABEL:"fb_pages_messaging_label_name",FB_PAGES_MESSAGING_MESSAGE_SOURCE:"fb_pages_messaging_message_source",FB_PAGES_MESSAGING_API_MESSAGE_TYPE:"fb_pages_messaging_api_message_type",FB_CONTENT_CATEGORY:"content_category",FB_OFFLINE_UPLOAD_ID:"fb_offline_upload_id",FB_OFFLINE_ORDER_ID:"fb_offline_order_id",FB_OFFLINE_ITEM_NUMBER:"fb_offline_item_number",FB_OFFLINE_UNIQUE_ID:"fb_offline_unique_id",FB_CAMERA_EFFECT_ID:"fb_camera_effect_id",FB_CAMERA_EFFECT_NAME:"fb_camera_effect_name",FB_CAMERA_EFFECT_TYPE:"fb_camera_effect_type",FB_CAMERA_EFFECT_MEDIA_TYPE:"fb_camera_effect_media_type",FB_CAMERA_EFFECT_SHARE_CHANNEL:"fb_camera_effect_share_channel",FB_CAMERA_EFFECT_ORIGIN:"fb_camera_effect_origin"})}),null);
__d("MessengerGameAdminMessage.react",["cx","fbt","AppCustomEventType","Bootloader","BootloadOnRender.react","ImmutableObject","InstantGamesAnalyticsLogger","InstantGameContextType","JSResource","LazyComponent.react","Link.react","MercuryIDs","messengerDialogsRe","MessengerGamesCustomUpdateAdminContainer.react","MessengerGamesCustomUpdateData","MessengerGamesExpandedAdminContainer.react","QuicksilverSources","React","UniversalCustomEventField"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state=this.$MessengerGameAdminMessage1(),this.renderText=function(){return c("React").createElement("span",null,c("React").createElement("span",null,this.props.text," "),c("React").createElement(c("Link.react"),{className:"_fy2",onClick:this.state.isExpanded?this.$MessengerGameAdminMessage2:this.$MessengerGameAdminMessage4},i._("View")))}.bind(this),this.$MessengerGameAdminMessage3=function(){__p&&__p();if(this.state.playerOpen)return;c("Bootloader").loadModules(["MessengerGamesQuicksilverPlayerContainer.react"],function(s){__p&&__p();c("messengerDialogsRe").showDialog(function(){__p&&__p();var t=this.getXMATData(),u=t.update_data?JSON.parse(t.update_data):t,v=new(c("MessengerGamesCustomUpdateData"))(u);if(t.update_type==="custom_message")this.$MessengerGameAdminMessage5(t.game_id,v);var w=c("MercuryIDs").getThreadFBIDFromThreadID(this.props.message.thread_id),x=c("InstantGameContextType").SOLO,y=null,z=v.getContextKey();if(z){x=z.getType();y=z.getSourceID()}else if(w){x=c("InstantGameContextType").THREAD;y=w}return c("React").createElement(s,{contextSourceID:y,contextType:x,entryPointData:v.getPayload()||undefined,gameID:t.game_id,onHide:this.$MessengerGameAdminMessage6,source:c("QuicksilverSources").MESSENGER_ADMIN_MESSAGE,sourceID:w,invitationID:this.props.message.message_id})}.bind(this))}.bind(this),"MessengerGameAdminMessage.react");this.setState({playerOpen:true})}.bind(this),this.$MessengerGameAdminMessage6=function(){c("messengerDialogsRe").removeAllDialogs();this.setState({playerOpen:false})}.bind(this),this.$MessengerGameAdminMessage4=function(){this.setState({isExpanded:true})}.bind(this),this.$MessengerGameAdminMessage2=function(){this.setState({isExpanded:false})}.bind(this),o}m.prototype.$MessengerGameAdminMessage1=function(){return{isExpanded:this.props.isLastOfType,playerOpen:false}};m.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad()};m.prototype.componentWillReceiveProps=function(n){if(this.props.isLastOfType!==n.isLastOfType)this.setState({isExpanded:n.isLastOfType})};m.prototype.getXMATData=function(){return this.props.message.log_message_data&&this.props.message.log_message_data.untypedData?new(c("ImmutableObject"))(this.props.message.log_message_data.untypedData):new(c("ImmutableObject"))()};m.prototype.render=function(){var n=this.getXMATData(),o=null;switch(n.update_type){case"game_score":return this.state.isExpanded?c("React").createElement("span",null,c("React").createElement(c("MessengerGamesExpandedAdminContainer.react"),{hideAdmin:this.$MessengerGameAdminMessage2,gameID:n.game_id,messageID:this.props.message.message_id,playGame:this.$MessengerGameAdminMessage3,threadFBID:c("MercuryIDs").getThreadFBIDFromThreadID(this.props.message.thread_id),onLoad:this.props.onLoad,renderLoading:this.renderText})):c("React").createElement("span",null,this.renderText(),o);case"custom_message":var p=n.update_data?JSON.parse(n.update_data):n,q=new(c("MessengerGamesCustomUpdateData"))(p);return this.state.isExpanded?c("React").createElement("span",null,c("React").createElement(c("MessengerGamesCustomUpdateAdminContainer.react"),{data:q,gameID:n.game_id,hideAdmin:this.$MessengerGameAdminMessage2,playGame:this.$MessengerGameAdminMessage3,renderLoading:this.renderText,text:this.props.text})):c("React").createElement("span",null,this.renderText(),o);default:return c("React").createElement("span",null,this.props.text)}};m.prototype.$MessengerGameAdminMessage5=function(n,o){var p=new(c("InstantGamesAnalyticsLogger"))(n),q={};q[c("UniversalCustomEventField").FB_INSTANT_GAMES_TEMPLATE_NAME]=o.getTemplate();p.logCustomAppEvent(c("AppCustomEventType").FB_INSTANT_GAMES_UPDATE_CLICK,null,q)};m.propTypes={message:l.instanceOf(c("ImmutableObject")).isRequired,text:l.string.isRequired,isLastOfType:l.bool.isRequired};f.exports=m}),null);
__d("MessengerGroupPollingAllOptionsWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1517373188293417"};j.getQueryID=function(){"use strict";return"205216646649962"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerGroupPollingUtils",["ix","CurrentUser","FacepileRounded.react","MercuryIDs","MercuryParticipants","MessengerTextWithEntities.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=2,j={renderEmojiText:function k(l){return c("React").createElement(c("MessengerTextWithEntities.react"),{renderEmoji:true,renderEmoticons:true,text:l})},renderVoterFacepiles:function k(l,m,n,o,p){var q=i,r=n-i;if(n===i+1){q=n;r=0}return c("React").createElement(c("FacepileRounded.react"),{className:l,imageSize:m,direction:"descending",numProfilesToDisplay:q,remainingProfilesCount:r,profiles:this._getProfilePictures(q,o,p),showNames:true})},_getProfilePictures:function k(l,m,n){__p&&__p();if(n===true){var o=c("CurrentUser").getID(),p=m.indexOf(o);if(p!==-1){var q=m[p];m[p]=m[0];m[0]=q}}var r=m.slice(0,l).map(function(t){var u=c("MercuryIDs").getParticipantIDFromUserID(t),v=c("MercuryParticipants").getOrFetch(u);return{image_src:v&&v.image_src||h("98939"),name:v&&v.name||"Facebook User"}}),s=m.slice(l,m.length).map(function(t){var u=c("MercuryIDs").getParticipantIDFromUserID(t),v=c("MercuryParticipants").getOrFetch(u);return{image_src:t,name:v&&v.name||"Facebook User"}});return r.concat(s)}};f.exports=j}),null);
__d("MessengerGroupPollingAdminMessage.react",["cssVar","cx","fbt","ix","AsyncRequest","BootloadOnRender.react","Image.react","ImmutableObject","JSResource","LazyComponent.react","MessengerContextualDialog.react","MessengerEnvironment","MessengerGroupPollingAllOptionsWebGraphQLQuery","MessengerGroupPollingUtils","MessengerSpinner.react","React","idx"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes,o=16,p=24,q=k("86887"),r=k("86886"),s=3;l=babelHelpers.inherits(t,c("React").Component);m=l&&l.prototype;function t(){__p&&__p();var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=m.constructor).call.apply(u,[this].concat(x)),this.state={flyoutOpen:false,options:null},this.$MessengerGroupPollingAdminMessage1=false,this.$MessengerGroupPollingAdminMessage4=function(z){this.setState({flyoutOpen:z})}.bind(this),this.$MessengerGroupPollingAdminMessage5=function(){this.setState({flyoutOpen:false})}.bind(this),this.$MessengerGroupPollingAdminMessage9=function(z){this.$MessengerGroupPollingAdminMessage1=this.state.flyoutOpen}.bind(this),this.$MessengerGroupPollingAdminMessage8=function(z){z.stopPropagation();if(this.state.flyoutOpen||this.$MessengerGroupPollingAdminMessage1)return;if(!this.state.options&&!this.state.flyoutOpen)this.$MessengerGroupPollingAdminMessage2();this.setState({flyoutOpen:!this.state.flyoutOpen})}.bind(this),v}t.prototype.componentDidMount=function(){this.$MessengerGroupPollingAdminMessage2()};t.prototype.render=function(){__p&&__p();var u,v,w=this.props.customColor||"#0084ff",x=c("MessengerGroupPollingUtils").renderEmojiText(this.props.message.log_message_body),y=c("MessengerEnvironment").messengerui,z=this.props.isLastOfType||this.state.flyoutOpen&&y;if(!z)return x;var A=(u=this.props.message)!=null?(u=u.log_message_data)!=null?(u=u.untypedData)!=null?u.question_json:u:u:u,B=A&&JSON.parse(A);if(!B)return this.$MessengerGroupPollingAdminMessage3();var C=y?p:o,D=c("React").createElement("div",{className:"_8bt"+(!y?" _5il4":"")},c("React").createElement(c("MessengerSpinner.react"),{color:"grey"})),E=null;if(this.state.flyoutOpen)E=c("React").createElement(c("MessengerContextualDialog.react"),{contextRef:function(){return this.refs.voteButton}.bind(this),shown:this.state.flyoutOpen,onToggle:this.$MessengerGroupPollingAdminMessage4,onBlur:this.$MessengerGroupPollingAdminMessage5},c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{customColor:w,questionID:B.id,questionText:B.text,options:this.state.options,onSubmitHandler:this.$MessengerGroupPollingAdminMessage5}),loader:c("JSResource")("MessengerGroupPollingFlyout.react").__setRef("MessengerGroupPollingAdminMessage.react"),placeholder:D}));if(!this.state.options)return x;var F=this.state.options.slice(0,s).map(function(J){var K,L=(K=J)!=null?(K=K.voters)!=null?K.edges:K:K,M=[];if(L)M=L.map(function(N){return N.node.id});return babelHelpers["extends"]({},J,{total_count:J.voters.count,voters:M})}),G=((v=F)!=null?(v=v[0])!=null?v.total_count:v:v)||0,H=F.map(function(J){return c("React").createElement("div",{className:"_3b4a"+(!y?" _4ic5":""),key:J.id},c("React").createElement("div",{className:"_3b4c"},c("React").createElement("div",{className:(y?"_3b4f":"")+(!y?" _4ic6":"")},c("MessengerGroupPollingUtils").renderEmojiText(J.text)),c("MessengerGroupPollingUtils").renderVoterFacepiles("_4ic7"+(!y?" _8kg":""),C,J.total_count,J.voters,J.viewer_has_voted==="true")),c("React").createElement("div",{className:"_3b4h"+(!y?" _4ic8":"")},c("React").createElement("span",{style:{width:this.$MessengerGroupPollingAdminMessage6(J.total_count,G),backgroundColor:w}})))}.bind(this)),I=B.viewer_has_voted==="true"?j._("Change Vote"):j._("Vote");return c("React").createElement("div",null,x,c("React").createElement("div",{onLoad:this.props.onLoad,className:"_3b4t"+(!y?" _4ic9":"")},c("React").createElement("div",{className:"_3b4u"+(!y?" _2wew":"")},c("React").createElement(c("Image.react"),{className:"_4ica"+(!y?" _2ozk":""),src:y?q:r}),j._("Poll")),c("React").createElement("div",{className:(y?"_3b4v":"")+(!y?" _2wex":"")},c("MessengerGroupPollingUtils").renderEmojiText(B.text)),c("React").createElement("div",{className:"_3b4w"},H),c("React").createElement("div",{className:"_8bu"},this.$MessengerGroupPollingAdminMessage7(B.total_count)),c("React").createElement("div",{className:"_4icb"+(!y?" _4icc":"")+(y?" uiContextualLayerParent":"")+(y?" _5f0v":""),onClick:this.$MessengerGroupPollingAdminMessage8,onMouseDown:this.$MessengerGroupPollingAdminMessage9,ref:"voteButton",role:"button",style:{color:w},tabIndex:"0"},I,E)))};t.prototype.$MessengerGroupPollingAdminMessage3=function(){return c("React").createElement("span",null,j._("{original-admin-message} Use the mobile app to vote.",[j.param("original-admin-message",this.props.message.log_message_body)]))};t.prototype.$MessengerGroupPollingAdminMessage7=function(u){var v=u-s;if(v<=0)return null;else return j._({"*":"{number of remaining answer options} more options...","_1":"{number of remaining answer options} more option..."},[j.param("number of remaining answer options",v),j.plural(v)])};t.prototype.$MessengerGroupPollingAdminMessage2=function(){__p&&__p();var u,v=(u=this.props.message)!=null?(u=u.log_message_data)!=null?(u=u.untypedData)!=null?u.question_id:u:u:u;if(!v){this.setState({options:[]});return}var w=c("MessengerGroupPollingAllOptionsWebGraphQLQuery").getURI({node_id:v});new(c("AsyncRequest"))().setURI(w).setHandler(function(x){var y=x.payload.data.node,z=y.options.edges||[],A=z.map(function(B){return B.node});this.setState({options:A})}.bind(this)).send()};t.prototype.$MessengerGroupPollingAdminMessage6=function(u,v){return v===0?"0%":u/v*100+"%"};t.propTypes={customColor:n.string,message:n.instanceOf(c("ImmutableObject")).isRequired,isLastOfType:n.bool.isRequired,onLoad:n.func};f.exports=t}),null);
__d("MessengerNewWavePrompt.react",["cx","fbt","ix","MercuryMessageActions","messengerButtonReact","MercuryMessageObject","MercurySourceType","MercuryMessages","MessagingGenericAdminTextType","Image.react","CurrentUser","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("MercuryMessageActions").get(),n=c("messengerButtonReact").jsComponent,o=c("CurrentUser").getID(),p=j("392389"),q=c("React").PropTypes;k=babelHelpers.inherits(r,c("React").PureComponent);l=k&&k.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=l.constructor).call.apply(s,[this].concat(v)),this.state={hasWaved:false,shouldPromptWave:false},this.$MessengerNewWavePrompt3=function(event){var x=c("MercuryMessageObject").getForFBID(o).constructAttachmentMessageObject(c("MercurySourceType").MESSENGER_WEB,this.props.threadID);x.lightweight_action_attachment={lwa_state:"INITIATED",lwa_type:"WAVE"};m.send(x);this.setState({hasWaved:true})}.bind(this),t}r.prototype.componentDidMount=function(){c("MercuryMessages").get().getThreadMessagesRange(this.props.threadID,0,1,function(s){return this.$MessengerNewWavePrompt1(s)}.bind(this))};r.prototype.render=function(){if(!this.state.shouldPromptWave||this.state.hasWaved)return null;var s=this.props.recipientName?i._("Say hi to {recipient} with a wave.",[i.param("recipient",this.props.recipientName)]):i._("Say hi with a wave.");return c("React").createElement("div",{className:"_4qet"},c("React").createElement("h3",{className:"_4qeu"},s),c("React").createElement("div",{className:"_63l7"},c("React").createElement(c("Image.react"),{className:"_4qev",src:p})),this.$MessengerNewWavePrompt2())};r.prototype.$MessengerNewWavePrompt2=function(){return c("React").createElement(n,{className:"_4qew",onClick:this.$MessengerNewWavePrompt3,label:i._("Wave"),type:"primary",use:"default"})};r.prototype.$MessengerNewWavePrompt1=function(s){if(!s.length){this.setState({shouldPromptWave:false});return}var t=s[0];this.setState({shouldPromptWave:t.source===c("MercurySourceType").FRIENDING_ADMIN_BUMP||t.log_message_data!=null&&t.log_message_data.message_type===c("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST||t.log_message_data!=null&&t.log_message_data.message_type===c("MessagingGenericAdminTextType").GROUP_THREAD_CREATED})};r.propTypes={threadID:q.string.isRequired,recipientName:q.string};f.exports=r}),null);
__d("MessengerPagesCommercePaymentEnabledAdminMessage.react",["cssVar","cx","fbt","ix","Image.react","Link.react","MessengerEnvironment","PagesCommerceBuyerNUXDialog.react","React"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m;l=babelHelpers.inherits(n,c("React").PureComponent);m=l&&l.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=m.constructor).call.apply(o,[this].concat(r)),this.state={showDialog:false},this.$MessengerPagesCommercePaymentEnabledAdminMessage1=function(){this.setState({showDialog:false})}.bind(this),this.$MessengerPagesCommercePaymentEnabledAdminMessage2=function(){this.setState({showDialog:true})}.bind(this),p}n.prototype.render=function(){var o=c("MessengerEnvironment").messengerui;return c("React").createElement("div",{className:o?"_2piv":""},c("React").createElement(c("Image.react"),{className:"_3-96",src:k("275999")}),c("React").createElement("div",null,this.props.message.log_message_body),c("React").createElement("div",{className:"_3-8w"},c("React").createElement(c("Link.react"),{onClick:this.$MessengerPagesCommercePaymentEnabledAdminMessage2,style:{color:"#0084ff",textDecoration:"none"}},j._("Learn More"))),c("React").createElement(c("PagesCommerceBuyerNUXDialog.react"),{isShown:this.state.showDialog,onConfirm:this.$MessengerPagesCommercePaymentEnabledAdminMessage1}))};f.exports=n}),null);
__d("PagesCommercePaymentInvoiceReferrer",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({XMAT:"xmat",ACTION_SHEET:"action_sheet"})}),null);
__d("PagesMarkAsPaidMessagingActionText.react",["fbt","CommerceInvoiceAdminActions","Link.react","PagesCommercePaymentInvoiceReferrer","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){if(!j.isPageMessage)return null;return c("React").createElement("div",null,j.message," ",c("React").createElement(c("Link.react"),{onClick:k},h._("Confirm receipt")));function k(){c("CommerceInvoiceAdminActions").toggleActionsDialog(true,j.messageID,"confirm_payment",c("PagesCommercePaymentInvoiceReferrer").XMAT)}};f.exports=i}),null);
__d("XMessagingPartiesImageController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/parties/parties_images/",{})}),null);
__d("PartiesInviteAdmin.react",["cx","fbt","ix","AsyncRequest","Image.react","messengerButtonReact","messengerContactImageReact","React","XMessagingPartiesImageController"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("messengerButtonReact").jsComponent,n=c("messengerContactImageReact").jsComponent;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;o.prototype.componentWillMount=function(){var p=c("XMessagingPartiesImageController").getURIBuilder().getURI();new(c("AsyncRequest"))(p).setHandler(function(q){this.setState({imageURI:q.payload.bonfire_image_uri})}.bind(this)).setErrorHandler(function(q){}).send()};o.prototype.render=function(){var p=this.props,q=p.logMessage,r=p.actionText,s=p.isInvite,t=p.actionBehavior,u=!s?i._("Join the video chat through Messenger."):"";return!this.state?c("React").createElement("span",null,q):c("React").createElement("div",null,c("React").createElement("div",{className:"_6153"},c("React").createElement(n,{size:25,src:j("348994")}),c("React").createElement("h2",{className:"_6154"},"Bonfire")),c("React").createElement("div",{className:"_6155"},q," ",u),c("React").createElement("div",{className:"_6156"},c("React").createElement(c("Image.react"),{className:"_6157",src:this.state.imageURI}),c("React").createElement("div",{className:"_3cnr"},c("React").createElement(m,{className:"_6158 _fy2",label:r,onClick:t,type:"primary",use:"default"}))))};function o(){k.apply(this,arguments)}f.exports=o}),null);
__d("PartiesInviteType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INVITE:0,NUDGE:1,FIRESTARTER:2})}),null);
__d("MessengerRTCGroupCallContactListItem.react",["cx","fbt","ix","FBRTCParticipantCallState","Image.react","Link.react","messengerContactImageReact","React","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=c("messengerContactImageReact").jsComponent,m=(k={},k[c("FBRTCParticipantCallState").DISCONNECTED]=i._("Disconnected"),k[c("FBRTCParticipantCallState").NO_ANSWER]=i._("No Answer"),k[c("FBRTCParticipantCallState").REJECTED]=i._("Rejected"),k[c("FBRTCParticipantCallState").UNREACHABLE]=i._("Unreachable"),k[c("FBRTCParticipantCallState").CONNECTION_DROPPED]=i._("Connection Dropped"),k[c("FBRTCParticipantCallState").CONTACTING]=i._("Contacting..."),k[c("FBRTCParticipantCallState").RINGING]=i._("Ringing..."),k[c("FBRTCParticipantCallState").CONNECTING]=i._("Connecting..."),k[c("FBRTCParticipantCallState").CONNECTED]=i._("Connected"),k[c("FBRTCParticipantCallState").PARTICIPANT_LIMIT_REACHED]=i._("Participant Limit Reached"),k[c("FBRTCParticipantCallState").IN_ANOTHER_CALL]=i._("In Another Call"),k),n=32,o=function o(s){var t=s.isSelected,u=s.onClick,v=s.user,w=s.participantState;return c("React").createElement(c("Link.react"),{"aria-checked":t,className:"_4nvn",onClick:r(w)?c("emptyFunction"):u,role:"checkbox"},c("React").createElement(l,{className:"_4nvr",isMessengerUser:v.isMessengerUser,isPartiesUser:v.isPartiesUser,size:n,src:v.profilePictureUrl}),c("React").createElement("div",{className:"_4nvs"},c("React").createElement("div",{className:"_4nvt"},c("React").createElement("div",{className:"_4nv_"},v.userName),c("React").createElement(p,{user:v,participantState:w})),c("React").createElement(q,{isSelected:t,participantState:w})))},p=function p(s){var t=s.user,u=s.participantState;if(u){var v=m[u.state]||i._("Unknown");return c("React").createElement("div",{className:"_4nw0"},v)}if(t.vanity)return c("React").createElement("div",{className:"_4nw0"},"@",t.vanity);return null},q=function q(s){var t=s.isSelected,u=s.participantState;if(r(u))return c("React").createElement("div",{className:"_1j79"},i._("In Call"));else if(t)return c("React").createElement("div",{className:"_1j79"},c("React").createElement(c("Image.react"),{src:j("86852")}));return null};function r(s){if(!s)return false;switch(s.state){case c("FBRTCParticipantCallState").CONTACTING:case c("FBRTCParticipantCallState").RINGING:case c("FBRTCParticipantCallState").CONNECTING:case c("FBRTCParticipantCallState").CONNECTED:return true;default:return false}}f.exports=o}),null);
__d("MessengerRTCGroupCallContactList.react",["cx","immutable","MessengerRTCGroupCallContactListItem.react","MessengerScrollableArea.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){var k=j.isParticipantSelected,l=j.onClick,m=j.remoteUsers,n=j.participantStates,o=n===undefined?c("immutable").Map():n,p=m.map(function(q){return c("React").createElement(c("MessengerRTCGroupCallContactListItem.react"),{isSelected:k.get(q.FBID),key:q.FBID,onClick:function(r){function l(){return r.apply(this,arguments)}l.toString=function(){return r.toString()};return l}(function(){return l(q.FBID)}),user:q,participantState:o.get(q.FBID)})});return c("React").createElement(c("MessengerScrollableArea.react"),{className:"_12zw"},p)};f.exports=i}),null);
__d("XBonfireMarketingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/about/",{})}),null);
__d("PartiesUtils",["URI","XBonfireMarketingController","goURI"],(function a(b,c,d,e,f,g){"use strict";var h=new(c("URI"))(document.URL),i=c("XBonfireMarketingController").getURIBuilder().getURI().setDomain(h.getDomain().replace(/\.[^.]+\.com$/,".getbonfire.com")).setProtocol("https").toString(),j={payloadParticipantsToPartiesUsers:function k(l){return l.map(function(m){return{accepts_messenger_user_feedback:false,big_image_src:m.profile_picture_uri,employee:false,fbid:m.fbid.toString(),gender:0,href:null,id:"fbid:"+m.fbid.toString(),image_src:m.profile_picture_uri,is_business_enabled:null,is_employee_away:null,is_friend:null,is_messenger_user:null,is_messenger_platform_bot:null,is_parties_user:true,is_verified:null,name:m.display_name,short_name:m.display_name,type:null,vanity:m.username,timezone:null,personal_id:null,work_id:null}})},navigateToMarketingPage:function k(){c("goURI")(i)}};f.exports=j}),null);
__d("PartiesInviteDialog.react",["cx","fbt","ix","BonfireStrings","Image.react","MercuryParticipants","messengerButtonReact","MessengerDialogCancelButton.react","MessengerDialogHeader.react","MessengerDialogTitle.react","MercuryIDs","PartiesUtils","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("messengerButtonReact").jsComponent;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.componentWillMount=function(){this.$PartiesInviteDialog1()};n.prototype.render=function(){return this.$PartiesInviteDialog2()};n.prototype.$PartiesInviteDialog1=function(){var o=c("MercuryIDs").getParticipantIDFromUserID(this.props.authorID);c("MercuryParticipants").get(o,function(p){this.setState({senderName:p.short_name})}.bind(this))};n.prototype.$PartiesInviteDialog2=function(){var o=this.state.senderName||i._("Your friend");return c("React").createElement("div",{className:"_3liw"},c("React").createElement(c("MessengerDialogHeader.react"),null,c("React").createElement(c("MessengerDialogCancelButton.react"),null),c("React").createElement(c("MessengerDialogTitle.react"),null,i._("Bonfire Video Chat"))),c("React").createElement(c("Image.react"),{className:"_6157",src:j("361336")}),c("React").createElement("div",{className:"_1t6j"},c("React").createElement("div",{className:"_1t6l"},i._("You missed {capitalized_sender_name}'s video chat on Bonfire",[i.param("capitalized_sender_name",o)])),c("React").createElement("div",{className:"_1t6m"},i._("Get the Bonfire app to start your own video chats and invite friends."))),c("React").createElement("div",{className:"_3cnr"},c("React").createElement(m,{className:"_352- _fy2",label:c("BonfireStrings").get_bonfire_button,onClick:c("PartiesUtils").navigateToMarketingPage,type:"primary",use:"default"})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("MediaStream",[],(function a(b,c,d,e,f,g){f.exports=window.MediaStream||window.webkitMediaStream}),null);
__d("RTCAudioTrackNoiseDetector",["invariant","Promise","MediaStream"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="audio track with absolute silence",j="audio track data timeout",k='wrong track type, expected "audio"',l=100,m={ABSOLUTE_SILENCE_ERROR:i,DATA_TIMEOUT_ERROR:j,WRONG_TRACK_TYPE_ERROR:k,detect:function n(o,p){__p&&__p();if("kind"in o&&o.kind!=="audio")return c("Promise").reject(new Error(k));var q=new(c("MediaStream"))();q.addTrack(o);var r=new AudioContext(),s=r.createMediaStreamSource(q),t=r.createScriptProcessor(0,1,1),u=l,v=function v(){__p&&__p();t!=null||h(0);t.onaudioprocess=null;t.disconnect();t=null;s!=null||h(0);s.disconnect();s=null;q!=null||h(0);q.removeTrack(o);q=null;r!=null||h(0);return c("Promise").resolve(r.close())["catch"](function(){return c("Promise").resolve()}).then(function(){r=null})};return c("Promise").race([new(c("Promise"))(function(w,x){__p&&__p();t!=null||h(0);t.onaudioprocess=function(y){__p&&__p();var z=y.inputBuffer;for(var A=z.getChannelData(0),B=Array.isArray(A),C=0,A=B?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(B){if(C>=A.length)break;D=A[C++]}else{C=A.next();if(C.done)break;D=C.value}var E=D;if(E!==0){w();return}}if(u>0)u--;else x(new Error(i))};s!=null||h(0);s.connect(t);r!=null||h(0);t.connect(r.destination)}),new(c("Promise"))(function(w){return setTimeout(w,p)}).then(function(){throw new Error(j)})]).then(function(){return v()})["catch"](function(w){return v().then(function(){throw w})})}};f.exports=m}),null);
__d("RTCEndCallReason",["fbt","FBRTCConstants","FBRTCDismissReason","FBRTCHangupReason","FBRTCRtcResponseStatusCode"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("FBRTCConstants").CallEndReason,j=c("FBRTCConstants").CollabCallEndSubreason;function k(l){this.$RTCEndCallReason1=-1;this.$RTCEndCallReason3="local";this.$RTCEndCallReason4=false;if(typeof l==="string"||l instanceof String)this.$RTCEndCallReason1=i.strNames.indexOf(l);else this.$RTCEndCallReason1=l}k.prototype.setSubreason=function(l){this.$RTCEndCallReason2=l;return this};k.prototype.getSubreason=function(){return this.$RTCEndCallReason2};k.prototype.setRemoteEnded=function(l){this.$RTCEndCallReason3=l?"remote":"local";return this};k.prototype.toStrName=function(){var l=arguments.length<=0||arguments[0]===undefined?true:arguments[0];return l?this.$RTCEndCallReason5()+"_"+this.$RTCEndCallReason3:this.$RTCEndCallReason5()};k.prototype.$RTCEndCallReason5=function(){if(this.$RTCEndCallReason1<0||this.$RTCEndCallReason1>i.strNames.length)return"Unknown";return i.strNames[this.$RTCEndCallReason1]};k.prototype.getReasonID=function(){return this.$RTCEndCallReason1};k.prototype.toString=function(){var l=arguments.length<=0||arguments[0]===undefined?false:arguments[0],m=(this.$RTCEndCallReason6()||"").toString();return l?m+" "+this.$RTCEndCallReason7():m};k.prototype.$RTCEndCallReason6=function(){__p&&__p();switch(this.$RTCEndCallReason1){case i.NO_ANSWER_TIMEOUT:case i.IGNORE_CALL:return h._("No Answer");case i.OTHER_NOT_CAPABLE:if(this.$RTCEndCallReason2===j.MCU_INVALID_STREAM_CONFIGURATION)return h._("Too many clients connected to the room");case i.INCOMING_TIMEOUT:case i.NO_PERMISSION:case i.OTHER_CARRIER_BLOCKED:return h._("Not Reachable");case i.SIGNALING_MESSAGE_FAILED:case i.WEBRTC_ERROR:case i.NO_UI_ERROR:case i.CALLER_NOT_VISIBLE:case i.CLIENT_ERROR:return h._("Call Failed");case i.UNSUPPORTED_VERSION:return h._("Can't Connect Call");case i.IN_ANOTHER_CALL:return h._("In Another Call");case i.CARRIER_BLOCKED:return h._("Switch to Wi-Fi to complete your call");case i.CLIENT_INTERRUPTED:return h._("Call Interrupted");case i.HANGUP_CALL:case i.ACCEPT_AFTER_HANGUP:return h._("Call Ended");case i.CONNECTION_DROPPED:return h._("Connection Lost");case i.OTHER_INSTANCE_HANDLED:return null;default:return null}};k.prototype.$RTCEndCallReason7=function(){__p&&__p();if(this.$RTCEndCallReason1!==i.OTHER_NOT_CAPABLE&&this.$RTCEndCallReason1!==i.SIGNALING_MESSAGE_FAILED)return"";switch(this.$RTCEndCallReason2){case j.REMOTE_PEER_HANGUP:case j.REMOTE_PEER_REJECT:return"";case j.CLOSED_BY_MCU:return"- Call expired";case j.CLOSED_AS_STALE:return"- Server failed, call is stale";case j.CALL_INITIALIZATION_FAILED:return"- Call initialization to room failed";case j.SIP_CONNECTION_INITIALIZATION_FAILED:return"or No Answer";case j.LOST_MCU_CONNECTION:return"- MCU Media connection failed";case j.LOST_MCU_THRIFT_CONNECTION:return"- MCU infrastructure dropped connection";case j.LOST_SIP_ADAPTER_CONNECTION:return"- SIP infrastructure dropped connection";case j.MCU_NO_AUDIO_STREAM:return"- Invalid audio stream";case j.MCU_INVALID_STREAM_CONFIGURATION:return"- Invalid stream configuration";case j.UNKNOWN:default:return"- Unexpected call failure: "+(this.$RTCEndCallReason2||"null")}};k.fromHangupReason=function(l){switch(l){case c("FBRTCHangupReason").IGNORE_CALL:return new k(i.IGNORE_CALL);case c("FBRTCHangupReason").NO_ANSWER_TIMEOUT:return new k(i.NO_ANSWER_TIMEOUT);case c("FBRTCHangupReason").HANGUP_CALL:return new k(i.HANGUP_CALL);case c("FBRTCHangupReason").CLIENT_ERROR:return new k(i.CLIENT_ERROR);case c("FBRTCHangupReason").IN_ANOTHER_CALL:return new k(i.IN_ANOTHER_CALL);case c("FBRTCHangupReason").CLIENT_INTERRUPTED:return new k(i.CLIENT_INTERRUPTED);default:return new k(i.HANGUP_CALL)}};k.fromDismissRequest=function(l){__p&&__p();if(!l)return new k(i.HANGUP_CALL);switch(l.reason){case c("FBRTCDismissReason").ANSWERED_ON_ANOTHER_DEVICE:case c("FBRTCDismissReason").REJECTED_ON_ANOTHER_DEVICE:return new k(i.OTHER_INSTANCE_HANDLED);case c("FBRTCDismissReason").CALL_ENDED:return new k(i.HANGUP_CALL);case c("FBRTCDismissReason").IN_ANOTHER_CALL:return new k(i.IN_ANOTHER_CALL);case c("FBRTCDismissReason").CONNECTION_DROPPED:return new k(i.CONNECTION_DROPPED);case c("FBRTCDismissReason").REMOVED_BY_PARTICIPANT:return new k(i.HANGUP_CALL);case c("FBRTCDismissReason").REJECTED_BY_CALLEE:return new k(i.IGNORE_CALL);case c("FBRTCDismissReason").INTERNAL_ERROR:return new k(i.SIGNALING_MESSAGE_FAILED);default:return new k(i.HANGUP_CALL)}};k.fromResponseStatusCode=function(l){switch(l){case c("FBRTCRtcResponseStatusCode").PRECONDITION_FAILURE:case c("FBRTCRtcResponseStatusCode").METHOD_NOT_ALLOWED:case c("FBRTCRtcResponseStatusCode").UNAUTHORIZED:return new k(i.NO_PERMISSION);case c("FBRTCRtcResponseStatusCode").SERVICE_UNAVAILABLE:return new k(i.SIGNALING_MESSAGE_FAILED);case c("FBRTCRtcResponseStatusCode").SERVER_INTERNAL_ERROR:case c("FBRTCRtcResponseStatusCode").BAD_REQUEST:case c("FBRTCRtcResponseStatusCode").BUSY_HERE:case c("FBRTCRtcResponseStatusCode").CONDITIONAL_REQUEST_FAILED:case c("FBRTCRtcResponseStatusCode").NOT_FOUND:return new k(i.CLIENT_ERROR);default:return new k(i.HANGUP_CALL)}};f.exports=k}),null);
__d("RTCVideoTrackActivityDetector",["invariant","Promise","MediaStream"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=window.URL||window.webkitURL,j=HTMLMediaElement&&"srcObject"in HTMLMediaElement.prototype,k="video track playback timeout",l="unexpected video track ready state",m='wrong track type, expected "video"',n={PLAYBACK_TIMEOUT_ERROR:k,WRONG_READY_STATE_ERROR:l,WRONG_TRACK_TYPE_ERROR:m,detect:function o(p,q){__p&&__p();if("kind"in p&&p.kind!=="video")return c("Promise").reject(new Error(m));var r=document.createElement("video");r.muted=true;var s=new(c("MediaStream"))();s.addTrack(p);var t=void 0,u=0,v=function v(){__p&&__p();clearInterval(u);if(r){r.pause();if(j)r.srcObject=null;else if(r.src){i.revokeObjectURL(r.src);r.src=""}r.removeEventListener("timeupdate",t);r=null}if(s){s.removeTrack(p);s=null}};return c("Promise").race([new(c("Promise"))(function(w,x){__p&&__p();r!=null||h(0);if(j)r.srcObject=s;else r.src=i.createObjectURL(s);t=function t(y){r!=null||h(0);if(r.currentTime>0)if(p.readyState==="live"){w();v()}else x(new Error(l))};c("Promise").resolve(r.pause()).then(function(){r!=null||h(0);return r.play()}).then(function(){t();r!=null||h(0);r.addEventListener("timeupdate",t);u=setInterval(t,50)})["catch"](function(y){return x(y)})}),new(c("Promise"))(function(w){return setTimeout(w,q)}).then(function(){throw new Error(k)})])["catch"](function(w){v();throw w})}};f.exports=n}),null);
__d("RTCMediaStreamValidator",["Promise","RTCAudioTrackNoiseDetector","RTCVideoTrackActivityDetector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="no audio tracks",i="no video tracks",j="too many audio tracks",k="too many video tracks",l="unexpected audio track(s)",m="unexpected video track(s)",n={NO_AUDIO_TRACKS_ERROR:h,NO_VIDEO_TRACKS_ERROR:i,TOO_MANY_AUDIO_TRACKS_ERROR:j,TOO_MANY_VIDEO_TRACKS_ERROR:k,UNEXPECTED_AUDIO_TRACKS_ERROR:l,UNEXPECTED_VIDEO_TRACKS_ERROR:m,validate:function q(r,s){var t=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],u=arguments.length<=3||arguments[3]===undefined?{}:arguments[3],v=t.audio,w=v===undefined?true:v,x=t.video,y=x===undefined?true:x,z=u.audio,A=z===undefined?1e3:z,B=u.video,C=B===undefined?1e3:B;return c("Promise").all([o(r,s,w,A),p(r,s,y,C)]).then(function(){return r})}};function o(q,r,s,t){var u=q.getAudioTracks();if(!r.audio)return u.length>0?c("Promise").reject(new Error(l)):c("Promise").resolve(q);if(u.length<1)return c("Promise").reject(new Error(h));else if(u.length>1)return c("Promise").reject(new Error(j));return!s?c("Promise").resolve(q):c("RTCAudioTrackNoiseDetector").detect(u[0],t).then(function(){return q})}function p(q,r,s,t){var u=q.getVideoTracks();if(!r.video)return u.length>0?c("Promise").reject(new Error(m)):c("Promise").resolve(q);if(u.length<1)return c("Promise").reject(new Error(i));else if(u.length>1)return c("Promise").reject(new Error(k));return!s?c("Promise").resolve(q):c("RTCVideoTrackActivityDetector").detect(u[0],t).then(function(){return q})}f.exports=n}),null);
__d("RTCUserRecord",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({FBID:"UNDEFINED",isMessengerUser:false,isPartiesUser:false,lastConnectedAt:0,participantState:null,preferredStream:null,profilePictureUrl:null,profileUrl:null,screenStreams:c("immutable").Set(),streams:c("immutable").Set(),userName:"",userShortName:"",vanity:""});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("RTCUser",["FBRTCParticipantCallState","immutable","RTCUserRecord"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("RTCUserRecord"));i=h&&h.prototype;j.prototype.clone=function(){return new j(this.toObject())};j.prototype.setParticipantState=function(k){if((!this.participantState||this.participantState.state!==c("FBRTCParticipantCallState").CONNECTED)&&k.state===c("FBRTCParticipantCallState").CONNECTED)return this.set("participantState",k).set("lastConnectedAt",Date.now());return!this.participantState||this.participantState.state!==k.state?this.set("participantState",k):this};j.prototype.hasAudio=function(){return this.streams.some(function(k){return k.getAudioTracks().length>0})};j.prototype.hasVideo=function(){return this.streams.some(function(k){return k.getVideoTracks().length>0})};j.prototype.isAudioMuted=function(){if(!this.hasAudio())return true;return this.streams.every(function(k){return this.areAllTracksMuted(k.getAudioTracks())}.bind(this))};j.prototype.isVideoMuted=function(){if(!this.hasVideo())return true;return this.streams.every(function(k){return this.areAllTracksMuted(k.getVideoTracks())}.bind(this))};j.prototype.areAllTracksMuted=function(k){return!k.some(function(l){return l.enabled})};j.prototype.isTrackMuted=function(k){return this.streams.some(function(l){var m=l.getTrackById(k);if(!m)return true;return!m.enabled})};j.prototype.toggleMuteAudio=function(k){this.streams.forEach(function(l){return this.$RTCUser1(l.getAudioTracks(),k)}.bind(this));return this.clone()};j.prototype.toggleMuteVideo=function(k){this.streams.forEach(function(l){return this.$RTCUser1(l.getVideoTracks(),k)}.bind(this));return this.clone()};j.prototype.hasStream=function(){return!this.streams.isEmpty()};j.prototype.addStream=function(k){return this.set("streams",this.streams.add(k))};j.prototype.setPreferredStream=function(k){return this.set("preferredStream",k)};j.prototype.removeStream=function(k){return this.set("streams",this.streams["delete"](k))};j.prototype.getMainStream=function(){return this.preferredStream?this.preferredStream:this.streams.first()};j.prototype.replaceStream=function(k,l){if(!this.streams.contains(k))return this;if(k===l)return this;return this.set("streams",this.streams.add(l)["delete"](k))};j.prototype.removeAllStreams=function(){return this.set("streams",c("immutable").Set())};j.prototype.hasScreenStream=function(){return!this.screenStreams.isEmpty()};j.prototype.addScreenStream=function(k){return this.set("screenStreams",this.screenStreams.add(k))};j.prototype.removeScreenStream=function(k){return this.set("screenStreams",this.screenStreams["delete"](k))};j.prototype.removeAllScreenStreams=function(){return this.set("screenStreams",c("immutable").Set())};j.prototype.$RTCUser1=function(k,l){var m=l!=null?!l:this.areAllTracksMuted(k);k.forEach(function(n){return n.enabled=m})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("RTCUserMediaConstraints",["FBRTCConstants","RTCConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FBRTCConstants").VideoQuality,i={width:1920,height:1080,frameRate:30},j={width:1280,height:720,frameRate:30},k={width:854,height:480,frameRate:30},l={width:320,height:180,frameRate:15},m={audio:function t(u){return u?{deviceId:u}:true},video:function t(u,v){var w=arguments.length<=2||arguments[2]===undefined?c("RTCConfig").CollaborationCallQuality.videoToRoom:arguments[2];if(u===h.NO_VIDEO)return false;var x=v?{deviceId:v}:null;if(u===h.CUSTOM_VIDEO)return babelHelpers["extends"]({},w,x);var y=n(u);return babelHelpers["extends"]({width:o(y,"width"),height:o(y,"height"),frameRate:o(y,"frameRate",{frameRate:10})},x)},chromeMediaSource:function t(u,v){var w=u.video,x=m.chromify(w);if(typeof x!=="object")return{audio:false,video:Boolean(x)};var y=x.mandatory,z=x.optional,A=z===undefined?[]:z;return{audio:false,video:{mandatory:babelHelpers["extends"]({},y,{chromeMediaSource:"desktop",chromeMediaSourceId:v}),optional:[{googTemporalLayeredScreencast:true}].concat(A)}}},chromify:function t(u){__p&&__p();if(!u||typeof u!=="object")return Boolean(u);if(!s(u))return u;var v=u.mandatory,w=v===undefined?{}:v,x=u.optional,y=x===undefined?[]:x;for(var z=Object.entries(u),A=Array.isArray(z),B=0,z=A?z:z[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var C;if(A){if(B>=z.length)break;C=z[B++]}else{B=z.next();if(B.done)break;C=B.value}var D=C,E=D[0],F=D[1];if(E==="require"||E==="advanced"||E==="mediaSource")continue;var G=F&&typeof F==="object"?F:{ideal:F};if(Number.isFinite(G.exact)){G.min=G.exact;G.max=G.exact}var H=G.ideal,I=G.exact;if(H!==undefined)if(Number.isFinite(H)){var J,K;y.push((J={},J[r(E,"min")]=H,J),(K={},K[r(E,"max")]=H,K))}else{var L;y.push((L={},L[r(E)]=H,L))}if(I!==undefined&&!Number.isFinite(I))w[r(E)]=I;else{var M=["min","max"];for(var N=0;N<M.length;N++){var O=M[N];if(Number.isFinite(G[O]))w[r(E,O)]=G[O]}}}if(u.advanced)y.push.apply(y,u.advanced);var P={};if(Object.keys(w).length>0)P.mandatory=w;if(y.length>0)P.optional=y;return P}};function n(t){switch(t){case h.FHD_VIDEO:return i;case h.HD_VIDEO:return j;case h.LQ_VIDEO:return l;case h.SD_VIDEO:return k;default:return j}}function o(t,u){var v=arguments.length<=2||arguments[2]===undefined?p(t):arguments[2],w=t[u];return{min:Math.min(v[u],w),max:Math.max(q(t)[u],w),ideal:w}}function p(t){switch(t){case i:return j;case j:return k;case k:case l:default:return l}}function q(t){switch(t){case l:return k;case k:return j;case j:case i:default:return i}}function r(t,r){if(r)return""+r+t.charAt(0).toUpperCase()+t.slice(1);return t==="deviceId"?"sourceId":t}function s(t){return Object.keys(t).some(function(u){return u!=="mandatory"&&u!=="optional"})}f.exports=m}),null);
__d("RTCUtils",["invariant","Promise","CurrentUser","FBRTCConstants","FBRTCUtils","RTCAudioTrackNoiseDetector","RTCConfig","RTCEndCallReason","RTCMediaStreamValidator","RTCScreenSharing","RTCUser","RTCUserMediaConstraints","RTCVideoTrackActivityDetector","URI","UserAgent","randomInt"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBRTCConstants").VideoQuality,l=c("RTCAudioTrackNoiseDetector").DATA_TIMEOUT_ERROR,m=c("RTCVideoTrackActivityDetector").PLAYBACK_TIMEOUT_ERROR,n={generateRandomInt:function r(){return c("randomInt")(0,4294967294)+1},isGroupCall:function r(s){return s.split(":")[0]==="GROUP"},isMessengerCall:function r(s){return s.split(":")[0]==="MESSENGER"},isPartiesCall:function r(s){return s.split(":")[0]==="BONFIRE"},getPeerID:function r(s){if(this.isGroupCall(s))throw new Error("Not a P2P call: "+s);var t=s.split(":"),u=t.slice(1);return u[0]===c("CurrentUser").getID()?u[1]:u[0]},createRequestHeader:function r(s,t,u){var v={type:s,transactionId:n.generateRandomInt().toString(),retryCount:0,conferenceName:t};if(u)v.serverInfoData=u;return v},createResponseHeader:function r(s,t){var u={type:s.type,transactionId:s.transactionId,retryCount:0,conferenceName:s.conferenceName,responseStatusCode:t};if(s.serverInfoData)u.serverInfoData=s.serverInfoData;return u},getUserMedia:function r(s){__p&&__p();var t=navigator,u=t.mediaDevices;if(typeof s.video==="object"&&s.video.mediaSource)return c("RTCScreenSharing").getUserMedia(s);var v=this._parseConstraints(s);return new(c("Promise"))(function(w,x){__p&&__p();if(u&&typeof u.getUserMedia==="function")w(u.getUserMedia(v));else if(navigator.getUserMedia)navigator.getUserMedia(v,w,x);else if(navigator.webkitGetUserMedia)navigator.webkitGetUserMedia(v,w,x);else if(navigator.mozGetUserMedia)navigator.mozGetUserMedia(v,w,x);else if(navigator.msGetUserMedia)navigator.msGetUserMedia(v,w,x);else x("getUserMedia not supported")})["catch"](function(w){throw o(Object.assign(w,{constraint:w.constraintName||""}))})},_parseConstraints:function r(s){if(c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera")){var t=s.audio,u=s.video,v={};if(t!=undefined)v.audio=c("RTCUserMediaConstraints").chromify(t);if(u!=undefined)v.video=c("RTCUserMediaConstraints").chromify(u);return v}return s},getUserMediaWithValidation:function r(s){__p&&__p();var t=arguments.length<=1||arguments[1]===undefined?{audio:true,video:true}:arguments[1],u=arguments.length<=2||arguments[2]===undefined?5:arguments[2],v=arguments.length<=3||arguments[3]===undefined?{audio:1e3,video:1e3}:arguments[3];return new(c("Promise"))(function(w,x){__p&&__p();var y=function(z){__p&&__p();this.getUserMedia(s).then(function(A){return c("RTCMediaStreamValidator").validate(A,s,t,v).then(function(A){return w({stream:A})})["catch"](function(B){if(B.message===l||B.message===m)w({stream:A,err:B});else{this.stopMediaStream(A);throw B}}.bind(this))}.bind(this),x)["catch"](function(A){if(z>0)y(z-1);else x(A)})}.bind(this);y(u)}.bind(this))},initLocalStream:function r(s){return n.getUserMedia({audio:c("RTCUserMediaConstraints").audio(),video:c("RTCUserMediaConstraints").video(s?k.HD_VIDEO:k.NO_VIDEO)})},initLocalScreenStream:function r(){var s=arguments.length<=0||arguments[0]===undefined?"screen":arguments[0];return n.getUserMedia({audio:false,video:babelHelpers["extends"]({},c("RTCConfig").CollaborationCallQuality.screen_v2||c("RTCConfig").CollaborationCallQuality.screen,{mediaSource:s})})},isFullScreen:function r(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},requestFullScreen:function r(){var s=arguments.length<=0||arguments[0]===undefined?document.documentElement:arguments[0];if(typeof s.requestFullscreen==="function")s.requestFullscreen();else if(typeof s.msRequestFullscreen==="function")s.msRequestFullscreen();else if(typeof s.mozRequestFullScreen==="function")s.mozRequestFullScreen();else if(typeof s.webkitRequestFullscreen==="function")s.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},exitFullScreen:function r(){if(typeof document.exitFullscreen==="function")document.exitFullscreen();else if(typeof document.msExitFullscreen==="function")document.msExitFullscreen();else if(typeof document.mozCancelFullScreen==="function")document.mozCancelFullScreen();else if(typeof document.webkitExitFullscreen==="function")document.webkitExitFullscreen()},toggleFullScreen:function r(){if(this.isFullScreen())this.exitFullScreen();else this.requestFullScreen()},endCallReasonFromHangupReason:function r(s){return c("RTCEndCallReason").fromHangupReason(s).getReasonID()},endCallReasonFromDismissRequest:function r(s){return c("RTCEndCallReason").fromDismissRequest(s).getReasonID()},endCallReasonFromResponseStatusCode:function r(s){return c("RTCEndCallReason").fromResponseStatusCode(s).getReasonID()},stopMediaStream:function r(s){__p&&__p();if(!s.active&&"active"in s)return;for(var t=s.getTracks(),u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;if(x.readyState!=="ended")x.stop()}},payloadParticipantsToRTCUsers:function r(s){return s.map(function(t){var u=t.big_image_src||t.image_src;t.fbid||h(0);return new(c("RTCUser"))({FBID:t.fbid,profileUrl:new(c("URI"))(t.href),profilePictureUrl:u,isMessengerUser:!!t.is_messenger_user,isPartiesUser:!!t.is_parties_user,userName:t.name,userShortName:t.short_name,vanity:t.vanity||""})})},getStreamVideoResolution:function r(s){__p&&__p();return new(c("Promise"))(function(t,u){__p&&__p();var v=document.createElement("video");c("FBRTCUtils").attachMediaStream(v,s);var w=function w(){v.removeEventListener("loadedmetadata",x);v.removeEventListener("error",y);c("FBRTCUtils").attachMediaStream(v,null)},x=function x(){t({height:v.videoHeight,width:v.videoWidth});w()},y=function y(){u(v.error);w()};v.addEventListener("loadedmetadata",x);v.addEventListener("error",y)})}};function o(r){var s=r.message,t=r.name,u=r.constraint;return new q(u,s==="The operation is insecure."?"The request is not allowed by the user agent or the platform in the current context.":s,p(t))}function p(r){switch(r){case"ConstraintNotSatisfiedError":return"OverconstrainedError";case"DevicesNotFoundError":return"NotFoundError";case"InvalidStateError":case"MediaDeviceFailedDueToShutdown":case"MediaDeviceKillSwitchOn":case"TrackStartError":return"NotReadableError";case"PermissionDeniedError":return"NotAllowedError";default:return r}}i=babelHelpers.inherits(q,Error);j=i&&i.prototype;function q(r,s,t){j.constructor.call(this,s);this.constraint=r;this.message=s;this.name=t}f.exports=n}),null);
__d("WorkplaceChatHelper",[],(function a(b,c,d,e,f,g){"use strict";var h={isWorkplaceChatDesktop:function i(){return window.workchat!=null},getScreenSharingSourceID:function i(){return window.workchat.getScreenSharingSourceID()},stopScreenSharing:function i(){return window.workchat.stopScreenSharing()}};f.exports=h}),null);
__d("RTCScreenSharing",["Promise","CollabRTCChromeScreenSharing","RTCUserMediaConstraints","RTCUtils","UserAgent","WorkplaceChatHelper"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="SCREEN_SHARING_NOT_SUPPORTED",i="UNEXPECTED_ERROR",j={SCREEN_SHARING_NOT_SUPPORTED:h,getUserMedia:function k(l){__p&&__p();if(c("UserAgent").isBrowser("Firefox")&&navigator.mediaDevices)return c("Promise").resolve(navigator.mediaDevices.getUserMedia(l)["catch"](function(m){if(m.name==="NotAllowedError")throw new Error(h)}));if(c("UserAgent").isBrowser("Chrome"))return(c("WorkplaceChatHelper").isWorkplaceChatDesktop()?c("WorkplaceChatHelper").getScreenSharingSourceID():c("CollabRTCChromeScreenSharing").getSourceID()).then(function(m){return c("RTCUtils").getUserMedia(c("RTCUserMediaConstraints").chromeMediaSource(l,m))}).then(function(m){__p&&__p();for(var n=m.getTracks(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;r.addEventListener("ended",function(s){return setTimeout(function(){if(!m.active)j.stop()})})}return m});return c("Promise").reject(new Error(h))},stop:function k(){if(c("UserAgent").isBrowser("Chrome"))return c("WorkplaceChatHelper").isWorkplaceChatDesktop()?c("WorkplaceChatHelper").stopScreenSharing():c("CollabRTCChromeScreenSharing").stop();return c("Promise").reject(new Error(i))}};f.exports=j}),null);
__d("XMessagingPartiesConferenceInfoController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/parties/parties_conference_info/",{sender_fbid:{type:"FBID",required:true}})}),null);
__d("PartiesJoinPartyInterstitialDialog.react",["cx","fbt","ix","AsyncRequest","BonfireStrings","FBRTCCore","Image.react","immutable","MercuryParticipants","messengerButtonReact","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeader.react","MessengerDialogTitle.react","MessengerRTCGroupCallContactList.react","MercuryIDs","PartiesInviteDialog.react","PartiesUtils","React","RTCUtils","FBRTCLogger","XMessagingPartiesConferenceInfoController","emptyFunction","idx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("messengerButtonReact").jsComponent,n=c("FBRTCLogger").Trigger,o=460,p=8;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;q.prototype.componentWillMount=function(){this.$PartiesJoinPartyInterstitialDialog1();this.$PartiesJoinPartyInterstitialDialog2(this.props.authorID)};q.prototype.render=function(){var r=i._("Loading...");return this.state.loading?this.$PartiesJoinPartyInterstitialDialog3(r,r):this.state.partyConferenceName?this.$PartiesJoinPartyInterstitialDialog4(this.state.isFull,this.state.isLocked,this.state.partyConferenceName):this.$PartiesJoinPartyInterstitialDialog5(this.props.authorID)};q.prototype.$PartiesJoinPartyInterstitialDialog1=function(){var r=c("MercuryIDs").getParticipantIDFromUserID(this.props.authorID);c("MercuryParticipants").get(r,function(s){this.setState({senderName:s.short_name})}.bind(this))};q.prototype.$PartiesJoinPartyInterstitialDialog2=function(r){this.setState({loading:true});var s=c("XMessagingPartiesConferenceInfoController").getURIBuilder().setFBID("sender_fbid",r).getURI();new(c("AsyncRequest"))().setURI(s).setMethod("GET").setReadOnly(true).setHandler(function(t){var u;if((u=t)!=null?(u=u.payload)!=null?u.party_conference_name:u:u)this.setState({loading:false,isFull:t.payload.active_users.length>=p,isLocked:t.payload.party_locked,participants:c("PartiesUtils").payloadParticipantsToPartiesUsers(t.payload.active_users),partyConferenceName:t.payload.party_conference_name,partyServerInfoData:t.payload.server_info_data});else this.setState({loading:false,partyConferenceName:null})}.bind(this)).setErrorHandler(function(t){}).send()};q.prototype.$PartiesJoinPartyInterstitialDialog4=function(r,s,t){var u=c("immutable").Map(),v=this.$PartiesJoinPartyInterstitialDialog6(),w=this.$PartiesJoinPartyInterstitialDialog7(),x=r||s?this.$PartiesJoinPartyInterstitialDialog8():null;return c("React").createElement(c("MessengerDialog.react"),{onToggle:this.props.onUnmount,type:"default",width:o},c("React").createElement("div",{className:"_2m1r"},c("React").createElement(c("MessengerDialogHeader.react"),null,c("React").createElement(c("MessengerDialogCancelButton.react"),null),c("React").createElement(c("MessengerDialogTitle.react"),null,i._("Bonfire Video Chat")),c("React").createElement(c("MessengerDialogButton.react"),{label:i._("Join"),onClick:function(){return c("FBRTCCore").startGroupCall({conferenceName:"BONFIRE:"+t,hasVideo:true,serverInfoData:this.state.partyServerInfoData,trigger:n.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON})}.bind(this),type:"primary",disabled:s||r})),c("React").createElement(c("Image.react"),{className:"_6157",src:j("361336")}),c("React").createElement("div",{className:"_1t6j"},c("React").createElement("div",{className:"_1t6l"},v),c("React").createElement("div",{className:"_1t6m"},w)),c("React").createElement("div",{className:"_3oko"},c("React").createElement(c("MessengerRTCGroupCallContactList.react"),{isParticipantSelected:u,onClick:c("emptyFunction"),remoteUsers:c("RTCUtils").payloadParticipantsToRTCUsers(this.state.participants).sort(function(y,z){return y.userName.localeCompare(z.userName)})})),x))};q.prototype.$PartiesJoinPartyInterstitialDialog6=function(){var r=this.state.senderName||i._("Your Friend");return this.state.isLocked?i._("{capitalized_sender_name}'s Bonfire video chat is now locked",[i.param("capitalized_sender_name",r)]):this.state.isFull?i._("{capitalized_sender_name}'s Bonfire video chat is now full",[i.param("capitalized_sender_name",r)]):i._("Join {capitalized_sender_name}'s Bonfire",[i.param("capitalized_sender_name",r)])};q.prototype.$PartiesJoinPartyInterstitialDialog7=function(){var r=this.state.senderName||i._("Your friend");return this.state.isLocked||this.state.isFull?i._("Get the Bonfire app to start your own video chats and invite friends."):i._("{sender_name} is video chatting on Bonfire, and you can join through Messenger.",[i.param("sender_name",r)])};q.prototype.$PartiesJoinPartyInterstitialDialog8=function(){return c("React").createElement("div",{className:"_1j95"},c("React").createElement(m,{className:"_352- _fy2",label:c("BonfireStrings").get_bonfire_button,onClick:c("PartiesUtils").navigateToMarketingPage,type:"primary",use:"default"}))};q.prototype.$PartiesJoinPartyInterstitialDialog5=function(r){return c("React").createElement(c("MessengerDialog.react"),{onToggle:this.props.onUnmount,type:"default",width:o},c("React").createElement(c("PartiesInviteDialog.react"),{authorID:r,onUnmount:this.props.onUnmount}))};q.prototype.$PartiesJoinPartyInterstitialDialog3=function(r,s){return c("React").createElement(c("MessengerDialog.react"),{onToggle:this.props.onUnmount,type:"default",width:o},c("React").createElement(c("MessengerDialogHeader.react"),null,c("React").createElement(c("MessengerDialogCancelButton.react"),null),c("React").createElement(c("MessengerDialogTitle.react"),null,r)),c("React").createElement("div",{className:"_2m1r"},s))};function q(){k.apply(this,arguments)}f.exports=q}),null);
__d("PartiesJoinPartyInterstitialDialogController.react",["DOM","PartiesJoinPartyInterstitialDialog.react","React","ReactDOM"],(function a(b,c,d,e,f,g){"use strict";var h={_container:c("DOM").create("div"),render:function i(j){var k=j.authorID,l=j.handleCall,m=j.partiesUserID;c("ReactDOM").render(c("React").createElement(c("PartiesJoinPartyInterstitialDialog.react"),{authorID:k,onUnmount:h._onUnmount}),this._container)},_onUnmount:function i(){c("ReactDOM").unmountComponentAtNode(h._container)}};f.exports=h}),null);
__d("PartiesInviteAttachment.react",["fbt","PartiesInviteAdmin.react","PartiesInviteType","PartiesJoinPartyInterstitialDialogController.react","PartiesUtils","React","RTCConfig"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$PartiesInviteAttachment2=function(){c("PartiesJoinPartyInterstitialDialogController.react").render({authorID:this.props.authorID,partiesUserID:this.props.partiesUserID})}.bind(this),m}k.prototype.render=function(){var l=this.props.authorID!==this.props.otherUserID,m=this.props.partiesInviteType?this.props.partiesInviteType===c("PartiesInviteType").INVITE.toString():true,n=this.$PartiesInviteAttachment1(m),o=m?c("PartiesUtils").navigateToMarketingPage:this.$PartiesInviteAttachment2,p=this.props.logMessage;return!c("RTCConfig").RenderPartiesMessengerAttachments||l?c("React").createElement("span",null,p):c("React").createElement(c("PartiesInviteAdmin.react"),{actionBehavior:o,actionText:n,isInvite:m,logMessage:p})};k.prototype.$PartiesInviteAttachment1=function(l){return l?h._("Get Bonfire"):h._("Join Video Chat")};f.exports=k}),null);
__d("ServicesAppointmentReminderAdminText.react",["fbt","DateConsts","React","formatDate"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){__p&&__p();var k=j.isPageMessage,l=j.message,m=j.pageName,n=j.productName,o=j.startTime,p=j.timestamp,q=j.userName;if(!o)return l;var r=c("formatDate")(o,"g:i A");if(k)if(o-p/1e3<c("DateConsts").SEC_PER_HOUR)return h._("{user-name} has an appointment {product-name} at {start-time}",[h.param("user-name",q),h.param("product-name",n),h.param("start-time",r)]);else if(o-p/1e3<c("DateConsts").SEC_PER_DAY)return h._("{user-name} has an appointment {product-name} tomorrow at {start-time}",[h.param("user-name",q),h.param("product-name",n),h.param("start-time",r)]);else return h._("{user-name} has an appointment {product-name} on {start-date} at {start-time}",[h.param("user-name",q),h.param("product-name",n),h.param("start-date",c("formatDate")(o,"F d")),h.param("start-time",r)]);if(o-p/1e3<c("DateConsts").SEC_PER_HOUR)return h._("You have an appointment with {page-name} {product-name} at {start-time}",[h.param("page-name",m),h.param("product-name",n),h.param("start-time",r)]);else if(o-p/1e3<c("DateConsts").SEC_PER_DAY)return h._("You have an appointment with {page-name} {product-name} tomorrow at {start-time}",[h.param("page-name",m),h.param("product-name",n),h.param("start-time",r)]);else return h._("You have an appointment with {page-name} {product-name} on {start-date} at {start-time}",[h.param("page-name",m),h.param("product-name",n),h.param("start-date",c("formatDate")(o,"F d")),h.param("start-time",r)])};f.exports=i}),null);
__d("MercuryXMATRenderer",["cx","fbt","FacepileRounded.react","MNAdsMessageUtils","MercuryConfig","MercuryIDs","MercuryParticipants","MessagingGenericAdminTextType","MessengerEnvironment","MessengerGameAdminMessage.react","MessengerGroupPollingAdminMessage.react","MessengerNewWavePrompt.react","MessengerPagesCommercePaymentEnabledAdminMessage.react","MessengerTextWithEntities.react","PagesMarkAsPaidMessagingActionText.react","PartiesInviteAttachment.react","QE2Logger","React","ServicesAppointmentReminderAdminText.react","gkx","idx","isWebGLEnabled"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={renderText:function k(l,m,n,o,p){__p&&__p();var q,r,s,t,u=m.log_message_body?c("React").createElement(c("MessengerTextWithEntities.react"),{renderEmoji:true,renderEmoticons:true,text:m.log_message_body}):null,v=(q=m)!=null?(q=q.log_message_data)!=null?q.message_type:q:q;switch(v){case c("MessagingGenericAdminTextType").JOURNEY_PROMPT_COLOR:u=i._("You need to be on the latest version of Messenger on a mobile device to pick a color for this conversation.");break;case c("MessagingGenericAdminTextType").JOURNEY_PROMPT_NICKNAME:var w=null,x=c("MercuryIDs").getUserIDFromParticipantID(m.author);if(m.other_user_fbid&&x!==m.other_user_fbid){var y=c("MercuryIDs").getParticipantIDFromUserID(m.other_user_fbid);w=c("MercuryParticipants").getOrFetch(y)}if(w&&w.short_name)u=i._("You need to be on the latest version of Messenger on a mobile device to set a nickname for {admin-text-message} .",[i.param("admin-text-message",w.short_name)]);else u=i._("You need to be on the latest version of Messenger on a mobile device to set a nickname for yourself.");break;case c("MessagingGenericAdminTextType").JOURNEY_PROMPT_LIKE:u=i._("You need to be on the latest version of Messenger on a mobile device to pick an emoji for this conversation.");break;case c("MessagingGenericAdminTextType").INSTANT_GAME_UPDATE:if(c("gkx")("AT4VU3LTU_m0y3MeJeai7hJytsOcRy63JbTrv7QtkGDcMH9aN_sV8sDNC1ebrhVq0RfT0H4FEgW5UVoJHsOiHpnF")&&c("isWebGLEnabled")())u=c("React").createElement(c("MessengerGameAdminMessage.react"),{message:m,text:m.log_message_body,isLastOfType:n,onLoad:o});break;case c("MessagingGenericAdminTextType").ADS_WELCOME_MSG:break;case c("MessagingGenericAdminTextType").AD_MANAGE_MESSAGE:if(c("MNAdsMessageUtils").isAdsAdminMessage(m))u=c("MNAdsMessageUtils").getAdsPageManage(m,false);break;case c("MessagingGenericAdminTextType").WORK_INVITE_CLAIMED:u=m.log_message_body?m.log_message_body:i._("You're now connected on Workplace Chat.");if(m.log_message_data.untypedData){var z=m.log_message_data.untypedData.invite_recipient,A=m.log_message_data.untypedData.invite_sender,B=c("MercuryParticipants").getNow(c("MercuryIDs").getParticipantIDFromUserID(z)),C=c("MercuryParticipants").getNow(c("MercuryIDs").getParticipantIDFromUserID(A));if(C!=null&&B!=null){var D=[B,C];u=c("React").createElement(c("FacepileRounded.react"),{profiles:D,message:u,numProfilesToDisplay:2,className:"_8lx"})}}break;case c("MessagingGenericAdminTextType").GENERIC_NEW_CONNECTION:case c("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST:var E=v==c("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST,F=m.log_message_data.untypedData;if(!F)break;var G=E?F.friend_request_recipient:F.recipient_id,H=E?F.friend_request_sender:F.initiator_id,I=c("MercuryParticipants").getNow(c("MercuryIDs").getParticipantIDFromUserID(G)),J=c("MercuryParticipants").getNow(c("MercuryIDs").getParticipantIDFromUserID(H));if(J==null||I==null)break;var K=[I,J],L=c("MercuryIDs").getParticipantIDFromUserID(m.other_user_fbid),M=c("MercuryParticipants").getOrFetch(L),N=M?M.short_name:null;c("QE2Logger").logExposureForUser("messenger_growth_tombstone");u=c("React").createElement("div",null,c("React").createElement(c("FacepileRounded.react"),{profiles:K,message:m.log_message_body,numProfilesToDisplay:2,className:"_8lx"}),c("MercuryConfig").NFBW?c("React").createElement(c("MessengerNewWavePrompt.react"),{threadID:m.thread_id,recipientName:N}):null);break;case c("MessagingGenericAdminTextType").GROUP_THREAD_CREATED:u=c("React").createElement("div",null,u,c("gkx")("AT7uCGaYk4KWBCIq3SurfBIwk1DjmbU_QXgSqcY73Sdnw3DJhbzA4qigZjhm4wwYtWnHVZcxghHN6RO33C1W8YjG")?c("React").createElement(c("MessengerNewWavePrompt.react"),{threadID:m.thread_id,recipientName:null}):null);break;case c("MessagingGenericAdminTextType").GROUP_POLL:u=c("React").createElement(c("MessengerGroupPollingAdminMessage.react"),{customColor:l,message:m,isLastOfType:n,onLoad:o});break;case c("MessagingGenericAdminTextType").PAGES_COMMERCE_PAYMENT_ENABLED:u=c("React").createElement(c("MessengerPagesCommercePaymentEnabledAdminMessage.react"),{message:m});break;case c("MessagingGenericAdminTextType").THREAD_CUSTOMIZATION_UPSELL:if(c("MessengerEnvironment").messengerui)u=i._("Customize this conversation: choose the color, emoji and nicknames from the sidebar.");else u=i._("Choose the color, emoji and nicknames from the sidebar of your conversation on www.messenger.com.");break;case c("MessagingGenericAdminTextType").PARTIES_INVITE:var O=m.author.replace("fbid:",""),P=m.other_user_fbid.replace("fbid:",""),Q=(r=m)!=null?(r=r.log_message_data)!=null?(r=r.untypedData)!=null?r.parties_invite_type:r:r:r,R=(s=m)!=null?(s=s.log_message_data)!=null?(s=s.untypedData)!=null?s.parties_user_id:s:s:s;u=c("React").createElement(c("PartiesInviteAttachment.react"),{authorID:O,logMessage:m.log_message_body,otherUserID:P,partiesInviteType:Q,partiesUserID:R});break;case c("MessagingGenericAdminTextType").PAGES_MARK_AS_PAID:u=c("React").createElement(c("PagesMarkAsPaidMessagingActionText.react"),{message:m.log_message_body,messageID:m.message_id,isPageMessage:p});break;case c("MessagingGenericAdminTextType").MESSENGER_AD_CONTEXT:u=c("MNAdsMessageUtils").getAdContextAdminMessage(m);break;case c("MessagingGenericAdminTextType").PAGES_PLATFORM_APPOINTMENT_REMINDER:var S=(t=m)!=null?(t=t.log_message_data)!=null?t.untypedData:t:t,T=S&&S.page_name,U=S&&S.product_name,V=S&&S.start_time,W=S&&S.user_name;u=c("React").createElement(c("ServicesAppointmentReminderAdminText.react"),{isPageMessage:p,message:m.log_message_body,pageName:T,productName:U,startTime:V,timestamp:m.timestamp,userName:W});break;default:break}return c("React").createElement("span",null,u)}};f.exports=j}),null);
__d("P2PGroupSendReceiptDialog.react",["cx","fbt","FacepileRounded.react","Image.react","Link.react","MessengerEnvironment","P2PAmountUtils","P2PBigAmount.react","P2PButton.react","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PLinkConstants","P2PLogger","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PPaymentRequestStatus","P2PText.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.handleClose=function(){this.log(c("P2PPaymentLoggerEvent").UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED);this.props.onClose()}.bind(this),n}l.prototype.componentDidMount=function(){this.log(c("P2PPaymentLoggerEvent").UI_ACTN_3RD_PARTY_RECEIPT_SHOWN,{raw_amount:this.props.amount})};l.prototype.getReceiverStatusMap=function(){var m;return this.props.individualRequests.reduce(function(n,o){switch(o.currentStatus){case c("P2PPaymentRequestStatus").EXPIRED:case c("P2PPaymentRequestStatus").DECLINED:case c("P2PPaymentRequestStatus").TRANSFER_COMPLETED:n[o.currentStatus].push(o);break;default:n[c("P2PPaymentRequestStatus").INITED].push(o);break}return n},(m={},m[c("P2PPaymentRequestStatus").DECLINED]=[],m[c("P2PPaymentRequestStatus").EXPIRED]=[],m[c("P2PPaymentRequestStatus").INITED]=[],m[c("P2PPaymentRequestStatus").TRANSFER_COMPLETED]=[],m))};l.prototype.getRequestProfile=function(m){var n=m.requestee||{};return{image_src:n.picture,name:n.full_name}};l.prototype.log=function(m,n){c("P2PLogger").log(m,babelHelpers["extends"]({www_event_flow:this.props.eventFlow},n))};l.prototype.renderBody=function(){return c("React").createElement(c("P2PDialogBody.react"),null,c("React").createElement("ul",null,this.renderParticipantRow(this.props.sender,true),this.renderParticipantRow(this.props.receiver,false)),this.renderReceiverStatusList(),c("React").createElement("div",{className:"_bpy"},c("React").createElement(c("P2PBigAmount.react"),{amount:c("P2PAmountUtils").sanitizeAmount(this.props.amount),currencyCode:this.props.currencyCode,isPending:this.props.isGrayAmount,size:"large"})),c("React").createElement(c("P2PText.react"),{className:"_bpt",size:"small",type:"secondary"},this.props.bodyText," ",c("React").createElement(c("Link.react"),{className:"_1ed3",href:c("P2PLinkConstants").helpCenterURI,target:"_blank"},i._("Learn More"))))};l.prototype.renderParticipantRow=function(m,n){if(!n&&this.props.individualRequests.length>1)return null;return c("React").createElement("li",{className:"_2chg",key:m.id},c("React").createElement("div",{className:"_2chh"},c("React").createElement(c("Link.react"),{href:m.profile_uri,onClick:this.props.onClose},c("React").createElement(c("Image.react"),{height:50,src:m.picture,width:50}))),c("React").createElement("div",{className:"_2chi"},c("React").createElement(c("P2PText.react"),{type:"primary"},c("React").createElement(c("P2PText.react"),{type:"secondary"},this.renderParticipantText(n)),m.full_name)))};l.prototype.renderParticipantText=function(m){if(m)return i._("From");return i._("To")};l.prototype.renderReceiverStatusList=function(){if(this.props.individualRequests.length<2)return null;var m=this.getReceiverStatusMap();return c("React").createElement("ul",null,this.renderStatus(m,c("P2PPaymentRequestStatus").TRANSFER_COMPLETED),this.renderStatus(m,c("P2PPaymentRequestStatus").DECLINED),this.renderStatus(m,c("P2PPaymentRequestStatus").INITED),this.renderStatus(m,c("P2PPaymentRequestStatus").EXPIRED))};l.prototype.renderStatus=function(m,n){var o=m[n].map(this.getRequestProfile);if(o.length===0)return null;return c("React").createElement("li",{className:"_5-av",key:n},c("React").createElement(c("P2PText.react"),{className:"_2chi _2pir",type:"secondary"},this.renderStatusText(n)),c("React").createElement(c("FacepileRounded.react"),{className:"_3-8w",imageSize:40,numProfilesToDisplay:9,profiles:o,showNames:true}))};l.prototype.renderStatusText=function(m){switch(m){case c("P2PPaymentRequestStatus").DECLINED:return i._("Declined");case c("P2PPaymentRequestStatus").EXPIRED:return i._("Expired");case c("P2PPaymentRequestStatus").TRANSFER_COMPLETED:return i._("Paid");case c("P2PPaymentRequestStatus").INITED:default:return i._("Pending")}};l.prototype.render=function(){var m=c("MessengerEnvironment").messengerui,n=m?380:360,o=this.props.title;return c("React").createElement(c("P2PDialog.react"),{className:m?"_bpv":"",layerHideOnBlur:false,onToggle:this.props.onClose,width:n},c("React").createElement(c("P2PDialogTitle.react"),null,o),this.renderBody(),c("React").createElement(c("P2PDialogFooter.react"),null,c("React").createElement(c("P2PButton.react"),{label:i._("OK"),onClick:this.handleClose,type:"primary"})))};l.defaultProps={bodyText:i._("You can send money to friends in groups."),eventFlow:c("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_GROUP_SEND,individualRequests:[],isGrayAmount:false,title:i._("Payment Details")};f.exports=l}),null);
__d("P2PGroupPaymentRequestReceiptDialog.react",["fbt","P2PActions","P2PGroupSendReceiptDialog.react","P2PPaymentLoggerEventFlow","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("P2PGroupSendReceiptDialog.react"),{amount:this.props.amount,bodyText:h._("You can send payment requests to friends in groups"),eventFlow:c("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_GROUP_REQUEST,individualRequests:this.props.individualRequests,isGrayAmount:true,receiver:this.props.requestee,sender:this.props.requester,title:h._("Payment Request Details"),onClose:this.props.onClose||c("P2PActions").hideDialog})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("XP2PPaymentRequestReceiptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/p2p/payment_request/",{id:{type:"String",required:true}})}),null);
__d("XP2PTransactionDetailController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/p2p/transaction/",{id:{type:"String",required:true}})}),null);
__d("P2PMercuryLogMessage.react",["cx","fbt","MessengerEnvironment","CurrentUser","Link.react","MercuryIDs","P2PGroupPaymentRequestReceiptDialog.react","P2PGroupSendReceiptDialog.react","P2PPaymentLogMessageSubtype","React","ReactLayeredComponentMixin_DEPRECATED","XP2PPaymentRequestReceiptController","XP2PTransactionDetailController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"P2PMercuryLogMessage",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{amount:j.string,receiver:j.object.isRequired,sender:j.object.isRequired,subtype:j.oneOf(Object.keys(c("P2PPaymentLogMessageSubtype")).map(function(l){return c("P2PPaymentLogMessageSubtype")[l]})),transferID:j.string.isRequired,threadFBID:j.string,threadID:j.string},getDefaultProps:function l(){return{amount:"",sender:null,receiver:null,subtype:null}},getInitialState:function l(){return{groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false}},handleGroupDetailsLinkClicked:function l(){this.setState({groupSendReceiptDetailsShown:true})},handleGroupPaymentRequestDetailsLinkClicked:function l(){this.setState({groupPaymentRequestReceiptDetailsShown:true})},handleThirdPartyReceiptDialogClosed:function l(){this.setState({groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false})},isViewerSender:function l(){var m=this.props.sender.id;return m&&c("MercuryIDs").getUserIDFromParticipantID(m)===c("CurrentUser").getID()},isViewerReceiver:function l(){var m=this.props.receiver.id;return m&&c("MercuryIDs").getUserIDFromParticipantID(m)===c("CurrentUser").getID()},renderPaymentRequestDetailsLink:function l(){var m=c("XP2PPaymentRequestReceiptController").getURIBuilder().setString("id",this.props.transferID).getURI();return c("React").createElement(c("Link.react"),{className:"_kiq",href:m,target:"_blank"},i._("See details"))},renderTransferDetailsLink:function l(){var m=c("XP2PTransactionDetailController").getURIBuilder().setString("id",this.props.transferID).getURI();return c("React").createElement(c("Link.react"),{className:"_kiq",href:m,target:"_blank"},i._("See details"))},renderGroupDetailsLink:function l(){return c("React").createElement(c("Link.react"),{className:"_kiq",href:"#",onClick:this.handleGroupDetailsLinkClicked},i._("See details"))},renderGroupPaymentRequestDetailsLink:function l(){return c("React").createElement(c("Link.react"),{className:"_kiq",href:"#",onClick:this.handleGroupPaymentRequestDetailsLinkClicked},i._("See details"))},renderLayers:function l(){var m={},n={full_name:this.props.receiver.name,id:this.props.receiver.id,picture:this.props.receiver.image_src,profile_uri:this.props.receiver.href},o={full_name:this.props.sender.name,id:this.props.sender.id,picture:this.props.sender.image_src,profile_uri:this.props.sender.href};if(this.state.groupSendReceiptDetailsShown)m.groupSendReceiptDetailsDialog=c("React").createElement(c("P2PGroupSendReceiptDialog.react"),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,receiver:n,sender:o});else if(this.state.groupPaymentRequestReceiptDetailsShown)m.groupPaymentRequestReceiptDetailsDialog=c("React").createElement(c("P2PGroupPaymentRequestReceiptDialog.react"),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,requestee:n,requester:o});return m},render:function l(){__p&&__p();var m=null,n=this.props.amount,o=this.props.subtype,p=this.isViewerSender(),q=this.isViewerReceiver(),r=void 0;if(!p&&!q)r=this.renderGroupDetailsLink();else r=this.renderTransferDetailsLink();switch(o){case c("P2PPaymentLogMessageSubtype").SENT_IN_GROUP:m=i._("{sendername} sent {amount} to {receivername}. {details}",[i.param("sendername",this.props.sender.name),i.param("amount",n),i.param("receivername",this.props.receiver.name),i.param("details",r)]);break;case c("P2PPaymentLogMessageSubtype").CANCELED_EXPIRED:case c("P2PPaymentLogMessageSubtype").CANCELED_SAME_CARD:case c("P2PPaymentLogMessageSubtype").CANCELED_SENDER_RISK:case c("P2PPaymentLogMessageSubtype").CANCELED_RECIPIENT_RISK:case c("P2PPaymentLogMessageSubtype").CANCELED_CUSTOMER_SERVICE:if(p)m=i._("Your {amount} payment was canceled. {details}",[i.param("amount",n),i.param("details",this.renderTransferDetailsLink())]);else if(q)m=i._("{name}'s {amount} payment was canceled. {details}",[i.param("name",this.props.sender.name),i.param("amount",n),i.param("details",this.renderTransferDetailsLink())]);else m=i._("{sender_name}'s {amount} payment to {receiver_name} was canceled. {details}",[i.param("sender_name",this.props.sender.name),i.param("amount",n),i.param("receiver_name",this.props.receiver.name),i.param("details",r)]);m=c("React").createElement("span",{className:"_5rdx"},m);break;case c("P2PPaymentLogMessageSubtype").CANCELED_DECLINED:if(p)m=i._("{name} didn't accept your {amount} payment. {details}",[i.param("name",this.props.receiver.name),i.param("amount",n),i.param("details",this.renderTransferDetailsLink())]);else if(q)m=i._("You didn't accept {name}'s {amount} payment. {details}",[i.param("name",this.props.sender.name),i.param("amount",n),i.param("details",this.renderTransferDetailsLink())]);else m=i._("{receiver_name} didn't accept {sender_name}'s {amount} payment. {details}",[i.param("receiver_name",this.props.receiver.name),i.param("sender_name",this.props.sender.name),i.param("amount",n),i.param("details",r)]);m=c("React").createElement("span",{className:"_5rdx"},m);break;case c("P2PPaymentLogMessageSubtype").REQUEST_CANCELED_BY_REQUESTER:if(p)m=i._("You canceled your request for {payment request amount}. {details}",[i.param("payment request amount",n),i.param("details",this.renderPaymentRequestDetailsLink())]);else if(q)m=i._("{sender's name} canceled their request for {payment request amount}. {details}",[i.param("sender's name",this.props.sender.name),i.param("payment request amount",n),i.param("details",this.renderPaymentRequestDetailsLink())]);else m=i._("{sender's name} canceled their request for {payment request amount} from {receiver's name}. {details}",[i.param("sender's name",this.props.sender.name),i.param("payment request amount",n),i.param("receiver's name",this.props.receiver.name),i.param("details",this.renderGroupPaymentRequestDetailsLink())]);m=c("React").createElement("span",{className:"_5rdx"},m);break;case c("P2PPaymentLogMessageSubtype").REQUEST_DECLINED_BY_REQUESTEE:if(p)m=i._("{receiver's name} declined your request for {payment request amount}. {details}",[i.param("receiver's name",this.props.receiver.name),i.param("payment request amount",n),i.param("details",this.renderPaymentRequestDetailsLink())]);else if(q)m=i._("You declined {sender's name}'s request for {payment request amount}. {details}",[i.param("sender's name",this.props.sender.name),i.param("payment request amount",n),i.param("details",this.renderPaymentRequestDetailsLink())]);else m=i._("{receiver's name} declined {sender's name}'s request for {payment request amount}. {details}",[i.param("receiver's name",this.props.receiver.name),i.param("sender's name",this.props.sender.name),i.param("payment request amount",n),i.param("details",this.renderGroupPaymentRequestDetailsLink())]);m=c("React").createElement("span",{className:"_5rdx"},m);break;case c("P2PPaymentLogMessageSubtype").REQUEST_EXPIRED:if(p)m=i._("Your request for {payment request amount} expired so it was canceled. {details}",[i.param("payment request amount",n),i.param("details",this.renderPaymentRequestDetailsLink())]);else if(q)m=i._("{sender's name}'s request for {payment request amount} expired so it was canceled. {details}",[i.param("sender's name",this.props.sender.name),i.param("payment request amount",n),i.param("details",this.renderPaymentRequestDetailsLink())]);else m=i._("{sender's name}'s request to {receiver's name} for {payment request amount} expired so it was canceled. {details}",[i.param("sender's name",this.props.sender.name),i.param("receiver's name",this.props.receiver.name),i.param("payment request amount",n),i.param("details",this.renderGroupPaymentRequestDetailsLink())]);m=c("React").createElement("span",{className:"_5rdx"},m);break}return c("React").createElement("div",{className:c("MessengerEnvironment").messengerui?"_5rdy":""},m)}});f.exports=k}),null);
__d("MessengerLogMessageBody.react",["fbt","immutable","ImmutableObject","MercuryIDs","MercuryParticipants","MercuryLogMessageType","MessengerAdminGroupUtils","P2PMercuryLogMessage.react","ReactComponentWithPureRenderMixin","React","StoreAndPropBasedStateMixin","MessengerTextWithEmoticons.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="source:messenger_growth:event_upcoming_bump",j=c("React").PropTypes,k=c("React").createClass({displayName:"MessengerLogMessageBody",_viewer:"",mixins:[c("ReactComponentWithPureRenderMixin"),c("StoreAndPropBasedStateMixin")(c("MercuryParticipants"))],propTypes:{thread:j.instanceOf(c("ImmutableObject")),message:j.instanceOf(c("ImmutableObject")).isRequired,viewer:j.string.isRequired},statics:{calculateState:function l(m){__p&&__p();var n=[],o=m.message,p=o.log_message_data,q=o.log_message_type;switch(q){case c("MercuryLogMessageType").SUBSCRIBE:n=p.added_participants;break;case c("MercuryLogMessageType").UNSUBSCRIBE:n=p.removed_participants;break;case c("MercuryLogMessageType").ORION:n.push(p.senderId,p.receiverId);break}if(!n||!n.length)return{};var r=c("immutable").Map().withMutations(function(s){n.forEach(function(t){s.set(t,c("MercuryParticipants").getOrFetch(t)||{})})});return{extraParticipants:r}}},render:function l(){__p&&__p();var m=this.props.message.log_message_type;this._viewer=c("MercuryIDs").getParticipantIDFromUserID(this.props.viewer);if(this._viewer!==this.props.message.author&&m!==c("MercuryLogMessageType").ORION)return null;var n=c("MessengerAdminGroupUtils").isJoinableThread(this.props.thread),o=c("MessengerAdminGroupUtils").isGroupChat(this.props.thread);switch(m){case c("MercuryLogMessageType").SUBSCRIBE:return c("React").createElement("span",null,this._renderSubscribeMessage(this.props.message));case c("MercuryLogMessageType").UNSUBSCRIBE:if(n)return c("React").createElement("span",null,o?this._renderUnsubscribeMessageForGroupChat(this.props.message):this._renderUnsubscribeMessageForRoom(this.props.message));return c("React").createElement("span",null,this._renderUnsubscribeMessage(this.props.message));case c("MercuryLogMessageType").THREAD_NAME:if(n)return c("React").createElement("span",null,o?this._renderThreadNameMessageForGroupChat():this._renderThreadNameMessageForRoom());return c("React").createElement("span",null,this._renderThreadNameMessage());case c("MercuryLogMessageType").THREAD_IMAGE:if(n)return c("React").createElement("span",null,o?this._renderThreadImageMessageForGroupChat():this._renderThreadImageMessageForRoom());return c("React").createElement("span",null,this._renderThreadImageMessage());case c("MercuryLogMessageType").ORION:return this._renderP2PLogMessage(this.props.message);default:return null}},_renderP2PLogMessage:function l(m){var n=m.log_message_data,o=n.senderId,p=n.receiverId,q=this.state.extraParticipants,r=q.get(o),s=q.get(p);return c("React").createElement(c("P2PMercuryLogMessage.react"),{amount:n.formattedAmount,receiver:s,sender:r,subtype:n.subtype,threadFBID:m.thread_fbid,threadID:m.thread_id,transferID:n.transfer_id})},_renderSubscribeMessage:function l(m){var n=this._moveCurrentUserToFront(m.log_message_data.added_participants),o=this.state.extraParticipants;switch(n.length){case 1:return h._("You added {subscriber1}.",[h.param("subscriber1",o.get(n[0]).name)]);case 2:return h._("You added {subscriber1} and {subscriber2}.",[h.param("subscriber1",o.get(n[0]).name),h.param("subscriber2",o.get(n[1]).name)]);case 3:return h._("You added {subscriber1}, {subscriber2} and {subscriber3}.",[h.param("subscriber1",o.get(n[0]).name),h.param("subscriber2",o.get(n[1]).name),h.param("subscriber3",o.get(n[2]).name)]);default:var p=n.map(function(q){return o.get(q)});return h._("You added {subscriber1}, {subscriber2} and {num} other people.",[h.param("subscriber1",p[0].name),h.param("subscriber2",p[1].name),h.param("num",p.slice(2).length)])}},_renderUnsubscribeMessage:function l(m){var n=this.state.extraParticipants,o=m.log_message_data.removed_participants[0],p=n.get(o);if(!o||o===m.author)return h._("You left the conversation.");else return h._("You removed {name} from the conversation.",[h.param("name",p.name)])},_renderUnsubscribeMessageForRoom:function l(m){var n=this.state.extraParticipants,o=m.log_message_data.removed_participants[0],p=n.get(o);if(!o||o===m.author)return h._("You left the room.");else return h._("You removed {name} from the room.",[h.param("name",p.name)])},_renderUnsubscribeMessageForGroupChat:function l(m){var n=this.state.extraParticipants,o=m.log_message_data&&m.log_message_data.removed_participants&&m.log_message_data.removed_participants[0],p=o&&n.get(o);if(!o||o===m.author)return h._("You left the chat.");else return h._("You removed {name} from the chat.",[h.param("name",p&&p.name)])},_renderThreadNameMessage:function l(){var m=this.props.message.log_message_data;if(!m.name)return h._("You removed the group name.");return h._("You named the group {the new name of the group}.",[h.param("the new name of the group",m.name)])},_renderThreadNameMessageForRoom:function l(){var m=this.props.message.log_message_data;if(!m.name)return h._("You removed the room name.");return h._("You named the room {the new name of the group}.",[h.param("the new name of the group",m.name)])},_renderThreadNameMessageForGroupChat:function l(){var m=this.props.message.log_message_data;if(!m.name)return h._("You removed the chat name.");return h._("You named the chat {the new name of the group}.",[h.param("the new name of the group",m.name)])},_renderThreadImageMessage:function l(){if(this.props.message.tags!==undefined&&this.props.message.tags.indexOf(i)!==-1)return h._("The group photo has been changed.");return h._("You changed the group photo.")},_renderThreadImageMessageForRoom:function l(){return h._("You changed the room photo.")},_renderThreadImageMessageForGroupChat:function l(){return h._("You changed the chat photo.")},_moveCurrentUserToFront:function l(m){var n=this._viewer,o=m.indexOf(n);if(o>0){var p=m.filter(function(q){return q!==n});return[n].concat(p)}return m}});f.exports=k}),null);
__d("MessengerLogMessage.react",["cx","fbt","ix","BootloadOnRender.react","EventRemindersGating","EventsMessengerComActionContextJSConfig","Image.react","ImmutableObject","JSResource","LazyComponent.react","Link.react","MercuryLogMessageType","MercuryLWARenderer","MercuryMessageInfo","MercuryXMATRenderer","MessagingGenericAdminTextType","messengerDialogsRe","MessengerLightweightActionUtils","MessengerLogMessageBody.react","MNCommerceLogMessageUtils","React","convertMIGColorToFIGColor","joinClasses","requireWeak","EventReminderRequestHelper"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n=j("86913");k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={showEventPlanDialog:false},this.$MessengerLogMessage6=function(event){__p&&__p();event.stopPropagation();if(this.state.showEventPlanDialog)return;this.setState({showEventPlanDialog:true});if(!this.props.thread)return;var u=this.props.thread,v=c("EventReminderRequestHelper"),w={action_history:[{surface:c("EventsMessengerComActionContextJSConfig").messenger_com,mechanism:c("EventsMessengerComActionContextJSConfig").reminder_admin_text}]};v.fetchEventReminder(u.thread_id,u.lightweight_event.oid,function(){c("messengerDialogsRe").showDialog(function(){return c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("MessengerEventPlanContainer.react").__setRef("MessengerLogMessage.react"),placeholder:c("React").createElement("div",null),component:c("React").createElement(c("LazyComponent.react"),{threadID:u.thread_id,dialogOnly:true,dialogHandleToggle:this.$MessengerLogMessage7,actionContext:w})})}.bind(this))}.bind(this))}.bind(this),this.$MessengerLogMessage7=function(u){this.setState({showEventPlanDialog:false});c("messengerDialogsRe").removeAllDialogs()}.bind(this),q}o.prototype.render=function(){var p=c("EventRemindersGating").shouldShowPlansOnMessengerCom?c("React").createElement("span",{className:"_ofg",ref:"attachment"},this.$MessengerLogMessage1()):null;return c("React").createElement("div",{className:this.$MessengerLogMessage2()},this.$MessengerLogMessage3(),c("React").createElement("i",{className:"_uwa"}),c("React").createElement("span",{className:"_3oh-"},this.$MessengerLogMessage4()),p)};o.prototype.$MessengerLogMessage4=function(){var p=c("convertMIGColorToFIGColor")(this.props.thread&&this.props.thread.custom_color),q=void 0;if(c("MessengerLightweightActionUtils").isLWAMessage(this.props.message))return c("MercuryLWARenderer").renderCollapsedText(this.props.message);if(this.props.message.log_message_type!==c("MercuryLogMessageType").ORION)q=c("MercuryXMATRenderer").renderText(p,this.props.message,this.props.isLastOfType,this.props.onImageLoad,this.props.isPageMessage);return this.$MessengerLogMessage5()||q||c("React").createElement(c("MessengerLogMessageBody.react"),{message:this.props.message,viewer:this.props.viewer,thread:this.props.thread})};o.prototype.$MessengerLogMessage5=function(){var p=this.props.message;if(c("MNCommerceLogMessageUtils").isCommercePageAdminMessage(p))return c("MNCommerceLogMessageUtils").getCommercePageManage(p,true);return null};o.prototype.$MessengerLogMessage3=function(){if(!c("MercuryMessageInfo").hasError(this.props.message))return null;return c("React").createElement(c("Image.react"),{className:"_41-9",src:n})};o.prototype.$MessengerLogMessage2=function(){__p&&__p();var p=void 0,q=this.props.message,r=q.log_message_type===c("MercuryLogMessageType").UNSUBSCRIBE&&q.log_message_data.removed_participants.indexOf(q.author)!==-1,s=this.props.viewer;switch(q.log_message_type){case c("MercuryLogMessageType").SUBSCRIBE:p="_uwb";break;case c("MercuryLogMessageType").UNSUBSCRIBE:p=r?"_uwc":"_uwe";break;case c("MercuryLogMessageType").PHONE_CALL:p=q.log_message_data.caller.indexOf(s)!==-1?"_uwf":"_uwg";break;case c("MercuryLogMessageType").VIDEO_CALL:p=q.log_message_data.caller.indexOf(s)!==-1?"_uwh":"_uwi";break;case c("MercuryLogMessageType").THREAD_NAME:p="_uwj";break;case c("MercuryLogMessageType").THREAD_IMAGE:p="_uwk";break;case c("MercuryLogMessageType").SERVER_ERROR:p="_uwl";break;case c("MercuryLogMessageType").LIVE_LISTEN:p="_uwm";break;case c("MercuryLogMessageType").WALLPAPER:p="_uwn";break;case c("MercuryLogMessageType").ORION:p="_uwo";break;case c("MercuryLogMessageType").SWITCH_TO_WORK:p="_uwp";break;case c("MercuryLogMessageType").PAGE_REPLY:p="_uwq";break}return c("joinClasses")("_497p"+((q.log_message_type===c("MercuryLogMessageType").PHONE_CALL||q.log_message_type===c("MercuryLogMessageType").VIDEO_CALL)&&!q.log_message_data.answered?" _3no3":"")+(q.log_message_data&&q.log_message_data.message_type===c("MessagingGenericAdminTextType").INSTANT_GAME_UPDATE?" _11es":""),p)};o.prototype.$MessengerLogMessage1=function(){__p&&__p();if(!this.props.thread)return null;var p=this.props.thread;if(!p.lightweight_event||!this.props.message.log_message_data)return null;var q=void 0;c("requireWeak")("EventReminderStateStore",function(t){q=t.getEvent(p.thread_id)});if(!q||!q.exists)return null;var r=void 0;switch(this.props.message.log_message_data.message_type){case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_CREATE:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TIME:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TITLE:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_LOCATION:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE:r=i._("Change");break;default:r=null}var s=c("React").createElement(c("Link.react"),{href:"#",onClick:this.$MessengerLogMessage6,title:i._("Edit Event"),ref:"event_rem_link"},r);if(this.props.displayItems)s=null;return s};o.propTypes={message:m.instanceOf(c("ImmutableObject")).isRequired,viewer:m.string.isRequired,isLastOfType:m.bool.isRequired,onImageLoad:m.func};f.exports=o}),null);