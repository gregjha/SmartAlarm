if (self.CavalryLogger) { CavalryLogger.start_js(["jpFDR"]); }

__d("MercuryDeliveryReceiptsRe",["Map","Arbiter","utilsRe","bs_js_primitive","MercuryDispatcher","mercurySingletonProviderRe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(l){__p&&__p();var m={},n=new(c("Arbiter"))(),o={__fbid:l,getDeliveryTime:function q(r){var s=m,t=r;return c("utilsRe").$pipe$unknown(c("bs_js_primitive").undefined_to_opt(s[t]),0)},subscribe:function q(r,s){return n.subscribe(r,s)}},p=c("MercuryDispatcher").getForFBID(l);p.subscribe("update-delivery",function(q,r){__p&&__p();if(r==null)return 0;else{var s=r.delivery_receipts;if(s==null)return 0;else{Object.keys(s).forEach(function(t){var u=s[t],v=c("utilsRe").$pipe$unknown(c("bs_js_primitive").undefined_to_opt(m[t]),0);if(u>v){m[t]=u;var w=new(c("Map"))([[t,true]]);n.inform("change",w);return 0}else return 0});return 0}}});return o}var i=c("mercurySingletonProviderRe").Provider([h]),j=i[0],k=i[1];g.getForFBID=j;g.get=k}),null);