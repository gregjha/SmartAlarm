if (self.CavalryLogger) { CavalryLogger.start_js(["3WZj4"]); }

__d("ArtilleryTrace",["invariant","ArtillerySegment","ArtillerySequence"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(){"use strict";__p&&__p();this.$ArtilleryTrace1=false;this.$ArtilleryTrace3=undefined;this.$ArtilleryTrace4={};this.$ArtilleryTrace5={};this.$ArtilleryTrace6=[];this.$ArtilleryTrace7=[];this.$ArtilleryTrace8={};this.$ArtilleryTrace9=[];this.$ArtilleryTrace10=null}i.prototype.createSequence=function(j){"use strict";!this.$ArtilleryTrace1||h(0);var k=new(c("ArtillerySequence"))(j);this.$ArtilleryTrace6.push(k);return k};i.prototype.createSegment=function(j){"use strict";!this.$ArtilleryTrace1||h(0);var k=new(c("ArtillerySegment"))(j);this.$ArtilleryTrace7.push(k);return k};i.prototype.markSegment=function(j,k){"use strict";!this.$ArtilleryTrace1||h(0);this.$ArtilleryTrace8[k]=j.getID();return this};i.prototype.connectTrace=function(j,k){"use strict";!this.$ArtilleryTrace1||h(0);k=k||this.$ArtilleryTrace2;k||h(0);this.$ArtilleryTrace9.push({segment:j.getID(),trace:k});return this};i.prototype.setID=function(j,k){"use strict";!this.$ArtilleryTrace2&&!this.$ArtilleryTrace3||h(0);this.$ArtilleryTrace2=j;this.$ArtilleryTrace3=k;return this};i.prototype.getID=function(){"use strict";return this.$ArtilleryTrace2};i.prototype.getArtillery2ID=function(){"use strict";return this.$ArtilleryTrace3};i.prototype.addProperty=function(j,k){"use strict";this.$ArtilleryTrace4[j]=k;return this};i.prototype.addTagset=function(j,k){"use strict";this.$ArtilleryTrace5[j]=k;return this};i.prototype.addActivePolicies=function(j){"use strict";this.addTagset("active_policies",j);this.addTagset("policy",j);return this};i.prototype.getProperty=function(j){"use strict";return this.$ArtilleryTrace4[j]};i.prototype.getTagset=function(j){"use strict";return this.$ArtilleryTrace5[j]};i.prototype.getActivePolicies=function(){"use strict";return this.getTagset("active_policies")};i.prototype.post=function(){"use strict";!this.$ArtilleryTrace1||h(0);this.$ArtilleryTrace1=true;var j=this.$ArtilleryTrace10;if(j)j({id:this.$ArtilleryTrace2,artillery2Id:this.$ArtilleryTrace3,properties:this.$ArtilleryTrace4,tagsets:this.$ArtilleryTrace5,sequences:this.$ArtilleryTrace6.map(function(k){return k.setPosted().getPostData()}),segments:this.$ArtilleryTrace7.map(function(k){return k.setPosted().getPostData()}),marks:Object.assign({},this.$ArtilleryTrace8),connections:this.$ArtilleryTrace9.slice()})};i.prototype.setOnPost=function(j){"use strict";!this.$ArtilleryTrace10||h(0);this.$ArtilleryTrace10=j;return this};i.prototype.isPosted=function(){"use strict";return this.$ArtilleryTrace1};f.exports=i}),null);