if (self.CavalryLogger) { CavalryLogger.start_js(["6CJDz"]); }

__d("MessengerDetailViewHeaderContainer.react",["immutable","ImmutableObject","MercuryIDs","MercuryThreadIDMap","MercuryTypeaheadConstants","MessengerActions","MessengerComposerActions","MessengerComposeViewHeader.react","messengerDetailViewHeaderReact","MessengerView","React","shallowEqual"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("messengerDetailViewHeaderReact").jsComponent,k=c("React").PropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.$MessengerDetailViewHeaderContainer1=function(r){__p&&__p();var s=r.getUniqueID(),t=r.getType();if(t===c("MercuryTypeaheadConstants").THREAD_TYPE){var u=c("MercuryThreadIDMap").getForFBID(this.props.viewer);u.getClientIDFromServerID(s,function(v){c("MessengerComposerActions").moveDraftToNextThread(v);c("MessengerActions").selectThread(v)});c("MessengerComposerActions").exitComposeState()}else if(s===this.props.viewer||t===c("MercuryTypeaheadConstants").PAGE_TYPE){c("MessengerComposerActions").moveDraftToNextThread(c("MercuryIDs").getThreadIDFromUserID(s));c("MessengerComposerActions").exitComposeState();c("MessengerActions").selectThread(c("MercuryIDs").getThreadIDFromUserID(s))}else c("MessengerComposerActions").addToken(r)}.bind(this),this.$MessengerDetailViewHeaderContainer2=function(r){c("MessengerComposerActions").removeToken(r)},n}l.prototype.shouldComponentUpdate=function(m){var n=m.contactData,o=babelHelpers.objectWithoutProperties(m,["contactData"]),p=this.props,q=p.contactData,r=babelHelpers.objectWithoutProperties(p,["contactData"]);return!c("shallowEqual")(o,r)||!c("shallowEqual")(n,q)};l.prototype.render=function(){return this.props.view===c("MessengerView").DETAIL.COMPOSE?c("React").createElement(c("MessengerComposeViewHeader.react"),{forceHideClearButton:true,onAddRecipient:this.$MessengerDetailViewHeaderContainer1,onRemoveRecipient:this.$MessengerDetailViewHeaderContainer2,onResize:this.props.onResize,recipients:this.props.recipients,viewer:this.props.viewer}):c("React").createElement(j,{contactData:this.props.contactData,infoPanelCollapsed:this.props.infoPanelCollapsed,onInfoPanelToggle:this.props.onInfoPanelToggle,participants:this.props.participants,thread:this.props.thread,viewer:this.props.viewer})};l.propTypes={contactData:k.object,infoPanelCollapsed:k.bool.isRequired,onInfoPanelToggle:k.func.isRequired,onResize:k.func.isRequired,participants:k.instanceOf(c("immutable").Map).isRequired,recipients:k.instanceOf(c("immutable").List).isRequired,thread:k.instanceOf(c("ImmutableObject")),view:k.string,viewer:k.string.isRequired};f.exports=l}),null);