if (self.CavalryLogger) { CavalryLogger.start_js(["jLKSS"]); }

__d("XUIDialogOkayButton.react",["cx","fbt","React","XUIDialogButton.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialogButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_2z1w"),action:this.props.action,label:i._("OK")}))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={action:l.oneOf(["confirm","cancel","button"]).isRequired};f.exports=m}),null);
__d("SimpleXUIDialog",["cx","AsyncResponse","DialogX","LayerAutoFocusReact","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","React","XUIDialogCancelButton.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUIDialogButton.react","uniqueID","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=445,j={show:function k(l,m,n,o){var p=c("React").createElement(c("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm"});return this.showEx(l,m,p,n,o)},showConfirm:function k(l,m,n,o){__p&&__p();var p=false,q=c("React").createElement(c("XUIDialogOkayButton.react"),{action:"cancel",className:o&&o.autofocusConfirm?"autofocus":"",use:"confirm",onClick:function t(){p=true}});if(o&&o.confirmBtnTxt)q=c("React").createElement(c("XUIDialogButton.react"),{className:c("joinClasses")(o&&o.autofocusConfirm?"autofocus":"","_2z1w"),action:"cancel",use:"confirm",label:o.confirmBtnTxt,onClick:function t(){p=true}});var r=c("React").createElement("div",null,c("React").createElement(c("XUIDialogCancelButton.react"),{onClick:function t(){p=false}}),q);function s(){if(n)n(p)}return this.showEx(l,m,r,s,o)},showEx:function k(l,m,n,o,p){__p&&__p();p=p||{};var q=[c("LayerDestroyOnHide"),c("LayerFadeOnShow"),c("LayerFadeOnHide"),c("LayerHideOnEscape"),c("LayerRefocusOnHide")];if(p.hideOnBlur!==false)q.push(c("LayerHideOnBlur"));if(p.useReactFocusBehavior)q.push(c("LayerAutoFocusReact"));var r={width:p.width||i,xui:true,addedBehaviors:q,causalElement:p.causalElement};if(m){var s=c("uniqueID")();r.titleID=s;m=c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:p.showCloseButton!==false,id:s},m)}if(n)n=c("React").createElement(c("XUIDialogFooter.react"),{"data-testid":"simple_xui_dialog_footer",leftContent:p.leftContent},n);var t=c("React").createElement("div",null,m,c("React").createElement(c("XUIDialogBody.react"),null,l),n),u=new(c("DialogX"))(r,t);if(o)u.subscribe("hide",o);u.show();return u}};f.exports=j}),null);
__d("FBRTCDispatcher",["Dispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("Dispatcher_DEPRECATED"))()}),null);
__d("FBRTCCallControlActions",["FBRTCDispatcher","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({ACCEPT_ESCALATION:null,HANG_UP:null,PARENT_WINDOW_START_CALL:null,TOGGLE_FULL_SCREEN:null,TOGGLE_MUTE_AUDIO:null,TOGGLE_MUTE_VIDEO:null,TOGGLE_SCREEN_SHARING:null,TOGGLE_SELF_VIEW:null,SHOW_SETTINGS:null,START_CALL:null,DECLINE_ESCALATION:null,RECEIVED_SIGNALING_MESSAGE:null,RESET_CALL:null,OPEN_SCREEN_IN_NEW:null,CLOSE_STANDALONE_SCREEN:null,REDIAL_CALL:null}),i={Types:h,hangUp:function j(){c("FBRTCDispatcher").dispatch({type:h.HANG_UP})},toggleMuteAudio:function j(){c("FBRTCDispatcher").dispatch({type:h.TOGGLE_MUTE_AUDIO})},toggleMuteVideo:function j(){c("FBRTCDispatcher").dispatch({type:h.TOGGLE_MUTE_VIDEO})},toggleFullScreen:function j(){c("FBRTCDispatcher").dispatch({type:h.TOGGLE_FULL_SCREEN})},toggleSelfView:function j(){c("FBRTCDispatcher").dispatch({type:h.TOGGLE_SELF_VIEW})},showSettings:function j(){c("FBRTCDispatcher").dispatch({type:h.SHOW_SETTINGS})},toggleScreenSharing:function j(){c("FBRTCDispatcher").dispatch({type:h.TOGGLE_SCREEN_SHARING})},startCall:function j(){c("FBRTCDispatcher").dispatch({type:h.START_CALL})},openScreenInNewWindow:function j(){c("FBRTCDispatcher").dispatch({type:h.OPEN_SCREEN_IN_NEW})},receivedSignalingMessage:function j(k){c("FBRTCDispatcher").dispatch({type:h.RECEIVED_SIGNALING_MESSAGE,message_type:k.msgType,message:k})},acceptEscalation:function j(){c("FBRTCDispatcher").dispatch({type:h.ACCEPT_ESCALATION})},declineEscalation:function j(){c("FBRTCDispatcher").dispatch({type:h.DECLINE_ESCALATION})},resetCall:function j(k){c("FBRTCDispatcher").dispatch({type:h.RESET_CALL,trigger:k})},redialCall:function j(){c("FBRTCDispatcher").dispatch({type:h.REDIAL_CALL})},parentWindowStartCall:function j(){c("FBRTCDispatcher").dispatch({type:h.PARENT_WINDOW_START_CALL})}};f.exports=i}),null);
__d("FBRTCStruct",[],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(j,k,l){__p&&__p();var m,n;if(typeof j=="string"||j instanceof String){n=j;m=j}else for(var o in j)if(Object.prototype.hasOwnProperty.call(j,o))if(o==="index")l=j[o];else{n=o;m=j[o]}k[n]=l;k.strNames[l]=m};function i(j){"use strict";this.strNames=[];for(var k=0;k<j.length;k++)h(j[k],this,k)}f.exports=i}),null);
__d("FBRTCConstants",["keyMirror","FBRTCStruct"],(function a(b,c,d,e,f,g){__p&&__p();var h=Object.freeze({OFFER:"offer",ANSWER:"answer",ICE_CANDIDATE:"ice_candidate",OK:"ok",PING:"ping",PING_ACK:"ping_ack",HANGUP:"hang_up",OTHER_DISMISS:"other_dismiss",MSG_ACK:"msg_ack",PRANSWER:"pranswer",ICERESTART_OFFER:"icerestart_offer",ICERESTART_ANSWER:"icerestart_answer",PCRESTART_OFFER:"pcrestart_offer",PCRESTART_ANSWER:"pcrestart_answer",SDP_UPDATE:"sdp_update",OFFER_ACK:"offer_ack",OFFER_NACK:"offer_nack",ANSWER_ACK:"answer_ack",SET_VIDEO:"set_video",VIDEO_REQUEST:"video_request",ACK:"ack",SWITCH_TO_MULTIWAY:"switch_to_multiway"}),i=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",CHILD_WINDOW_START_CALL:"rtc_child_window_start_call",CHILD_WINDOW_MESSAGE:"rtc_child_window_message"}),j=Object.freeze({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",VOIP:"voip"}),k=Object.freeze({LL_NONE:0,LL_BASIC:1,LL_DEBUG:2,LL_WARNING:3,LL_INFO:4,LL_VERBOSE:5}),l=Object.freeze({AUDIO_ONLY:"audio_only",AUDIO_VIDEO:"audio_video",SCREEN_CONTENT:"screen"}),m=Object.freeze({CUSTOM_VIDEO_STREAM_SIZE:"CUSTOM_VIDEO_STREAM_SIZE",CUSTOM_VIDEO:"CUSTOM_VIDEO",FHD_VIDEO:"FHD_VIDEO",HD_VIDEO:"HD_VIDEO",LQ_VIDEO:"LQ_VIDEO",NO_VIDEO:"NO_VIDEO",SD_VIDEO:"SD_VIDEO"}),n=new(c("FBRTCStruct"))([{IGNORE_CALL:"IgnoreCall"},{HANGUP_CALL:"HangupCall"},{IN_ANOTHER_CALL:"InAnotherCall"},{ACCEPT_AFTER_HANGUP:"CallEndAcceptAfterHangUp"},{NO_ANSWER_TIMEOUT:"NoAnswerTimeout"},{INCOMING_TIMEOUT:"IncomingTimeout"},{OTHER_INSTANCE_HANDLED:"OtherInstanceHandled"},{SIGNALING_MESSAGE_FAILED:"SignalingMessageFailed"},{CONNECTION_DROPPED:"ConnectionDropped"},{CLIENT_INTERRUPTED:"ClientInterrupted"},{WEBRTC_ERROR:"WebRTCError"},{CLIENT_ERROR:"ClientError"},{NO_PERMISSION:"NoPermission"},{OTHER_NOT_CAPABLE:"OtherNotCapable"},{NO_UI_ERROR:"NoUIShown"},{UNSUPPORTED_VERSION:"VersionUnsupported"},{CALLER_NOT_VISIBLE:"CallerNotVisible"},{CARRIER_BLOCKED:"CarrierBlocked"},{OTHER_CARRIER_BLOCKED:"OtherCarrierBlocked"}]),o=Object.freeze({REMOTE_PEER_HANGUP:"CollabRemotePeerHangup",REMOTE_PEER_REJECT:"CollabRemotePeerReject",CLOSED_BY_MCU:"CollabClosedByMcu",CLOSED_AS_STALE:"CollabClosedAsStale",CALL_INITIALIZATION_FAILED:"CollabCallInitializationFailed",SIP_CONNECTION_INITIALIZATION_FAILED:"CollabSipConnectionInitializationFailed",LOST_MCU_CONNECTION:"CollabLostMcuConnection",MCU_NO_AUDIO_STREAM:"CollabMcuNoAudioStream",MCU_INVALID_STREAM_CONFIGURATION:"CollabMcuInvalidStreamConfiguration",LOST_MCU_THRIFT_CONNECTION:"CollabLostMcuThriftConnection",LOST_SIP_ADAPTER_CONNECTION:"CollabLostSipAdapterConnection",UNKNOWN:"CollabUnknown"}),p=Object.freeze({TOGGLE_SELF_VIEW:5,SUBMIT_STAR_RATING:6,SUBMIT_FEEDBACK:7,START_CALL:9,OPEN_SCREEN_IN_NEW:10}),q=Object.freeze({ONE_HOUR:"1hour",UNTIL_EIGHT_AM:"8am",ALWAYS:"always"}),r=c("keyMirror")({AUDIO:null,VIDEO:null}),s=Object.freeze({CUSTOM:"custom",MULTIWAY:"multiway",P2P:"p2p"}),t=Object.freeze({NEW:"new",CHECKING:"checking",CONNECTED:"connected",COMPLETED:"completed",FAILED:"failed",DISCONNECTED:"disconnected",CLOSED:"closed"}),u=Object.freeze({DOMINANT_SPEAKER:"DOMINANT_SPEAKER",GRID:"GRID",ONE_TO_ONE:"ONE_TO_ONE",STRIP:"STRIP"}),v={CallBlockingConstants:q,CallEndReason:n,CallType:j,ChildWindowMessageType:i,CollabCallEndSubreason:o,GroupVideoViewLayout:u,IceConnectionState:t,IncomingCallDialogTypes:r,PayloadType:h,SignalingProtocol:s,StreamType:l,UIEventType:p,UploadLogLevel:k,VideoQuality:m,convertFromUploadLogLevel:function w(x){switch(x){case k.LL_DEBUG:return"d";case k.LL_BASIC:return"b";case k.LL_WARNING:return"w";case k.LL_INFO:return"i";case k.LL_VERBOSE:return"v";case k.LL_NONE:default:return null}},convertToUploadLogLevel:function w(x){switch(x){case"d":return k.LL_DEBUG;case"b":return k.LL_BASIC;case"w":return k.LL_WARNING;case"i":return k.LL_INFO;case"v":return k.LL_VERBOSE;default:return k.LL_NONE}},uploadLogLevelString:function w(x){switch(x){case k.LL_BASIC:return"basic";case k.LL_DEBUG:return"debug";case k.LL_WARNING:return"warning";case k.LL_INFO:return"info";case k.LL_VERBOSE:return"verbose";default:return""}},endCallReasonFromString:function w(x){return n.strNames.indexOf(x)},callEndReasonString:function w(x){if(x<0||x>n.strNames.length)return"Unknown";return n.strNames[x]},fullCallEndReasonString:function w(x,y){return this.callEndReasonString(x)+"_"+(y?"remote":"local")}};f.exports=v}),null);
__d("RTCGroupCallActionTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CALL:"CALL",CALL_SUCCESS:"CALL_SUCCESS",CALL_ERROR:"CALL_ERROR",INIT:"INIT",WAIT_FOR_USER_INPUT:"WAIT_FOR_USER_INPUT",SET_CALL_SUMMARY:"SET_CALL_SUMMARY",SET_MW_CALL_TYPE:"SET_MW_CALL_TYPE",SET_LAYOUT:"SET_LAYOUT",SET_DOMINANT_SPEAKER:"SET_DOMINANT_SPEAKER",SET_PINNED_SPEAKER:"SET_PINNED_SPEAKER",SET_USE_DOMINANT_SPEAKE_VIEW:"SET_USE_DOMINANT_SPEAKE_VIEW",SET_GRID_VIEW:"SET_GRID_VIEW",SET_STRIP_VIEW:"SET_STRIP_VIEW",INIT_THREAD:"INIT_THREAD",ON_PARTICIPANT_LEFT:"ON_PARTICIPANT_LEFT",ON_PARTICIPANTS_ADDED:"ON_PARTICIPANTS_ADDED",ADD_PARTICIPANTS_TO_RING:"ADD_PARTICIPANTS_TO_RING",JOIN:"JOIN",JOIN_SUCCESS:"JOIN_SUCCESS",JOIN_ERROR:"JOIN_ERROR",HANGUP:"HANGUP",HANGUP_SUCCESS:"HANGUP_SUCCESS",HANGUP_ERROR:"HANGUP_ERROR",ON_CONFERENCE_STATE:"ON_CONFERENCE_STATE",DISMISS:"DISMISS",END_CALL:"END_CALL",ON_JOIN_REQUEST_SENT:"ON_JOIN_REQUEST_SENT",ON_JOIN_RESPONSE:"ON_JOIN_RESPONSE",ON_SERVER_MEDIA_UPDATE_SUCCESS:"ON_SERVER_MEDIA_UPDATE_SUCCESS",ON_CLIENT_MEDIA_UPDATE_RESPONSE:"ON_CLIENT_MEDIA_UPDATE_RESPONSE",INIT_LOCAL_USER:"INIT_LOCAL_USER",INIT_REMOTE_USERS:"INIT_REMOTE_USERS",ADD_REMOTE_STREAM:"ADD_REMOTE_STREAM",REMOVE_REMOTE_STREAM:"REMOVE_REMOTE_STREAM",REMOVE_ALL_REMOTE_STREAMS:"REMOVE_ALL_REMOTE_STREAMS",SET_PREFERRED_REMOTE_STREAM:"SET_PREFERRED_REMOTE_STREAM",ADD_REMOTE_TRACK:"ADD_REMOTE_TRACK",REMOVE_REMOTE_TRACK:"REMOVE_REMOTE_TRACK",AUDIO_MUTED:"AUDIO_MUTED",AUDIO_UNMUTED:"AUDIO_UNMUTED",VIDEO_MUTED:"VIDEO_MUTED",VIDEO_UNMUTED:"VIDEO_UNMUTED",SELF_VIEW_COLLAPSED:"SELF_VIEW_COLLAPSED",SELF_VIEW_UNCOLLAPSED:"SELF_VIEW_UNCOLLAPSED",ADD_LOCAL_STREAM:"ADD_LOCAL_STREAM",REMOVE_LOCAL_STREAM:"REMOVE_LOCAL_STREAM",REPLACE_LOCAL_STREAM:"REPLACE_LOCAL_STREAM",REMOVE_ALL_LOCAL_STREAMS:"REMOVE_ALL_LOCAL_STREAMS",SET_PREFERRED_LOCAL_STREAM:"SET_PREFERRED_LOCAL_STREAM",ADD_LOCAL_SCREEN_STREAM:"ADD_LOCAL_SCREEN_STREAM",REMOVE_LOCAL_SCREEN_STREAM:"REMOVE_LOCAL_SCREEN_STREAM",REMOVE_ALL_LOCAL_SCREEN_STREAMS:"REMOVE_ALL_LOCAL_SCREEN_STREAMS",ADD_REMOTE_SCREEN_STREAM:"ADD_REMOTE_SCREEN_STREAM",REMOVE_REMOTE_SCREEN_STREAM:"REMOVE_REMOTE_SCREEN_STREAM",TOGGLE_REMOTE_STREAM:"TOGGLE_REMOTE_STREAM",SUBMIT_RATING:"SUBMIT_RATING",SUBMIT_FEEDBACK:"SUBMIT_FEEDBACK",RATING_SHOWN:"RATING_SHOWN",FEEDBACK_SHOWN:"FEEDBACK_SHOWN"})}),null);
__d("RTCP2PCallActionTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({P2P_DISMISS_NUX:"P2P_DISMISS_NUX",P2P_INIT_NUX_STATE:"P2P_INIT_NUX_STATE",P2P_MARK_NUX_VIEWED:"P2P_MARK_NUX_VIEWED",P2P_PROCESS_MESSAGE:"P2P_PROCESS_MESSAGE",P2P_SET_IS_CALLER:"P2P_SET_IS_CALLER",P2P_STAR_RATING_DONE:"P2P_STAR_RATING_DONE",POP_IN_SCREEN_CONTENT:"POP_IN_SCREEN_CONTENT",POP_OUT_SCREEN_CONTENT:"POP_OUT_SCREEN_CONTENT",SET_CALL_TYPE:"SET_CALL_TYPE",SET_CONNECTION_STATUS:"SET_CONNECTION_STATUS",SET_MULTIWAY_ESCALATION_SUPPORT:"SET_MULTIWAY_ESCALATION_SUPPORT",SET_END_CALL_REASON:"SET_END_CALL_REASON",SET_REMOTE_SIGNALING_EXPERIMENTS:"SET_REMOTE_SIGNALING_EXPERIMENTS",SET_VIDEO_QUALITY:"SET_VIDEO_QUALITY"})}),null);
__d("RTCP2PConstants",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({INIT:null,CONTACTING:null,RINGING:null,CONNECTING:null,RECONNECTING:null,CONNECTED:null,DISCONNECTED:null});f.exports={ConnectionStatus:h}}),null);
__d("MessengerRTCFunnelLogger",["RTCP2PConstants","FunnelLogger","FBRTCConstants","URI","UserAgentData","RTCGroupCallActionTypes","FBRTCCallControlActions","RTCP2PCallActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("RTCP2PConstants").ConnectionStatus,i=c("FBRTCConstants").SignalingProtocol,j="WEB_MESSENGER_RTC_FUNNEL",k=c("FBRTCCallControlActions").Types,l=j+"_append",m=j+"_tags",n=j+"_end",o=null;function p(z){c("FunnelLogger").startFunnel(j);r([z]);q()}function q(){var z={bn:c("UserAgentData").browserName,bv:c("UserAgentData").browserVersion,os:c("UserAgentData").platformName,dn:c("URI").getRequestURI().getDomain().split(".").slice(-2).join(".")};Object.keys(z).forEach(function(A){c("FunnelLogger").addFunnelTag(j,A+":"+(z[A]||"unknown"))})}function r(z){if(window.opener&&window.opener.postMessage&&o){window.opener.postMessage({type:m,nonce:o,tags:z},window.location.origin);return}z.forEach(function(A){c("FunnelLogger").addFunnelTag(j,A)})}function s(z,A){if(window.opener&&window.opener.postMessage&&o){window.opener.postMessage({type:j+"_append",nonce:o,action:z,actionTag:A},window.location.origin);return}if(A===undefined)c("FunnelLogger").appendActionIfNew(j,z);else c("FunnelLogger").appendActionWithTag(j,z,A)}function t(z){if(window.opener&&window.opener.postMessage&&o){window.opener.postMessage({type:j+"_end",nonce:o,action:z},window.location.origin);return}if(z)s(z);c("FunnelLogger").endFunnel(j)}function u(z){o=z}function v(z){__p&&__p();var A=function A(event){__p&&__p();if(event.origin!==window.location.origin||!event.data||event.data.nonce!==z)return;if(event.data.type===l)s(event.data.action,event.data.actionTag);else if(event.data.type===m)r(event.data.tags);else if(event.data.type===n){t(event.data.action);window.removeEventListener("message",A)}};window.addEventListener("message",A)}function w(z,A){switch(z){case k.RECEIVED_SIGNALING_MESSAGE:break;case"END_CALL":s(z,A);t();break;default:s(z,A)}}function x(z,A){__p&&__p();switch(A.type){case c("RTCGroupCallActionTypes").ON_CONFERENCE_STATE:case c("RTCGroupCallActionTypes").SET_CALL_SUMMARY:case c("RTCGroupCallActionTypes").SET_DOMINANT_SPEAKER:case c("RTCGroupCallActionTypes").ON_SERVER_MEDIA_UPDATE_SUCCESS:case c("RTCGroupCallActionTypes").SET_GRID_VIEW:case c("RTCGroupCallActionTypes").SET_STRIP_VIEW:case c("RTCP2PCallActionTypes").SET_REMOTE_SIGNALING_EXPERIMENTS:case c("RTCP2PCallActionTypes").SET_CALL_TYPE:case c("RTCP2PCallActionTypes").P2P_INIT_NUX_STATE:break;case c("RTCP2PCallActionTypes").P2P_PROCESS_MESSAGE:var B=[];if(A.message&&!A.message.isRemoteVideoSupported())B.push("remove_video_unsupported");if(A.message&&A.message.isFromMobile())B.push("peer_on_mobile");else B.push("peer_on_web");r(B);break;case c("RTCP2PCallActionTypes").SET_CONNECTION_STATUS:s(A.connectionStatus);break;case c("RTCP2PCallActionTypes").SET_END_CALL_REASON:s(A.type,A.endCallReason&&A.endCallReason.toStrName(true));setTimeout(t,1e3);break;case c("RTCGroupCallActionTypes").INIT:if(A.protocol===i.P2P)r(["p2p","v2"]);break;case c("RTCGroupCallActionTypes").SET_LAYOUT:s(A.type,A.layout);break;case c("RTCGroupCallActionTypes").SET_MW_CALL_TYPE:s(A.type,A.callType);break;case c("RTCGroupCallActionTypes").END_CALL:s(A.type,A.endCallReason);break;default:s(A.type)}return z}var y={appendAction:s,addFunnelTags:r,endFunnel:t,startFunnel:p,setWindowNonce:u,listenCrossWindowAction:v,logRTCCallAction:x,logRTCP2PV1Action:w};f.exports=y}),null);
__d("TreeMap",["Map","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(v,w,x){this.key=v;this.value=w;this.time=x}function i(v){this.$TreeMap1=function(w,x){var y=v(w,x);return y!==0?y:w.time-x.time};this.$TreeMap2=new(c("Map"))();this.$TreeMap3=null;this.$TreeMap4=0;this.size=this.$TreeMap2.size}i.prototype.clear=function(){this.$TreeMap2=new(c("Map"))();this.$TreeMap3=null;this.size=this.$TreeMap2.size};i.prototype.has=function(v){return this.$TreeMap2.has(v)};i.prototype.set=function(v,w){if(this.has(v))this["delete"](v);var x=new h(v,w,this.$TreeMap4++);this.$TreeMap2.set(v,x);this.$TreeMap3=p(this.$TreeMap3,x,this.$TreeMap1);this.size=this.$TreeMap2.size;return this};i.prototype.get=function(v){return this.has(v)?this.$TreeMap2.get(v).value:undefined};i.prototype["delete"]=function(v){if(!this.has(v))return false;var w=this.$TreeMap2.get(v);this.$TreeMap3=q(this.$TreeMap3,w,this.$TreeMap1);this.$TreeMap2["delete"](v);this.size=this.$TreeMap2.size;return true};i.prototype.keys=function(){var v=[];u(this.$TreeMap3,v,function(w){return w.key});return v};i.prototype.values=function(){var v=[];u(this.$TreeMap3,v,function(w){return w.value});return v};i.prototype.entries=function(){var v=[];u(this.$TreeMap3,v,function(w){return{key:w.key,value:w.value}});return v};i.prototype.range=function(v,w){var x=[],y=null;if(v)y=new h(v.key,v.value,-1);var z=null;if(w)z=new h(w.key,w.value,this.$TreeMap4);u(this.$TreeMap3,x,function(A){return{key:A.key,value:A.value}},this.$TreeMap1,y,z);return x};i.prototype.min=function(){if(!this.$TreeMap3)return undefined;var v=r(c("nullthrows")(this.$TreeMap3)),w=v.key,x=v.value;return{key:w,value:x}};i.prototype.max=function(){if(!this.$TreeMap3)return undefined;var v=s(c("nullthrows")(this.$TreeMap3)),w=v.key,x=v.value;return{key:w,value:x}};i.prototype.__testRoot=function(){};function j(v){__p&&__p();if(!v)return v;o(v);if(v.balanceFactor<-1)if(v.right&&v.right.balanceFactor<=0)return k(v);else return l(v);else if(v.balanceFactor>1)if(v.left&&v.left.balanceFactor>=0)return m(v);else return n(v);else return v}function k(v){var w=v,x=c("nullthrows")(w.right),y=x.left;w.right=y;o(w);c("nullthrows")(x).left=w;o(x);return x}function l(v){__p&&__p();var w=v,x=c("nullthrows")(w.right),y=c("nullthrows")(x.left),z=y.left,A=y.right;w.right=z;o(w);x.left=A;o(x);y=c("nullthrows")(y);y.left=w;y.right=x;o(y);return y}function m(v){var w=v,x=c("nullthrows")(w.left),y=x.right;w.left=y;o(w);x.right=w;o(x);return x}function n(v){var w=v,x=c("nullthrows")(w.left),y=c("nullthrows")(x.right),z=y.left,A=y.right;x.right=z;o(x);w.left=A;o(w);y.left=x;y.right=w;o(y);return y}function o(v){var w=v.left?v.left.height:-1,x=v.right?v.right.height:-1;v.height=Math.max(w,x)+1;v.balanceFactor=w-x}function p(v,w,x){__p&&__p();if(v==null)return j(w);var y=x(w,v);if(y<0){v.left=p(v.left,w,x);return j(v)}else{v.right=p(v.right,w,x);return j(v)}}function q(v,w,x){__p&&__p();if(v==null)return null;if(v===w)if(v.left&&v.right){var y=s(v.left);v.left=t(v.left);y.left=v.left;y.right=v.right;return j(y)}else if(v.left)return j(v.left);else if(v.right)return j(v.right);else return null;var z=x(w,v);if(z<0){v.left=q(v.left,w,x);return j(v)}else{v.right=q(v.right,w,x);return j(v)}}function r(v){while(v.left)v=v.left;return v}function s(v){while(v.right)v=v.right;return v}function t(v){if(!v)return null;if(v.right==null)return j(v.left||null);v.right=t(v.right);return j(v)}function u(v,w,x,y,z,A){if(v==null)return;var B=!y||!z||y(v,z)>=0,C=!y||!A||y(v,A)<=0;if(B)u(v.left,w,x,y,z,A);if(B&&C)w.push(x(v));if(C)u(v.right,w,x,y,z,A)}f.exports=i}),null);
__d("Cache",["DateConsts","Map","TimeSlice","TreeMap"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$Cache1=new(c("Map"))()}h.prototype.has=function(i){return this.$Cache1.has(i)};h.prototype.get=function(i,j){var k=this.__getRaw(i);if(!k)return j;return k.$Cache2};h.prototype.getAll=function(i,j){var k=new(c("Map"))();i.forEach(function(l){return k.set(l,this.get(l,j))}.bind(this));return k};h.prototype["delete"]=function(i){var j=this.__getRaw(i);if(j&&j.$Cache3)clearTimeout(j.$Cache3);return this.$Cache1["delete"](i)};h.prototype.clear=function(){this.$Cache1.forEach(function(i){if(i&&i.$Cache3)clearTimeout(i.$Cache3)});this.$Cache1.clear()};h.prototype.set=function(i,j,k,l){__p&&__p();if(!this.shouldUpdate(i,k))return false;var m=this.__getRaw(i);if(!m)m=this.__getNewRawObject();delete m.$Cache2;delete m.$Cache4;if(m.$Cache3)clearTimeout(m.$Cache3);delete m.$Cache3;m.$Cache2=j;if(k!=null)m.$Cache4=k;if(l!=null&&l>=0)m.$Cache3=setTimeout(c("TimeSlice").guard(this["delete"].bind(this,i),"Cache expiration timeout"),l*c("DateConsts").MS_PER_SEC*c("DateConsts").SEC_PER_MIN);this.__setRaw(i,m);return true};h.prototype.shouldUpdate=function(i,j){var k=this.__getRaw(i);return k==null||k.$Cache4==null||j==null||j>k.$Cache4};h.prototype.size=function(){return this.$Cache1.size};h.prototype.__getRaw=function(i){return this.$Cache1.get(i)};h.prototype.__setRaw=function(i,j){this.$Cache1.set(i,j)};h.prototype.__getNewRawObject=function(){return{$Cache2:null,$Cache3:null,$Cache4:null,$Cache5:null,$Cache6:null}};h.prototype.__keys=function(){return this.$Cache1.keys()};f.exports=h}),null);
__d("FBRTCCallabilityActions",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({CALLABILITY_FETCHED:null,CALLABILITY_FETCH_ERROR:null});function i(j){this.$FBRTCCallabilityActions1=j}i.prototype.callabilityFetched=function(j,k){this.$FBRTCCallabilityActions1.dispatch({type:h.CALLABILITY_FETCHED,userID:j,callability:k})};i.prototype.callabilityFetchError=function(j){this.$FBRTCCallabilityActions1.dispatch({type:h.CALLABILITY_FETCH_ERROR,userID:j})};i.Types=h;f.exports=i}),null);
__d("XRTCCallabilityController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/rtc/callability/",{user_id:{type:"FBID",required:true}})}),null);
__d("FBRTCCallabilityDataManager",["AsyncRequest","FBRTCCallabilityActions","TimeSlice","XRTCCallabilityController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$FBRTCCallabilityDataManager1=new(c("FBRTCCallabilityActions"))(i)}h.prototype.fetchCallability=function(i){c("TimeSlice").guard(function(){var j=c("XRTCCallabilityController").getURIBuilder().setFBID("user_id",i).getURI(),k=this.$FBRTCCallabilityDataManager2.bind(this,i),l=this.$FBRTCCallabilityDataManager3.bind(this,i);new(c("AsyncRequest"))().setURI(j).setHandler(k).setErrorHandler(l).setAllowCrossPageTransition(true).send()}.bind(this),"Chat Tab RTC Callability Check",{isContinuation:false})()};h.prototype.$FBRTCCallabilityDataManager2=function(i,j){this.$FBRTCCallabilityDataManager1.callabilityFetched(i,j.payload)};h.prototype.$FBRTCCallabilityDataManager3=function(i,j){this.$FBRTCCallabilityDataManager1.callabilityFetchError(i)};f.exports=h}),null);
__d("RTCCallabilityStore",["fbt","Cache","FBRTCCallabilityActions","FBRTCCallabilityDataManager","FluxStore","RTCConfig"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=.5,l=5;i=babelHelpers.inherits(m,c("FluxStore"));j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.$RTCCallabilityStore2=new(c("FBRTCCallabilityDataManager"))(n);this.$RTCCallabilityStore1=new(c("Cache"))()}m.prototype.__onDispatch=function(n){var o=n.type;switch(o){case c("FBRTCCallabilityActions").Types.CALLABILITY_FETCHED:var p=n.userID,q=n.callability;this.$RTCCallabilityStore1.set(p,q.is_callable,null,q.is_callable?l:k);this.__emitChange();break;case c("FBRTCCallabilityActions").Types.CALLABILITY_FETCH_ERROR:this.$RTCCallabilityStore1.set(n.userID,false,null,k);this.__emitChange();break}};m.prototype.isCallable=function(n,o){var p=o?o.message_count>0&&o.folder==="inbox":false;if(!this.$RTCCallabilityStore1.has(n)){this.$RTCCallabilityStore2.fetchCallability(n);this.$RTCCallabilityStore1.set(n,false,null,k)}return(!!this.$RTCCallabilityStore1.get(n)||p)&&c("RTCConfig").WebReliabilityFixesLoggedGK};m.prototype.callButtonTooltip=function(n,o){var p=arguments.length<=2||arguments[2]===undefined?true:arguments[2];if(p||this.isCallable(n))return h._("Start a video chat with {shortname}",[h.param("shortname",o)]);return h._("{shortname} is currently unavailable for video calling",[h.param("shortname",o)])};m.prototype.voiceCallButtonTooltip=function(n,o){var p=arguments.length<=2||arguments[2]===undefined?true:arguments[2];if(p||this.isCallable(n))return h._("Start a voice call with {shortname}",[h.param("shortname",o)]);return h._("{shortname} is currently unavailable for voice calling",[h.param("shortname",o)])};f.exports=m}),null);
__d("MNRTCCallabilityStore",["MessengerDispatcher","RTCCallabilityStore"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("RTCCallabilityStore"))(c("MessengerDispatcher"))}),null);
__d("FBRTCAvailability",["ChannelConstants","PresenceStatus"],(function a(b,c,d,e,f,g){"use strict";var h={isCallable:function i(j){var k=c("PresenceStatus").getCapabilities(j),l=c("ChannelConstants").CAPABILITY_VOIP_INTEROP;return!!(k&l)}};f.exports=h}),null);
__d("FBRTCCallActions",["FBRTCDispatcher","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({START_CALL:null}),i={Types:h,startCall:function j(k,l,m,n){c("FBRTCDispatcher").dispatch({type:h.START_CALL,peerID:k,callID:l,isCaller:m,audioOnly:n})}};f.exports=i}),null);
__d("FBRTCConfig",["CurrentUser","RTCSignalingExperiments"],(function a(b,c,d,e,f,g){__p&&__p();var h=false,i=false,j=0,k={},l={setConfig:function m(n,o,p,q,r){k=n;j=o;h=q;i=r},isVCEndpointCall:function m(){return h},canPeerUseV2:function m(){return i},getPeerID:function m(){return j},statsInterpreterConfig:function m(){return{rtt_weight:2,frr_weight:800,plr_weight:500,score_threshold:1e3,bad_score_count:3}},settingsEnabled:function m(){return k.enable_settings},shouldAutoDisableVideo:function m(){return false},unsupportedBrowserUrl:function m(){if(k.troubleshooting_urls&&k.troubleshooting_urls.unsupported_browser)return k.troubleshooting_urls.unsupported_browser;if(c("CurrentUser").isWorkUser())return"https://www.facebook.com/help/work/919532078125908";else return"https://www.facebook.com/help/211644178877843"},userMediaErrorUrl:function m(){if(k.troubleshooting_urls&&k.troubleshooting_urls.user_media_error)return k.troubleshooting_urls.user_media_error;if(c("CurrentUser").isWorkUser())return"https://www.facebook.com/help/work/180714775754632";else return"https://www.facebook.com/help/232232800134371"},userMediaPermissionErrorUrl:function m(){if(k.troubleshooting_urls&&k.troubleshooting_urls.user_media_permission_error)return k.troubleshooting_urls.user_media_permission_error;if(c("CurrentUser").isWorkUser())return"https://www.facebook.com/help/work/180714775754632";else return"https://www.facebook.com/help/232232800134371"},supportedSignalingExperiments:function m(){return c("RTCSignalingExperiments").getLocal()},isMessengerDotCom:function m(){return k.is_messenger_dot_com},useMessengerCallUI:function m(){return k.messenger_call_ui},shouldCreateDataChannel:function m(){return k.data_channel},disableURLManager:function m(){return k.disable_url_manager},useCurrentWindow:function m(){return k.use_current_window}};f.exports=l}),null);
__d("CollabCallTriggerType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MEETING_ROOM_PAGE_PROFILE:"meeting_room_page_profile",QUICK_DIAL:"quickdial"})}),null);
__d("FBRTCVersionDetection",[],(function a(b,c,d,e,f,g){__p&&__p();var h={isChrome:function i(){return!!navigator.webkitGetUserMedia},isFirefox:function i(){return!!navigator.mozGetUserMedia},webrtcVersion:function i(){if(this.isFirefox())return parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);if(this.isChrome()){var j=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(j!==null)return parseInt(j[2],10);else return 999}return 0}};f.exports=h}),null);
__d("FBRTCUtils",["AsyncRequest","CollabCallTriggerType","CurrentUser","FBIDCheck","FBRTCConfig","FBRTCConstants","FBRTCVersionDetection","RTCConfig","UserAgent","emptyFunction","randomInt"],(function a(b,c,d,e,f,g){__p&&__p();var h=6e3,i=window.URL||window.webkitURL,j="setSinkId"in window.HTMLMediaElement.prototype,k="srcObject"in window.HTMLMediaElement.prototype,l="mozSrcObject"in window.HTMLMediaElement.prototype,m={attachMediaStream:function n(o,p){__p&&__p();if(o==null)return;if(k){o.srcObject=p;if(p)o.play();return}if(l){o.mozSrcObject=p;if(p)o.play();return}if(o.src)i.revokeObjectURL(o.src);o.src=p?i.createObjectURL(p):""},reattachMediaStream:function n(o,p){__p&&__p();if(k){o.srcObject=p.srcObject;o.play();return}if(l){o.mozSrcObject=p.mozSrcObject;o.play();return}o.src=p.src},generateRandomInt:function n(){return c("randomInt")(0,4294967294)+1},aboutEqual:function n(o,p){return o-p<.01&&p-o<.01},getUploadLogLevel:function n(o){return Math.max(this.getLocalUploadLogLevel(),o)},getLocalUploadLogLevel:function n(){return c("CurrentUser").isEmployee()?c("FBRTCConstants").UploadLogLevel.LL_DEBUG:c("FBRTCConstants").UploadLogLevel.LL_NONE},sendServerRequest:function n(o){var p=arguments.length<=1||arguments[1]===undefined?c("emptyFunction"):arguments[1],q=arguments.length<=2||arguments[2]===undefined?c("emptyFunction"):arguments[2],r=arguments.length<=3||arguments[3]===undefined?false:arguments[3],s=arguments.length<=4||arguments[4]===undefined?h:arguments[4],t=arguments.length<=5||arguments[5]===undefined?{}:arguments[5],u=new(c("AsyncRequest"))().setURI(o).setData(t).setAllowCrossPageTransition(true).setHandler(p).setErrorHandler(q).setTimeoutHandler(s,function(){q()});if(r)u.setOption("asynchronous_DEPRECATED",false);u.send()},supportsMultipleStreamsPlanB:function n(){return(c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera"))&&c("FBRTCVersionDetection").webrtcVersion()>=34},supportsSetSink:function n(){return j},isPeerVCEndpoint:function n(o){var p=c("FBRTCConfig").isVCEndpointCall();return p!==undefined?p:!!o&&!c("FBIDCheck").isUser_deprecated(o)&&c("RTCConfig").CollabVCEndpointsVideoCallGK},isCollabTrigger:function n(o){return o===c("CollabCallTriggerType").QUICK_DIAL||o===c("CollabCallTriggerType").MEETING_ROOM_PAGE_PROFILE}};f.exports=m}),null);
__d("FBRTCScreenSharingLogger",["Log","MarauderLogger","formatDate","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="webrtc_screen_sharing",i=c("keyMirror")({screen_sharing_action:null,screen_sharing_error:null}),j=c("keyMirror")({PEER_ID:null,SESSION_ID:null,CONTEXT_TYPE:null,CONTENT:null}),k=c("keyMirror")({SCREEN_SHARING_TOGGLED:null,SCREEN_SHARING_CANCELLED:null,SCREEN_SHARING_ENABLED:null,SCREEN_SHARING_DISABLED:null,SCREEN_SHARING_EXT_DIALOG:null,SCREEN_SHARING_EXT_LINK:null,SCREEN_SHARING_DIALOG_SUCCESS:null,SCREEN_SHARING_DIALOG_CANCEL:null}),l=null;m.getInstance=function(){if(!l)l=new m();return l};m.prototype.logAction=function(n,o,p,q){var r={};r[i.screen_sharing_action]=p;r[j.PEER_ID]=n;r[j.SESSION_ID]=o;r[j.CONTEXT_TYPE]=this.$FBRTCScreenSharingLogger1();r[j.CONTENT]=q;this.$FBRTCScreenSharingLogger2(i.screen_sharing_action,r);this.logToConsole(n,o,p)};m.prototype.logError=function(n,o,p){var q={};q[j.PEER_ID]=n;q[j.SESSION_ID]=o;q[j.CONTEXT_TYPE]=this.$FBRTCScreenSharingLogger1();q[j.CONTENT]=p;this.$FBRTCScreenSharingLogger2(i.screen_sharing_error,q);this.logToConsole(n,o,p)};m.prototype.logToConsole=function(n,o,p){};m.prototype.$FBRTCScreenSharingLogger1=function(){return"p2p_video_call"};m.prototype.$FBRTCScreenSharingLogger2=function(n,o){c("MarauderLogger").log(n,h,o)};function m(){}m.Action=k;f.exports=m}),null);
__d("FBRTCScreenSharingUtils",["Promise","FBRTCScreenSharingLogger","FBRTCStruct","FBRTCVersionDetection","RTCConfig","FBRTCSupport"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("FBRTCStruct"))(["UNKNOWN","INSTALLED"]),i=h.UNKNOWN,j={RECIPIENT:"SC_CONTENT_SCRIPT",isScreenSharingSupported:function k(){return c("RTCConfig").ScreenSharingGK},isGroupCallScreenSharingSupported:function k(){return c("RTCConfig").ScreenSharingToGroupGK},isSupportedBrowser:function k(){return c("FBRTCVersionDetection").isChrome()&&c("FBRTCVersionDetection").webrtcVersion()>=34},canUserReceiveScreenSharing:function k(){return c("FBRTCSupport").isOSSupported()&&c("FBRTCVersionDetection").isChrome()&&c("FBRTCVersionDetection").webrtcVersion()>=34},canPeerReceiveScreenSharing:function k(l){return l.remoteSupport("screen_sharing")||c("RTCConfig").ScreenSharingToMobileGK&&!l.remoteSupport("www")&&!l.remoteSupport("mweb")},isExtensionInstalled:function k(){return i===h.INSTALLED},getExtensionStatus:function k(){return i},checkExtensionInstalled:function k(){__p&&__p();if(this.isExtensionInstalled())return c("Promise").resolve();var l=void 0,m=new(c("Promise"))(function(n){__p&&__p();l=function o(p){var q=p.origin,r=p.data;if(q!=window.location.origin||!r.type)return;if(r.type==="SC_EXT_INSTALLED"){window.removeEventListener("message",l);i=h.INSTALLED;n()}};window.addEventListener("message",l)});return c("Promise").race([m,this._pokeExtension()])["catch"](function(n){window.removeEventListener("message",l);return c("Promise").reject(n)})},_pokeExtension:function k(){__p&&__p();var l=arguments.length<=0||arguments[0]===undefined?13:arguments[0];return new(c("Promise"))(function(m,n){var o=setInterval(function(){setTimeout(function(){if(i===h.UNKNOWN)window.postMessage({recipient:j.RECIPIENT,type:"SC_IS_EXT_INSTALLED",text:"is extension installed"},"*")});if(l>0)l--;else{clearInterval(o);n("extension unavailable")}},200)})},logFailedAttempt:function k(l,m){c("FBRTCScreenSharingLogger").getInstance().logAction(l,m,c("FBRTCScreenSharingLogger").Action.SCREEN_SHARING_TOGGLED,"feature not available")}};f.exports=j}),null);
__d("RTCSignalingExperiments",["FBRTCScreenSharingUtils","FBRTCSupport","FBRTCUtils","Set","UserAgent"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$RTCSignalingExperiments2=new(c("Set"))();this.$RTCSignalingExperiments1=new(c("Set"))(h.getLocal());if(i)this.$RTCSignalingExperiments2=new(c("Set"))(i)}h.prototype.getLocal=function(){return Array.from(this.$RTCSignalingExperiments1)};h.prototype.setRemote=function(i){if(!i)return this;return new h(i)};h.prototype.getRemote=function(){return Array.from(this.$RTCSignalingExperiments2)};h.prototype.support=function(i){return this.localSupport(i)&&this.remoteSupport(i)};h.prototype.localSupport=function(i){return this.$RTCSignalingExperiments1.has(i)};h.prototype.remoteSupport=function(i){return this.$RTCSignalingExperiments2.has(i)};h.getLocal=function(){__p&&__p();var i=[];if(c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera")||c("UserAgent").isBrowser("Firefox >= 38"))i.push("sdp_update");if(c("FBRTCUtils").supportsMultipleStreamsPlanB())i.push("multiple_streams_plan_b");if(c("FBRTCScreenSharingUtils").canUserReceiveScreenSharing())i.push("screen_sharing");if(c("FBRTCSupport").isOSSupported())i.push("www");else i.push("mweb");return i};f.exports=h}),null);
__d("FBRTCLogger",["Log","LogHistory","MarauderLogger","formatDate","pageID"],(function a(b,c,d,e,f,g){__p&&__p();var h="webrtc",i="sent_message",j="received_message",k="send_succeeded",l="send_failed",m="info",n="call_action",o="client_event",p="client_error",q="type",r="msg_id",s="ack_msg_id",t="call_id",u="from",v="to",w="content",x="tag",y="peer_id",z="error_code",A="trigger",B="endcallstats",C=null;D.getInstance=function(){"use strict";if(!C)C=new D();return C};function D(){"use strict";this.$FBRTCLogger1=c("LogHistory").getInstance(h)}D.prototype.logToConsole=function(E){"use strict";var F="Console";this.$FBRTCLogger2(null,null,F,E);this.$FBRTCLogger1.log(F,E)};D.prototype.logReceivedMessage=function(E,F,G){"use strict";__p&&__p();var H={};H[u]=E;H[t]=F;H[q]=G.type;H[r]=G.msg_id;if(G.sdp)H[w]=G.sdp;if(G.ack_id)H[s]=G.ack_id;this.$FBRTCLogger3(j,H);this.$FBRTCLogger2(E,F,"Received",G.type+", "+G.msg_id)};D.prototype.logSentMessage=function(E,F,G){"use strict";__p&&__p();var H={};H[v]=E;H[t]=F;H[q]=G.type;H[r]=G.msg_id;if(G.sdp)H[w]=G.sdp;if(G.ack_id)H[s]=G.ack_id;this.$FBRTCLogger3(i,H);this.$FBRTCLogger2(E,F,"Sent",G.type+", "+G.msg_id)};D.prototype.logSentMessageSuccess=function(E,F,G,H){"use strict";var I={};I[y]=E;I[t]=F;I[q]=G;I[r]=H;this.$FBRTCLogger3(k,I)};D.prototype.logSentMessageFailure=function(E,F,G,H,I){"use strict";var J={};J[y]=E;J[t]=F;J[q]=G;J[r]=H;J[z]=I;this.$FBRTCLogger3(l,J);this.$FBRTCLogger2(E,F,"Send Failed",G+", "+I)};D.prototype.logCallAction=function(E,F,G,H,I){"use strict";__p&&__p();var J={};J[y]=E;J[t]=F;J[n]=G;J[w]=H;if(I)J[A]=I;this.$FBRTCLogger3(n,J);this.$FBRTCLogger2(E,F,"CallAction",G+", "+JSON.stringify(H))};D.prototype.logEvent=function(E,F,event){"use strict";var G={};G[y]=E;G[t]=F;G[w]=event;this.$FBRTCLogger3(o,G);this.$FBRTCLogger2(E,F,"Event",event)};D.prototype.logInfo=function(E,F,G){"use strict";var H={};H[y]=E;H[t]=F;H[w]=G;this.$FBRTCLogger3(m,H);this.$FBRTCLogger2(E,F,"Info",G)};D.prototype.logError=function(E,F,G){"use strict";var H={};H[y]=E;H[t]=F;H[w]=G;this.$FBRTCLogger3(p,H);this.$FBRTCLogger2(E,F,"Error",G)};D.prototype.logErrorWithoutID=function(E){"use strict";this.logError(null,null,E)};D.prototype.logEndCallSummary=function(E){"use strict";__p&&__p();if(!E)return;var F={};F[y]=E.peerID;F[t]=E.callID;F[x]=B;F[w]=E.toString();var G=E.getExtraInfo();for(var H in G)if(Object.prototype.hasOwnProperty.call(G,H))F[H]=G[H];this.$FBRTCLogger3(m,F);this.$FBRTCLogger2(E.peerID,E.callID,"Call Summary",F)};D.prototype.$FBRTCLogger3=function(E,F){"use strict";F.page_id=c("pageID");this.$FBRTCLogger1.log(E,F);c("MarauderLogger").log(E,h,F)};D.prototype.$FBRTCLogger2=function(E,F,G,H){"use strict"};D.CallAction={START_CALL:"start_call",RECEIVED_CALL:"received_call",ANSWER_CALL:"answer_call",END_CALL:"end_call",DENIED_PERMISSION:"denied_permission",SET_MUTE:"set_mute",SET_VIDEO_ON:"set_video_on",SET_SELF_VIEW_ON:"set_self_view_on",SET_FULLSCREEN_ON:"set_fullscreen_on",START_SKYPE:"start_skype",TRY_NEW:"try_new",OPEN_POPUP:"open_popup",POPUP_OPENED:"popup_opened",AUTO_DISABLE_VIDEO:"auto_disable_video",FAILED_GETTING_URI:"failed_getting_uri",OLD_URI:"old_uri",USER_SETTINGS_CHANGED:"user_settings_changed"};D.Trigger={ADMIN_MESSAGE:"admin_message",CHAT_TAB_ICON:"chat_tab_icon",CHAT_TAB_ICON_TOUR:"chat_tab_icon_tour",CHAT_TAB_VOICE_ICON:"chat_tab_voice_icon",SKYPE_DEPRECATION_DIALOG:"skype_deprecation_dialog",REDIAL_BUTTON:"redial_button",RETURN_CALL:"return_call",WEB_MESSENGER:"web_messenger",POPUP_CALL_START_BUTTON:"popup_start_call_button",TIMELINE_PROFILE:"timeline_profile",UNKNOWN:"unknown",RESET_CALL:"install_screen_sharing_ext_dialog",MULTIWAY_CHAT_TAB_SHEET_JOIN_CALL_BUTTON:"multiway_chat_tab_sheet_join_call_button",MULTIWAY_POPUP_START_CALL_BUTTON:"multiway_popup_start_call_button",MULTIWAY_THREAD_HEADER_AUDIO_BUTTON:"multiway_thread_header_audio_button",MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:"multiway_thread_header_video_button",MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_AUDIO_BUTTON:"multiway_thread_header_join_audio_call_audio_button",MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_VIDEO_BUTTON:"multiway_thread_header_join_audio_call_video_button",MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_AUDIO_BUTTON:"multiway_thread_header_join_video_call_audio_button",MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_VIDEO_BUTTON:"multiway_thread_header_join_video_call_video_button",MULTIWAY_THREAD_LIST_JOIN_CALL_BUTTON:"multiway_thread_list_join_call_button"};D.Key={DEVICE_INFO:"device_info",RATING:"rating5",RATING_SHOWN:"rating_shown",SURVEY_CHOICE:"survey_choice",SURVEY_DETAILS:"survey_details",SURVEY_SHOWN:"survey_shown",INITIATED_BY_PAGE_ID:"initiated_by_page_id",PEER_IS_MOBILE:"peer_is_mobile"};f.exports=D}),null);
__d("FBRTCLocalMessageQueue",["CacheStorage","FBRTCLogger","Map","RTCConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h="localstorage",i="RTC_",j="offer",k="offer_msg",l="data_",m=30*1e3,n=15*1e3,o=500,p=new(c("Map"))();function q(){"use strict";this.$FBRTCLocalMessageQueue1=c("FBRTCLogger").getInstance()}q.prototype.enqueueOffer=function(r,s){"use strict";var t=this.$FBRTCLocalMessageQueue2(r,k);this.$FBRTCLocalMessageQueue3(t,j,s)};q.prototype.getOffer=function(r){"use strict";var s=this.$FBRTCLocalMessageQueue2(r,k);return this.$FBRTCLocalMessageQueue4(s,j)};q.prototype.removeOffer=function(r){"use strict";var s=this.$FBRTCLocalMessageQueue2(r,k);s.remove(j)};q.prototype.enqueueMessage=function(r,s,t,u){"use strict";var v=l+t.toString(),w=p.get(r)||new(c("Map"))();w.set(v,u);p.set(r,w);this.$FBRTCLocalMessageQueue1.logToConsole("Queued "+v)};q.prototype.drainQueue=function(r,s){"use strict";__p&&__p();var t=p.get(r)||new(c("Map"))(),u,v;for(var w=t,x=Array.isArray(w),y=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(x){if(y>=w.length)break;z=w[y++]}else{y=w.next();if(y.done)break;z=y.value}var A=z,u=A[0],v=A[1];void u;s(v)}p.set(r,new(c("Map"))())};q.prototype.enableDequeuing=function(r,s,t,u){"use strict";if(u===undefined)u=n;this.$FBRTCLocalMessageQueue5(r,s,t,u)};q.prototype.$FBRTCLocalMessageQueue5=function(r,s,t,u){"use strict";__p&&__p();var v=this.$FBRTCLocalMessageQueue2(r,s),w=v.keys(),x=w.length;for(var y=0;y<x;y++){var z=this.$FBRTCLocalMessageQueue6(v,w[y]);if(z&&t)t(z)}this.$FBRTCLocalMessageQueue1.logToConsole("Dequeued "+x+" ("+r+") with "+u+" left)");if(u>0){u-=o;setTimeout(function(){this.$FBRTCLocalMessageQueue5(r,s,t,u)}.bind(this),o)}};q.prototype.$FBRTCLocalMessageQueue3=function(r,s,t){"use strict";var u={__t:Date.now(),__d:t};r.set(s,u)};q.prototype.$FBRTCLocalMessageQueue4=function(r,s){"use strict";var t=r.get(s);if(t&&this.$FBRTCLocalMessageQueue7(t))return t.__d;else if(t)r.remove(s);return null};q.prototype.$FBRTCLocalMessageQueue6=function(r,s){"use strict";var t=this.$FBRTCLocalMessageQueue4(r,s);if(t!==null){r.remove(s);return t}return null};q.prototype.$FBRTCLocalMessageQueue7=function(r){"use strict";return Date.now()-r.__t<m};q.prototype.$FBRTCLocalMessageQueue2=function(r,s){"use strict";return new(c("CacheStorage"))(h,""+i+r+"_"+s+"_")};f.exports=q}),null);
__d("FBRTCMessageListener",["invariant","Arbiter","ChannelConstants","FBRTCConstants","FBRTCCallControlActions","FBRTCLocalMessageQueue","FBRTCSupport","RTCConfig","guid","mixInEventEmitter"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("FBRTCConstants").ChildWindowMessageType,j=45*1e3,k=[],l=null,m=null,n=null,o=null,p=null,q=false,r=null,s=void 0,t={init:function u(v,w){__p&&__p();if(q)return;q=true;c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("webrtc"),function(y,z){this._onMessage(z.obj)}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("webrtc_offer"),function(y,z){this._onMessage(z.obj)}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("webrtc_offerack"),function(y,z){this._onMessage(z.obj)}.bind(this));if(c("RTCConfig").RtcConferencingGK)c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("rtc_multi_json"),function(y,z){this._onMultiwayMessage(z.obj)}.bind(this));this._localMessageQueue=new(c("FBRTCLocalMessageQueue"))();if(c("RTCConfig").PassMessagesBetweenWindowsGK){if(c("FBRTCSupport").isWebrtcSupported()&&window.addEventListener){var x=v?this._handleWindowMessageToChild.bind(this):this._handleWindowMessageToParent.bind(this);window.addEventListener("message",x,false)}if(v)this._connectToParentWindow(w)}},setParentWindowNonce:function u(v){o=v},generateNewNonce:function u(){p=c("guid")();return p},setMultiwayMessageHandler:function u(v,w){!r||h(0);r=w?v.bind(w):v},_onMultiwayMessage:function u(v){this.emit("multiwayMessageReceived",v);if(r)r(v)},setMessageHandler:function u(v,w){!l||h(0);l=w?v.bind(w):v;while(k.length)l(k.shift())},removeMessageHandler:function u(){l=null},setParentWindowStartCallHandler:function u(v){s=v;return function(){return s=null}},_onMessage:function u(v){if(v.from)v.from=v.from.toString();this.emit("messageReceived",v);if(l)l(v);else k.push(v);this._passMessageToChildWindow(v)},_connectToParentWindow:function u(v){if(window.opener&&window.opener.postMessage){var w={type:i.CHILD_WINDOW_READY,nonce:o,childNonce:this.generateNewNonce(),peerID:v};window.opener.postMessage(w,window.location.origin)}},_verifyWindowMessage:function u(event){return event.origin===window.location.origin&&event.data&&p&&event.data.nonce===p},_handleWindowMessageToParent:function u(event){if(!this._verifyWindowMessage(event))return;if(event.data.type===i.CHILD_WINDOW_READY){this.setParentWindowNonce(event.data.childNonce);this._setChildWindow(event.source);this._replayQueuedMessagesToChild(event.data.peerID,m)}},_handleWindowMessageToChild:function u(event){if(!this._verifyWindowMessage(event))return;if(event.data.type===i.CHILD_WINDOW_MESSAGE)this._onMessage(event.data.message);if(event.data.type===i.CHILD_WINDOW_START_CALL)if(s)s();else c("FBRTCCallControlActions").parentWindowStartCall()},_replayQueuedMessagesToChild:function u(v,w){this._localMessageQueue.drainQueue(v,function(x){var y={type:i.CHILD_WINDOW_MESSAGE,nonce:o,message:x};w.postMessage(y,window.location.origin)})},_setChildWindow:function u(v){m=v;clearTimeout(n);n=setTimeout(function(){m=null},j);this._startCallInChildWindow();this.generateNewNonce()},_passMessageToChildWindow:function u(v){if(m){var w={type:i.CHILD_WINDOW_MESSAGE,nonce:o,message:v};m.postMessage(w,window.location.origin)}},_startCallInChildWindow:function u(){if(m){var v={type:i.CHILD_WINDOW_START_CALL,nonce:o};m.postMessage(v,window.location.origin)}}};c("mixInEventEmitter")(t,{messageReceived:true,multiwayMessageReceived:true});f.exports=t}),null);
__d("FBRTCCallUIWrapper",["regeneratorRuntime","Bootloader","FBRTCCallActions","FBRTCConfig","FBRTCMessageListener","MessengerRTCFunnelLogger","UserAgent"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i={openGroupCallUI:function j(k,l,m,n,o,p){return c("regeneratorRuntime").async(function q(r){while(1)switch(r.prev=r.next){case 0:h=this._openWindow("Group Call");c("Bootloader").loadModules(["FBRTCCallUI"],function(s){s.openGroupCallUI(k,l,m,n,o,h,p)},"FBRTCCallUIWrapper");case 2:case"end":return r.stop()}},null,this)},openGroupCallURI:function j(k,l,m,n,o,p){return c("regeneratorRuntime").async(function q(r){while(1)switch(r.prev=r.next){case 0:h=this._openWindow("Group Call");c("Bootloader").loadModules(["FBRTCCallUI"],function(s){s.openGroupCallURI({conferenceName:k,callID:l,hasVideo:m,serverInfoData:n,trigger:o,callSummary:p,callWindow:h})},"FBRTCCallUIWrapper");case 2:case"end":return r.stop()}},null,this)},openAsCaller:function j(k,l,m,n){__p&&__p();if(!h&&window.rtcCallChildWindow){h=window.rtcCallChildWindow;window.rtcCallChildWindow=null}if(this._shouldFocusCallWindow(k)){h.focus();return}if(this._shouldCloseCallWindow())h.close();if(c("FBRTCConfig").useCurrentWindow()){c("FBRTCMessageListener").removeMessageHandler();c("FBRTCCallActions").startCall(k,l,true,n);c("Bootloader").loadModules(["FBRTCCallUI"],function(o){o.openAsCaller(k,l,m,n)},"FBRTCCallUIWrapper");return}h=this._openWindow("Video Call");c("Bootloader").loadModules(["FBRTCCallUI"],function(o){o.openAsCaller(k,l,m,n,h)},"FBRTCCallUIWrapper")},openAsCallee:function j(k,l,m,n,o){__p&&__p();if(c("FBRTCConfig").useCurrentWindow()){c("FBRTCMessageListener").removeMessageHandler();c("FBRTCCallActions").startCall(k,l,false,o);c("Bootloader").loadModules(["FBRTCCallUI"],function(p){p.openAsCallee(k,l,m,n,o,null)},"FBRTCCallUIWrapper");return}h=this._openWindow("Video Call");c("Bootloader").loadModules(["FBRTCCallUI"],function(p){p.openAsCallee(k,l,m,n,o,h)},"FBRTCCallUIWrapper")},_shouldFocusCallWindow:function j(k){return h&&!h.closed&&h.rtcCallInProgessWith===k},_shouldCloseCallWindow:function j(){return h&&!h.closed&&!h.rtcCallInProgessWith},_openWindow:function j(k){var l=this._windowPosition(),m=["menubar=no","location=no","scrollbars=no","status=no","personalbar=no",l.height,l.width,l.top,l.left].join(",");if(this._isSparkBrowser())m="";var h=window.open("",k,m);window.callWindow=h;if(h)c("MessengerRTCFunnelLogger").appendAction("popup_window");else c("MessengerRTCFunnelLogger").endFunnel("popup_blocked");return h},_windowPosition:function j(){__p&&__p();var k=960,l=540,m,n,o,p;if(screen&&screen.width>1280){k=1280;l=720}if(window.innerWidth!==undefined){n=window.innerWidth;m=window.innerHeight}else{n=screen.width;m=screen.height}if(window.screenLeft!==undefined){o=window.screenLeft;p=window.screenTop}else{o=window.screenX;p=window.screenY}var q=Math.floor(n/2-k/2+o),r=Math.floor(m/2-l/2+p);return{height:"height="+l.toString(),width:"width="+k.toString(),top:"top="+r.toString(),left:"left="+q.toString()}},_isSparkBrowser:function j(){return c("UserAgent").isBrowser("Chrome < 34")&&c("UserAgent").isBrowser("Chrome > 33")}};f.exports=i}),null);
__d("FBRTCCore",["invariant","MessengerRTCFunnelLogger","Bootloader","FBRTCAvailability","FBRTCCallUIWrapper","FBRTCSupport","randomInt"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=false,j={startOutgoingCall:function k(l,m,n){__p&&__p();var o=arguments.length<=3||arguments[3]===undefined?false:arguments[3];!/\D/.test(l)||h(0);if(i)return;c("MessengerRTCFunnelLogger").addFunnelTags([n?"audio_only":"video","p2p"]);i=true;setTimeout(function(){i=false},1e3);if(o&&!c("FBRTCSupport").isCollabSupported())c("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage","CollabMessengerLogger"],function(q,r){q.showForUnsupportedCollabCall();r.logBrowserNotSupported({peerID:l});c("MessengerRTCFunnelLogger").endFunnel("unsupported_browser")},"FBRTCCore");else if(!c("FBRTCSupport").isWebrtcSupported())c("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage"],function(q){q.showForOutgoingCall();c("MessengerRTCFunnelLogger").endFunnel("unsupported_browser")},"FBRTCCore");else{var p=this._generateCallID();c("FBRTCCallUIWrapper").openAsCaller(l,p,m,n)}},startGroupCall:function k(l){__p&&__p();var m=l.conferenceName,n=l.hasVideo,o=l.serverInfoData,p=l.trigger,q=l.usersToRing,r=q===undefined?[]:q;if(i)return;c("MessengerRTCFunnelLogger").addFunnelTags([n?"video":"audio_only","group"]);i=true;setTimeout(function(){i=false},1e3);if(!c("FBRTCSupport").isGroupCallWebtrcSupported()){c("Bootloader").loadModules(["MessengerRTCGroupCallUnsupportedBrowserDialogController"],function(s){s.render({hasVideo:n});c("MessengerRTCFunnelLogger").endFunnel("unsupported_browser")},"FBRTCCore");return}c("FBRTCCallUIWrapper").openGroupCallUI(m,this._generateCallID(),r,n,p,o)},isAvailableForWebrtcCalling:function k(l){return c("FBRTCAvailability").isCallable(l)},shouldEnableVideoCalling:function k(){return c("FBRTCSupport").isOSSupported()},startScreenSharingSession:function k(l,m){__p&&__p();!/\D/.test(l)||h(0);if(i)return;i=true;setTimeout(function(){i=false},1e3);if(!c("FBRTCSupport").isWirelessScreenSharingSupported()){c("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage","CollabMessengerLogger"],function(n,o){n.showForUnsupportedCollabScreenSharing();o.logBrowserNotSupported({peerID:l})},"FBRTCCore");return}c("Bootloader").loadModules(["RTCWirelessScreenSharingWindowHandler"],function(n){n.open(l,this._generateCallID(),m)}.bind(this),"FBRTCCore")},_generateCallID:function k(){return c("randomInt")(0,4294967295)}};f.exports=j}),null);
__d("MercuryRTCShareAttachment.react",["cx","ix","fbt","FBRTCCore","FBRTCLogger","FBRTCSupport","Image.react","React","MercuryLogMessageType","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryViewer","MercuryParticipants","MercuryIDs","MercuryTimestamp","MessengerTextWithEmoticons.react","MessengerRTCFunnelLogger","MNRTCCallabilityStore","ShimButton.react","SimpleXUIDialog","XUIText.react","XUIButton.react","CenteredContainer.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n=c("MercuryShareAttachmentRenderLocations").CHAT,o=c("MercuryShareAttachmentRenderLocations").MESSENGER,p=c("MercuryShareAttachmentRenderLocations").WEB_INBOX;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.state={peerName:null},s}q.prototype.componentDidMount=function(){var r=this.props.attachment.log_message_data.caller,s=this.props.attachment.log_message_data.callee,t=r===c("MercuryViewer").getID(),u=t?s:r;c("MercuryParticipants").get(u,function(v){this.setState({peerName:v.short_name?v.short_name:v.name})}.bind(this))};q.prototype.render=function(){__p&&__p();var r=this.props.attachment.log_message_data.caller,s=this.props.attachment.log_message_data.callee,t=this.props.attachment.log_message_data.answered,u=r===c("MercuryViewer").getID(),v=u?s:r,w=c("MercuryIDs").getUserIDFromParticipantID(v),x=this.state.peerName,y=c("MercuryTimestamp").getPreciseTimestamp(this.props.attachment.timestamp),z=c("React").createElement(c("MessengerTextWithEmoticons.react"),{text:this.props.attachment.log_message_body}),A=this.$MercuryRTCShareAttachment1(t,u,y),B=void 0,C=void 0;if(this.props.location===n){B=this.$MercuryRTCShareAttachment2(w,x,t,u);return c("React").createElement("div",{className:"_1k2i"},c("React").createElement("div",{className:!t&&!u?"_1k2j":""},c("React").createElement(c("XUIText.react"),{weight:"bold"},z),c("React").createElement(c("XUIText.react"),{weight:"bold"},A)),c("React").createElement("hr",null),c("React").createElement(c("CenteredContainer.react"),{vertical:true,className:"_3-8x"},B))}else if(this.props.location===o){B=this.$MercuryRTCShareAttachment2(w,x,t,u);return c("React").createElement("div",{className:"_55q _5i_d _52mr"},c("React").createElement("div",{className:(!t&&!u?"_1k2j":"")+" _55r"},c("React").createElement(c("XUIText.react"),{weight:"bold"},z),c("React").createElement(c("XUIText.react"),{weight:"bold"},A)),c("React").createElement(c("CenteredContainer.react"),{vertical:true,className:"_3-8w"},B))}else if(this.props.location===p){C=this.$MercuryRTCShareAttachment3(w,x,t,u);return c("React").createElement("div",null,c("React").createElement("div",{className:(!t&&!u?"_1k2j":"")+" _55s"},z),c("React").createElement("div",{className:"_55t"},C))}};q.prototype.$MercuryRTCShareAttachment1=function(r,s,t){var u=null;if(!r&&!s)u=i("86815");else if(s)u=i("86816");else u=i("86813");return c("React").createElement("div",{className:"_2phz"},c("React").createElement(c("Image.react"),{src:u}),c("React").createElement("span",{className:(r||s?"_3ole":"")+" _2pir"},t))};q.prototype.$MercuryRTCShareAttachment2=function(r,s,t,u){if(c("FBRTCSupport").isOSSupported())return c("React").createElement(c("ShimButton.react"),{form:"link",onClick:this.$MercuryRTCShareAttachment4.bind(this,r,s)},!t&&!u?j._("Call Back"):j._("Call Again"));else return c("React").createElement("span",null,!t&&!u?j._("Call Back"):j._("Call Again"))};q.prototype.$MercuryRTCShareAttachment3=function(r,s,t,u){var v=!t&&!u?j._("Call Back"):j._("Call Again");return c("React").createElement(c("XUIButton.react"),{onClick:this.$MercuryRTCShareAttachment4.bind(this,r,s),label:v})};q.prototype.$MercuryRTCShareAttachment4=function(r,s){var t=this.props.attachment.log_message_type===c("MercuryLogMessageType").PHONE_CALL;c("MessengerRTCFunnelLogger").startFunnel("Attachment");if(c("FBRTCCore").isAvailableForWebrtcCalling(r)||c("MNRTCCallabilityStore").isCallable(r))c("FBRTCCore").startOutgoingCall(r,c("FBRTCLogger").Trigger.ADMIN_MESSAGE,t);else c("SimpleXUIDialog").show(j._("{firstname} can't be reached right now.",[j.param("firstname",s)]),j._("Can't Connect Call"))};q.propTypes={attachment:c("MercuryShareAttachmentReactShape"),location:m.oneOf(c("MercuryShareAttachmentRenderLocations").getValues()),rootClassName:m.string};f.exports=q}),null);
__d("MessengerLightweightActionUtils",["MercuryAttachmentType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(l){return!!(l&&l.attach_type===c("MercuryAttachmentType").SHARE&&l.share&&l.share.target&&l.share.target.lwa_type)}function i(l){var m=l.attachments;return!!(m&&m.length===1&&h(m[0]))}function j(l){return l.attachments[0].share.title}function k(l){return l[0].share.title}f.exports={isLWAMessage:i,isLWAAttachment:h,getCollapsedLWAText:j,getLWASnippetText:k}}),null);