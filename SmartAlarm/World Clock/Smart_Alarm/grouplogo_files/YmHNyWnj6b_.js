if (self.CavalryLogger) { CavalryLogger.start_js(["miDec"]); }

__d("FBCarouselArrow.react",["ix","cx","xuiglyph","CenteredContainer.react","Image.react","Locale","React","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$FBCarouselArrow1=function(){var t=h("88862"),u=h("88874");if(c("Locale").isRTL()){var v=[u,t];t=v[0];u=v[1]}return this.props.direction==="forward"?u:t}.bind(this),p}n.prototype.render=function(){"use strict";var o=c("joinClasses")(this.props.className,"_10sf"+(!!this.props.fullBleed?" _5x5-":"")+(this.props.direction==="forward"?" _5x5_":"")+(this.props.direction==="backward"?" _5x60":""));return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:o}),c("React").createElement(c("CenteredContainer.react"),{className:"_5x6d",vertical:true},c("React").createElement(c("Image.react"),{className:"_3-8w",src:this.$FBCarouselArrow1()})))};n.propTypes={direction:m.oneOf(["forward","backward"]).isRequired,fullBleed:m.bool};f.exports=n}),null);
__d("AdsArrowedContainer.react",["cx","invariant","CenteredContainer.react","FBCarouselArrow.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Link.react","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsArrowedContainer1=function(s){__p&&__p();var t,u;switch(s){case"backward":t=this.props.onDecrement!==null;u=this.props.onDecrement;break;case"forward":t=this.props.onIncrement!==null;u=this.props.onIncrement;break;default:i(0)}if(!t)return null;return c("React").createElement(c("Link.react"),{className:!this.props.isArrowCentered?"_3-8z":"",onClick:u},c("React").createElement(c("FBCarouselArrow.react"),{direction:s,fullBleed:s==="backward"}))}.bind(this),this.$AdsArrowedContainer2=function(s,t){if(t)if(this.props.isArrowCentered)return c("React").createElement(c("FBOverlayElement.react"),{horizontal:s},c("React").createElement(c("CenteredContainer.react"),{vertical:true},t));else return c("React").createElement(c("FBOverlayElement.react"),{horizontal:s},t);return null}.bind(this),o}m.prototype.render=function(){"use strict";var n=this.$AdsArrowedContainer1("backward"),o=this.$AdsArrowedContainer1("forward"),p=this.$AdsArrowedContainer2("left",n),q=this.$AdsArrowedContainer2("right",o);return c("React").createElement(c("FBOverlayContainer.react"),this.props,c("React").createElement(c("FBOverlayBase.react"),null,this.props.children),p,q)};m.propTypes={isArrowCentered:l.bool,onIncrement:l.func,onDecrement:l.func};f.exports=m}),null);
__d("SimpleObjectsPool",["invariant"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";this.$SimpleObjectsPool1=j;this.$SimpleObjectsPool2=[]}i.prototype.get=function(){"use strict";if(this.$SimpleObjectsPool2.length)return this.$SimpleObjectsPool2.pop();else{var j=this.$SimpleObjectsPool1;return new j()}};i.prototype.put=function(j){"use strict";j instanceof this.$SimpleObjectsPool1||h(0);this.$SimpleObjectsPool2.push(j)};f.exports=i}),null);
__d("PersistentAnimationFrame",["SimpleObjectsPool","Visibility","cancelAnimationFrame","requestAnimationFrame"],(function a(b,c,d,e,f,g){__p&&__p();var h=16,i,j={},k=true;function l(){if(!i)i=new(c("SimpleObjectsPool"))(m);return i}function m(){"use strict";this.$PersistentAnimationFrame1=function(){this.callback();this.$PersistentAnimationFrame2();l().put(this)}.bind(this)}m.request=function(p){"use strict";if(!p)return 0;return l().get().request(p)};m.cancel=function(p){"use strict";if(p===0)return;var q=j[String(p)];if(q)q.cancel()};m.prototype.request=function(p){"use strict";__p&&__p();k&&n();this.callback=p;this.hidden=c("Visibility").isHidden();if(this.hidden)this.intID=setTimeout(this.$PersistentAnimationFrame1,h);else this.intID=c("requestAnimationFrame")(this.$PersistentAnimationFrame1);this.strID=String(this.intID);j[this.strID]=this;return this.intID};m.prototype.cancel=function(){"use strict";if(this.strID){if(this.hidden)clearTimeout(this.intID);else c("cancelAnimationFrame")(this.intID);this.$PersistentAnimationFrame2();l().put(this)}};m.prototype.$PersistentAnimationFrame2=function(){"use strict";delete j[this.strID];delete this.intID;delete this.strID;delete this.callback;delete this.hidden};function n(){k=false;c("Visibility").addListener(c("Visibility").HIDDEN,o);c("Visibility").addListener(c("Visibility").VISIBLE,o)}function o(){Object.keys(j).forEach(function(p){var q=j[p],r=q.callback;q.cancel();r()})}f.exports=m}),null);
__d("requestPersistentAnimationFrame",["PersistentAnimationFrame"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("PersistentAnimationFrame").request}),null);
__d("ResizeEventHandler",["requestPersistentAnimationFrame"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();this.handleEvent=function(){if(this.$ResizeEventHandler1===false){this.$ResizeEventHandler1=true;c("requestPersistentAnimationFrame")(this.$ResizeEventHandler3)}}.bind(this);this.$ResizeEventHandler3=function(){this.$ResizeEventHandler1=false;this.$ResizeEventHandler2()}.bind(this);this.$ResizeEventHandler1=false;this.$ResizeEventHandler2=i}f.exports=h}),null);
__d("ResponsiveBlock.react",["cx","MutationObserver","React","ReactDOM","ResizeEventHandler","UserAgent","joinClasses","requestAnimationFrame"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("UserAgent").isBrowser("IE")&&"onresize"in document.createElement("div"),k={attributes:true,characterData:true,childList:true,subtree:true},l=c("React").createClass({displayName:"ResponsiveBlock",propTypes:{onResize:i.func.isRequired},componentDidMount:function m(){this._width=null;this._height=null;this._resizeHandler=new(c("ResizeEventHandler"))(this._didResize);this._bindResizeEvent();this._observer=new(c("MutationObserver"))(this._resizeHandler.handleEvent);this._observer.observe(c("ReactDOM").findDOMNode(this),k)},componentWillUnmount:function m(){__p&&__p();if(this._sensorTarget){try{this._sensorTarget.onresize=null}catch(n){}this._sensorTarget=null}this._resizeHandler=null;if(this._observer){this._observer.disconnect();this._observer=null}this._width=null;this._height=null},render:function m(){var n=c("joinClasses")("_4u-c",this.props.className),o;if(j)o=c("React").createElement("div",{key:"sensor",ref:"sensorNode",className:"_4u-f"});else o=c("React").createElement("div",{key:"sensor",className:"_4u-f"},c("React").createElement("iframe",{"aria-hidden":"true",ref:"sensorNode",className:"_1_xb",tabIndex:"-1"}));return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:n}),this.props.children,o)},_bindResizeEvent:function m(){__p&&__p();if(!this.isMounted())return;if(j)this._sensorTarget=c("ReactDOM").findDOMNode(this.refs.sensorNode);else this._sensorTarget=c("ReactDOM").findDOMNode(this.refs.sensorNode).contentWindow;if(this._sensorTarget){this._sensorTarget.onresize=this._resizeHandler.handleEvent;this._resizeHandler.handleEvent()}else c("requestAnimationFrame")(this._bindResizeEvent)},_didResize:function m(){if(this.isMounted()){var n=c("ReactDOM").findDOMNode(this),o=n.offsetWidth,p=n.offsetHeight;if(o!==this._width||p!==this._height){this._width=o;this._height=p;this.props.onResize(o,p)}}}});f.exports=l}),null);
__d("AdsCarousel.react",["cx","Locale","React","ReactDOM","ResponsiveBlock.react","clamp","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={computedOffset:0},this.$AdsCarousel5=function(r,s){this.$AdsCarousel1(this.props.index)}.bind(this),n}l.prototype.componentDidMount=function(){this.$AdsCarousel1(this.props.index)};l.prototype.componentDidUpdate=function(){this.$AdsCarousel1(this.props.index)};l.prototype.$AdsCarousel1=function(m){__p&&__p();if(!c("ReactDOM").findDOMNode(this))return;var n=c("ReactDOM").findDOMNode(this).offsetWidth,o=c("ReactDOM").findDOMNode(this.refs.inner).offsetWidth,p=Math.max(o-n,0),q=0;for(var r=0;r<m&&q<p;r++){var s=this.$AdsCarousel2(r);if(s)q+=s.offsetWidth}q=c("clamp")(q,0,p);if(q!==this.state.computedOffset)this.setState({computedOffset:q});else{var t=this.props.onUpdated;if(t)t(this.$AdsCarousel3())}};l.prototype.$AdsCarousel4=function(m){var n=0;for(var o=0;o<m;o++){var p=this.$AdsCarousel2(o);if(p)n+=p.offsetWidth}return n};l.prototype.$AdsCarousel2=function(m){var n=this.refs["child_"+m];return n?c("ReactDOM").findDOMNode(n):null};l.prototype.render=function(){var m=c("React").Children.map(this.props.children,function(p,q){return c("React").createElement("div",{className:"_2zgz",key:q,ref:"child_"+q},p)}),n=null;if(this.state.computedOffset){var o=String(-this.state.computedOffset)+"px";n=c("Locale").isRTL()?{right:o}:{left:o}}return c("React").createElement(c("ResponsiveBlock.react"),{onResize:this.$AdsCarousel5},c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_a28")}),c("React").createElement("div",{className:"_a2e",ref:"inner",style:n},m)))};l.prototype.$AdsCarousel3=function(){__p&&__p();var m=this.state.computedOffset+c("ReactDOM").findDOMNode(this).offsetWidth,n=this.$AdsCarousel4(this.props.index),o=0,p=this.props.index,q=null;while(q=this.$AdsCarousel2(p++))if(c("Locale").isRTL())if(n+q.offsetWidth<=m){o++;n+=q.offsetWidth}else break;else if(q.offsetLeft+q.offsetWidth<=m)o++;else break;return o};l.propTypes={index:k.number.isRequired,onUpdated:k.func};l.defaultProps={onUpdated:c("emptyFunction")};f.exports=l}),null);
__d("AdsArrowedCarouselEnhanced.react",["AdsArrowedContainer.react","AdsCarousel.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={firstVisibleIndex:0,visibleChildrenCount:0},this.$AdsArrowedCarouselEnhanced1=function(q){return q<this.state.firstVisibleIndex}.bind(this),this.$AdsArrowedCarouselEnhanced2=function(q){var r=this.state.firstVisibleIndex+this.state.visibleChildrenCount-1;return q>r}.bind(this),this.$AdsArrowedCarouselEnhanced5=function(){var q=this.$AdsArrowedCarouselEnhanced4();this.setState({firstVisibleIndex:this.state.firstVisibleIndex-q})}.bind(this),this.$AdsArrowedCarouselEnhanced6=function(){var q=this.$AdsArrowedCarouselEnhanced3();this.setState({firstVisibleIndex:this.state.firstVisibleIndex+q})}.bind(this),this.$AdsArrowedCarouselEnhanced7=function(q){this.setState({visibleChildrenCount:q})}.bind(this),this.$AdsArrowedCarouselEnhanced3=function(){var q=this.state.visibleChildrenCount,r=c("React").Children.count(this.props.children)-this.state.firstVisibleIndex-q;if(r<=0)return 0;return Math.min(r,this.props.maxChangeAmount||1)}.bind(this),this.$AdsArrowedCarouselEnhanced4=function(){return Math.min(this.state.firstVisibleIndex,this.props.maxChangeAmount||1)}.bind(this),m}k.prototype.componentWillReceiveProps=function(l){if(!l.currentSelectedShouldVisible)return;var m=l.currentSelectedIndex;if(this.$AdsArrowedCarouselEnhanced1(m))this.setState({firstVisibleIndex:m});else if(this.$AdsArrowedCarouselEnhanced2(m)){var n=this.state.firstVisibleIndex+this.state.visibleChildrenCount-1,o=m-n;this.setState({firstVisibleIndex:this.state.firstVisibleIndex+o})}};k.prototype.render=function(){var l=this.$AdsArrowedCarouselEnhanced3(),m=this.$AdsArrowedCarouselEnhanced4();return c("React").createElement(c("AdsArrowedContainer.react"),babelHelpers["extends"]({},this.props,{isArrowCentered:true,onDecrement:m?this.$AdsArrowedCarouselEnhanced5:null,onIncrement:l?this.$AdsArrowedCarouselEnhanced6:null}),c("React").createElement(c("AdsCarousel.react"),{index:this.state.firstVisibleIndex,onUpdated:this.$AdsArrowedCarouselEnhanced7},this.props.children))};k.propTypes={currentSelectedIndex:j.number,currentSelectedShouldVisible:j.bool,maxChangeAmount:j.number};k.defaultProps={currentSelectedIndex:0,currentSelectedShouldVisible:false,maxChangeAmount:1};f.exports=k}),null);
__d("ChatSidebarPreloadStore",["ChatSidebarData","InitialChatFriendsList"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={onLoaded:function i(j){if(c("ChatSidebarData").AsyncDataPreloader)c("ChatSidebarData").AsyncDataPreloader.onLoaded(function(k){var l=k.result,m=l.list,n=l.groups,o=l.shortProfiles,p=l.nearby,q=l.adminedPages,r=l.pageListModule,s=l.pymmList;return j({buddies:m,groups:n,shortProfiles:o,nearby:p,adminedPages:q,pageListModule:r,pymmList:s,profiles:[]})});else if(c("ChatSidebarData").WebGraphQLPreloader)c("ChatSidebarData").WebGraphQLPreloader.onLoaded(function(k){return j(c("ChatSidebarData").WebGraphQLNormalizer.normalize(k))});else j({buddies:c("InitialChatFriendsList").list||[],groups:c("InitialChatFriendsList").groups||[],shortProfiles:c("InitialChatFriendsList").shortProfiles||{},nearby:c("InitialChatFriendsList").nearby||[],adminedPages:c("InitialChatFriendsList").adminedPages||[],pageListModule:c("InitialChatFriendsList").pageListModule,pymmList:c("InitialChatFriendsList").pymmList||{},profiles:[]})}};f.exports=h}),null);
__d("ChatSortUsers",["ShortProfiles","TokenizeUtil"],(function a(b,c,d,e,f,g){__p&&__p();var h={};function i(k){if(h[k])return h[k];var l=(c("ShortProfiles").getNow(k)||{}).name;if(l)return h[k]=c("TokenizeUtil").flatten(l);return"~"}var j={sortAlphabetical:function k(l,m){var n=i(l),o=i(m);if(n!==o)return n<o?-1:1;return 0}};f.exports=j}),null);
__d("PresenceStatusActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({AVAILABILITY_CHANGED:null})}),null);
__d("ChatDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationDispatcher"));i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=new j({strict:false})}),null);
__d("PresenceStatusStore",["ChatDispatcher","FluxStore","PresenceStatus","PresenceStatusActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("ChatDispatcher"))}j.prototype.__onDispatch=function(k){var l=k.type;switch(l){case c("PresenceStatusActionTypes").AVAILABILITY_CHANGED:this.__emitChange();break;default:break}};j.prototype.get=function(k){return c("PresenceStatus").get(k)};j.prototype.getIsPlaying=function(k){return c("PresenceStatus").isPlayingCanvasGameUser(k)};f.exports=new j()}),null);
__d("ErrorMarker.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return this.props.children};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("getReactComponentDisplayName",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.displayName||i.name||"Unknown"}f.exports=h}),null);
__d("getReactElementDisplayName",["getReactComponentDisplayName"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){if(i==null)return"#empty";if(typeof i==="string"||typeof i==="number")return"#text";if(typeof i.type==="string")return i.type;return c("getReactComponentDisplayName")(i.type)}f.exports=h}),null);
__d("ErrorBoundary.react",["ErrorMarker.react","ErrorMessageConsole","expectationViolation","React","getReactElementDisplayName"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix=this.props.hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix;var l=c("React").Children.only(this.props.children);this.state={error:null,moduleName:c("getReactElementDisplayName")(l)}}j.prototype.componentDidCatch=function(k){var l=this.state.moduleName;try{this.props.onHandleError&&this.props.onHandleError(k,l)}catch(m){c("expectationViolation")("encountered error: "+(m&&m.message)+" when executing\n        onHandleError. Please check error boundary at module "+l)}this.setState({error:k||"Unknown Error Occurred"})};j.prototype.componentDidUpdate=function(){if(this.state.error){var k=this.state.moduleName;try{this.props.onRenderFallback&&this.props.onRenderFallback(k)}catch(l){c("expectationViolation")("encountered error: "+(l&&l.message)+" when\n          executing onRenderFallback. please check error boundary at module\n          "+k)}}};j.prototype.render=function(){var k=this.state,l=k.error,m=k.moduleName;if(l){var n=this.props.fallbackComponent,o=null;if(n)o=c("React").createElement(n,{error:l,moduleName:m});return c("React").createElement(c("ErrorMarker.react"),null,o)}return c("React").Children.only(this.props.children)};j.defaultProps={hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix:false};f.exports=j}),null);
__d("MeasurePeopleTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MeasurePeopleLoggerConfig",this.$MeasurePeopleTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MeasurePeopleLoggerConfig",this.$MeasurePeopleTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$MeasurePeopleTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MeasurePeopleTypedLogger1=babelHelpers["extends"]({},this.$MeasurePeopleTypedLogger1,j);return this};var i={};f.exports=h}),null);
__d("PresenceOrderedList",["ChatSidebarPreloadStore","ChatSortUsers","PresencePrivacy","PresenceStatus"],(function a(b,c,d,e,f,g){__p&&__p();function h(k){return k.map(function(l){var m=l.slice(0,-2),n=Number(l.slice(-1));return[m,n]})}function i(k,l){__p&&__p();var m=[];k.forEach(function(n){var o=n[0],p=n[1];if(m.length>=l)return;if(c("PresencePrivacy").getFriendVisibility(o)==c("PresencePrivacy").BLACKLISTED)return;if(p==c("PresenceStatus").get(o))m.push(o)});return m}function j(){"use strict";this.$PresenceOrderedList1=null}j.prototype.getSorted=function(k,l){"use strict";if(this.$PresenceOrderedList1){l(i(this.$PresenceOrderedList1,k));return}c("ChatSidebarPreloadStore").onLoaded(function(m){var n=m.buddies;this.$PresenceOrderedList1=h(n);l(i(this.$PresenceOrderedList1,k))}.bind(this))};j.prototype.getAvailableSorted=function(k){"use strict";var l=c("PresenceStatus").getOnlineIDs();if(k)l=l.filter(function(m){return k&&k.indexOf(m)===-1});return l.sort(c("ChatSortUsers").sortAlphabetical)};j.prototype.getAllSorted=function(k){"use strict";var l=[],m=this.$PresenceOrderedList1||[];c("PresenceStatus").getAllIDs().concat(m.map(function(n){return n[0]})).forEach(function(n){return l.indexOf(n)===-1&&l.push(n)});if(k)l=l.filter(function(n){return k&&k.indexOf(n)===-1});return l.sort(c("ChatSortUsers").sortAlphabetical)};f.exports=new j()}),null);
__d("messengerSignalsRe",["EventEmitter"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("EventEmitter"))(),i="resize";function j(){h.emit(i);return 0}function k(l){return h.addListener(i,l)}g.emitter=h;g.resizeEvent=i;g.resize=j;g.onResize=k}),null);
__d("MessengerFlexArea.react",["cx","CSS","Event","messengerSignalsRe","React","ReactDOM","ResponsiveBlock.react","Style","SubscriptionsHandler","Vector","getScrollPosition","gkx","joinClasses","throttle"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"MessengerFlexArea",propTypes:{beforeResize:i.func,onResize:i.func},_subscriptions:null,_onResizeTimeout:null,getInitialState:function k(){return{height:0}},componentDidMount:function k(){var l=new(c("SubscriptionsHandler"))();l.addSubscriptions(c("Event").listen(window,"resize",c("throttle")(this.recalculateHeight,51)),c("messengerSignalsRe").onResize(function(){this.recalculateHeight()}.bind(this)));this._subscriptions=l;this.recalculateHeight()},componentWillUnmount:function k(){this._subscriptions&&this._subscriptions.release();clearTimeout(this._onResizeTimeout)},render:function k(){return c("React").createElement(c("ResponsiveBlock.react"),{className:c("joinClasses")(this.props.className,"_9hq"+(c("gkx")("AT7X8zD-9DNn0OeQ0S5-rozrySawyX8ZP8Z_NFsQBL8WAUNZhO-HKIM8cWBdfNilWyfk5H-Q_oFDDxJhsL4ycAkk")?" _1aza":"")),onResize:this._handleResponsiveBlockResize,style:{height:this.state.height+"px"}},this.props.children)},recalculateHeight:function k(){__p&&__p();if(!this.isMounted())return;var l=c("ReactDOM").findDOMNode(this),m=l.parentNode,n=this.state.height,o=c("Vector").getViewportDimensions().y,p=false;if(m&&c("Style").get(m,"display")==="none"){c("Style").set(m,"display","initial");p=true}var q=false;if(m instanceof Element&&c("CSS").hasClass(m,"hidden_elem")){c("CSS").removeClass(m,"hidden_elem");q=true}o-=c("Vector").getElementPosition(m||l).y;var r=c("getScrollPosition")(window);o+=r.y;if(m){Array.from(m.childNodes).forEach(function(s){if(s.nodeType===Node.COMMENT_NODE||c("Style").get(s,"position")==="absolute")return;o-=c("Vector").getElementDimensions(s).y});o+=c("Vector").getElementDimensions(l).y}if(p)c("Style").set(m,"display","");if(q&&m instanceof Element)c("CSS").addClass(m,"hidden_elem");if(isNaN(o)||o<0)o=0;if(o!==n){this.props.beforeResize&&this.props.beforeResize();this.setState({height:o},this.props.onResize)}},_handleResponsiveBlockResize:c("throttle")(function(k,l){if(!this.isMounted())return;if(l===this.state.height){this.props.beforeResize&&this.props.beforeResize();clearTimeout(this._onResizeTimeout);if(this.props.onResize)this._onResizeTimeout=setTimeout(this.props.onResize,0)}},51)});f.exports=j}),null);
__d("MessengerFlexScrollableArea.react",["csx","DOM","Event","MessengerFlexArea.react","MessengerScrollableArea.react","MutationObserver","Parent","React","ReactDOM","gkx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=".img:not(.loaded)",m="loaded",n="._2poz";i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.state={shouldTrackBottom:this.props.shouldStickToBottom},this.$MessengerFlexScrollableArea5=function(u){if(!c("gkx")("AT7X8zD-9DNn0OeQ0S5-rozrySawyX8ZP8Z_NFsQBL8WAUNZhO-HKIM8cWBdfNilWyfk5H-Q_oFDDxJhsL4ycAkk"))return;u.forEach(function(v){if(v.addedNodes.length>0){v.addedNodes.forEach(function(w){this.$MessengerFlexScrollableArea3(w)}.bind(this));this.trackBottomIfRequired()}}.bind(this))}.bind(this),this.$MessengerFlexScrollableArea8=function(){this.props.onScroll&&this.props.onScroll();if(!this.props.shouldStickToBottom)return;this.$MessengerFlexScrollableArea9()}.bind(this),this.$MessengerFlexScrollableArea7=function(){this.trackBottomIfRequired()}.bind(this),q}o.prototype.componentDidMount=function(){this.props.onMount&&this.props.onMount();if(this.props.shouldStickToBottom){this.$MessengerFlexScrollableArea3(c("ReactDOM").findDOMNode(this.refs.scrollable));this.$MessengerFlexScrollableArea4()}};o.prototype.$MessengerFlexScrollableArea4=function(){if(!c("gkx")("AT7X8zD-9DNn0OeQ0S5-rozrySawyX8ZP8Z_NFsQBL8WAUNZhO-HKIM8cWBdfNilWyfk5H-Q_oFDDxJhsL4ycAkk"))return;this.$MessengerFlexScrollableArea1=new(c("MutationObserver"))(this.$MessengerFlexScrollableArea5);var p=c("ReactDOM").findDOMNode(this.refs.scrollable);this.$MessengerFlexScrollableArea1.observe(p,{childList:true,subtree:true})};o.prototype.$MessengerFlexScrollableArea3=function(p){__p&&__p();if(!c("gkx")("AT7X8zD-9DNn0OeQ0S5-rozrySawyX8ZP8Z_NFsQBL8WAUNZhO-HKIM8cWBdfNilWyfk5H-Q_oFDDxJhsL4ycAkk"))return;this.$MessengerFlexScrollableArea6(p).forEach(function(q){c("DOM").scry(q,l).forEach(function(r){if(r.complete){r.classList.add(m);return}var s=c("Event").listen(r,"load",function(){r.classList.add(m);this.trackBottomIfRequired();s.remove()}.bind(this))}.bind(this))}.bind(this))};o.prototype.$MessengerFlexScrollableArea6=function(p){var q=c("DOM").scry(p,n);if(q.length===0){var r=c("Parent").bySelector(p,n);if(r)q=q.concat(r)}return q};o.prototype.componentWillUnmount=function(){this.$MessengerFlexScrollableArea1&&this.$MessengerFlexScrollableArea1.disconnect()};o.prototype.render=function(){return c("React").createElement(c("MessengerFlexArea.react"),{className:this.props.className,onResize:this.$MessengerFlexScrollableArea7,ref:"flexArea"},this.props.flexChildren,c("React").createElement(c("MessengerScrollableArea.react"),{height:"100%",needsFastScrollHandler:this.state.shouldTrackBottom,onScroll:this.$MessengerFlexScrollableArea8,ref:"scrollable",tabIndex:this.props.tabIndex},this.props.children),this.props.footerChildren)};o.prototype.$MessengerFlexScrollableArea9=function(){if(this.isScrolledToBottom()){this.setState({shouldTrackBottom:true});this.$MessengerFlexScrollableArea10()}else{this.setState({shouldTrackBottom:false});this.$MessengerFlexScrollableArea11()}};o.prototype.$MessengerFlexScrollableArea10=function(){if(!this.props.useScrollProtection)return;this.$MessengerFlexScrollableArea11();this.$MessengerFlexScrollableArea2=setInterval(function(){this.trackBottomIfRequired()}.bind(this),500)};o.prototype.$MessengerFlexScrollableArea11=function(){if(this.$MessengerFlexScrollableArea2)clearInterval(this.$MessengerFlexScrollableArea2)};o.prototype.getArea=function(){return this.refs.scrollable&&this.refs.scrollable.getArea()};o.prototype.handleResize=function(){this.refs.flexArea&&this.refs.flexArea.recalculateHeight()};o.prototype.trackBottomIfRequired=function(){if(this.state.shouldTrackBottom)this.scrollToBottom()};o.prototype.scrollToBottom=function(){this.refs.scrollable&&this.refs.scrollable.scrollToBottom()};o.prototype.scrollToTop=function(p){this.refs.scrollable&&this.refs.scrollable.scrollToTop(p)};o.prototype.scrollToPosition=function(p,q,r){this.refs.scrollable&&this.refs.scrollable.scrollToPosition(p,q,r)};o.prototype.isScrolledToBottom=function(){var p=this.refs.scrollable;return p?p.isScrolledToBottom():true};o.prototype.isScrolledToBottomWithHeight=function(p){return this.refs.scrollable.isScrolledToBottomWithHeight(p)};o.prototype.isScrolledToTop=function(){return this.refs.scrollable&&this.refs.scrollable.isScrolledToTop()};o.prototype.getScrollTop=function(){return this.refs.scrollable&&this.refs.scrollable.getScrollTop()||0};o.propTypes={flexChildren:k.node,footerChildren:k.node,onMount:k.func,onScroll:k.func,shouldStickToBottom:k.bool,tabIndex:k.number,useScrollProtection:k.bool};f.exports=o}),null);
__d("messengerFlexScrollableAreaReact",["ReasonReact","bs_js_null_undefined","MessengerFlexScrollableArea.react"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){return c("ReasonReact").wrapJsForReason(c("MessengerFlexScrollableArea.react"),{onScroll:c("bs_js_null_undefined").from_opt(i)},j)}g.make=h}),null);
__d("messengerChatOnOffToggleReact",["cx","fbt","bs_curry","React","linkReact","bs_js_boolean","ReasonReact"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("ReasonReact").statelessComponent("MessengerChatOnOffToggleReact");function k(l,m,n){var o=function o(n,q){if(m)return c("bs_curry")._1(m[0],c("bs_js_boolean").to_js_boolean(1-l));else return 0},p=j.slice();p[9]=function(q){var r=l!==0?i._("Go Offline"):i._("Go Online");return c("ReasonReact").element(0,0,c("linkReact").make([r],0,["tooltip"],[r],["center"],["above"],0,[c("bs_curry")._1(q[0],o)],0,0,0,0,0,0,0,c("React").createElement("div",{className:"_3dwl"+(l?" _337l":"")},c("React").createElement("div",{className:"_3dwf"+(l?" _3dwk":"")}))))};return p}g.component=j;g.make=k}),null);
__d("messengerViewerCardReact",["cx","React","ReasonReact","joinClasses","imageBlockReact","messengerContactImageReact","messengerChatOnOffToggleReact"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("ReasonReact").statelessComponent("MessengerViewerCardReact");function j(l,m,n,o,p){var q=l?l[0]:"",r=i.slice();r[9]=function(){if(o){var s=o[0];return c("ReasonReact").element(0,0,c("imageBlockReact").make([c("joinClasses")(q,"_1u5d")],0,0,["medium"],[c("ReasonReact").element(0,0,c("messengerContactImageReact").StraightJSComponent[0](["_1u5h"],0,[1],0,34,[s.image_src],0,[])),c("React").createElement("div",{className:"_1u5i"},c("React").createElement("div",{className:"_364g"},s.name)),c("ReasonReact").element(0,0,c("messengerChatOnOffToggleReact").make(m,n,[]))]))}else return c("React").createElement("div",undefined)};return r}var k=34;g.imageSize=k;g.component=i;g.make=j}),null);
__d("messengerActiveUsersListReact",["cx","fbt","bs_list","bs_array","bs_block","bs_curry","React","utilsRe","MercuryIDs","bs_pervasives","ReasonReact","bs_js_primitive","MercuryThreads","PresencePrivacy","MessengerActions","bs_js_null_undefined","MercuryParticipants","PresenceOrderedList","PresenceStatusStore","AvailableListConstants","MeasurePeopleTypedLogger","MessengerContactAdapters","messengerViewerCardReact","messengerContactListRowReact","messengerFlexScrollableAreaReact"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("MercuryThreads").get();function k(v,w){__p&&__p();var x=w[3],y=w[1];c("PresenceOrderedList").getSorted(200,function(z){var A=c("MercuryParticipants").getOrFetch(c("MercuryIDs").getParticipantIDFromUserID(x)),B=A==null?0:[A],C=c("PresenceOrderedList").getAvailableSorted(z),D=z.filter(function(F){return+c("PresencePrivacy").allows(F)}),E=c("utilsRe").listFilterMap(function(F){return c("bs_js_primitive").null_undefined_to_opt(c("MercuryParticipants").getOrFetch(F))},c("bs_list").map(function(F){return c("MercuryIDs").getParticipantIDFromUserID(F)},c("bs_list").filter(function(F){return+(c("PresenceStatusStore").get(F)===c("AvailableListConstants").ACTIVE)})(c("bs_array").to_list(c("bs_array").concat([D,[C,0]])))));return c("bs_curry")._2(y,function(){return[B,E]},0)});return 0}function l(v){new(c("MeasurePeopleTypedLogger"))().log();k(0,v);return 0}function m(v){var p=+v;c("PresencePrivacy").setVisibility(p!==0?c("PresencePrivacy").ONLINE:c("PresencePrivacy").OFFLINE);return 0}function n(v,w){var p=v.fbid;if(p==null)return 0;else{j.getThreadMeta(c("MercuryIDs").getThreadIDFromUserID(p),function(x){c("MessengerActions").selectThread(x.thread_id,undefined);return 0});return 0}}var o=c("ReasonReact").reducerComponentWithRetainedProps("MessengerActiveUsersListReact"),p=c("messengerContactListRowReact").createMake(0),q=p[1],r=[q];function s(v,w,x){__p&&__p();return[o[0],o[1],o[2],o[3],l,o[5],o[6],o[7],o[8],function(y){var z=y[2],p=c("MercuryIDs").getUserIDFromThreadID(c("bs_js_null_undefined").from_opt(v)),A=!(p==null)&&p!==""?[p]:0,B=z[1],C=B!==0?c("React").createElement("div",undefined,c("React").createElement("div",{className:"_225b"},i._("Active Contacts ({number_of_contacts})",[i.param("number_of_contacts",c("bs_pervasives").string_of_int(c("bs_list").length(z[0])))])),c("React").createElement("ul",undefined,c("bs_array").of_list(c("bs_list").map(function(D){var p=D.fbid,E=!(p==null)&&A?+(p===A[0]):0;return c("ReasonReact").element([D.id],0,c("bs_curry").app(q,[function(F){return c("MessengerContactAdapters").fromMercuryParticipant(F)},D,0,n,0,0,0,0,0,0,0,[E],0,0,0,0,0,0,[1],0,0,w,[]]))},z[0])))):null;return c("ReasonReact").element(0,0,c("messengerFlexScrollableAreaReact").make(0,[c("ReasonReact").element(0,0,c("messengerViewerCardReact").make(0,z[1],[m],z[2],[])),C]))},function(){return[0,+(c("PresencePrivacy").getVisibility()===c("PresencePrivacy").ONLINE),c("bs_js_primitive").null_undefined_to_opt(c("MercuryParticipants").getOrFetch(c("MercuryIDs").getParticipantIDFromUserID(w)))]},w,function(y,x){return c("bs_block").__(0,[[y[1],+(c("PresencePrivacy").getVisibility()===c("PresencePrivacy").ONLINE),y[0]]])},function(y){__p&&__p();return[[function(){return c("PresencePrivacy").subscribe("privacy-user-presence-changed",c("bs_curry")._1(y[0],k))},function(z){c("PresencePrivacy").unsubscribe(z);return 0}],[[function(){return c("MercuryParticipants").addListener("change",function(x,z){return c("bs_curry")._2(y[0],k,0)})},function(z){z.remove();return 0}],[[function(){return c("PresenceStatusStore").addListener(c("bs_curry")._1(y[0],k))},function(z){z.remove();return 0}],0]]]},o[14]]}var t=c("ReasonReact").wrapReasonForJs(o,function(v){return s(c("bs_js_primitive").null_undefined_to_opt(v.activeThreadID),v.viewer,[])}),u=200;g.numTopUsers=u;g.mercuryThreadsRe=j;g.updateHelper=k;g.didMount=l;g.handleChangeAvailability=m;g.handleSelect=n;g.component=o;g.ListRowReactForMercuryParticipant=r;g.make=s;g.jsComponent=t}),null);
__d("MessengerPeopleList.react",["messengerActiveUsersListReact","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("messengerActiveUsersListReact").jsComponent,i=function i(j){return c("React").createElement(h,{activeThreadID:j.activeThreadID||undefined,viewer:j.viewer})};f.exports=i}),null);