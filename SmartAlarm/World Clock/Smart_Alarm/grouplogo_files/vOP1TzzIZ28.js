if (self.CavalryLogger) { CavalryLogger.start_js(["GZWrZ"]); }

__d("MessengerBotMenuDataFetcher",["AsyncRequest","Cache","MessengerBotComposerWebGraphQLQuery","XMessengerBotsMenuController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$MessengerBotMenuDataFetcher1=new(c("Cache"))();this.$MessengerBotMenuDataFetcher2=new(c("Cache"))()}h.prototype.getMenuItems=function(i,j,k){__p&&__p();if(this.$MessengerBotMenuDataFetcher1.has(i)){j(this.$MessengerBotMenuDataFetcher1.get(i));return}var l=c("XMessengerBotsMenuController").getURIBuilder().setString("page_id",i).getURI();new(c("AsyncRequest"))().setURI(l).setHandler(function(m){var n=m.payload.menu;this.$MessengerBotMenuDataFetcher1.set(i,n);j(n)}.bind(this)).setErrorHandler(function(m){k()}).send()};h.prototype.getHasPageSetting=function(i,j,k,l){__p&&__p();if(!this.$MessengerBotMenuDataFetcher2.has(i)){var m=c("MessengerBotComposerWebGraphQLQuery").getURI({node_id:i});new(c("AsyncRequest"))().setURI(m).setHandler(function(o){var p=o.payload.data.node,n=p&&p.commerce_page_settings||[];this.$MessengerBotMenuDataFetcher2.set(i,n);j(n.indexOf(l)!==-1)}.bind(this)).setErrorHandler(function(o){this.$MessengerBotMenuDataFetcher2.set(i,[]);k()}.bind(this)).send()}var n=this.$MessengerBotMenuDataFetcher2.get(i)||[];j(n.indexOf(l)!==-1);return n.indexOf(l)!==-1};f.exports=new h()}),null);