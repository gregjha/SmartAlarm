if (self.CavalryLogger) { CavalryLogger.start_js(["oob9\/"]); }

__d("MessengerPresenceStatusUtils",["fbt","AvailableListConstants","CurrentUser","LastActiveTimes","MercuryIDs","PresenceStatus"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={getStatusFromCanonicalThread:function j(k,l){__p&&__p();var m=null;if(l&&l.is_canonical){var n=k.get(c("MercuryIDs").getParticipantIDFromFromThreadID(l.thread_id));if(n){var o=void 0;if(n.is_messenger_user)o=c("CurrentUser").isWorkUser()?h._("Workplace Chat"):h._("Messenger");else o=c("CurrentUser").isWorkUser()?h._("Workplace"):h._("Facebook");var p=c("PresenceStatus").get(n.fbid),q=void 0,r=void 0;if(p!==c("AvailableListConstants").ACTIVE){q=c("LastActiveTimes").get(n.fbid);r=c("LastActiveTimes").getShortDisplay(n.fbid)}m={contact:n,platform:o,isUserActive:p===c("AvailableListConstants").ACTIVE,lastActiveTS:q,lastActive:r}}}return m}};f.exports=i}),null);