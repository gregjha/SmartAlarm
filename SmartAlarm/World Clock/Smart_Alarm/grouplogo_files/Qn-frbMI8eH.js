if (self.CavalryLogger) { CavalryLogger.start_js(["uuwSF"]); }

__d("messengerInfoPanelThreadNameSectionReact",["cx","fbt","bs_block","bs_curry","React","keysRe","bs_string","bs_js_boolean","ReasonReact","setImmediate","messengerButtonReact","messengerSpinnerReact","MercuryGenericConstants","mercuryThreadTitleReact","messengerTextWithEmojiInputReact","messengerThreadPhotoUploaderReact"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(q,r){var s=r[2][1][0];if(s)return s[0].focusInput();else return 0}function k(){return c("React").createElement("div",{className:"_2jnw"},c("ReasonReact").element(0,0,c("messengerSpinnerReact").make(0,0,0,[])))}function l(q,r){var s=r[2][2][0];if(s)return s[0].focus();else return 0}function m(q,r){r[2][1][0]=q==null?0:[q];return 0}function n(q,r){r[2][2][0]=q==null?0:[q];return 0}var o=c("ReasonReact").reducerComponentWithRetainedProps("MessengerInfoPanelThreadNameSectionReact");function p(q,r,s,t,u,v,w,x,y){__p&&__p();var z=function z(E,F){E.stopPropagation();var G=F[2][1][0];if(G)c("bs_curry")._1(r,c("bs_string").trim(G[0].getValue()));return c("bs_curry")._1(c("setImmediate"),c("bs_curry")._1(F[0],l))},A=function A(E,y){if(E.currentTarget.contains(E.relatedTarget)){E.stopPropagation();return 0}else if(w>=2)return c("bs_curry")._1(v,0);else return c("bs_curry")._1(v,1)},B=function B(E){return c("React").createElement("div",{className:"_2jnx",onBlur:c("bs_curry")._1(E[0],A)},c("React").createElement("div",{className:"_2jny"},c("ReasonReact").element(0,[c("bs_curry")._1(E[0],m)],c("messengerTextWithEmojiInputReact").make(["_2jnz"],[c("bs_curry")._1(E[0],z)],[c("MercuryGenericConstants").MAX_THREAD_NAME_LENGTH],0,[i._("Name This Conversation")],[u.name],[]))),c("React").createElement("div",{className:"_2jn-"},c("ReasonReact").element(0,0,c("messengerButtonReact").make(0,["button"],0,0,[c("bs_curry")._1(E[0],z)],0,0,0,0,i._("Done"),0,0,0,0,[]))))},C=function C(E,y){E.stopPropagation();if(q!==0&&w===1)return c("bs_curry")._1(v,0);else return 0},D=function D(E,y){var F=E.charCode;if(w!==1||!(F===c("keysRe").$$return||F===c("keysRe").space))return 0;else{E.preventDefault();E.stopPropagation();if(q)return c("bs_curry")._1(v,0);else return 0}};return[o[0],o[1],o[2],function(E){var F=E[2],G=+(E[3][1]!==u);return[G!==0?0:F[0],F[1],F[2]]},o[4],function(E){var F=E[0],G=F[3][0];if(G!==1||w===1)return 0;else{setTimeout(c("bs_curry")._1(F[0],j),1);return 0}},o[6],o[7],o[8],function(E){var F=E[2],G=E[1],H=E[0],I=w!==1?1:0,J=F[0];return c("React").createElement("div",{className:"_2jnq"},c("React").createElement("div",{className:"_2jnr"+(c("bs_js_boolean").to_js_boolean(F[0])?" _2jns":"")},t,J!==0?k(0):null,q!==0?c("ReasonReact").element(0,0,c("messengerThreadPhotoUploaderReact").make(c("bs_curry")._1(G,function(K){return[K]}),[c("bs_curry")._1(G,function(){return 0})],[c("bs_curry")._1(G,function(){return 1})],0,[])):null),c("React").createElement("div",{ref:c("bs_curry")._1(H,n),className:"_2jnt"+(c("bs_js_boolean").to_js_boolean(1-I)?" _1sw_":"")+(c("bs_js_boolean").to_js_boolean(1-q)?" disabled":""),role:I!==0?"":"button",tabIndex:0,onKeyPress:c("bs_curry")._1(H,D),onClick:c("bs_curry")._1(H,C)},c("React").createElement("div",{className:"_2jnu"},I!==0?B(E):c("ReasonReact").element(0,0,c("mercuryThreadTitleReact").make(["_2jnv"],u,x,0,[0],[0],0,[])))))},function(){return[0,[0],[0]]},[w,u],function(E,F){if(typeof E==="number")if(E!==0)return c("bs_block").__(0,[[1,F[1],F[2]]]);else return c("bs_block").__(0,[[0,F[1],F[2]]]);else{var G=E[0];return c("bs_block").__(3,[[0,F[1],F[2]],function(){return c("bs_curry")._1(s,[u.thread_id,G])}])}},o[13],o[14]]}g.focusThreadNameInput=j;g.renderSpinner=k;g.focusEditThreadNameButton=l;g.setRefThreadNameInput=m;g.setRefEditThreadNameButton=n;g.component=o;g.make=p}),null);