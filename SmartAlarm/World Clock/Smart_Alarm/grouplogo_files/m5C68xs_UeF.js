if (self.CavalryLogger) { CavalryLogger.start_js(["ywkJm"]); }

__d("MessengerMasterView.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","MercuryFilters","MercuryOrderedThreadlist","MercuryThreadlistConstants","MessagingTag","MessengerActions","MessengerRecentContainer.react","MessengerSearchContainer.react","MessengerSpinner.react","MessengerStateStore","MessengerView","React","messengerMasterViewHeaderReact"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("messengerMasterViewHeaderReact").jsComponent,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={aggregationView:false,resetAggregatedThreads:false,threadIDs:[]},this.$MessengerMasterView1=function(s,t){this.setState({aggregationView:true,resetAggregatedThreads:false,threadIDs:t})}.bind(this),this.$MessengerMasterView2=function(){this.setState({aggregationView:false,resetAggregatedThreads:true},function(){c("MessengerActions").selectAggregation(null)})}.bind(this),this.$MessengerMasterView3=function(){this.setState({aggregationView:true,resetAggregatedThreads:false})}.bind(this),o}m.prototype.componentDidMount=function(){var n=c("MessengerStateStore").getState().threadIDs;if(n)this.setState({threadIDs:n,aggregationView:true})};m.prototype.$MessengerMasterView4=function(){var n=this.props.detailView===c("MessengerView").DETAIL.COMPOSE;switch(this.props.view){case c("MessengerView").MASTER.PEOPLE:return c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{activeThreadID:n?null:this.props.activeThreadID,viewer:this.props.viewer}),loader:c("JSResource")("MessengerPeopleList.react").__setRef("MessengerMasterView.react"),placeholder:c("React").createElement("div",{className:"_2pif",style:{textAlign:"center"}},c("React").createElement(c("MessengerSpinner.react"),null))});case c("MessengerView").MASTER.PAYMENT:case c("MessengerView").MASTER.RECENT:return c("React").createElement(c("MessengerRecentContainer.react"),{activeThreadID:this.props.activeThreadID,filter:this.props.filter,folder:this.props.folder,isNewMessageActive:n,onAggregationClick:this.$MessengerMasterView1,onRenderBackArrow:this.$MessengerMasterView3,resetAggregatedThreads:this.state.resetAggregatedThreads,viewer:this.props.viewer});case c("MessengerView").MASTER.SEARCH:return c("React").createElement(c("MessengerSearchContainer.react"),{activeThreadID:this.props.activeThreadID,filter:this.props.filter,folder:this.props.folder,isNewMessageActive:n,viewer:this.props.viewer});default:throw new Error("Unknown master view: "+this.props.view)}};m.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(k,{aggregationView:this.state.aggregationView,filter:this.props.filter,folder:this.props.folder,onBackToRecent:this.$MessengerMasterView2,threadIDs:this.state.threadIDs,view:this.props.view,viewer:this.props.viewer}),this.$MessengerMasterView4())};m.propTypes={activeThreadID:l.string,detailView:l.string,filter:l.string,folder:l.string.isRequired,view:l.string.isRequired,viewer:l.string.isRequired};f.exports=m}),null);