if (self.CavalryLogger) { CavalryLogger.start_js(["lHc3X"]); }

__d("MessengerHotLikePreview.react",["cx","Animation","EmojiLikeConstants","HotLikeSound","MessengerHotLikePreviewEvents","MessengerHotLikeSVG.react","MessengerHotLikeUtils","MessengerSupportedEmojiUtils","React","ReactDOM","StickerConstants","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerHotLikePreview5=function(){this.$MessengerHotLikePreview6=new(c("Animation"))(c("ReactDOM").findDOMNode(this));this.$MessengerHotLikePreview7(-2,2,150,1e3);this.$MessengerHotLikePreview7(-4,4,100,1e3);this.$MessengerHotLikePreview7(-10,10,75,1e3);this.$MessengerHotLikePreview6.go()}.bind(this),this.$MessengerHotLikePreview2=function(r,s){__p&&__p();var t=s?c("MessengerHotLikePreviewEvents").FINISH_EMOJI_ANIMATION:c("MessengerHotLikePreviewEvents").FINISH_ANIMATION;if(this.$MessengerHotLikePreview8)return;this.$MessengerHotLikePreview8=true;var u=Date.now()-this.props.since,v=null;if(this.props.customLike)v=c("MessengerHotLikeUtils").getEmojiSizeForTime(u);var w=c("MessengerHotLikeUtils").getStickerIDForTime(u);c("HotLikeSound").snap(w);var x=c("MessengerHotLikeUtils").getMetadataForHotLike(v||w);this.$MessengerHotLikePreview6.stop();var y=30,z=-10;if(w===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID){y=0;z=0}this.$MessengerHotLikePreview4.stop().to("width",x.width*1.2).to("height",x.height*1.2).to("rotateZ",y).duration(100).checkpoint().to("width",x.width*.9).to("height",x.height*.9).to("rotateZ",z).duration(100).checkpoint().to("width",x.width).to("height",x.height).to("rotateZ",0).duration(100).ondone(function(){c("MessengerHotLikePreviewEvents").emit(t,r,w,v)}).go()}.bind(this),this.$MessengerHotLikePreview3=function(r){c("HotLikeSound").pop();this.$MessengerHotLikePreview4.stop().to("width",0).to("height",0).duration(100).ondone(function(){c("MessengerHotLikePreviewEvents").emit(c("MessengerHotLikePreviewEvents").REMOVE,r)}).go()}.bind(this),n}l.prototype.componentDidMount=function(){this.$MessengerHotLikePreview1=new(c("SubscriptionsHandler"))();this.$MessengerHotLikePreview1.addSubscriptions(c("MessengerHotLikePreviewEvents").addListener(c("MessengerHotLikePreviewEvents").STOP,this.$MessengerHotLikePreview2),c("MessengerHotLikePreviewEvents").addListener(c("MessengerHotLikePreviewEvents").STOP_EMOJI,this.$MessengerHotLikePreview2),c("MessengerHotLikePreviewEvents").addListener(c("MessengerHotLikePreviewEvents").POP,this.$MessengerHotLikePreview3));c("HotLikeSound").start();this.$MessengerHotLikePreview4=new(c("Animation"))(c("ReactDOM").findDOMNode(this)).to("width",80).to("height",80).duration(3e3).go();this.$MessengerHotLikePreview5()};l.prototype.componentWillUnmount=function(){this.$MessengerHotLikePreview1&&this.$MessengerHotLikePreview1.release()};l.prototype.render=function(){if(this.props.customLike){var m=this.props.customLike,n=c("MessengerSupportedEmojiUtils").getNewEmojiData(m.emoji,c("EmojiLikeConstants").size.LARGE),o=n?n.url:this.props.customLike.large;if(m.uri)o=m.uri;return c("React").createElement("div",{className:"_4a9g _383m",style:{backgroundImage:"url("+o+")"}})}return c("React").createElement("div",{className:"_4a9g _576q"},c("React").createElement(c("MessengerHotLikeSVG.react"),{color:this.props.customColor}))};l.prototype.$MessengerHotLikePreview7=function(m,n,o,p){var q=Math.floor(p/o),r=null;for(var s=0;s<q;s++){r=s%2?m:n;this.$MessengerHotLikePreview6.to("rotateZ",r).duration(o).checkpoint()}};l.propTypes={customLike:k.object,since:k.number};f.exports=l}),null);