if (self.CavalryLogger) { CavalryLogger.start_js(["In9Tj"]); }

__d("NotifType",[],(function a(b,c,d,e,f,g){f.exports={LIKE:"like",OPEN_GRAPH_ACTION_LIKE:"open_graph_action_like",LIKE_TAGGED:"like_tagged",PAGE_FAN:"page_fan",IG_MEDIA_LIKE:"ig_media_like",FEEDBACK_REACTION_GENERIC:"feedback_reaction_generic",FEEDBACK_REACTION_GENERIC_TAGGED:"feedback_reaction_generic_tagged",MESSENGER_REACTIONS:"messenger_reactions",MARKETPLACE_RECEIVED_RATING:"marketplace_received_rating",MARKETPLACE_RECEIVED_RATING_COMPLETED:"marketplace_received_rating_completed"}}),null);
__d("NullBusinessID",[],(function a(b,c,d,e,f,g){f.exports="personal-business"}),null);
__d("BusinessConf",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DOMAIN:"business",WWW_DOMAIN:"www",HOSTNAME:"business.facebook.com",BIZ_ID_PARAM_NAME:"business_id",BIZ_ID_AUTOMATICALLY_ATTACHED_API_PARAM_NAME:"__business_id",LABEL_ID_PARAM_NAME:"project_id",ACCOUNT_ID_PARAM_NAME:"act",ACCOUNT_ID_PARAM_NAME_LONG:"account_id",ACCOUNT_IDS_PARAM_NAME_LONG:"account_ids",ACCOUNT_ID_CATEGORY_NAME:"cat",PAGE_ID_PARAM_NAME:"id",PAGE_ADMIN_SELECTED_KEY:"sk",PRODUCT_CATALOG_ID_PARAM_NAME:"catalog_id",PRODUCT_FEED_ID_PARAM_NAME:"feed_id",LEGACY_ADS_MANAGER_PREFIX:"/ads/manage/",CAMPAIGN_MANAGER_PREFIX:"/ads/manager/",SAM_PREFIX:"/ads/management/",AUDIENCE_INSIGHTS_PREFIX:"/ads/audience-insights/",SHOW_ADD_PRODUCT_FEED_DIALOG:"add_feed",SHOW_SPLASH_PARAM_NAME:"splash",SHOW_GRAY_MIGRATE_COMPLETE_SPLASH_PARAM_NAME:"migrate",COMMENT_ID_PARAM_NAME:"comment_id",NAV_SOURCE_PARAM_NAME:"nav_source",WHITELISTED_URI_CLASS:"bizOK",BIZ_HOME_FAVORITE_UPSELL:"biz_home_favorite_upsell",OPT_OUT_KEY:"do_not_redirect_to_biz_site",GRAY_MIGRATE_KEY:"tried_to_migrate_from_gray_account",HIDE_OPT_OUT_KEY:"hide_opt_out",HIDE_HOME_V3_SPLASH_KEY:"hide_home_v3_splash",CAKE_NUX_IS_OPTED_OUT:"1",DPA_TD_WELCOME_NUX_KEY:"dpa_td_welcome_nux",HIDE_AD_ACCOUNT_MSG_PANEL:"hide_ad_account_msg_panel",HIDE_AD_ACCOUNT_FAV_UPSELL:"hide_ad_account_fav_upsell",HIDE_PAGE_FAV_UPSELL:"hide_page_fav_upsell",DPA_TD_WELCOME_NUX_ID:3918,OPT_OUT_EXPIRE:259200})}),null);
__d("BizSiteIdentifier.brands",["BusinessConf","NullBusinessID","URI"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("NullBusinessID"),i={isBizSite:function j(){return c("URI").getRequestURI(false).getSubdomain()===c("BusinessConf").DOMAIN},getBusinessID:function j(){return c("URI").getRequestURI(false).getQueryData()[c("BusinessConf").BIZ_ID_PARAM_NAME]},createBusinessURL:function j(k,l){if(!l||l===h)return new(c("URI"))(k).setSubdomain("www");var m=new(c("URI"))(k).setSubdomain(c("BusinessConf").DOMAIN);if(i.isBizSite())m.setDomain(c("URI").getRequestURI(false).getDomain());var n=l||i.getBusinessID();m.addQueryData(c("BusinessConf").BIZ_ID_PARAM_NAME,n);return m}};f.exports=i}),null);
__d("BusinessURI.brands",["BizSiteIdentifier.brands","BusinessConf","isFacebookURI","URI"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("URI"));i=h&&h.prototype;function j(l,m){"use strict";__p&&__p();i.constructor.call(this,l);if(c("BizSiteIdentifier.brands").isBizSite()){var n=m||c("BizSiteIdentifier.brands").getBusinessID();if(n)this.addQueryData(c("BusinessConf").BIZ_ID_PARAM_NAME,n);if(!this.$BusinessURI1(this.getSubdomain()))this.setSubdomain(c("BusinessConf").DOMAIN)}if(!c("isFacebookURI")(this))throw new Error("Business URI must be FB URI");return this}j.prototype.$BusinessURI1=function(l){"use strict";return l==="developers"};var k=function k(l,m){return new j(l,m)};k.BusinessURI=j;f.exports=k}),null);
__d("NotificationConstants",[],(function a(b,c,d,e,f,g){f.exports={PayloadSourceType:{UNKNOWN:0,USER_ACTION:1,LIVE_SEND:2,ENDPOINT:3,INITIAL_LOAD:4,OTHER_APPLICATION:5,SYNC:6,CLIENT:7}}}),null);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","FBJSON"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(k){i.constructor.call(this);this.$CrossWindowEventEmitter2=k;this.$CrossWindowEventEmitter1=new(c("CacheStorage"))("localstorage",k+":");this.$CrossWindowEventEmitter1.addValueChangeCallback(function(l,m,n){var o,event=l.split(":")[1],p=c("FBJSON").parse(n),q=p.__v;(o=i.emit).call.apply(o,[this,event].concat(q))}.bind(this))}j.prototype.emit=function(k){var l;for(var m=arguments.length,n=Array(m>1?m-1:0),o=1;o<m;o++)n[o-1]=arguments[o];this.emitRemote.apply(this,[k].concat(n));(l=i.emit).call.apply(l,[this,k].concat(n))};j.prototype.emitRemote=function(k){for(var l=arguments.length,m=Array(l>1?l-1:0),n=1;n<l;n++)m[n-1]=arguments[n];this.$CrossWindowEventEmitter1.set(k,m)};f.exports=j}),null);
__d("FavIcon",["DOM"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j;function k(){var m=c("DOM").scry(document.head,"link");if(m)m.forEach(function(n){if(n.rel.indexOf("icon")!=-1||n.rel.indexOf("shortcut icon")!=-1)c("DOM").remove(n)})}var l={isToggledResource:function m(){if(j&&h.href===j)return true;return false},set:function m(n){if(h)c("DOM").remove(h);k();h=c("DOM").create("link",{type:"image/x-icon",rel:"icon",href:n});c("DOM").appendContent(c("DOM").find(document,"head"),h)},setToggleResources:function m(n,o){h=document.querySelector('link[rel*=icon][href*=".ico"]');if(!h)return;i=o||h.href;j=n},toggle:function m(){if(!h||!j)return;if(h.href===i){this.set(j);return}this.set(i)},toggleSet:function m(n){if(!h||!j||!i)return;var o=n?j:i;if(h.href!==o)this.set(o)}};f.exports=l}),null);
__d("NotificationCounter",["Arbiter","CrossWindowEventEmitter","CurrentUser","DocumentTitle","FavIcon","JSLogger","MercuryConfig","MessengerEnvironment"],(function a(b,c,d,e,f,g){__p&&__p();var h=new(c("CrossWindowEventEmitter"))("JewelBase"),i={messages:0,notifications:0,requests:0},j={init:function k(){c("Arbiter").subscribe("update_title",this._handleUpdate.bind(this));c("Arbiter").subscribe("jewel/count-updated",this._handleCountUpdate.bind(this));h.addListener("count-updated",function(l){this._handleCountUpdate("",l)}.bind(this));if(c("MercuryConfig").FaviconBadge&&!c("CurrentUser").isWorkUser())c("FavIcon").setToggleResources(c("MercuryConfig").FaviconBadgedURL)},getCount:function k(){__p&&__p();var l=0;for(var m in i){var n=Number(i[m]);if(typeof i[m]=="string"&&isNaN(n))return i[m];if(isNaN(n)||n<0){c("JSLogger").create("jewels").error("bad_count",{jewel:m,count:i[m]});continue}l+=n}return l},updateTitle:function k(){if(c("MessengerEnvironment").messengerui)return;var l=this.getCount(),m=c("DocumentTitle").get();m=l?"("+l+") "+m:m;c("DocumentTitle").set(m,true);if(c("MercuryConfig").FaviconBadge)c("FavIcon").toggleSet(parseInt(l,10)>0)},_handleCountUpdate:function k(l,m){i[m.jewel]=m.count;this.updateTitle()},_handleUpdate:function k(l,m){this.updateTitle()}};f.exports=j}),null);
__d("NotificationJewelFunnelLoggingConstants",[],(function a(b,c,d,e,f,g){"use strict";f.exports={FUNNEL_LOGGING_NAME:"WWW_NOTIFICATION_FUNNEL",FUNNEL_LOGGING_EVENT:{FETCH_NOTIFICATIONS:"fetch_notifications",OPEN_JEWEL:"open_jewel",CLOSE_JEWEL:"close_jewel",MOUSE_OVER_ON_JEWEL:"mouse_over_on_jewel",SCROLL_TO_FETCH:"scroll_to_fetch",FETCH_NEXT_SET:"fetch_next_set",CLEAR_BADGE_COUNT:"clear_badge_count"}}}),null);
__d("NotificationSeenFilter",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALL:"all",SEEN_ONLY:"seen_only",UNSEEN_ONLY:"unseen_only",READ_ONLY:"read_only",UNREAD_ONLY:"unread_only",SEEN_BUT_UNREAD_ONLY:"seen_unread_only"})}),null);
__d("NotificationPhotoThumbnail",["NotificationAttachmentConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j){if(!j.media||!j.style_list||!j.style_list.length)return null;var k=j.style_list[0];if(c("NotificationAttachmentConfig").thumbnailStyles[k])return j.media.image;return null}var i={getThumbnailForNotification:function j(k){var l=k.attachments,m=k.attached_story,n=k.feedback_context;return i.getThumbnail(l,m,n)},getThumbnail:function j(k,l,m){__p&&__p();var n=void 0;if(k&&k.length){k.some(function(r){n=h(r);if(n)return true;return false});if(n)return n}if(m){var o=m.relevant_comments;if(o&&o.length){var p=o[0].attachments;if(p&&p.length){n=h(p[0]);if(n)return n}}}if(l){var q=l.attachments;if(q&&q.length)return h(q[0])}return null}};f.exports=i}),null);
__d("NotificationAttachmentUtils",["NotificationAttachmentConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={shouldOpenSnowlift:function i(j){__p&&__p();var k=j.attachments,l=j.feedback_context,m=j.attached_story,n=[];if(k)n.push.apply(n,k);if(l&&l.relevant_comments){var o=l.relevant_comments;o.reduce(function(p,q){return p.concat(q.attachments)},n)}if(m&&m.attachments)n.push.apply(n,m.attachments);return n.some(function(p){if(!p.style_list||!p.style_list.length)return false;var q=p.style_list[0];return!!c("NotificationAttachmentConfig").snowliftStyles[q]})}};f.exports=h}),null);
__d("NotificationURI",["BusinessURI.brands","URI","VideoPermalinkURI","isFacebookURI"],(function a(b,c,d,e,f,g){__p&&__p();var h={localize:function i(j){try{j=c("BusinessURI.brands")(j)}catch(k){return j.toString()}var l=j.getSubdomain();return j.getUnqualifiedURI().getQualifiedURI().setSubdomain(l).toString()},snowliftable:function i(j){if(!j)return false;var k=new(c("URI"))(j),l=k.getQueryData();return c("isFacebookURI")(k)&&(c("VideoPermalinkURI").isValid(k)||"fbid"in l)},isVaultSetURI:function i(j){return this._areEquals(j,"/ajax/vault/sharer_preview.php")},isAlbumDraftRecoveryDialogURI:function i(j){return this._areEquals(j,"/ajax/photos/upload/overlay/")},isQuicksilverURI:function i(j){return this._areEquals(j,"/games/quicksilver/spotlight/")},isDirectURI:function i(j){return this._startsWith(j,"/direct/")},isIGAccountCreationURI:function i(j){return this._areEquals(j,"/ads/growth/aymt/instagram/account-creation-dialog/")},_areEquals:function i(j,k){if(!j)return false;var l=new(c("URI"))(j);return c("isFacebookURI")(l)&&l.getPath()===k},_startsWith:function i(j,k){if(!j)return false;var l=new(c("URI"))(j);return c("isFacebookURI")(l)&&l.getPath().startsWith(k)}};f.exports=h}),null);
__d("NotificationUtils",["NotificationAttachmentUtils","NotificationURI","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(l){return!!(l&&l.can_render_in_tahoe)}function i(l){return!!(l&&l.bucket_data)}function j(l){return!!(l&&l.video_channel_id)&&!h(l)}var k={getLinkProps:function l(m){__p&&__p();var n=c("NotificationURI").localize(new(c("URI"))(m.url)),o=n;if(j(m.rendererData)||h(m.rendererData)||i(m.rendererData))return{href:o};var p=c("NotificationAttachmentUtils").shouldOpenSnowlift(m)&&c("NotificationURI").snowliftable(n),q=c("NotificationURI").isAlbumDraftRecoveryDialogURI(n),r=p||q?n:m.ajaxify_url||"",s=null;if(p)s="theater";else if(q)s="async-post";else if(c("NotificationURI").isQuicksilverURI(r)||c("NotificationURI").isIGAccountCreationURI(r))s="dialog-post";else if(c("NotificationURI").isDirectURI(n))s="async";else if(r)s="dialog";return{ajaxify:r,href:o,rel:s}}};f.exports=k}),null);
__d("normalizeNotificationPayload",["ix","NotificationPhotoThumbnail","NotificationUtils","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){__p&&__p();var k;if(Array.isArray(j.classifications))j.classifications=j.classifications.map(function(u){return u.toUpperCase()});if(Array.isArray(j.eligible_buckets))j.eligible_buckets=j.eligible_buckets.map(function(u){return u.toUpperCase()});if(Object.prototype.hasOwnProperty.call(j,"menu_options")){var l=j,m=l.menu_options;delete l.menu_options;j.notif_option_sets={edges:m&&[{node:{notif_options:{edges:m&&m.map(function(u){return{node:{client_info:{action_type:u.client_action,undo_server_action:u.undo_server_action},server_action:u.server_action,option_display:{text:{text:u.text},subtext:u.subtext!=null?{text:u.subtext}:null,undo_text:u.undo_text}}}})}}}]}}if(Object.prototype.hasOwnProperty.call(j,"previewImage")===false){var n=j,o=c("NotificationPhotoThumbnail").getThumbnailForNotification(n);j.previewImage=o}if(Object.prototype.hasOwnProperty.call(j,"primerAttributes")===false){var p=j,q=c("NotificationUtils").getLinkProps(p);j.primerAttributes={ajaxify:q.ajaxify===undefined?undefined:q.ajaxify,rel:q.rel};delete p.ajaxify_url}if(Object.prototype.hasOwnProperty.call(j,"renderer_data")===false)(function(){__p&&__p();var l=j,u=l.rendererData;if(u&&(Object.prototype.hasOwnProperty.call(u,"bucket_data")||Object.prototype.hasOwnProperty.call(u,"bucket_id")||Object.prototype.hasOwnProperty.call(u,"can_render_in_tahoe")||Object.prototype.hasOwnProperty.call(u,"owner_id")||Object.prototype.hasOwnProperty.call(u,"sender_id")||Object.prototype.hasOwnProperty.call(u,"time_to_hide")||Object.prototype.hasOwnProperty.call(u,"video_channel_caller")||Object.prototype.hasOwnProperty.call(u,"video_channel_id")||Object.prototype.hasOwnProperty.call(u,"video_id"))||l.notif_type==="live_video_explicit"||l.notif_type==="live_video_share"||l.notif_type==="live_video"||l.notif_type==="live_with_video_explicit"||l.notif_type==="live_with_video")j.renderer_data=babelHelpers["extends"]({__typename:"LiveVideoNotificationRendererData"},u,{beeper_time_to_hide:u==null?null:u.time_to_hide,bucket_data:u==null?null:function(){try{return JSON.stringify(u.bucket_data)}catch(w){return null}}()});else if(l.notif_type==="accept_gifted_game"||l.notif_type==="app_content_update"||l.notif_type==="app_invite"||l.notif_type==="app_notification"||l.notif_type==="app_request"||l.notif_type==="decline_gifted_game"||l.notif_type==="send_game_as_gift"){var v=l.app_request_ids;j.renderer_data={__typename:"AppRequestNotificationRendererData",app_request_ids:v?v.split(","):[]}}else j.renderer_data={__typename:"FallbackNotificationRendererData",should_log_menu_exposure:!!(u&&u.logMenuExposure)}})();if(Object.prototype.hasOwnProperty.call(j,"thumbnail")===false){var r,s=j,t=(r=s)!=null?(r=r.actors)!=null?(r=r[0])!=null?(r=r.profile_picture)!=null?r.uri:r:r:r:r;j.thumbnail={uri:t==null?h("97000"):t}}return j}f.exports=i}),null);
__d("normalizeNotificationUpdatePayload",["normalizeNotificationPayload"],(function a(b,c,d,e,f,g){"use strict";function h(i){i=i;if(i.nodes!=null&&Array.isArray(i.nodes))i.nodes=i.nodes.map(c("normalizeNotificationPayload"));return i}f.exports=h}),null);
__d("NotificationUpdates",["Arbiter","AsyncRequest","BusinessUserConf","LiveTimer","NotificationConstants","createObjectFrom","gkx","ifRequired","normalizeNotificationUpdatePayload"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i={},j={},k={},l=false,m=[],n=0,o=void 0,p=new(c("Arbiter"))();function q(){__p&&__p();if(n)return;var v=h,w=i,x=j,y=k;h={};i={};j={};k={};if(Object.keys(v).length||l){l=false;s("notifications-updated",v)}if(Object.keys(w).length)s("seen-state-updated",w);if(Object.keys(x).length)s("read-state-updated",x);if(Object.keys(y).length)s("hidden-state-updated",y);m.pop()}function r(){if(m.length)return m[m.length-1];return c("NotificationConstants").PayloadSourceType.UNKNOWN}function s(event,v){u.inform(event,{updates:v,source:r()})}var t=null,u={getserverTime:function v(){return t},setEndPoint:function v(w){o=w},handleUpdate:function v(w,x,y,z){__p&&__p();x=c("normalizeNotificationUpdatePayload")(x);if(x.nodes&&Array.isArray(x.nodes))x.nodes=this._filterNodesBasedOnBusinessUser(x.nodes,c("BusinessUserConf").businessUserID);if(x.servertime){t=x.servertime;c("LiveTimer").restart(x.servertime)}var A=x.nodes;if(!(!c("BusinessUserConf").businessUserID&&c("gkx")("AT4VyfQf3AxNUabC3SATM7_xd3xkC31NlKa_FXDE7lw97X0965wlsUibcquLjraBX7mXtYDQGZnGD-wbNL5JRq1O"))&&!(c("BusinessUserConf").businessUserID&&c("gkx")("AT6O_6DFrqmRomRe_H8r_MCmE9hS1w9WSG47rQIoIN4ttNE8bYv1OE8F9LqUyK0bFpqwQ_1PL71xD73gX-rtwbxqoeV1J1uba91DcbAl2Wzk7g"))&&o&&w===c("NotificationConstants").PayloadSourceType.LIVE_SEND&&A&&Array.isArray(A)&&A.length>0)c("ifRequired")("NotificationStore",function(B){__p&&__p();var C={classification:z,endpointURI:o,readness:y};if(B.getCount(C)>0||!B.canFetchMore(C))return;new(c("AsyncRequest"))(o).setAllowCrossPageTransition(true).setData({businessUserID:c("BusinessUserConf").businessUserID,classification:z!=null?z.toLowerCase():null,readness:y,length:A.length}).setHandler(function(D){__p&&__p();var x=D.getPayload();if(x==null)return;var E=x.nodes;if(E==null||E.length===0)return;var F={};E.forEach(function(G){var H=G.alert_id;F[H]=true});x.nodes=A.filter(function(G){var H=G.alert_id;return F[H]===true});if(x.nodes.length>0)this._updateWithPayload(w,x)}.bind(this)).send()}.bind(this));else this._updateWithPayload(w,x)},_updateWithPayload:function v(w,x){if(Object.keys(x).length)this.synchronizeInforms(function(){m.push(w);var y=babelHelpers["extends"]({},x,{payloadsource:r()});this.inform("update-notifications",y);this.inform("update-seen",y);this.inform("update-read",y);this.inform("update-hidden",y)}.bind(this))},getArbiter:function v(){return p},inform:function v(event,w){return p.inform(event,w)},subscribe:function v(event,w){return p.subscribe(event,w)},didUpdateNotifications:function v(w){Object.assign(h,c("createObjectFrom")(w));l=true;q()},didUpdateSeenState:function v(w){Object.assign(i,c("createObjectFrom")(w));q()},didUpdateReadState:function v(w){Object.assign(j,c("createObjectFrom")(w));q()},didUpdateHiddenState:function v(w){Object.assign(k,c("createObjectFrom")(w));q()},synchronizeInforms:function v(w){n++;try{w()}catch(x){throw x}finally{n--;q()}},_filterNodesBasedOnBusinessUser:function v(w,x){if(c("gkx")("AT6O_6DFrqmRomRe_H8r_MCmE9hS1w9WSG47rQIoIN4ttNE8bYv1OE8F9LqUyK0bFpqwQ_1PL71xD73gX-rtwbxqoeV1J1uba91DcbAl2Wzk7g"))return w;else return w.filter(function(y){return x==y.biz_user_id})}};f.exports=u}),null);
__d("objectValues",[],(function a(b,c,d,e,f,g){function h(i){return Object.values(i)}f.exports=h}),null);
__d("NotificationSeenState",["NotificationConstants","NotificationSeenFilter","NotificationUpdates","createObjectFrom","ifRequired","objectValues"],(function a(b,c,d,e,f,g){__p&&__p();var h=1,i=2,j=0,k=h,l=3,m=c("NotificationConstants").PayloadSourceType.INITIAL_LOAD,n={SEEN_AND_READ:l,SEEN_BUT_UNREAD:k,UNSEEN_AND_UNREAD:j},o={};c("ifRequired")("NotificationStore",function(t){var u=t.getAllForAllEndpoints(),v=c("objectValues")(u),w=q(v);Object.keys(w).forEach(function(x){var y=w[x];o[x]=y})});function p(t){__p&&__p();var u=[],v=[];Object.keys(t).forEach(function(w){__p&&__p();var x=t[w],y=o[w];o[w]=x;if(y===undefined){u.push(w);v.push(w);return}var z=y^x;if(z&h)u.push(w);if(z&i)v.push(w)});u.length&&c("NotificationUpdates").didUpdateSeenState(u);v.length&&c("NotificationUpdates").didUpdateReadState(v)}c("NotificationUpdates").subscribe("update-notifications",function(t,u){var v=u.nodes;if(!v||!v.length)return;var w=u.payloadsource,x=c("NotificationConstants").PayloadSourceType,y=w==x.ENDPOINT,z=v.filter(function(B){var C=B.alert_id;return!y||o[C]===undefined}),A=q(z);p(A)});function q(t){var u={};t.forEach(function(v){if(v.seen_state)u[v.alert_id]=n[v.seen_state]});return u}c("NotificationUpdates").subscribe("update-seen",function(t,u){__p&&__p();if(!u.seenState)return;var v=[],w={};Object.keys(u.seenState).forEach(function(y){if(!u.seenState||!u.seenState[y]){v.push(y);return}var z=o[y];if(z!==undefined)w[y]=z|h});var x=babelHelpers["extends"]({},c("createObjectFrom")(v,j),w);p(x)});c("NotificationUpdates").subscribe("update-read",function(t,u){__p&&__p();if(!u.readState)return;var v=[],w={};Object.keys(u.readState).forEach(function(y){__p&&__p();if(!u.readState)return;var z=u.readState[y];if(z){v.push(y);return}var A=o[y];if(A!==undefined)w[y]=A&~i;else if(u.payloadsource==m)w[y]=k});var x=babelHelpers["extends"]({},c("createObjectFrom")(v,l),w);p(x)});function r(t){var u=o[t];return u}var s={isRead:function t(u){return r(u)===l},isSeen:function t(u){return r(u)!==j},getUnseenCount:function t(){return s.getUnseenIDs().length},getUnseenIDs:function t(){return Object.keys(o).filter(function(u){return o[u]===j})},getUnreadCount:function t(){return s.getUnreadIDs().length},getUnreadIDs:function t(){return Object.keys(o).filter(function(u){return o[u]!==l})},validateFilter:function t(u,v){switch(v){case c("NotificationSeenFilter").SEEN_ONLY:return s.isSeen(u);case c("NotificationSeenFilter").UNSEEN_ONLY:return!s.isSeen(u);case c("NotificationSeenFilter").READ_ONLY:return s.isRead(u);case c("NotificationSeenFilter").UNREAD_ONLY:return!s.isRead(u);case c("NotificationSeenFilter").SEEN_BUT_UNREAD_ONLY:return s.isSeen(u)&&!s.isRead(u);default:return true}}};f.exports=s}),6);
__d("NotificationsDefaultEndpointURI",[],(function a(b,c,d,e,f,g){"use strict";f.exports="/ajax/notifications/client/get.php"}),null);
__d("XWebClientAdsUnifiedNavNotificationsListController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/ads_unified_nav/",{})}),null);
__d("NotificationEndpointState",["BusinessUserConf","KeyedCallbackManager","NotificationsDefaultEndpointURI","RangedCallbackManager","XWebClientAdsUnifiedNavNotificationsListController","flatMapArray","gkx","objectValues","react-relay/classic/query/stableStringify"],(function a(b,c,d,e,f,g){__p&&__p();var h,i=(h={},h[c("NotificationsDefaultEndpointURI")]=c("BusinessUserConf").businessUserID&&c("gkx")("AT6O_6DFrqmRomRe_H8r_MCmE9hS1w9WSG47rQIoIN4ttNE8bYv1OE8F9LqUyK0bFpqwQ_1PL71xD73gX-rtwbxqoeV1J1uba91DcbAl2Wzk7g")?"BusinessManagerNotificationsPayloadPagelet":"WebNotificationsPayloadPagelet",h);if(c("gkx")("AT4VyfQf3AxNUabC3SATM7_xd3xkC31NlKa_FXDE7lw97X0965wlsUibcquLjraBX7mXtYDQGZnGD-wbNL5JRq1O"))i[c("XWebClientAdsUnifiedNavNotificationsListController").getURIBuilder().getURI().toString()]="AdsUnifiedNavNotificationsPayloadPagelet";j.getInstance=function(k){"use strict";var l=k.classification!=null?k.classification:"_",m=k.readness!=null?k.readness:"_",n="(c)"+l+"(s)"+m,o=j.$NotificationEndpointState1[k.endpointURI];if(o==null)j.$NotificationEndpointState1[k.endpointURI]=o={};if(o[n]==null)o[n]=new j(k);return o[n]};j.getAllInstances=function(k){"use strict";__p&&__p();var l=void 0;if(k!=null)l=[k];else l=Object.keys(j.$NotificationEndpointState1);return c("flatMapArray")(l,function(k){var m=j.$NotificationEndpointState1[k];if(m==null)return[];else return c("objectValues")(m)})};function j(k){__p&&__p();var l=k.businessUserID,m=k.classification,n=k.endpointURI,o=k.readness;"use strict";this.notifications=new(c("KeyedCallbackManager"))();this.businessUserID=l!=null?l:c("BusinessUserConf").businessUserID;this.classification=m;this.endpointURI=n;this.readness=o;var p=function p(q){var r=this.notifications.getResource(q);return r.creation_time};this.order=new(c("RangedCallbackManager"))(p.bind(this),function(q,r){return r-q});this.graphQLPageInfo=null}j.prototype.getConfig=function(){"use strict";return{businessUserID:this.businessUserID,classification:this.classification,endpointURI:this.endpointURI,readness:this.readness}};j.prototype.getHash=function(){"use strict";return c("react-relay/classic/query/stableStringify")(this.getConfig())};j.prototype.getRequestParams=function(k){"use strict";var l=Math.max(0,k-this.order.getAllResources().length);return{businessUserID:this.businessUserID,classification:this.classification!=null?this.classification.toLowerCase():undefined,cursor:this.graphQLPageInfo&&this.graphQLPageInfo.end_cursor,filter:this.readness==null?undefined:this.readness==="SEEN_AND_READ"?"read":"unread",readness:this.readness,length:l}};j.prototype.getStreamingTransportPageletName=function(){"use strict";return i[this.endpointURI]};j.$NotificationEndpointState1={};f.exports=j}),null);
__d("ScriptPathState",["Arbiter"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j,k,l=100,m={setIsUIPageletRequest:function n(o){j=o},setUserURISampleRate:function n(o){k=o},reset:function n(){h=null;i=false;j=false},_shouldUpdateScriptPath:function n(){return i&&!j},_shouldSendURI:function n(){return Math.random()<k},getParams:function n(){var o={};if(m._shouldUpdateScriptPath()){if(m._shouldSendURI()&&h!==null)o.user_uri=h.substring(0,l)}else o.no_script_path=1;return o}};c("Arbiter").subscribe("pre_page_transition",function(n,o){i=true;h=o.to.getUnqualifiedURI().toString()});f.exports=b.ScriptPathState=m}),null);
__d("AjaxPipeRequest",["invariant","Arbiter","AsyncRequest","AsyncRequestConfig","BigPipe","ContextualComponent","CSS","DOM","Env","PageEvents","PageletSet","PageNavigationStageLogger","ScriptPathState","URI","containsNode","ge","goOrReplace","PageletGK","performanceAbsoluteNow","performance"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("PageletGK").destroyDomAfterEventHandler,j=void 0,k=0;function l(o,p){__p&&__p();var q=c("ge")(o);if(!q)return;if(!p)q.style.minHeight="100px";var r=c("PageletSet").getPageletIDs();for(var s=0;s<r.length;s++){var t=r[s];if(c("containsNode")(q,c("ge")(t))&&c("PageletSet").hasPagelet(t))c("PageletSet").removePagelet(t)}c("Arbiter").inform(c("PageEvents").AJAXPIPE_ONBEFORECLEARCANVAS,{canvasID:o});function u(v){var w=c("ContextualComponent").forNode(v);if(w)w.unmount();c("DOM").empty(v)}if(i){c("Arbiter").inform("pagelet/destroy",{id:null,root:q});u(q)}else{u(q);c("Arbiter").inform("pagelet/destroy",{id:null,root:q})}}function m(o,p){var q=c("ge")(o);if(q&&!p)q.style.minHeight="100px"}function n(o,p){"use strict";__p&&__p();this._allowIrrelevantRequests=false;this._uri=o;this._query_data=p;this._request=new(c("AsyncRequest"))();this._request.disableInteractionServerTracing();this._canvas_id=null;this._allow_cross_page_transition=true;this._arbiter=new(c("Arbiter"))();this._requestID=k++}n.prototype.getArbiter=function(){"use strict";return this._arbiter};n.prototype.setCanvasId=function(o){"use strict";this._canvas_id=o;return this};n.prototype.setURI=function(o){"use strict";this._uri=o;return this};n.prototype.setData=function(o){"use strict";this._query_data=o;return this};n.prototype.getData=function(){"use strict";return this._query_data};n.prototype.setAllowCrossPageTransition=function(o){"use strict";this._allow_cross_page_transition=o;return this};n.prototype.setAppend=function(o){"use strict";this._append=o;return this};n.prototype._getAsyncRequestType=function(){"use strict";if(c("AsyncRequestConfig").useFetchStreamAjaxPipeTransport)return"useFetchWithIframeFallback";return"useIframeTransport"};n.prototype.send=function(){"use strict";__p&&__p();this._arbiter.inform(c("PageEvents").AJAXPIPE_SEND,{rid:this._requestID,quickling:!!this._isQuickling,ts:c("performanceAbsoluteNow")()},c("Arbiter").BEHAVIOR_PERSISTENT);var o={ajaxpipe:1,ajaxpipe_token:c("Env").ajaxpipe_token};Object.assign(o,c("ScriptPathState").getParams());c("ScriptPathState").reset();var p=this._request;if(p==null)return this;var q=this._uri;if(q==null)return this;p.setOption(this._getAsyncRequestType(),true).setURI(q).setData(Object.assign(o,this._query_data)).setPreBootloadHandler(this._preBootloadHandler.bind(this)).setInitialHandler(this._onInitialResponse.bind(this)).setHandler(this._onResponse.bind(this)).setMethod("GET").setReadOnly(true).setAllowCrossPageTransition(this._allow_cross_page_transition).setAllowIrrelevantRequests(this._allowIrrelevantRequests);if(this._automatic)this._relevantRequest=j;else j=this._request;if(this._isQuickling){var r=c("performance").clearResourceTimings||c("performance").webkitClearResourceTimings;if(r)r.call(c("performance"))}p.send();return this};n.prototype._preBootloadFirstResponse=function(o){"use strict";return false};n.prototype._fireDomContentCallback=function(){"use strict";this._arbiter.inform(c("PageEvents").AJAXPIPE_DOMREADY,true,c("Arbiter").BEHAVIOR_STATE)};n.prototype._fireOnloadCallback=function(){"use strict";if(window.console&&console.timeStamp)console.timeStamp('perf_trace {"name": "e2e", "parent": "PageEvents.AJAXPIPE_ONLOAD"}');this._arbiter.inform(c("PageEvents").AJAXPIPE_ONLOAD,{lid:this.pipe.lid,rid:this._requestID,ts:c("performanceAbsoluteNow")()},c("Arbiter").BEHAVIOR_STATE)};n.prototype._isRelevant=function(o){"use strict";return this._request===j||this._automatic&&this._relevantRequest===j||this._jsNonBlock||j!=null&&j.getAllowIrrelevantRequests()};n.prototype._preBootloadHandler=function(o){"use strict";__p&&__p();var p=this._request,q=o.getPayload();if(!q||q.redirect||!this._isRelevant(o))return false;var r=false;if(o.is_first){if(!this._append&&!this._displayCallback&&this._canvas_id!=null)l(this._canvas_id,this._constHeight);r=this._preBootloadFirstResponse(o);p!=null||h(0);this.pipe=new(c("BigPipe"))({config:q.bigPipeConfig,arbiter:this._arbiter,rootNodeID:this._canvas_id,lid:p.lid,rid:this._requestID,isAjax:true,domContentCallback:this._fireDomContentCallback.bind(this),onloadCallback:this._fireOnloadCallback.bind(this),domContentEvt:c("PageEvents").AJAXPIPE_DOMREADY,onloadEvt:c("PageEvents").AJAXPIPE_ONLOAD,jsNonBlock:this._jsNonBlock,automatic:this._automatic,displayCallback:this._displayCallback,allowIrrelevantRequests:this._allowIrrelevantRequests})}return r};n.prototype._redirect=function(o){"use strict";__p&&__p();if(o.redirect){if(o.force||!this.isPageActive(o.redirect)){var p=["ajaxpipe","ajaxpipe_token"].concat(this.getSanitizedParameters());c("PageNavigationStageLogger").setCookieForNavigation(o.redirect);c("PageNavigationStageLogger").setNote("ajaxpipe_redirect");c("PageNavigationStageLogger").updateCookie();c("goOrReplace")(window.location,new(c("URI"))(o.redirect).removeQueryData(p),true)}else{var q=b.PageTransitions;q.go(o.redirect,true)}return true}else return false};n.prototype.isPageActive=function(o){"use strict";return true};n.prototype.getSanitizedParameters=function(){"use strict";return[]};n.prototype._versionCheck=function(o){"use strict";return true};n.prototype._onInitialResponse=function(o){"use strict";var p=o.getPayload();if(!this._isRelevant(o))return false;if(!p)return true;if(this._redirect(p)||!this._versionCheck(p))return false;return true};n.prototype._processFirstResponse=function(o){"use strict";var p=o.getPayload(),q=c("ge")(this._canvas_id),r=p.canvas_class;if(q!=null&&r!=null)c("CSS").setClass(q,r)};n.prototype.setFirstResponseCallback=function(o){"use strict";this._firstResponseCallback=o;return this};n.prototype.setFirstResponseHandler=function(o){"use strict";this._processFirstResponse=o;return this};n.prototype._onResponse=function(o){"use strict";__p&&__p();var p=o.payload;if(!this._isRelevant(o))return c("AsyncRequest").suppressOnloadToken;if(o.is_first){this._processFirstResponse(o);this._firstResponseCallback&&this._firstResponseCallback();p.provides=p.provides||[];p.provides.push("uipage_onload")}if(p){if("content"in p.content&&this._canvas_id!==null){if(this._append)p.append=this._canvas_id;var q=p.content.content;delete p.content.content;p.content[this._canvas_id]=q}this.pipe.onPageletArrive(p)}if(o.is_last&&this._canvas_id!=null)m(this._canvas_id,this._constHeight);return c("AsyncRequest").suppressOnloadToken};n.prototype.setNectarModuleDataSafe=function(o){"use strict";if(this._request!=null)this._request.setNectarModuleDataSafe(o);return this};n.prototype.setFinallyHandler=function(o){"use strict";if(this._request!=null)this._request.setFinallyHandler(o);return this};n.prototype.setErrorHandler=function(o){"use strict";if(this._request!=null)this._request.setErrorHandler(o);return this};n.prototype.setTransportErrorHandler=function(o){"use strict";if(this._request!=null)this._request.setTransportErrorHandler(o);return this};n.prototype.setResetHandler=function(o){"use strict";this._resetHandler=o;return this};n.prototype.abort=function(){"use strict";if(this._request!=null)this._request.abort();this._reset();return this};n.prototype.abandon=function(){"use strict";if(this._request!=null)this._request.abandon();this._reset();return this};n.prototype._reset=function(){"use strict";if(j==this._request)j=null;this._request=null;this._resetHandler&&this._resetHandler()};n.prototype.setJSNonBlock=function(o){"use strict";this._jsNonBlock=o;return this};n.prototype.setAutomatic=function(o){"use strict";this._automatic=o;return this};n.prototype.setDisplayCallback=function(o){"use strict";this._displayCallback=o;return this};n.prototype.setConstHeight=function(o){"use strict";this._constHeight=o;return this};n.prototype.setAllowIrrelevantRequests=function(o){"use strict";this._allowIrrelevantRequests=o;return this};n.prototype.getAsyncRequest=function(){"use strict";return this._request};n.getCurrentRequest=function(){"use strict";return j};n.setCurrentRequest=function(o){"use strict";j=o};f.exports=n}),null);
__d("UIPageletContentCache",[],(function a(b,c,d,e,f,g){var h={cache:{},getContent:function i(j){if(j in this.cache)return this.cache[j];return null},setContent:function i(j,k){this.cache[j]=k}};f.exports=h}),null);
__d("UIPagelet",["ActorURI","AjaxPipeRequest","AsyncRequest","DOM","HTML","ScriptPathState","UIPageletContentCache","URI","emptyFunction","ge","isElementNode"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k){"use strict";__p&&__p();var l=i&&c("isElementNode")(i)?i.id:i;this._id=l||null;this._element=c("ge")(i||c("DOM").create("div"));this._src=j||null;this._context_data=k||{};this._data={};this._handler=c("emptyFunction");this._request=null;this._use_ajaxpipe=false;this._use_post_request=false;this._is_bundle=true;this._allow_cross_page_transition=false;this._append=false;this._cache_content=false;this._content_cache_key=""}h.prototype.getElement=function(){"use strict";return this._element};h.prototype.setHandler=function(i){"use strict";this._handler=i;return this};h.prototype.go=function(i,j){"use strict";if(arguments.length>=2||typeof i=="string"){this._src=i;this._data=j||{}}else if(arguments.length==1)this._data=i;this.refresh();return this};h.prototype.setAllowCrossPageTransition=function(i){"use strict";this._allow_cross_page_transition=i;return this};h.prototype.setBundleOption=function(i){"use strict";this._is_bundle=i;return this};h.prototype.setErrorHandler=function(i){"use strict";this._errorHandler=i;return this};h.prototype.setTransportErrorHandler=function(i){"use strict";this.transportErrorHandler=i;return this};h.prototype.refresh=function(){"use strict";__p&&__p();if(this._use_ajaxpipe){c("ScriptPathState").setIsUIPageletRequest(true);this._request=new(c("AjaxPipeRequest"))();this._request.setCanvasId(this._id).setAppend(this._append).setConstHeight(this._constHeight).setJSNonBlock(this._jsNonblock).setAutomatic(this._automatic).setDisplayCallback(this._displayCallback).setFinallyHandler(this._finallyHandler);if(this._errorHandler)this._request.setErrorHandler(this._errorHandler);if(this.transportErrorHandler)this._request.setTransportErrorHandler(this.transportErrorHandler);if(this._allowIrrelevantRequests!=null)this._request.setAllowIrrelevantRequests(this._allowIrrelevantRequests)}else{if(this._cache_content){var i=c("UIPageletContentCache").getContent(this._content_cache_key);if(i!==null){this.handleContent(i);return this}}var j=function(n){this._request=null;var o=c("HTML")(n.getPayload());this.handleContent(o);if(this._cache_content)c("UIPageletContentCache").setContent(this._content_cache_key,o)}.bind(this),k=this._displayCallback,l=this._finallyHandler;this._request=new(c("AsyncRequest"))().setMethod("GET").setReadOnly(true).setOption("bundle",this._is_bundle).setHandler(function(n){if(k)k(j.bind(null,n));else j(n);l&&l()});if(this._errorHandler)this._request.setErrorHandler(this._errorHandler);if(this.transportErrorHandler)this._request.setTransportErrorHandler(this.transportErrorHandler);if(this._use_post_request)this._request.setMethod("POST")}var m=babelHelpers["extends"]({},this._context_data,this._data);if(this._actorID)m[c("ActorURI").PARAMETER_ACTOR]=this._actorID;this._request.setURI(this._src).setAllowCrossPageTransition(this._allow_cross_page_transition).setData({data:JSON.stringify(m)}).send();return this};h.prototype.handleContent=function(i){"use strict";if(this._append)c("DOM").appendContent(this._element,i);else c("DOM").setContent(this._element,i);this._handler()};h.prototype.cancel=function(){"use strict";if(this._request)this._request.abort()};h.prototype.abandon=function(){"use strict";if(this._request)this._request.abandon()};h.prototype.setUseAjaxPipe=function(i){"use strict";this._use_ajaxpipe=!!i;return this};h.prototype.setUsePostRequest=function(i){"use strict";this._use_post_request=!!i;return this};h.prototype.setAppend=function(i){"use strict";this._append=!!i;return this};h.prototype.setJSNonBlock=function(i){"use strict";this._jsNonblock=!!i;return this};h.prototype.setAutomatic=function(i){"use strict";this._automatic=!!i;return this};h.prototype.setDisplayCallback=function(i){"use strict";this._displayCallback=i;return this};h.prototype.setConstHeight=function(i){"use strict";this._constHeight=!!i;return this};h.prototype.setFinallyHandler=function(i){"use strict";this._finallyHandler=i;return this};h.prototype.setAllowIrrelevantRequests=function(i){"use strict";this._allowIrrelevantRequests=i;return this};h.prototype.setActorID=function(i){"use strict";this._actorID=i;return this};h.prototype.setCacheContent=function(i){"use strict";this._cache_content=i;return this};h.prototype.setContentCacheKey=function(i){"use strict";this._content_cache_key=i;return this};h.appendToInline=function(i,j){"use strict";var k=c("ge")(i),l=c("ge")(j);if(k&&l){while(l.firstChild)c("DOM").appendContent(k,l.firstChild);c("DOM").remove(l)}};h.loadFromEndpoint=function(i,j,k,l){"use strict";__p&&__p();l=l||{};var m="/ajax/pagelet/generic.php/"+i;if(l.intern)m="/intern"+m;var n=new(c("URI"))(m.replace(/\/+/g,"/"));if(l.subdomain)n.setSubdomain(l.subdomain);var o=false,p="";if(l.contentCacheKey){o=true;p=i+","+String(l.contentCacheKey)}var q=new h(j,n,k).setUseAjaxPipe(l.usePipe).setBundleOption(l.bundle!==false).setAppend(l.append).setJSNonBlock(l.jsNonblock).setAutomatic(l.automatic).setDisplayCallback(l.displayCallback).setConstHeight(l.constHeight).setAllowCrossPageTransition(l.crossPage).setFinallyHandler(l.finallyHandler||c("emptyFunction")).setErrorHandler(l.errorHandler).setTransportErrorHandler(l.transportErrorHandler).setAllowIrrelevantRequests(l.allowIrrelevantRequests).setActorID(l.actorID).setCacheContent(o).setContentCacheKey(p).setUsePostRequest(l.usePostRequest);l.handler&&q.setHandler(l.handler);q.go();return q};h.loadFromEndpointBatched=function(i,j,k){"use strict";__p&&__p();var l=i.slice(0,k),m=i.slice(k);if(m.length>0){var n=l[l.length-1],o=c("emptyFunction");if(n.options&&n.options.finallyHandler)o=n.options.finallyHandler;n.options=babelHelpers["extends"]({},n.options,{finallyHandler:function p(){o();window.setTimeout(function(){h.loadFromEndpointBatched(m,j,k)},1)}})}l.forEach(function(p){h.loadFromEndpoint(p.controller,p.target_element,p.data,babelHelpers["extends"]({},p.options,j,{bundle:true}))})};f.exports=h}),null);
__d("once",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j){var k=i(j);for(var l in j)if(Object.prototype.hasOwnProperty.call(j,l))k[l]=j[l];return k}function i(j){var k=j,l=void 0,m=function m(){if(k){l=k.apply(this,arguments);k=null}return l};return m}f.exports=h}),null);
__d("NotificationServerTransport",["invariant","DOM","UIPagelet","compactArray","ifRequired","normalizeNotificationUpdatePayload","objectValues","once","promiseFinally","setImmediateAcrossTransitions","uniqueID"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={},j={},k={},l={};function m(w){if(l[w]==null){l[w]=c("DOM").create("div",{"class":"hidden_elem",id:w});c("DOM").appendContent(document.documentElement,l[w])}return l[w].id}function n(w){return w.reduce(function(x,y){var z=y.targetNumToLoad;return Math.max(x,z)},0)}function o(w,x,y,z){var A=i[x];if(!A||A.clientRequestID!==w)return;A.calls.forEach(function(B){var C=B.onError;if(C)C(z)})}function p(w,x){__p&&__p();var y=x.getHash(),z=i[y];if(!z||z.clientRequestID!==w)return;delete i[y];z.calls.forEach(function(A){var B=A.onCompleted;if(B)B()});if(j[y]!=null)q(x)}function q(w){__p&&__p();var x=w.getHash();if(k[x]!=null)return;k[x]=c("setImmediateAcrossTransitions")(function(){__p&&__p();delete k[x];var y=c("uniqueID")(),z=j[x];delete j[x];if(z==null)return;var A=n(z),B=w.getRequestParams(A);if(B.length<=0){z.forEach(function(F){var G=F.onCompleted;if(G)G()});return}var C=o.bind(this,y,x,w),D=w.getStreamingTransportPageletName();D!=null||h(0);var E=c("UIPagelet").loadFromEndpoint(D,m(y),babelHelpers["extends"]({},B,{clientRequestID:y}),{allowIrrelevantRequests:true,automatic:false,crossPage:true,errorHandler:C,jsNonblock:true,transportErrorHandler:C,usePipe:true,usePostRequest:false});i[x]={calls:z,clientRequestID:y,endpointState:w,transport:E}}.bind(this))}var r={makeRequest:function w(x,y,z){__p&&__p();var A=z.onChunkResponse,B=z.onCompleted,C=z.onError,D=x.getHash(),E={onChunkResponse:A,onCompleted:B,onError:C,targetNumToLoad:y};v(D);var F=i[D],G=F?n(F.calls)>=y:false;if(G){F!=null||h(0);F.calls.push(E)}else{if(j[D]==null)j[D]=[];j[D].push(E);if(F==null)q(x)}return{remove:function H(){__p&&__p();var F=i[D];if(F!=null){var I=F.calls.indexOf(E);if(I!==-1)F.calls.splice(I,1);if(F.calls.length===0){if(F.transport)F.transport.abandon();delete i[D];if(j[D]!=null)q(x)}}var J=j[D];if(J!=null){var K=J.indexOf(E);if(K!==-1)J.splice(K,1)}}}},handleResponseChunk:function w(x,y){var z=s(x);z.forEach(function(A){A(c("normalizeNotificationUpdatePayload")(y))})},handleRequestCompleted:function w(x){var y=c("objectValues")(i).find(function(y){return y&&y.clientRequestID===x});y||h(0);p(x,y.endpointState)}};function s(w){__p&&__p();var x=Object.keys(i).find(function(B){var C=i[B];return C&&C.clientRequestID===w}),y=x&&i[x];if(!y||!x)return[];var z=y.calls,A=j[x];if(A)z=z.concat(A);return c("compactArray")(z.map(function(B){return B.onChunkResponse}))}function t(w,x){__p&&__p();var y=x.targetNumToLoad,z=x.endpointState,A=x.payloadPromise;if(i[w]!=null)return;var B=c("uniqueID")(),C={calls:[{targetNumToLoad:y}],clientRequestID:B,endpointState:z};i[w]=C;A||h(0);var D=A.then(function(E){var F=s(B);F.forEach(function(G){G(E)})});c("promiseFinally")(D,function(){p(B,z)}).done()}var u=function u(w){c("ifRequired")("NotificationEagerLoader",function(x){var y=x.eagerlyLoadedData;if(y.hasData&&w===y.endpointState.getHash())t(w,y)})},v=c("once")(u);f.exports=r}),null);
__d("NotificationServerTransportLegacy",["AsyncRequest","normalizeNotificationUpdatePayload"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={makeRequest:function i(j,k,l){__p&&__p();var m=l.onError,n=l.onChunkResponse,o=l.onCompleted,p=true;function q(u){if(!p)return;var v=c("normalizeNotificationUpdatePayload")(u.getPayload());try{n(v)}finally{o()}}function r(u){if(!p)return;if(m)m(u)}var s=j.getRequestParams(k);if(s.length<=0){o();return{remove:function u(){}}}var t=new(c("AsyncRequest"))(j.endpointURI).setAllowCrossPageTransition(true).setData(s).setErrorHandler(r).setTransportErrorHandler(r).setHandler(q);t.send();return{remove:function u(){p=false;t.abandon()}}}};f.exports=h}),null);
__d("createObjectBy",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k={};for(var l=0;l<i.length;l++){var m=i[l],n=j(m,l,i);k[n]=m}return k}f.exports=h}),null);
__d("distinctArrayBy",["Set"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j){return j}function i(j){__p&&__p();var k=arguments.length<=1||arguments[1]===undefined?h:arguments[1],l=[],m=new(c("Set"))();for(var n=j,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q,s=k(r);if(!m.has(s)){m.add(s);l.push(r)}}return l}f.exports=i}),null);
__d("sortBy",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){__p&&__p();var k=i.map(function(l,m){return{index:m,sortValue:j(l),value:l}});k.sort(function(l,m){var n=l.sortValue,o=m.sortValue;if(n>o)return 1;if(n<o)return-1;return l.index-m.index});return k.map(function(l){return l.value})}f.exports=h}),null);
__d("NotificationStore",["ErrorUtils","NotificationConstants","NotificationEndpointState","NotificationListConfig","NotificationsDefaultEndpointURI","NotificationServerTransport","NotificationServerTransportLegacy","NotificationUpdates","QE2Logger","createObjectBy","distinctArrayBy","flatMapArray","objectValues","sortBy","sprintf"],(function a(b,c,d,e,f,g){__p&&__p();var h={};function i(n,o,p){return n.page_info!=null&&o.classification==p.classification&&o.endpointURI===p.endpointURI&&o.readness==p.readness}function j(n,o){__p&&__p();var p={};c("NotificationEndpointState").getAllInstances(o.endpointURI).forEach(function(q){__p&&__p();var r=void 0;if(i(n,q,o)){q.graphQLPageInfo=n.page_info;r=n}else if(n.payloadsource===c("NotificationConstants").PayloadSourceType.SYNC&&o.endpointURI===c("NotificationsDefaultEndpointURI")&&q.classification==null&&q.readness==null)r=n;else r=babelHelpers["extends"]({},n,{nodes:n.nodes?n.nodes.filter(function(t){return k(t,q)}):undefined});if(r.nodes&&r.nodes.length>0){var s=l(q,r);if(s!=null)s.forEach(function(t){p[t]=true})}});c("NotificationUpdates").didUpdateNotifications(Object.keys(p))}function k(n,o){__p&&__p();var p=o.classification,q=o.notifications,r=o.order,s=o.readness,t=r.getAllResources();t.length===0;if(t.length>0){var u=t[0],v=q.getResource(u);if(v.creation_time>=n.creation_time)return false}if(p&&(!n.classifications||!n.classifications.includes(p)))return false;if(s&&s==="SEEN_AND_READ"!==(n.seen_state==="SEEN_AND_READ"))return false;return true}function l(n,o){__p&&__p();var p=[],q={};if(o.nodes&&o.nodes.length>0)o.nodes.forEach(function(r){var s=r.alert_id,t=n.notifications.getResource(s);if(!t||t.creation_time<r.creation_time){p.push(s);q[s]=r}});n.notifications.addResourcesAndExecute(q);n.order.addResources(p);return p}c("NotificationUpdates").subscribe("update-notifications",function(n,o){if(o.payloadsource!==c("NotificationConstants").PayloadSourceType.ENDPOINT)j(o,{endpointURI:o.endpoint!=null?o.endpoint:c("NotificationsDefaultEndpointURI")})});var m={getNotifications:function n(o,p,q){__p&&__p();var r=c("NotificationEndpointState").getInstance(p),s=r.notifications,t=r.order,u=void 0,v=t.executeOrEnqueue(0,o,function(E){if(q){u=s.executeOrEnqueue(E,q);var F=s.getUnavailableResources(u);if(F.length>0)c("ErrorUtils").reportError(new Error(c("sprintf")("The range for this endpoint contained notification IDs for which we have no payload (Notification IDs: `%s`. Endpoint config: `%s`).",JSON.stringify(F),JSON.stringify(r.getConfig()))))}});function w(){t.unsubscribe(v);if(u)s.unsubscribe(u)}if(t.getUnavailableResources(v).length===0)return{remove:w};if(!m.canFetchMore(p)){t.forceRunCallbacks();return{remove:w}}var x=r.getHash();if(h[x]==null)h[x]=1;else h[x]++;function y(){h[x]--;if(h[x]===0)t.forceRunCallbacks()}function z(E){if(!(E&&E.nodes))return;c("NotificationUpdates").handleUpdate(c("NotificationConstants").PayloadSourceType.ENDPOINT,E,p.readness,p.classification);j(babelHelpers["extends"]({},E,{payloadsource:c("NotificationConstants").PayloadSourceType.ENDPOINT}),p)}function A(){h[x]--;if(h[x]===0)t.forceRunCallbacks()}var B=void 0;if(c("NotificationListConfig").useStreamingTransport&&r.getStreamingTransportPageletName()!=null)B=c("NotificationServerTransport");else B=c("NotificationServerTransportLegacy");if(p.endpointURI===c("NotificationsDefaultEndpointURI"))c("QE2Logger").logExposureForUser("www_notifications_perf_h2_2017");var C=B.makeRequest(r,o,{onChunkResponse:z,onCompleted:A,onError:y}),D=C.remove;return{remove:function E(){w();D()}}},getNotification:function n(o){var p=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],q=p.classification,r=p.endpointURI,s=r===undefined?c("NotificationsDefaultEndpointURI"):r,t=p.readness,u=c("NotificationEndpointState").getInstance({classification:q,endpointURI:s,readness:t}),v=u.notifications;return v.getResource(o)},getAllForAllEndpoints:function n(){var o=c("NotificationEndpointState").getAllInstances(),p=c("flatMapArray")(o,function(t){var u=this.getAll(t.getConfig());return c("objectValues")(u)}.bind(this)),q=c("sortBy")(p,function(t){return t.creation_time}),r=q.reverse(),s=c("distinctArrayBy")(r,function(t){return t.alert_id});return c("createObjectBy")(s,function(t){return t.alert_id})},getAll:function n(o){var p=c("NotificationEndpointState").getInstance(o),q=p.notifications,r=p.order,s={};r.getAllResources().forEach(function(t){var u=q.getResource(t);if(u==null)c("ErrorUtils").reportError(new Error(c("sprintf")("The range for this endpoint contained a notification ID for which we have no payload (Notification ID: `%s`. Endpoint config: `%s`).",t,JSON.stringify(o))));else s[t]=u});return s},getCount:function n(o){var p=c("NotificationEndpointState").getInstance(o);return p.order.getAllResources().length},canFetchMore:function n(o){var p=c("NotificationEndpointState").getInstance(o),q=p.graphQLPageInfo;return!q||!Object.prototype.hasOwnProperty.call(q,"has_next_page")||q.has_next_page},registerEndpoint:function n(o){c("NotificationEndpointState").getInstance(o)}};m.registerEndpoint({endpointURI:c("NotificationsDefaultEndpointURI")});f.exports=m}),null);
__d("isInFocusMode",["WorkFocusModeController"],(function a(b,c,d,e,f,g){var h=c("WorkFocusModeController").WorkFocusMode,i=function i(j){return!!(h&&h.currentViewerInFocusMode(j))};f.exports=i}),null);
__d("NotificationJewelController",["Arbiter","Bootloader","Event","EventProfiler","FunnelLogger","NotificationConstants","NotificationCounter","NotificationJewelFunnelLoggingConstants","NotificationSeenState","NotificationStore","NotificationUpdates","createObjectFrom","curry","isInFocusMode","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("NotificationConstants").PayloadSourceType,i=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_NAME,j=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_EVENT,k=0,l=false;function m(o){var p=c("isInFocusMode")(),q=c("NotificationSeenState").getUnseenCount();c("Arbiter").inform("jewel/count-updated",{jewel:o,count:p?0:q,animation:!p&&l&&q>0?"heart":"none"},c("Arbiter").BEHAVIOR_STATE)}function n(o,p){"use strict";__p&&__p();var q=p.badgeAnimationData,r=p.endPoint,s=p.list,t=p.startTime,u=p.unseenNotifs;if(r)c("NotificationStore").registerEndpoint({endpointURI:r});c("NotificationCounter").init();var v=false,w=null,x=c("Event").listen(o.getRoot(),"mouseover",function(){if(!v){v=true;w=c("EventProfiler").notifyRunningEagerInteraction(["Notifications_Jewel_Button"],"click")}c("FunnelLogger").startFunnel(i);x&&x.remove();x=null;s.open();c("FunnelLogger").appendAction(i,j.MOUSE_OVER_ON_JEWEL)}),y=null;c("Event").listen(o.getRoot(),"mouseover",function(){y=c("setTimeoutAcrossTransitions")(function(){c("Bootloader").loadModules(["QE2Logger"],function(C){C.logExposureForUser("www_jewel_tooltip_experiment")},"NotificationJewelController");y=null},500)});c("Event").listen(o.getRoot(),"mouseout",function(){if(y)clearTimeout(y)});var z=false,A=o.subscribe("opened",function(){if(!z){z=true;c("EventProfiler").tagCurrentActiveInteractionsAs("FirstNotificationJewelOpen")}if(w)w();A&&A.unsubscribe();A=null;s.open()}),B=s.pause.bind(s);o.subscribe("opened",function(){setTimeout(B,0);m(o.name);c("Bootloader").loadModules(["NotificationVPVs"],function(C){return C.clearImpressions()},"NotificationJewelController");c("Arbiter").inform("notificationJewel/opened")});o.subscribe("closed",function(){s.unpause();m(o.name);c("Arbiter").inform("notificationJewel/closed")});c("NotificationUpdates").subscribe("seen-state-updated",c("curry")(m,o.name));if(q){if(q.logWithQEUniverse)c("Bootloader").loadModules(["QE2Logger"],function(C){return C.logExposureForUser(q.logWithQEUniverse)},"NotificationJewelController");if(q.injectWithAnimation)c("Bootloader").loadModules(["RelationshipDelightsBadge"],function(C){return C.inject(o,q.injectWithAnimation)},"NotificationJewelController");c("Bootloader").loadModules(["RelationshipDelightUtils"],function(C){__p&&__p();c("NotificationUpdates").subscribe("update-notifications",function(D,E){var F=E.nodes,G=E.payloadsource,H=F&&F.length?F.filter(C.shouldHeartBadge):null;if(H&&H.length){l=true;if(q.injectWithAnimation)if(G===h.INITIAL_LOAD||G===h.INITIAL_SEND)C.logBadgeAnimation(H[0].alert_id)}else l=false});if(q.logWithAlertID)C.logBadgeAnimation(q.logWithAlertID)},"NotificationJewelController")}c("NotificationUpdates").handleUpdate(h.INITIAL_LOAD,{seenState:c("createObjectFrom")(u,k)});m(o.name);c("NotificationUpdates").setEndPoint(r)}f.exports=n}),null);
__d("NotificationGenericBucket",["NotificationSeenState"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$NotificationGenericBucket2=[];this.$NotificationGenericBucket3={};this.$NotificationGenericBucket4={};this.$NotificationGenericBucket7=function(j,k){var l=this.$NotificationGenericBucket4[j],m=this.$NotificationGenericBucket4[k];return Number(m)-Number(l)}.bind(this);this.$NotificationGenericBucket1=i}h.prototype.reset=function(){this.$NotificationGenericBucket2=[];this.$NotificationGenericBucket3={};this.$NotificationGenericBucket4={}};h.prototype.getType=function(){return this.$NotificationGenericBucket1.bucket_type};h.prototype.getTitle=function(){return this.$NotificationGenericBucket1.title};h.prototype.getSortedIDs=function(){return this.$NotificationGenericBucket2.slice()};h.prototype.insertIfEligible=function(i){var j=this.$NotificationGenericBucket5(i);if(!j.eligible)return j;this.$NotificationGenericBucket6(i);return{eligible:true}};h.prototype.remove=function(i){if(!this.$NotificationGenericBucket3[i])return false;delete this.$NotificationGenericBucket3[i];delete this.$NotificationGenericBucket4[i];var j=this.$NotificationGenericBucket2.indexOf(i);j>-1&&this.$NotificationGenericBucket2.splice(j,1);return true};h.prototype.$NotificationGenericBucket6=function(i){__p&&__p();var j=i.alert_id;if(this.$NotificationGenericBucket3[j])return true;this.$NotificationGenericBucket2.push(j);this.$NotificationGenericBucket3[j]=true;var k=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.sort_key_index);if(k>-1){var l=i.sort_keys?i.sort_keys[k]:null;if(l){this.$NotificationGenericBucket4[j]=l;this.$NotificationGenericBucket9()}}return true};h.prototype.$NotificationGenericBucket9=function(){this.$NotificationGenericBucket2.sort(this.$NotificationGenericBucket7)};h.prototype.$NotificationGenericBucket5=function(i){__p&&__p();if(!this.$NotificationGenericBucket10(i))return{eligible:false,type:"bucket",data:i.eligible_buckets};if(!this.$NotificationGenericBucket11(i))return{eligible:false,type:"exp_time"};if(!this.$NotificationGenericBucket12(i))return{eligible:false,type:"seen_filter"};if(!this.$NotificationGenericBucket13(i))return{eligible:false,type:"max_count"};if(!this.$NotificationGenericBucket14(i))return{eligible:false,type:"seen_evict",data:this.$NotificationGenericBucket15(i)};if(!this.$NotificationGenericBucket16(i))return{eligible:false,type:"read_evict"};return{eligible:true}};h.prototype.$NotificationGenericBucket8=function(i){return Number.isInteger(i)?Number(i):-1};h.prototype.$NotificationGenericBucket10=function(i){if(!i.eligible_buckets)return false;return i.eligible_buckets.includes(this.getType())};h.prototype.$NotificationGenericBucket12=function(i){return c("NotificationSeenState").validateFilter(i.alert_id,this.$NotificationGenericBucket1.seen_filter)};h.prototype.$NotificationGenericBucket11=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.min_to_expire);return j===-1?true:Date.now()-i.creation_time<j*60*1e3};h.prototype.$NotificationGenericBucket13=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.max_count);return j===-1?true:this.$NotificationGenericBucket2.length<j};h.prototype.$NotificationGenericBucket15=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.sec_to_evict_seen);return{secToEvict:j,firstTime:i.first_seen_time||0,currentTime:Date.now()/1e3}};h.prototype.$NotificationGenericBucket17=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.sec_to_evict_read);return{secToEvict:j,firstTime:i.first_read_time||0,currentTime:Date.now()/1e3}};h.prototype.$NotificationGenericBucket18=function(i){var j=i.secToEvict,k=i.firstTime,l=i.currentTime;return j===-1||k===0?true:l-k<j};h.prototype.$NotificationGenericBucket14=function(i){return this.$NotificationGenericBucket18(this.$NotificationGenericBucket15(i))};h.prototype.$NotificationGenericBucket16=function(i){return this.$NotificationGenericBucket18(this.$NotificationGenericBucket17(i))};h.prototype.$NotificationGenericBucket19=function(i){return true};f.exports=h}),null);
__d("NotificationBucketStore",["Arbiter","Banzai","JSLogger","NotificationConstants","NotificationGenericBucket","NotificationsBucketList","NotificationsDefaultEndpointURI","NotificationStore","NotificationUpdates"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("NotificationConstants").PayloadSourceType,i=[],j={},k={},l=[],m=false,n={},o={},p="notif_jewel_buckets",q=function q(){if(m)return;m=true;c("NotificationsBucketList").buckets.forEach(function(D){D.bucket_type=D.bucket_type.toUpperCase();var E=new(c("NotificationGenericBucket"))(D);i.push(E);j[E.getType()]=E});A()},r=function r(){l=i.map(function(D){return{ids:D.getSortedIDs(),title:D.getTitle()||"",bucketType:D.getType()}})},s=function s(D){__p&&__p();var E=D.alert_id;if(!n[E])n[E]=[];var F=[];for(var G=0,H=i.length;G<H;G++){var I=i[G],J=I.insertIfEligible(D);F.push({bucket:I.getType(),result:J});if(J.eligible){n[E].push(F);u(D,I);return I.getType()}}n[E].push(F);return null},t=function t(D,E){var F="PRIORITY_INBOX";if(!j[F]||E.getType()===F)return;var G=D.alert_id;if(o[G]||D.creation_time>Date.now()/1e3-60*60){var H=n[G],I=H[H.length-1]||[],J={notif_data:{alert_id:D.alert_id.split(":")[1],creation_time:D.creation_time,eligible_buckets:D.eligible_buckets,first_seen_time:D.first_seen_time,notif_type:D.notif_type,seen_state:D.seen_state,sort_keys:D.sort_keys},eviction_data:I,was_live_send:o[G]===true,priority_eviction_reason:I[0]?I[0].result.type:null};c("Banzai").post(p,{event_type:"bucketing_error",data:J})}},u=function u(D,E){k[D.alert_id]=E.getType();t(D,E)},v=function v(D,E){delete k[D.alert_id]},w=function w(D){var E=D.alert_id,F=x(E);if(F){var G=y(F);if(G){G.remove(E);v(D,G)}}s(D)},x=function x(D){return k[D]},y=function y(D){return j[D]},z=function z(){k={};i.forEach(function(D){return D.reset()});n={};r()},A=function A(){var D=c("NotificationStore").getAll({endpointURI:c("NotificationsDefaultEndpointURI")});B(Object.keys(D).map(function(E){return D[E]}))},B=function B(D){D.forEach(w);r()};c("NotificationUpdates").subscribe("update-notifications",function(D,E){__p&&__p();if(!E.nodes||E.nodes.length===0)return;if(E.payloadsource===h.LIVE_SEND){E.nodes.forEach(function(F){return o[F.alert_id]=true});z();A()}else if(E.nodes){E.nodes.forEach(function(F){return o[F.alert_id]=false});B(E.nodes)}});c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(D,E){E.notifs_bucket_data={bucketInfo:l,data:l.reduce(function(F,E){var G=E.ids.map(function(H){return{id:H,results:n[H]}});return[].concat(F,G)},[])}});q();var C={getBucketListData:function D(){return l},isEmptyBucketListData:function D(){var E=l.reduce(function(F,G){return F+G.ids.length},0);return E===0}};f.exports=C}),null);
__d("NotificationBucketUtils",["JSResource"],(function a(b,c,d,e,f,g){"use strict";var h={getCustomModuleForType:function i(j){switch(j){case"TICKER":return c("JSResource")("NotificationBucketTicker.react").__setRef("NotificationBucketUtils");default:return null}}};f.exports=h}),null);
__d("NotificationHiddenState",["NotificationConstants","NotificationUpdates","isEmpty"],(function a(b,c,d,e,f,g){__p&&__p();var h={};c("NotificationUpdates").subscribe("update-notifications",function(j,k){__p&&__p();var l,m=k.nodes,n=k.payloadsource;if(n===c("NotificationConstants").PayloadSourceType.LIVE_SEND&&m&&m.length)(function(){var o={};m.forEach(function(p){var q=p.alert_id;if(h[q])o[q]=false});if(!c("isEmpty")(o)){h=Object.assign(h,o);c("NotificationUpdates").didUpdateHiddenState(Object.keys(o))}})()});c("NotificationUpdates").subscribe("update-hidden",function(j,k){if(k.hiddenState){var l=k.hiddenState;h=Object.assign(h,l);c("NotificationUpdates").didUpdateHiddenState(Object.keys(l))}});var i={isHidden:function j(k){if(h[k])return h[k];return false}};f.exports=i}),null);
__d("NotificationTokens",["CurrentUser"],(function a(b,c,d,e,f,g){var h={tokenizeIDs:function i(j){return j.map(function(k){return c("CurrentUser").getID()+":"+k})},untokenizeIDs:function i(j){return j.map(function(k){return k.split(":")[1]})}};f.exports=h}),null);
__d("NotificationTracking",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={},j={getEncodedTrackingData:function k(l,m){return this._getTrackingInfo(l,m).encoded},getTrackingString:function k(l,m){return this._getTrackingInfo(l,m).raw},_getTrackingInfo:function k(l,m){var n=""+l.alert_id,o=i[n];if(o&&o.row===m)return o;var p=this._getEncodedTrackingDataWithRow(l,m);i[n]={row:m,encoded:p,raw:JSON.stringify(p)};return i[n]},_getTrackingAsObject:function k(l){var m=null,n=null;if(l.tracking)try{m=JSON.parse(l.tracking)}catch(o){n=o}if(m===null||n!==null||typeof m!=="object")h(0);return m},_getEncodedTrackingDataWithRow:function k(l,m){var n=this._getTrackingAsObject(l);if(m!="undefined"&&typeof m==="number")return babelHelpers["extends"]({},n,{row:m});return n}};f.exports=j}),null);
__d("NotificationOptionActionWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1420844941369152"};j.getQueryID=function(){"use strict";return"318967338567215"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("NotificationUserActions",["AsyncRequest","Bootloader","BusinessUserConf","CurrentUser","NotificationConstants","NotificationOptionActionWebGraphQLMutation","NotificationTokens","NotificationUpdates","WebGraphQL","createObjectFrom"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("NotificationConstants").PayloadSourceType.USER_ACTION,i=false;function j(m){if(c("BusinessUserConf").businessUserID!=null)m.biz_user_id=c("BusinessUserConf").businessUserID;new(c("AsyncRequest"))("/ajax/notifications/mark_read.php").setData(m).setAllowCrossPageTransition(true).send()}function k(m){var n={};m.forEach(function(o,p){n["alert_ids["+p+"]"]=o});return n}var l={markNotificationsAsSeen:function m(n){var o=document.getElementById("notificationsCountValue"),p=null;if(o)p=o.textContent;c("NotificationUpdates").handleUpdate(h,{seenState:c("createObjectFrom")(n)});var q=c("NotificationTokens").untokenizeIDs(n),r=k(q);r.seen=true;if(p)r.badgeCount=p;j(r)},setNextIsFromReadButton:function m(n){i=n},markNotificationsAsRead:function m(n,o){c("NotificationUpdates").handleUpdate(h,{readState:c("createObjectFrom")(n,true)});var p=c("NotificationTokens").untokenizeIDs(n),q=k(p);if(i){q.from_read_button=true;i=false}if(o)q.source_view=o;j(q)},markNotificationsAsUnread:function m(n,o){__p&&__p();c("NotificationUpdates").handleUpdate(h,{readState:c("createObjectFrom")(n,false)});var p=c("NotificationTokens").untokenizeIDs(n),q=k(p);if(i){q.from_read_button=true;i=false}q.unread=true;if(o)q.source_view=o;j(q)},markAllNotificationsAsRead:function m(){__p&&__p();c("Bootloader").loadModules(["NotificationSeenState"],function(n){var o=n.getUnreadIDs();if(o.length>0)c("NotificationUpdates").handleUpdate(h,{readState:c("createObjectFrom")(o)});var p={read:true};if(i){p.from_read_button=true;i=false}j(p)},"NotificationUserActions")},sendNotifOption:function m(n){return c("WebGraphQL").exec(new(c("NotificationOptionActionWebGraphQLMutation"))({input:{action_type:n,actor_id:c("CurrentUser").getID(),client_mutation_id:"0"}}))}};f.exports=l}),null);
__d("NotificationAsyncWrapper",["NotificationListConfig","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("NotificationListConfig").reactFiberAsyncNotifications?c("React").unstable_AsyncComponent:c("React").Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.prototype.render=function(){return this.props.children};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("NotificationAttachment.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.image;if(!l)return c("React").createElement("span",null);return c("React").createElement(c("Image.react"),{src:l.uri,className:"_42td","aria-hidden":true})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("Fragment.react",["React"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=i.children;return j}f.exports=h}),null);
__d("NotificationFooter.react",["cx","BizSiteIdentifier.brands","Fragment.react","Image.react","ImageBlock.react","React","Timestamp.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("BizSiteIdentifier.brands").isBizSite();i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.icon,o=m.metadata,p=m.shortenTimestamp,q=m.timestamp,r="_33f"+(k?" _2g48":""),s=n?c("React").createElement(c("Image.react"),{className:"_10cu",src:n.uri}):null,t=c("React").createElement(c("Timestamp.react"),babelHelpers["extends"]({className:"_33g",shorten:p},q));if(o)if(s)return c("React").createElement(c("ImageBlock.react"),{className:r},s,c("React").createElement(c("Fragment.react"),null,o," \xb7 ",t));else return c("React").createElement("div",{className:r},o," \xb7 ",t);else if(s)return c("React").createElement(c("ImageBlock.react"),{className:r},s,t);else return c("React").createElement("div",{className:r},t)};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("NotificationInterpolator",["Badge.react","React","TextWithEmoticons.react","WorkModeConfig"],(function a(b,c,d,e,f,g){function h(i,j){var k=null;if(!c("WorkModeConfig").is_in_solo_community&&(j.entity.is_viewer_coworker===false||j.entity.is_multi_company_group===true))k=c("React").createElement(c("Badge.react"),{type:"work_non_coworker"});if(typeof i==="string")i=c("React").createElement(c("TextWithEmoticons.react"),{text:i});return c("React").createElement("span",{className:"fwb"},i,k)}f.exports=h}),null);
__d("AccessibilityWebLogicalGridTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:AccessibilityWebLogicalGridLoggerConfig",this.$AccessibilityWebLogicalGridTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:AccessibilityWebLogicalGridLoggerConfig",this.$AccessibilityWebLogicalGridTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$AccessibilityWebLogicalGridTypedLogger1={};return this};h.prototype.updateData=function(j){this.$AccessibilityWebLogicalGridTypedLogger1=babelHelpers["extends"]({},this.$AccessibilityWebLogicalGridTypedLogger1,j);return this};h.prototype.setVC=function(j){this.$AccessibilityWebLogicalGridTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$AccessibilityWebLogicalGridTypedLogger1=babelHelpers["extends"]({},this.$AccessibilityWebLogicalGridTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={vc:true};f.exports=h}),null);
__d("LogicalGridController",["AccessibilityWebLogicalGridTypedLogger","immutable","mixInEventEmitter","RTLKeys","TabbableElements"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("immutable").Map,i=c("immutable").OrderedMap,j=c("immutable").Set;k.create=function(){var n=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];"use strict";return new k(l.createFromArray(n.map(function(o){return k.createRow(o)})))};k.createRow=function(){var n=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];"use strict";return m.createFromArray(n.map(function(o){return k.createCell(o)}))};k.createCell=function(n){"use strict";var o=n||{},p=o.refElement,q=o.disableFocusRecovery,r=q===undefined?false:q,s=o.isRowHeader,t=s===undefined?false:s,u=o.isTabbable,v=u===undefined?false:u;return{refElement:p,disableFocusRecovery:r,isRowHeader:t,isTabbable:v}};k.coordinatesAreEquivalent=function(n,o){"use strict";return n!=null&&o!=null&&n[0]===o[0]&&n[1]===o[1]};function k(n){"use strict";this.$LogicalGridController2=null;this.$LogicalGridController1=[0,0];this.$LogicalGridController3=n;this.$LogicalGridController5=null;this.$LogicalGridController6=false;this.$LogicalGridController7=h()}k.prototype.getGridMap=function(){"use strict";return this.$LogicalGridController3};k.prototype.getRowMap=function(n){"use strict";if(n!=null)return this.$LogicalGridController3.get(n);return null};k.prototype.getCellMap=function(n){"use strict";var o=n[0],p=n[1];if(o!=null&&p!=null){var q=this.$LogicalGridController3.get(o);if(q)return q.get(p)}return null};k.prototype.putRow=function(n){"use strict";__p&&__p();if(n!=null){var o=this.$LogicalGridController3.get(n);if(!o){o=k.createRow();var p=this.$LogicalGridController3;this.$LogicalGridController3=this.$LogicalGridController3.set(n,o);this.emit("rowPut",p,this.$LogicalGridController3,o,n)}}};k.prototype.putCell=function(n,o){"use strict";__p&&__p();var p=n[0],q=n[1];if(p!=null&&q!=null){var r=this.$LogicalGridController3;this.putRow(p);var s=this.getRowMap(p);if(s){var t=s.get(q);if(!t){t=k.createCell(o);this.$LogicalGridController3=this.$LogicalGridController3.setIn(n,t);this.emit("cellPut",r,this.$LogicalGridController3,t,n)}}}};k.prototype.activateCell=function(){"use strict";if(this.$LogicalGridController2){var n=this.getCellMap(this.$LogicalGridController2);this.emit("cellActivate",this.$LogicalGridController2,n)}};k.prototype.deactivateCell=function(){"use strict";this.emit("cellDeactivate")};k.prototype.focusCell=function(n){"use strict";__p&&__p();var o=void 0,p=false;if(this.$LogicalGridController2)o=this.getCellMap(this.$LogicalGridController2);else p=true;var q=this.getCellMap(n);if(q&&!this.isFocusedCoordinate(n)){if(o)this.emit("cellBlur",this.$LogicalGridController2,o);this.$LogicalGridController2=n;if(p)this.emit("manageFocus",true);var r=this.$LogicalGridController5;this.$LogicalGridController5=this.$LogicalGridController2;this.emit("cellFocus",n,r,q)}};k.prototype.$LogicalGridController8=function(n){__p&&__p();var o=arguments.length<=1||arguments[1]===undefined?function(){return true}:arguments[1];"use strict";var p=n[0],q=n[1],r=this.getGridMap();if(r.size===0)return n;if(!r.get(p)){var s=r.keySeq().filter(function(w){return r.get(w).filter(function(x){return o(x)}).size>0}).sort(),t=s.findLastIndex(function(w){return w<=p});p=s.get(t>=0?t:s.findIndex(function(w){return w>=p}))}if(!r.get(p).get(q)){var u=r.get(p).keySeq().filter(function(w){return o(r.get(p).get(w))}).sort(),v=u.findLastIndex(function(w){return w<=q});q=u.get(v>=0?v:u.findIndex(function(w){return w>=q}))}return[p,q]};k.prototype.$LogicalGridController9=function(n,o){__p&&__p();var p=arguments.length<=2||arguments[2]===undefined?function(){return true}:arguments[2],q=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";var r=this.getGridMap(),s=n[0],t=r.keySeq().filter(function(w){return r.get(w).filter(function(x){return p(x)}).size>0}).sort();if(q)if(o>0)return t.max();else return t.min();var u=void 0;if(o>0){u=t.findLastIndex(function(w){return w<=s});if(u===-1)u=0;else if(u!==t.size-1)u+=o}else{u=t.findIndex(function(w){return w>=s});if(u===-1)u=t.size-1;else if(u!==0)u+=o}var v=t.get(u);if(v===undefined)return null;return v};k.prototype.$LogicalGridController10=function(n,o){__p&&__p();var p=arguments.length<=2||arguments[2]===undefined?function(){return true}:arguments[2],q=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";var r=this.getGridMap(),s=n[0],t=n[1],u=r.get(s);if(u===undefined)return null;var v=u.keySeq().filter(function(y){return p(r.get(s).get(y))}).sort();if(q){if(o>0)return v.max();return v.min()}var w=void 0;if(o>0){w=v.findLastIndex(function(y){return y<=t});if(w===-1)w=0;else if(w!==v.size-1)w+=o;else return null}else{w=v.findIndex(function(y){return y>=t});if(w===-1)w=v.size-1;else if(w!==0)w+=o;else return null}var x=v.get(w);if(x===undefined)return null;return x};k.prototype.$LogicalGridController11=function(n,o){__p&&__p();var p=arguments.length<=2||arguments[2]===undefined?false:arguments[2];"use strict";var q=this.getFocusedCellCoordinate();if(!q)return false;var r=this.$LogicalGridController8(q),s=r[0],t=r[1],u=r[0],v=r[1],w=function w(C){return!p||C.isTabbable};if(o!==0){var x=this.$LogicalGridController10(r,o,w);if(x===null){var y=this.$LogicalGridController9(r,o,w);if(y!==s&&y!==null){x=this.$LogicalGridController10([y,t],-o,w,true);if(x!==null){s=y;t=x}}}else t=x}else if(n!==0){var z=this.$LogicalGridController9(r,n,w);if(z!==null){var A=this.$LogicalGridController8([z,t],w);s=A[0];t=A[1]}}var B=u!==s||v!==t;if(B){this.focusCell([s,t]);new(c("AccessibilityWebLogicalGridTypedLogger"))().log()}return B};k.prototype.$LogicalGridController12=function(n,o){"use strict";__p&&__p();var p=this.getFocusedCellCoordinate();if(!p)return false;var q=this.$LogicalGridController8(p),r=q[0],s=q[1],t=q[0],u=q[1];if(o)r=this.$LogicalGridController9(q,n,function(){return true},true);if(r!==null){var v=this.$LogicalGridController10([r,s],n,function(){return true},true);if(v!==null)s=v}else r=t;var w=t!==r||u!==s;if(w){this.focusCell([r,s]);new(c("AccessibilityWebLogicalGridTypedLogger"))().log()}return w};k.prototype.moveFocusLeft=function(){"use strict";return this.$LogicalGridController11(0,-1)};k.prototype.moveFocusRight=function(){"use strict";return this.$LogicalGridController11(0,1)};k.prototype.moveFocusUp=function(){"use strict";return this.$LogicalGridController11(-1,0)};k.prototype.moveFocusDown=function(){"use strict";return this.$LogicalGridController11(1,0)};k.prototype.moveFocusHome=function(n){"use strict";return this.$LogicalGridController12(-1,n)};k.prototype.moveFocusEnd=function(n){"use strict";return this.$LogicalGridController12(1,n)};k.prototype.tabFocusForward=function(){"use strict";return this.$LogicalGridController11(0,1,true)};k.prototype.tabFocusBackward=function(){"use strict";return this.$LogicalGridController11(0,-1,true)};k.prototype.recoverFocus=function(){"use strict";var n=this.$LogicalGridController6&&this.getLastFocusedCellCoordinate(),o=this.getFocusedCellCoordinate()||n||this.getDefaultCellCoordinate();this.focusCell(this.$LogicalGridController8(o))};k.prototype.isFocusedCoordinate=function(n){"use strict";return k.coordinatesAreEquivalent(n,this.getFocusedCellCoordinate())};k.prototype.isManagingFocus=function(){"use strict";return!!this.$LogicalGridController2};k.prototype.clearFocusedCell=function(){"use strict";__p&&__p();var n=!!this.$LogicalGridController2;if(this.$LogicalGridController2){var o=this.getCellMap(this.$LogicalGridController2);this.emit("cellBlur",this.$LogicalGridController2,o)}this.$LogicalGridController2=null;if(n)this.emit("manageFocus",false);this.deactivateCell()};k.prototype.clearLastFocusedCell=function(){"use strict";this.$LogicalGridController5=null};k.prototype.getFocusedCell=function(){"use strict";var n=this.$LogicalGridController2;if(n)return this.getCellMap(n);return null};k.prototype.getFocusedCellCoordinate=function(){"use strict";return this.$LogicalGridController2};k.prototype.getLastFocusedCellCoordinate=function(){"use strict";return this.$LogicalGridController5};k.prototype.preserveFocusCellCoordinate=function(n){"use strict";this.$LogicalGridController6=n};k.prototype.setGridRef=function(n){"use strict";this.$LogicalGridController4=n};k.prototype.getGridRef=function(){"use strict";return this.$LogicalGridController4};k.prototype.muteTabbables=function(){__p&&__p();var n,o=this,p=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];"use strict";if(!this.$LogicalGridController4)return;var q=c("TabbableElements").find(this.$LogicalGridController4);if(q.length)(function(){__p&&__p();var r=j(q),s=o.$LogicalGridController3.toList().flatten(true).map(function(t){return t.refElement}).map(function(t){return r.filter(function(u){return t.contains(u)})}).flatten(true).toSet();o.$LogicalGridController7=r.subtract(s).subtract(j(p)).toMap().mapEntries(function(t){var u=t[0];return[u,u.getAttribute("tabindex")||""]}).merge(o.$LogicalGridController7);o.$LogicalGridController7.keySeq().forEach(function(t){if(t.getAttribute("tabindex")!=="-1")t.setAttribute("tabindex","-1")})})()};k.prototype.restoreTabbables=function(){"use strict";this.$LogicalGridController7.entrySeq().forEach(function(n){var o=n[0],p=n[1];if(p==="")o.removeAttribute("tabindex");else o.setAttribute("tabindex",p)})};k.prototype.purgeCell=function(n){"use strict";__p&&__p();var o=n[0],p=n[1],q=void 0;if(o!=null&&p!=null){var r=this.getCellMap(n);if(r){q=r;this.$LogicalGridController3=this.$LogicalGridController3.deleteIn(n)}}return q};k.prototype.deleteCell=function(n){"use strict";var o=this.$LogicalGridController3,p=this.purgeCell(n);if(p)this.emit("cellDelete",o,this.$LogicalGridController3,p,n)};k.prototype.purgeRow=function(n){"use strict";__p&&__p();if(n!=null){var o=this.getRowMap(n);if(o){o.forEach(function(p,q){if(n!=null)this.purgeCell([n,q])}.bind(this),this);this.$LogicalGridController3=this.$LogicalGridController3["delete"](n)}}};k.prototype.deleteRow=function(n){"use strict";__p&&__p();if(n!=null){var o=this.getRowMap(n);if(o){var p=this.$LogicalGridController3;o.forEach(function(q,r){if(n!=null)this.deleteCell([n,r])}.bind(this),this);this.$LogicalGridController3=this.$LogicalGridController3["delete"](n);this.emit("rowDelete",p,this.$LogicalGridController3,o,n)}}};k.prototype.setDefaultCellCoordinate=function(n){"use strict";this.$LogicalGridController1=n};k.prototype.getDefaultCellCoordinate=function(){"use strict";return this.$LogicalGridController1};k.TRAVERSAL_KEY_CODES=j([c("RTLKeys").UP,c("RTLKeys").DOWN,c("RTLKeys").getRight(),c("RTLKeys").getLeft(),c("RTLKeys").TAB]);c("mixInEventEmitter")(k,{cellActivate:true,cellBlur:true,cellDeactivate:true,cellDelete:true,cellFocus:true,cellPut:true,manageFocus:true,rowDelete:true,rowPut:true});var l={createFromArray:function n(o){return i(o.map(function(p,q){return[q,p]}))}},m={createFromArray:function n(o){return i(o.map(function(p,q){return[q,p]}))}};f.exports=k}),null);
__d("LogicalGridGKCheck",["AccessibilityConfig"],(function a(b,c,d,e,f,g){var h={passed:function i(){return c("AccessibilityConfig").a11yLogicalGridComponent},decorator:function i(j,k){return function(){if(c("AccessibilityConfig").a11yLogicalGridComponent)return j.apply(k,Array.prototype.slice.call(arguments))}}};f.exports=h}),null);
__d("LogicalGridFocusHook.react",["LogicalGridController","LogicalGridGKCheck","React","SubscriptionsHandler","clearTimeout","emptyFunction","setTimeout"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").Component,k=c("React").PropTypes,l=c("LogicalGridGKCheck").decorator;h=babelHelpers.inherits(m,j);i=h&&h.prototype;function m(n){"use strict";__p&&__p();i.constructor.call(this,n);this.$LogicalGridFocusHook4=function(){var o=this.$LogicalGridFocusHook1;this.$LogicalGridFocusHook2.addSubscriptions(o.addListener("manageFocus",this.$LogicalGridFocusHook8))}.bind(this);this.$LogicalGridFocusHook6=function(event){event.preventDefault();event.stopPropagation();this.props.onFocus(event)}.bind(this);this.$LogicalGridFocusHook8=function(o){var p=o?-1:0;this.$LogicalGridFocusHook3.push(c("setTimeout")(function(){this.setState({tabIndex:p})}.bind(this),0))}.bind(this);this.$LogicalGridFocusHook7=function(o){this.props.onRef(o)}.bind(this);this.$LogicalGridFocusHook1=this.props.logicalGridController;this.$LogicalGridFocusHook2=new(c("SubscriptionsHandler"))();this.$LogicalGridFocusHook3=[];this.$LogicalGridFocusHook4=l(this.$LogicalGridFocusHook4,this);this.state={tabIndex:0}}m.prototype.componentWillMount=function(){"use strict";this.$LogicalGridFocusHook4()};m.prototype.componentWillUnmount=function(){"use strict";this.$LogicalGridFocusHook2.release();var n=this.$LogicalGridFocusHook3.pop();while(n){c("clearTimeout")(n);n=this.$LogicalGridFocusHook3.pop()}};m.prototype.render=function(){"use strict";return c("React").createElement("span",{className:this.props.className,onBlur:this.$LogicalGridFocusHook5,onFocus:this.$LogicalGridFocusHook6,ref:this.$LogicalGridFocusHook7,tabIndex:this.state.tabIndex})};m.prototype.$LogicalGridFocusHook5=function(event){"use strict";event.preventDefault();event.stopPropagation()};m.propTypes={logicalGridController:k.instanceOf(c("LogicalGridController")),onFocus:k.func,onRef:k.func};m.defaultProps={onRef:c("emptyFunction")};f.exports=m}),null);
__d("LogicalGrid.react",["cx","Focus","LogicalGridController","LogicalGridFocusHook.react","LogicalGridGKCheck","React","ReactDOM","RTLKeys","SubscriptionsHandler","debounce","emptyFunction","Event","joinClasses","setTimeout"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("Event").getKeyCode,l=c("React").Component,m=c("React").PropTypes,n=c("LogicalGridGKCheck").passed,o=c("LogicalGridGKCheck").decorator,p=20,q=20;i=babelHelpers.inherits(r,l);j=i&&i.prototype;function r(s,t){"use strict";__p&&__p();j.constructor.call(this,s);this.$LogicalGrid8=function(){var u=this.$LogicalGrid5;this.$LogicalGrid7.addSubscriptions(u.addListener("cellActivate",this.$LogicalGrid15),u.addListener("cellBlur",this.$LogicalGrid16),u.addListener("cellDeactivate",this.$LogicalGrid17),u.addListener("cellDelete",this.$LogicalGrid18),u.addListener("cellFocus",this.$LogicalGrid19),u.addListener("cellPut",this.$LogicalGrid20),u.addListener("manageFocus",this.$LogicalGrid27),u.addListener("rowDelete",this.$LogicalGrid28),u.addListener("rowPut",this.$LogicalGrid29))}.bind(this);this.$LogicalGrid9=c("debounce")(function(){if(this.$LogicalGrid4)this.forceUpdate()}.bind(this),p);this.$LogicalGrid10=function(event){var u=k(event),v=this.$LogicalGrid5;switch(u){case c("RTLKeys").TAB:this.$LogicalGrid12();break;case c("RTLKeys").ESC:v.deactivateCell();break;case c("RTLKeys").UP:case c("RTLKeys").DOWN:case c("RTLKeys").getLeft():case c("RTLKeys").getRight():case c("RTLKeys").HOME:case c("RTLKeys").END:event.preventDefault();break;default:return}}.bind(this);this.$LogicalGrid11=function(event){__p&&__p();var u=k(event),v=this.$LogicalGrid5,w=true;switch(u){case c("RTLKeys").TAB:var x=event.shiftKey?v.tabFocusBackward():v.tabFocusForward();if(!x){this.$LogicalGrid31();return}break;case c("RTLKeys").UP:v.moveFocusUp();break;case c("RTLKeys").DOWN:v.moveFocusDown();break;case c("RTLKeys").getLeft():v.moveFocusLeft();break;case c("RTLKeys").getRight():v.moveFocusRight();break;case c("RTLKeys").HOME:v.moveFocusHome(event.ctrlKey);break;case c("RTLKeys").END:v.moveFocusEnd(event.ctrlKey);break;default:w=false;return}if(w)event.preventDefault();if(!this.props.isCompositeWidget&&c("LogicalGridController").TRAVERSAL_KEY_CODES.has(u))this.$LogicalGrid32(false)}.bind(this);this.$LogicalGrid12=function(){this.$LogicalGrid6=true;c("setTimeout")(function(){this.$LogicalGrid6=false}.bind(this),0)}.bind(this);this.$LogicalGrid13=function(u){if(this.props.isCompositeWidget&&u!==this.$LogicalGrid1){var v=this.$LogicalGrid5.getGridRef();if(v){this.$LogicalGrid1=u;v.setAttribute("aria-activedescendant",u)}}}.bind(this);this.$LogicalGrid14=function(event){if(!this.$LogicalGrid6)this.$LogicalGrid31()}.bind(this);this.$LogicalGrid15=function(){this.$LogicalGrid3=true;this.$LogicalGrid12();if(this.props.isCompositeWidget)this.$LogicalGrid32(false)}.bind(this);this.$LogicalGrid16=function(){this.$LogicalGrid12()}.bind(this);this.$LogicalGrid17=function(){this.$LogicalGrid3=false;if(this.$LogicalGrid5.isManagingFocus()){this.$LogicalGrid12();if(this.props.isCompositeWidget){this.$LogicalGrid32(true);c("Focus").set(this.$LogicalGrid5.getGridRef())}this.$LogicalGrid30()}}.bind(this);this.$LogicalGrid18=function(u,v,w,x){if(this.$LogicalGrid5.isFocusedCoordinate(x))if(!w.disableFocusRecovery){this.$LogicalGrid12();this.$LogicalGrid30()}else this.$LogicalGrid31()}.bind(this);this.$LogicalGrid19=function(u,v,w){this.props.onCellFocus(u,v,w)}.bind(this);this.$LogicalGrid20=function(){this.$LogicalGrid12()}.bind(this);this.$LogicalGrid21=function(){this.$LogicalGrid32(true)}.bind(this);this.$LogicalGrid22=function(u){this.$LogicalGrid2[1]=u}.bind(this);this.$LogicalGrid23=function(){if(this.props.isCompositeWidget){this.$LogicalGrid32(true);c("Focus").set(this.$LogicalGrid5.getGridRef())}else this.$LogicalGrid32(false);this.$LogicalGrid30()}.bind(this);this.$LogicalGrid24=function(u){this.$LogicalGrid2[0]=u}.bind(this);this.$LogicalGrid25=function(event){if(!this.$LogicalGrid5.isManagingFocus())return;if(this.$LogicalGrid3)this.$LogicalGrid10(event);else this.$LogicalGrid11(event)}.bind(this);this.$LogicalGrid26=function(event){var u=this.$LogicalGrid5.getFocusedCellCoordinate()||[],v=u[0];if(v!=null)this.props.onRowKeyPress(event,v)}.bind(this);this.$LogicalGrid27=function(u){if(u)this.$LogicalGrid5.muteTabbables(this.$LogicalGrid2);else c("setTimeout")(function(){this.$LogicalGrid5.restoreTabbables()}.bind(this),0);this.props.onManageFocus(u)}.bind(this);this.$LogicalGrid28=function(u,v){if(u.count()===1&&v.count()===0)this.$LogicalGrid9()}.bind(this);this.$LogicalGrid29=function(u,v){if(u.count()===0&&v.count()===1)this.$LogicalGrid9()}.bind(this);this.$LogicalGrid30=c("debounce")(function(){this.$LogicalGrid5.recoverFocus()}.bind(this),q);this.$LogicalGrid31=function(){__p&&__p();var u=arguments.length<=0||arguments[0]===undefined?false:arguments[0];this.$LogicalGrid5.clearFocusedCell();if(u)this.$LogicalGrid5.clearLastFocusedCell();if(this.props.isCompositeWidget){var v=this.$LogicalGrid5.getGridRef();if(v){this.$LogicalGrid1="";v.setAttribute("aria-activedescendant","")}}}.bind(this);this.$LogicalGrid32=function(u){if(u!==this.state.hideFocusRing&&!this.props.isCompositeWidget)this.$LogicalGrid34({hideFocusRing:u})}.bind(this);this.$LogicalGrid33=function(u){this.$LogicalGrid5.setGridRef(c("ReactDOM").findDOMNode(u))}.bind(this);this.$LogicalGrid34=function(u){if(this.$LogicalGrid4)this.setState(u)}.bind(this);this.$LogicalGrid1="";this.$LogicalGrid2=[null,null];this.$LogicalGrid3=false;this.$LogicalGrid4=false;this.$LogicalGrid5=c("LogicalGridController").create();this.$LogicalGrid5.preserveFocusCellCoordinate(this.props.preserveFocusCellCoordinate);this.$LogicalGrid6=false;this.$LogicalGrid7=new(c("SubscriptionsHandler"))();this.$LogicalGrid8=o(this.$LogicalGrid8,this);this.$LogicalGrid9=o(this.$LogicalGrid9,this);this.$LogicalGrid10=o(this.$LogicalGrid10,this);this.$LogicalGrid11=o(this.$LogicalGrid11,this);this.$LogicalGrid12=o(this.$LogicalGrid12,this);this.$LogicalGrid13=o(this.$LogicalGrid13,this);this.$LogicalGrid14=o(this.$LogicalGrid14,this);this.$LogicalGrid15=o(this.$LogicalGrid15,this);this.$LogicalGrid16=o(this.$LogicalGrid16,this);this.$LogicalGrid17=o(this.$LogicalGrid17,this);this.$LogicalGrid18=o(this.$LogicalGrid18,this);this.$LogicalGrid19=o(this.$LogicalGrid19,this);this.$LogicalGrid20=o(this.$LogicalGrid20,this);this.$LogicalGrid21=o(this.$LogicalGrid21,this);this.$LogicalGrid22=o(this.$LogicalGrid22,this);this.$LogicalGrid23=o(this.$LogicalGrid23,this);this.$LogicalGrid24=o(this.$LogicalGrid24,this);this.$LogicalGrid25=o(this.$LogicalGrid25,this);this.$LogicalGrid26=o(this.$LogicalGrid26,this);this.$LogicalGrid27=o(this.$LogicalGrid27,this);this.$LogicalGrid28=o(this.$LogicalGrid28,this);this.$LogicalGrid29=o(this.$LogicalGrid29,this);this.$LogicalGrid30=o(this.$LogicalGrid30,this);this.$LogicalGrid31=o(this.$LogicalGrid31,this);this.$LogicalGrid32=o(this.$LogicalGrid32,this);this.$LogicalGrid33=o(this.$LogicalGrid33,this);this.$LogicalGrid34=o(this.$LogicalGrid34,this);this.state={hideFocusRing:true}}r.prototype.getChildContext=function(){"use strict";return{logicalGridController:this.$LogicalGrid5,logicalGridIsCompositeWidget:this.props.isCompositeWidget,logicalGridOnActivedescendant:this.$LogicalGrid13}};r.prototype.render=function(){__p&&__p();var s,t=this;"use strict";var u=this.props,v=u.children,w=u.component,x=u.rowCount,y=0,z=this.$LogicalGrid5.getGridMap().count();if(x==null)y=z;else y=x;var A={className:c("joinClasses")(w.props.className,this.props.className)},B=null,C=null;if(n()&&z>0)(function(){__p&&__p();var D=w.props,E=D.onBlur,F=E===undefined?c("emptyFunction"):E,G=D.onClick,H=G===undefined?c("emptyFunction"):G,I=D.onKeyDown,J=I===undefined?c("emptyFunction"):I,K=D.onKeyPress,L=K===undefined?c("emptyFunction"):K,M=D.ref,N=M===undefined?c("emptyFunction"):M;B=c("React").createElement(c("LogicalGridFocusHook.react"),{className:(t.props.autofocus?"autofocus":"")+" accessible_elem",logicalGridController:t.$LogicalGrid5,key:"uiLogicalGridHook-top",onFocus:t.$LogicalGrid23,onRef:t.$LogicalGrid24});C=c("React").createElement(c("LogicalGridFocusHook.react"),{className:"accessible_elem",logicalGridController:t.$LogicalGrid5,key:"uiLogicalGridHook-bottom",onFocus:t.$LogicalGrid23,onRef:t.$LogicalGrid22});var O=t.props.isCompositeWidget?t.$LogicalGrid1:null;A={"aria-activedescendant":O,"aria-rowcount":y,className:c("joinClasses")(A.className,t.state.hideFocusRing?"_1lty":""),role:"grid",onBlur:function(event){F(event);this.$LogicalGrid14(event)}.bind(t),onClick:function(event){H(event);this.$LogicalGrid21(event)}.bind(t),onKeyDown:function(event){J(event);this.$LogicalGrid25(event)}.bind(t),onKeyPress:function(event){L(event);this.$LogicalGrid26(event)}.bind(t),ref:function(P){N(P);this.$LogicalGrid33(P)}.bind(t),tabIndex:-1}})();return c("React").cloneElement(w,A,[B,v,C])};r.prototype.componentWillMount=function(){"use strict";this.$LogicalGrid5.setDefaultCellCoordinate(this.props.initialFocusCellCoordinate);this.$LogicalGrid8()};r.prototype.componentDidMount=function(){"use strict";this.$LogicalGrid4=true;this.$LogicalGrid5.muteTabbables(this.$LogicalGrid2)};r.prototype.componentWillReceiveProps=function(s){"use strict";if(this.props.initialFocusCellCoordinate!==s.initialFocusCellCoordinate)this.$LogicalGrid5.setDefaultCellCoordinate(s.initialFocusCellCoordinate);if(this.props.preserveFocusCellCoordinate!==s.preserveFocusCellCoordinate)this.$LogicalGrid5.preserveFocusCellCoordinate(s.preserveFocusCellCoordinate)};r.prototype.componentWillUpdate=function(){"use strict";if(this.$LogicalGrid5.getGridMap().size===0)this.$LogicalGrid31(true)};r.prototype.componentDidUpdate=function(){"use strict";if(this.$LogicalGrid5.isManagingFocus())this.$LogicalGrid5.muteTabbables(this.$LogicalGrid2)};r.prototype.componentWillUnmount=function(){"use strict";this.$LogicalGrid4=false;this.$LogicalGrid31();this.$LogicalGrid5.restoreTabbables();this.$LogicalGrid7.release()};r.contextTypes={logicalGridController:m.instanceOf(c("LogicalGridController"))};r.childContextTypes={logicalGridController:m.instanceOf(c("LogicalGridController")),logicalGridIsCompositeWidget:m.bool,logicalGridOnActivedescendant:m.func};r.propTypes={autofocus:m.bool,initialFocusCellCoordinate:m.arrayOf(m.number),component:m.element,onCellFocus:m.func,onManageFocus:m.func,onRowKeyPress:m.func,preserveFocusCellCoordinate:m.bool,rowCount:m.number};r.defaultProps={autofocus:false,initialFocusCellCoordinate:[0,0],isCompositeWidget:false,component:c("React").createElement("div"),onCellFocus:c("emptyFunction"),onManageFocus:c("emptyFunction"),onRowKeyPress:c("emptyFunction"),preserveFocusCellCoordinate:false};f.exports=r}),null);
__d("NotifTestIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({REACT_BLUE_BAR_JEWEL:"react_blue_bar_jewel",NON_REACT_BLUE_BAR_JEWEL:"non_react_blue_bar_jewel",REACT_NOTIF_LIST:"react_notif_list",NOTIF_LIST_ITEM:"notif_list_item",SEE_ALL_LIST:"see_all_list",REACT_NOTIF_JEWEL_FLYOUT:"react_notif_jewel_flyout",NON_REACT_NOTIF_JEWEL_FLYOUT:"non_react_notif_jewel_flyout",CHEVRON:"chevron",REACT_MARK_ALL_AS_READ_LINK:"react_mark_all_as_read_link",NON_REACT_MARK_ALL_AS_READ_LINK:"non_react_mark_all_as_read_link",NOTIFICATION_SOUND_SETTING:"notifiation_sound_setting",NOTIFICATION_SOUND_SETTING_SELECTOR:"notifiation_sound_setting_selector",MESSAGE_SOUND_SETTING:"message_sound_setting",MESSAGE_SOUND_SETTING_SELECTOR:"message_sound_setting_selector",CLOSE_FRIEND_ACTIVITY_SELECTOR:"close_friend_activity_selector",BIRTHDAY_SELECTOR:"birthday_selector",ON_THIS_DAY_SELECTOR:"on_this_day_selector",TAGS_SELECTOR:"tags_selector",LIVE_VIDEO_SELECTOR:"live_video_selector",REACT_BADGE_COUNT_CONTAINER:"react_badge_count_container",NON_REACT_BADGE_COUNT_CONTAINER:"non_react_badge_count_container",BEEPER_LIST:"beeper_list",NON_REACT_SETTING_LINK:"non_react_setting_link",REACT_SETTING_LINK:"react_setting_link",GEOGRAPHIC_SUBSCRIPTION_SELECTOR:"geographic_subscription_selector"})}),null);
__d("NotificationJewelListBucketHeader.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){return c("React").createElement("div",{className:"_fyy"},j.title.toUpperCase())}f.exports=i}),null);
__d("NotificationBucketGeneric.react",["cx","NotificationJewelListBucketHeader.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.title,n=l.ids,o=l.listRenderer,p=l.startIndex;if(n.length===0)return null;var q=o(n,p);return c("React").createElement("div",{className:"_32hm"},m?c("React").createElement(c("NotificationJewelListBucketHeader.react"),{title:m}):null,c("React").createElement("ul",null,q))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("NotificationBucket.react",["cx","BootloadedComponent.react","NotificationBucketGeneric.react","NotificationBucketUtils","NotificationJewelListBucketHeader.react","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$NotificationBucket1=function(){var l=this.props.bucket,m=l.bucketType,n=l.title;return c("React").createElement("div",null,c("React").createElement(c("NotificationJewelListBucketHeader.react"),{title:n,bucketType:m}),c("React").createElement(c("XUISpinner.react"),{className:"_1e00"}))};k.prototype.render=function(){var l=this.props,m=l.bucket,n=l.listRenderer,o=l.startIndex,p=m.bucketType,f=c("NotificationBucketUtils").getCustomModuleForType(p);if(!f)return c("React").createElement(c("NotificationBucketGeneric.react"),babelHelpers["extends"]({},m,{listRenderer:n,startIndex:o}));return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:f,bootloadPlaceholder:this.$NotificationBucket1()},m))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("RelationshipDelightTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:RelationshipDelightLoggerConfig",this.$RelationshipDelightTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:RelationshipDelightLoggerConfig",this.$RelationshipDelightTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$RelationshipDelightTypedLogger1={};return this};h.prototype.updateData=function(j){this.$RelationshipDelightTypedLogger1=babelHelpers["extends"]({},this.$RelationshipDelightTypedLogger1,j);return this};h.prototype.setAlertID=function(j){this.$RelationshipDelightTypedLogger1.alert_id=j;return this};h.prototype.setEvent=function(j){this.$RelationshipDelightTypedLogger1.event=j;return this};h.prototype.setMetadata=function(j){this.$RelationshipDelightTypedLogger1.metadata=j;return this};h.prototype.setVC=function(j){this.$RelationshipDelightTypedLogger1.vc=j;return this};var i={alert_id:true,event:true,metadata:true,vc:true};f.exports=h}),null);
__d("RelationshipDelightUtils",["NotificationRelationshipDelightsConfig","QE2Logger","RelationshipDelightTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={};function i(n){var o=n.eligible_buckets;return!!o&&o.indexOf("SO_NOTIFICATIONS")!==-1}function j(){c("QE2Logger").logExposureForUser(c("NotificationRelationshipDelightsConfig").universeName)}function k(n){var o=c("NotificationRelationshipDelightsConfig").shouldDecorateNotificationWithHearts,p=c("NotificationRelationshipDelightsConfig").shouldLogExposureForNotification;if(i(n)===false)return false;if(p)j();return o===true}function l(n,event,o){var p=event+"-"+n;if(h[p])return;h[p]=true;var q=new(c("RelationshipDelightTypedLogger"))().setEvent(event).setAlertID(n);if(o)q.setMetadata(JSON.stringify(o));q.log()}var m={shouldHeartBadge:function n(o){var p=c("NotificationRelationshipDelightsConfig").shouldDecorateBadgeWithHearts,q=c("NotificationRelationshipDelightsConfig").shouldLogExposureForBadge;if(i(o)===false)return false;if(q)j();return p===true},shouldHeartBeeper:k,shouldHeartNotification:k,logNotificationAnimation:function n(o,p,q){l(o,"notification_animated",{animation:p,rowIndex:q})},logBeeperAnimation:function n(o){l(o,"beeper_animated")},logBadgeAnimation:function n(o){l(o,"badge_animated")}};f.exports=m}),null);
__d("NotificationListDelightUtils",["RelationshipDelightUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=-1,i={canShowHeartDelight:function j(k,l,m){if(l)return false;if(!c("RelationshipDelightUtils").shouldHeartNotification(k))return false;if(h<0||h>m)h=m;return true},getFirstDelightRow:function j(){return h}};f.exports=i}),null);
__d("NotificationListDelights.react",["cx","BootloadedComponent.react","JSResource","NotificationListDelightUtils","NotificationSeenState","React","RelationshipDelightUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i=-1;function j(k){var l=k.rowIndex,m=k.notification,n=m.alert_id,o=c("NotificationListDelightUtils").getFirstDelightRow()===l&&!c("NotificationSeenState").isSeen(n)?1:2;c("RelationshipDelightUtils").logNotificationAnimation(n,o,l);return c("React").createElement("div",{className:"_3u5l _3u5m"},c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("div",null),bootloadLoader:c("JSResource")("RelationshipDelightsActorAnimation.react").__setRef("NotificationListDelights.react"),animationPhase:o}))}f.exports=j}),null);
__d("LogicalGridFocusStrategyBase",["cx","csx","CSS","DOM","Map","TabbableElements","getOrCreateDOMID"],(function a(b,c,d,e,f,g,h,i){__p&&__p();function j(k,l){"use strict";this.activeClass="_5-1x";this.activeClassSelector="._5-1x";this.elements=new(c("Map"))([]);this.focusClass="_5-1y";this.focusClassSelector="._5-1y";this.isCompositeWidget=k;this.onActivedescendant=l;this.root=null}j.prototype.update=function(k){"use strict";if(k&&k!==this.root)this.root=k;this.neuterTabbables()};j.prototype.focus=function(k){"use strict";if(k)this.applyFocusClass(k)};j.prototype.activate=function(k){"use strict";if(k)this.applyActiveClass(k)};j.prototype.deactivate=function(){"use strict";this.clearActiveClass()};j.prototype.blur=function(){"use strict";this.clearFocusClass()};j.prototype.destroy=function(){"use strict";this.restoreTabbables();this.elements=new(c("Map"))([])};j.prototype.activateDescendant=function(k){"use strict";this.onActivedescendant.call(null,c("getOrCreateDOMID")(k))};j.prototype.applyActiveClass=function(k){"use strict";c("CSS").addClass(k,this.activeClass)};j.prototype.applyFocusClass=function(k){"use strict";c("CSS").addClass(k,this.focusClass)};j.prototype.canActivate=function(){"use strict";return false};j.prototype.clearActiveClass=function(){"use strict";if(this.root){var k=c("DOM").scry(this.root,this.activeClassSelector);k.push(this.root);k.forEach(function(l){return c("CSS").removeClass(l,this.activeClass)}.bind(this))}};j.prototype.clearFocusClass=function(){"use strict";if(this.root){var k=c("DOM").scry(this.root,this.focusClassSelector);k.push(this.root);k.forEach(function(l){return c("CSS").removeClass(l,this.focusClass)}.bind(this))}};j.prototype.neuterTabbables=function(){"use strict";if(this.root)c("TabbableElements").find(this.root).filter(function(k){return!this.elements.has(k)}.bind(this)).forEach(function(k){var l=k.getAttribute("tabIndex");k.setAttribute("tabIndex","-1");this.elements.set(k,l)}.bind(this),this)};j.prototype.restoreTabbables=function(){"use strict";this.elements.forEach(function(k,l){if(k!=null)l.setAttribute("tabIndex",k);else l.removeAttribute("tabIndex")});this.elements=new(c("Map"))([])};f.exports=j}),null);
__d("LogicalGridItemFocusStrategy",["Focus","LogicalGridFocusStrategyBase","getActiveElement"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("LogicalGridFocusStrategyBase"));i=h&&h.prototype;j.prototype.focus=function(){"use strict";var k=this.elements.keys().next().value;if(k){if(this.isCompositeWidget)this.activateDescendant(k);else if(k!==c("getActiveElement")())c("Focus").set(k,true);i.focus.call(this,k)}};j.prototype.applyFocusClass=function(){"use strict";if(this.root)i.applyFocusClass.call(this,this.root)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("LogicalGridCell.react",["cx","invariant","LogicalGridItemFocusStrategy","LogicalGridController","LogicalGridGKCheck","React","ReactDOM","RTLKeys","SubscriptionsHandler","emptyFunction","joinClasses","setTimeout"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").Component,m=c("React").PropTypes,n=c("LogicalGridGKCheck").passed,o=c("LogicalGridGKCheck").decorator;j=babelHelpers.inherits(p,l);k=j&&j.prototype;function p(q,r){"use strict";__p&&__p();k.constructor.call(this,q);this.$LogicalGridCell5=function(){var s=this.context.logicalGridController;if(s)this.$LogicalGridCell4.addSubscriptions(s.addListener("cellActivate",this.$LogicalGridCell10),s.addListener("cellBlur",this.$LogicalGridCell11),s.addListener("cellDeactivate",this.$LogicalGridCell12),s.addListener("cellFocus",this.$LogicalGridCell13),s.addListener("cellPut",this.$LogicalGridCell14))}.bind(this);this.$LogicalGridCell6=function(s,t){var u=this.context.logicalGridController;if(u&&s!=null&&t!=null)u.deleteCell([s,t])}.bind(this);this.$LogicalGridCell7=function(){if(this.$LogicalGridCell9())this.$LogicalGridCell1.focus()}.bind(this);this.$LogicalGridCell8=function(){var s=this.context,t=s.logicalGridController,u=s.logicalGridRowIndex,v=this.props.columnIndex;if(t&&!this.$LogicalGridCell9()&&!this.$LogicalGridCell3&&u!=null&&v!=null)t.focusCell([u,v])}.bind(this);this.$LogicalGridCell9=function(){var s=this.context,t=s.logicalGridController,u=s.logicalGridRowIndex,v=this.props.columnIndex,w=false;if(t&&u!=null&&v!=null){var x=t.getFocusedCell(),y=t.isFocusedCoordinate([u,v]);w=y&&x!=null&&this.$LogicalGridCell2===x.refElement}return w}.bind(this);this.$LogicalGridCell10=function(){if(this.$LogicalGridCell9())this.$LogicalGridCell1.activate()}.bind(this);this.$LogicalGridCell11=function(){this.$LogicalGridCell1.deactivate();this.$LogicalGridCell1.blur()}.bind(this);this.$LogicalGridCell12=function(){this.$LogicalGridCell1.deactivate()}.bind(this);this.$LogicalGridCell13=function(s,t){this.$LogicalGridCell7()}.bind(this);this.$LogicalGridCell14=function(){this.$LogicalGridCell7()}.bind(this);this.$LogicalGridCell15=function(){if(this.$LogicalGridCell1.canActivate())this.context.logicalGridController.activateCell()}.bind(this);this.$LogicalGridCell16=function(){if(!this.$LogicalGridCell3)this.$LogicalGridCell8()}.bind(this);this.$LogicalGridCell17=function(event){var s=this.context.logicalGridController;if(event.charCode===c("RTLKeys").RETURN&&this.$LogicalGridCell1.canActivate())s.activateCell()}.bind(this);this.$LogicalGridCell18=function(){if(this.props.disableFocusRecovery)this.$LogicalGridCell19()}.bind(this);this.$LogicalGridCell19=function(){this.$LogicalGridCell3=true;c("setTimeout")(function(){this.$LogicalGridCell3=false}.bind(this),0)}.bind(this);this.$LogicalGridCell20=function(s,t){var u=this.context.logicalGridController;if(u&&s!=null&&t!=null)u.purgeCell([s,t])}.bind(this);this.$LogicalGridCell21=function(s,t){var u=arguments.length<=2||arguments[2]===undefined?false:arguments[2],v=this.context.logicalGridController;if(v&&s!=null&&t!=null)v.putCell([s,t],{refElement:this.$LogicalGridCell2,isRowHeader:this.props.isRowHeader,isTabbable:this.props.isTabbable,disableFocusRecovery:u})}.bind(this);this.$LogicalGridCell22=function(s){if(this.context.logicalGridController){var t=c("ReactDOM").findDOMNode(s);if(t&&t!==this.$LogicalGridCell2){this.$LogicalGridCell2=t;this.$LogicalGridCell1.update(t)}}}.bind(this);this.$LogicalGridCell1=new q.focusStrategy(r.logicalGridIsCompositeWidget,r.logicalGridOnActivedescendant);this.$LogicalGridCell3=false;this.$LogicalGridCell4=new(c("SubscriptionsHandler"))();this.$LogicalGridCell5=o(this.$LogicalGridCell5,this);this.$LogicalGridCell6=o(this.$LogicalGridCell6,this);this.$LogicalGridCell7=o(this.$LogicalGridCell7,this);this.$LogicalGridCell8=o(this.$LogicalGridCell8,this);this.$LogicalGridCell9=o(this.$LogicalGridCell9,this);this.$LogicalGridCell10=o(this.$LogicalGridCell10,this);this.$LogicalGridCell11=o(this.$LogicalGridCell11,this);this.$LogicalGridCell12=o(this.$LogicalGridCell12,this);this.$LogicalGridCell13=o(this.$LogicalGridCell13,this);this.$LogicalGridCell14=o(this.$LogicalGridCell14,this);this.$LogicalGridCell15=o(this.$LogicalGridCell15,this);this.$LogicalGridCell16=o(this.$LogicalGridCell16,this);this.$LogicalGridCell17=o(this.$LogicalGridCell17,this);this.$LogicalGridCell18=o(this.$LogicalGridCell18,this);this.$LogicalGridCell19=o(this.$LogicalGridCell19,this);this.$LogicalGridCell20=o(this.$LogicalGridCell20,this);this.$LogicalGridCell21=o(this.$LogicalGridCell21,this);this.$LogicalGridCell22=o(this.$LogicalGridCell22,this)}p.prototype.render=function(){__p&&__p();var q,r=this;"use strict";var s=this.context,t=s.logicalGridController,u=s.logicalGridRowIndex,v=s.logicalGridIsColumnHeader,w=this.props,x=w.children,y=w.columnIndex,z=w.component,A=w.isRowHeader,B={className:c("joinClasses")(z.props.className,this.props.className)};if(n()&&t&&u!=null)(function(){__p&&__p();var C=z.props,D=C.onClick,E=D===undefined?c("emptyFunction"):D,F=C.onFocus,G=F===undefined?c("emptyFunction"):F,H=C.onKeyPress,I=H===undefined?c("emptyFunction"):H,J=C.onMouseDown,K=J===undefined?c("emptyFunction"):J,L=C.ref,M=L===undefined?c("emptyFunction"):L;B={"aria-colindex":y!=null&&y>-1?y+1:null,className:c("joinClasses")(B.className,"_4f7k"),role:v?"columnheader":A?"rowheader":"gridcell",onClick:function(event){E(event);this.$LogicalGridCell15(event)}.bind(r),onFocus:function(event){G(event);this.$LogicalGridCell16(event)}.bind(r),onKeyPress:function(event){I(event);this.$LogicalGridCell17(event)}.bind(r),onMouseDown:function(event){K(event);this.$LogicalGridCell18(event)}.bind(r),ref:function(N){M(N);this.$LogicalGridCell22(N)}.bind(r),tabIndex:-1}})();return c("React").cloneElement(z,B,x)};p.prototype.componentWillMount=function(){"use strict";this.$LogicalGridCell5()};p.prototype.componentDidMount=function(){"use strict";if(!this.context.logicalGridIsInvisible)this.$LogicalGridCell21(this.context.logicalGridRowIndex,this.props.columnIndex,this.props.disableFocusRecovery)};p.prototype.componentWillReceiveProps=function(q,r){"use strict";__p&&__p();var s=this.context.logicalGridRowIndex,t=this.props,u=t.columnIndex,v=t.focusStrategy,w=t.disableFocusRecovery,x=t.isRowHeader,y=t.isTabbable;if(v!==q.focusStrategy){this.$LogicalGridCell1.destroy();var z=r||{},A=z.logicalGridIsCompositeWidget,B=z.logicalGridOnActivedescendant;this.$LogicalGridCell1=new q.focusStrategy(A,B);this.$LogicalGridCell1.update()}var C=r&&r.logicalGridRowIndex,D=q.disableFocusRecovery,E=q.columnIndex,F=q.isRowHeader,G=q.isTabbable;if(s!==C||u!==E||w!==D||x!==F||y!==G)this.$LogicalGridCell20(s,u)};p.prototype.componentWillUpdate=function(q,r,s){"use strict";if(!s||!s.logicalGridIsInvisible)this.$LogicalGridCell21(s&&s.logicalGridRowIndex,q.columnIndex,q.disableFocusRecovery)};p.prototype.componentDidUpdate=function(){"use strict";this.$LogicalGridCell1.update();this.$LogicalGridCell7()};p.prototype.componentWillUnmount=function(){"use strict";var q=this.context.logicalGridRowIndex,r=this.props.columnIndex;this.$LogicalGridCell4.release();this.$LogicalGridCell1.destroy();this.$LogicalGridCell6(q,r)};p.contextTypes={logicalGridController:m.instanceOf(c("LogicalGridController")),logicalGridRowIndex:m.number,logicalGridIsColumnHeader:m.bool,logicalGridIsCompositeWidget:m.bool,logicalGridIsInvisible:m.bool,logicalGridOnActivedescendant:m.func};p.propTypes={columnIndex:m.number,disableFocusRecovery:m.bool,focusStrategy:m.func,component:m.element,isRowHeader:m.bool,isTabbable:m.bool};p.defaultProps={disableFocusRecovery:false,focusStrategy:c("LogicalGridItemFocusStrategy"),component:c("React").createElement("span"),isRowHeader:false,isTabbable:false};f.exports=p}),null);
__d("LogicalGridRow.react",["invariant","cx","LogicalGridController","LogicalGridGKCheck","React","SubscriptionsHandler","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").Component,m=c("React").PropTypes,n=c("LogicalGridGKCheck").passed,o=c("LogicalGridGKCheck").decorator;j=babelHelpers.inherits(p,l);k=j&&j.prototype;function p(q,r){"use strict";__p&&__p();k.constructor.call(this,q);this.$LogicalGridRow3=function(){var s=this.context.logicalGridController;if(s)this.$LogicalGridRow2.addSubscriptions(s.addListener("cellDelete",this.$LogicalGridRow6))}.bind(this);this.$LogicalGridRow5=function(){if(this.$LogicalGridRow1)this.forceUpdate()}.bind(this);this.$LogicalGridRow8=function(s){var t=this.context.logicalGridController;if(t&&!(s==null))t.putRow(s)}.bind(this);this.$LogicalGridRow7=function(s){var t=this.context.logicalGridController;if(t&&s!=null)t.purgeRow(s)}.bind(this);this.$LogicalGridRow4=function(s){var t=this.context.logicalGridController;if(t&&s!=null)t.deleteRow(s)}.bind(this);this.$LogicalGridRow6=function(s,t,u,v){var w=this.props.rowIndex,x=w!=null&&s.get(w),y=v[0],z=v[1];if(x&&w===y&&z&&u===x.get(z))this.$LogicalGridRow5()}.bind(this);this.$LogicalGridRow1=false;this.$LogicalGridRow2=new(c("SubscriptionsHandler"))();this.$LogicalGridRow3=o(this.$LogicalGridRow3,this);this.$LogicalGridRow4=o(this.$LogicalGridRow4,this);this.$LogicalGridRow5=o(this.$LogicalGridRow5,this);this.$LogicalGridRow6=o(this.$LogicalGridRow6,this);this.$LogicalGridRow7=o(this.$LogicalGridRow7,this);this.$LogicalGridRow8=o(this.$LogicalGridRow8,this)}p.prototype.getChildContext=function(){"use strict";return{logicalGridRowIndex:this.props.rowIndex,logicalGridIsColumnHeader:this.props.isColumnHeader,logicalGridIsInvisible:this.props.isInvisible}};p.prototype.render=function(){"use strict";var q=this.context.logicalGridController,r=this.props,s=r.children,t=r.className,u=r.component,v=r.isInvisible,w=r.rowIndex,x={className:c("joinClasses")(u.props.className,t)};if(n()&&q)x={"aria-rowindex":w!=null&&w>-1?w+1:null,className:c("joinClasses")(x.className,v?"accessible_elem":""),role:"row",tabIndex:-1};else if(v)return null;return c("React").cloneElement(u,x,s)};p.prototype.componentWillMount=function(){"use strict";this.$LogicalGridRow3()};p.prototype.componentDidMount=function(){"use strict";this.$LogicalGridRow1=true;if(!this.props.isInvisible)this.$LogicalGridRow8(this.props.rowIndex)};p.prototype.componentWillReceiveProps=function(q,r){"use strict";var s=this.props.rowIndex;if(s!==q.rowIndex)this.$LogicalGridRow7(s)};p.prototype.componentWillUpdate=function(q){"use strict";if(!q.isInvisible)this.$LogicalGridRow8(q.rowIndex)};p.prototype.componentWillUnmount=function(){"use strict";this.$LogicalGridRow1=false;this.$LogicalGridRow4(this.props.rowIndex);this.$LogicalGridRow2.release()};p.contextTypes={logicalGridController:m.instanceOf(c("LogicalGridController"))};p.childContextTypes={logicalGridRowIndex:m.number,logicalGridIsColumnHeader:m.bool,logicalGridIsInvisible:m.bool};p.propTypes={rowIndex:m.number,component:m.element,isColumnHeader:m.bool,isInvisible:m.bool};p.defaultProps={component:c("React").createElement("div"),isColumnHeader:false,isInvisible:false};f.exports=p}),null);
__d("NotificationListItemChevron.react",["cx","AbstractPopoverButton.react","Banzai","BanzaiLogger","NotificationTokens","NotifTestIDs","PopoverMenu.react","QE2Logger","React","ReactXUIMenu","idx","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ReactXUIMenu").Item;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$NotificationListItemChevron1=function(){if(this.props.onHide)this.props.onHide();this.$NotificationListItemChevron2("close")}.bind(this),this.$NotificationListItemChevron3=function(){if(this.props.onShow)this.props.onShow();if(this.props.logMenuExposure)c("QE2Logger").logExposureForUser("pages_growth_optout_button");this.$NotificationListItemChevron2("open");var r={notif_type:this.props.notif_type};c("Banzai").post("notif_chevron_on_click",r)}.bind(this),n}l.prototype.$NotificationListItemChevron2=function(m){var n={event:m,notif_type:this.props.notif_type,notif_id:parseInt(c("NotificationTokens").untokenizeIDs([this.props.alert_id])[0],10)};c("BanzaiLogger").log("NotifJewelMenuLoggerConfig",n)};l.prototype.$NotificationListItemChevron4=function(){__p&&__p();var m=this.props.notificationOptions,n=m&&m.map(function(o){var p,q,r=(p=o)!=null?(p=p.option_display)!=null?(p=p.text)!=null?p.text:p:p:p;if(r==null)return null;var s=o.server_action||"",t=((q=o)!=null?(q=q.client_info)!=null?q.action_type:q:q)||"";return c("React").createElement(k,{onclick:function(){return this.props.onMenuOptionClick(o)}.bind(this),key:t+":"+s},c("React").createElement("div",{className:"_18qh"},r))}.bind(this)).filter(function(o){return o!=null});if(n==null||n.length===0)return null;return c("React").createElement(c("ReactXUIMenu"),null,n)};l.prototype.render=function(){var m=this.$NotificationListItemChevron4();if(!m)return null;var n={button:c("React").createElement("a",{href:"#","aria-label":"Notification options",className:"_1_0d"})},o=c("React").createElement(c("PopoverMenu.react"),{"data-testid":c("NotifTestIDs").CHEVRON,alignh:"right",menu:m,className:c("joinClasses")(this.props.className,"_1_0c"),disableArrowKeyActivation:true,onShow:this.$NotificationListItemChevron3,onHide:this.$NotificationListItemChevron1},c("React").createElement(c("AbstractPopoverButton.react"),{config:n,haschevron:false,image:null,label:null}));return o};f.exports=l}),null);
__d("FlexibleBlock.react",["cx","invariant","LeftRight.react","React","keyMirror"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("keyMirror")({left:true,right:true});function m(o){o.flex&&o.flex in n.FLEX||i(0);o.children&&o.children.length===2||i(0)}j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){"use strict";__p&&__p();m(this.props);var o,p=this.props,q=p.flex,r=babelHelpers.objectWithoutProperties(p,["flex"]),s=this.props.children[0],t=this.props.children[1],u=q==l.left,v;if(u){v=s;o=c("LeftRight.react").DIRECTION.right}else{v=t;o=c("LeftRight.react").DIRECTION.left}var w=c("React").createElement("div",{className:"_42ef"},v);return c("React").createElement(c("LeftRight.react"),babelHelpers["extends"]({},r,{direction:o}),u?w:this.props.children[0],u?this.props.children[1]:w)};function n(){"use strict";j.apply(this,arguments)}n.FLEX=l;f.exports=n}),null);
__d("RoundImage.react",["cx","React","joinClasses","Image.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=c("joinClasses")(this.props.className,k.baseClassName);return c("React").createElement(c("Image.react"),babelHelpers["extends"]({},this.props,{className:l}))};function k(){i.apply(this,arguments)}k.baseClassName="_2qgu";f.exports=k}),null);
__d("NotificationThumbnail.react",["Image.react","React","RoundImage.react","SutroGatingConfig"],(function a(b,c,d,e,f,g){"use strict";var h=c("SutroGatingConfig").avatar;function i(j){if(h.has_rounded_avatars)return c("React").createElement(c("RoundImage.react"),j);else return c("React").createElement(c("Image.react"),j)}f.exports=i}),null);
__d("NotificationListItemContents.react",["cx","ix","BizSiteIdentifier.brands","FlexibleBlock.react","ImageBlock.react","NotificationAttachment.react","NotificationFooter.react","NotificationInterpolator","NotificationThumbnail.react","React","TextWithEntities.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("BizSiteIdentifier.brands").isBizSite(),m=i("97000");j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.$NotificationListItemContents1=function(){var o=this.props.notification.title;if(!o)return null;return c("React").createElement(c("TextWithEntities.react"),babelHelpers["extends"]({interpolator:c("NotificationInterpolator")},o,{renderEmoji:true,renderEmoticons:true}))};n.prototype.render=function(){var o=this.$NotificationListItemContents1(),p=this.props,q=p.hideIcon,r=p.isNotifsPage,s=p.noPhotoPreviews,t=p.shortenTimestamp,u=p.notification,v=u.icon,w=u.previewImage,x=u.thumbnail,y=u.timestamp,z=c("React").createElement(c("NotificationFooter.react"),{icon:q?null:v,shortenTimestamp:t,timestamp:y});return c("React").createElement(c("ImageBlock.react"),null,c("React").createElement(c("NotificationThumbnail.react"),{alt:"",className:(!r?"_62bh":"")+(r?" _62bi":""),src:x&&x.uri||m}),c("React").createElement(c("FlexibleBlock.react"),{flex:c("FlexibleBlock.react").FLEX.left},c("React").createElement("div",{className:"_4l_v"},o,z),s?null:c("React").createElement(c("NotificationAttachment.react"),{image:w})))};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("NotificationListItemOptionConfirmation.react",["cx","fbt","List.react","NotificationInterpolator","React","TextWithEntities.react","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(k){var l=k.notificationOptions,m=k.undoText,n=k.undoToken;return[m!=null||n!=null?c("React").createElement("div",{className:"_4ai",key:"options"},m!=null?c("React").createElement(c("TextWithEntities.react"),{interpolator:c("NotificationInterpolator"),ranges:m.ranges,aggregatedranges:m.aggregated_ranges,text:m.text}):null,n!=null?c("React").createElement("a",{href:"#",onClick:function o(){return k.onUndoClick()},className:"mls"},i._("Undo")):null):null,c("React").createElement(c("List.react"),{border:"none",className:"_1v4c",key:"followups",spacing:"small"},l?l.map(function(o){var p,q,r=(p=o)!=null?(p=p.option_display)!=null?(p=p.text)!=null?p.text:p:p:p;if(r==null)return null;var s=o.server_action||"",t=((q=o)!=null?(q=q.client_info)!=null?q.action_type:q:q)||"";return c("React").createElement("li",{key:t+":"+s},c("React").createElement("a",{className:"mls",href:"#",onClick:function u(){return k.onMenuOptionClick(o)}},r))}):null)]}f.exports=j}),null);
__d("ReadToggle.react",["cx","Event","Keys","React","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReadToggle2=function(event){if(c("Event").getKeyCode(event)===c("Keys").RETURN)this.props.onClick()}.bind(this),n}l.prototype.render=function(){if(this.props.isRead)return c("React").createElement("div",{"aria-label":this.props.readLabel,className:this.$ReadToggle1(),"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.props.readLabel,onClick:this.props.onClick,onKeyDown:this.$ReadToggle2,role:"button",tabIndex:0});else return c("React").createElement("div",{"aria-label":this.props.unreadLabel,className:this.$ReadToggle1(),"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.props.unreadLabel,onClick:this.props.onClick,onKeyDown:this.$ReadToggle2,role:"button",tabIndex:"0"})};l.prototype.$ReadToggle1=function(){return c("joinClasses")(this.props.className,(!this.props.isRead?"_5c9q":"")+(this.props.isRead?" _5c9_":""))};l.propTypes={isRead:k.bool.isRequired,onClick:k.func.isRequired,readLabel:k.node.isRequired,unreadLabel:k.node.isRequired};l.defaultProps={onClick:c("emptyFunction")};f.exports=l}),null);
__d("NotificationListItemReadToggle.react",["cx","fbt","React","ReadToggle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){var l=k.isRead,m=k.canMarkUnread,n=k.onToggleClick;return c("React").createElement(c("ReadToggle.react"),{className:"_55m9 _55ma",isRead:l,onClick:n,readLabel:m?i._("Mark as Unread"):i._("Read"),unreadLabel:i._("Mark as Read")})}f.exports=j}),null);
__d("NotificationListItemBase.react",["csx","cx","invariant","AsyncDialog","AsyncResponse","BizSiteIdentifier.brands","Bootloader","LogicalGridCell.react","LogicalGridRow.react","NotificationConstants","NotificationListConfig","NotificationListItemChevron.react","NotificationListItemContents.react","NotificationListItemOptionConfirmation.react","NotificationListItemReadToggle.react","NotificationTracking","NotificationUpdates","NotificationUserActions","NotifTestIDs","Parent","React","ReactDOM","Style","URI","compactArray","createObjectFrom","idx"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("BizSiteIdentifier.brands").isBizSite(),n=-1;function o(q){if(q.length===0)return;var r=q[0],s=r.description,t=r.is_silent,u=r.is_transient,v=r.message,w=new(c("AsyncResponse"))();w.errorSummary=s;w.errorDescription=v;w.silentError=t;w.transientError=u;c("AsyncResponse").defaultErrorHandler(w)}k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(){__p&&__p();var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.prefetched=false,this.isLiveVideo=null,this.$NotificationListItemBase1=false,this.state={actionsTaken:[],sendingFeedback:false},this.$NotificationListItemBase4=function(){c("NotificationUserActions").setNextIsFromReadButton(true);if(this.props.isRead){if(this.props.canMarkUnread)if(this.props.onMarkItemUnread)this.props.onMarkItemUnread()}else if(this.props.onMarkItemRead)this.props.onMarkItemRead()}.bind(this),this.$NotificationListItemBase7=function(v){__p&&__p();var w,x,y=this,z=(w=v)!=null?(w=w.client_info)!=null?w.action_type:w:w;if(z==null)return;if(z==="REPORT_BUG"){var A=new(c("URI"))("/ajax/bugs/employee_report").setQueryData({client_notifs:JSON.stringify(this.props.getDebugData()),notif_alert_id:this.$NotificationListItemBase3()});c("AsyncDialog").bootstrap(A.toString(),null,"dialog")}else if(z==="OPEN_IN_INSPECTOR"){var B,C=(B=v)!=null?(B=B.option_display)!=null?(B=B.subtext)!=null?B.text:B:B:B;C!=null||j(0);window.open(C,"_blank")}else{var x=function(){__p&&__p();var D=v.server_action;if(D==null)return{v:void 0};y.setState({sendingFeedback:true});c("NotificationUserActions").sendNotifOption(D).done(function(E){if(this.$NotificationListItemBase1)return;this.setState(function(F){var G,H,I,J=(G=E)!=null?(G=G.notif_option_action)!=null?(G=G.notification)!=null?(G=G.notif_option_sets)!=null?(G=G.edges)!=null?(G=G[0])!=null?(G=G.node)!=null?(G=G.notif_options)!=null?G.edges:G:G:G:G:G:G:G:G,K=babelHelpers["extends"]({},F,{actionsTaken:F.actionsTaken.concat([{actionToken:D,type:z,nextNotificationOptions:J&&c("compactArray")(J.map(function(L){var M=L.node;return M})),undoText:(H=v)!=null?(H=H.option_display)!=null?H.undo_text:H:H,undoToken:(I=v)!=null?(I=I.client_info)!=null?I.undo_server_action:I:I}]),sendingFeedback:false});c("NotificationUpdates").handleUpdate(c("NotificationConstants").PayloadSourceType.USER_ACTION,{hiddenState:c("createObjectFrom")([this.$NotificationListItemBase3()],this.$NotificationListItemBase10(K))});return K}.bind(this))}.bind(y),y.$NotificationListItemBase12)}();if(typeof x==="object")return x.v}}.bind(this),this.$NotificationListItemBase13=function(){__p&&__p();var v=this.$NotificationListItemBase3();this.setState({sendingFeedback:true});var w=this.state.actionsTaken[this.state.actionsTaken.length-1];if(w&&w.undoToken!=null)c("NotificationUserActions").sendNotifOption(w.undoToken).done(function(x){if(this.$NotificationListItemBase1)return;this.setState(function(y){var z=babelHelpers["extends"]({},y,{actionsTaken:y.actionsTaken.slice(0,this.state.actionsTaken.length-1),sendingFeedback:false});c("NotificationUpdates").handleUpdate(c("NotificationConstants").PayloadSourceType.USER_ACTION,{hiddenState:c("createObjectFrom")([v],this.$NotificationListItemBase10(z))});return z}.bind(this))}.bind(this),this.$NotificationListItemBase12)}.bind(this),this.$NotificationListItemBase12=function(v){var w=v.errors;if(this.$NotificationListItemBase1)return;o(w);this.setState({sendingFeedback:false})}.bind(this),r}p.prototype.$NotificationListItemBase3=function(){"use strict";return this.props.notification.alert_id};p.prototype.$NotificationListItemBase5=function(){"use strict";var q=this.props,r=q.canMarkUnread,s=q.isRead;return c("React").createElement(c("NotificationListItemReadToggle.react"),{canMarkUnread:r,isRead:!!s,onToggleClick:this.$NotificationListItemBase4})};p.prototype.$NotificationListItemBase6=function(){var q;"use strict";var r=this.props,s=r.onChevronHide,t=r.onChevronShow,u=r.notification,v=u.alert_id,w=u.notif_option_sets,x=u.notif_type,y=u.renderer_data,z=false;if(y&&(y.__typename==="FallbackNotificationRendererData"||y.__typename==="LiveVideoNotificationRendererData")&&y.should_log_menu_exposure!=null)z=y.should_log_menu_exposure;var A=(q=w)!=null?(q=q.edges)!=null?(q=q[0])!=null?(q=q.node)!=null?(q=q.notif_options)!=null?q.edges:q:q:q:q:q;return c("React").createElement(c("NotificationListItemChevron.react"),{alert_id:v,className:"_55m9",notif_type:x,notificationOptions:A&&c("compactArray")(A.map(function(B){var C=B.node;return C})),onHide:s,onMenuOptionClick:this.$NotificationListItemBase7,onShow:t,logMenuExposure:z})};p.prototype.shouldComponentUpdate=function(q,r){"use strict";var s=this.props.visible!==q.visible||this.props.isRead!==q.isRead||this.props.isSelected!==q.isSelected||this.props.notification.timestamp!==q.notification.timestamp||this.state.actionsTaken.length!==r.actionsTaken.length||this.state.sendingFeedback!==r.sendingFeedback;return s||!!this.props.hasCustomForeground&&this.props.paused!==q.paused};p.prototype.componentWillUpdate=function(q){"use strict";if(!this.$NotificationListItemBase2||!q.isSelected||this.props.isSelected)return;var r=c("ReactDOM").findDOMNode(this.$NotificationListItemBase2);r&&r.scrollIntoViewIfNeeded&&r.scrollIntoViewIfNeeded(false)};p.prototype.componentWillReceiveProps=function(q){"use strict";if(this.props.paused&&!q.paused&&!this.props.visible&&this.state.actionsTaken.length>0)this.setState({actionsTaken:[]})};p.prototype.componentDidMount=function(){"use strict";if(this.$NotificationListItemBase8())c("Bootloader").loadModules(["VideoPlayerMetaData"],function(q){q.genVideoData(this.$NotificationListItemBase9()).done()}.bind(this),"NotificationListItemBase.react")};p.prototype.componentDidUpdate=function(){"use strict";if(this.props.enableHubView&&this.props.isSelected&&this.$NotificationListItemBase2){var q=c("ReactDOM").findDOMNode(this.$NotificationListItemBase2);if(q&&typeof q.focus=="function")q.focus()}};p.prototype.$NotificationListItemBase10=function(){var q=arguments.length<=0||arguments[0]===undefined?this.state:arguments[0];"use strict";return q.actionsTaken.some(function(r){return r.type==="HIDE"})};p.prototype.$NotificationListItemBase11=function(){"use strict";var q=c("ReactDOM").findDOMNode(this);if(!q)return false;var r=c("Parent").bySelector(q,".__tw"),s=r?r.parentNode:null;return s?c("Style").get(s,"display")!=="none":false};p.prototype.$NotificationListItemBase14=function(q){"use strict";if(this.state.actionsTaken.length>=2)return null;var r={};this.state.actionsTaken.forEach(function(s){r[s.actionToken]=true});return q.filter(function(s){var t=s.server_action;return t==null||r[t]!==true})};p.prototype.$NotificationListItemBase9=function(){"use strict";var q=c("NotificationTracking").getEncodedTrackingData(this.props.notification,this.props.row);return q.content_id||null};p.prototype.$NotificationListItemBase8=function(){"use strict";if(this.isLiveVideo===null){var q=c("NotificationTracking").getTrackingString(this.props.notification,this.props.row);this.isLiveVideo=q.indexOf("live_video")!==-1}return!!this.isLiveVideo};p.prototype.render=function(){"use strict";__p&&__p();if(!this.props.visible&&!this.$NotificationListItemBase10())return c("React").createElement("li",{className:"_4_62"});var q="_33c"+(c("NotificationListConfig").isWork?" _1rqj":"")+(!this.props.isRead?" jewelItemNew":"")+(this.state.sendingFeedback?" _4m8s":"")+(this.props.hasCustomForeground?" _3u5n":"")+(this.props.isSelected?" _u-o":""),r=c("NotificationTracking").getTrackingString(this.props.notification,this.props.row),s=this.props.rowIndex;if(this.state.actionsTaken.length>0){var t=this.state.actionsTaken[this.state.actionsTaken.length-1];return c("React").createElement("li",{className:q,"data-gt":r,"data-testid":c("NotifTestIDs").NOTIF_LIST_ITEM},c("React").createElement(c("LogicalGridRow.react"),{className:"_dre",rowIndex:s,component:c("React").createElement("div",null)},c("React").createElement(c("LogicalGridCell.react"),{columnIndex:0,component:c("React").createElement("div",null)},c("React").createElement(c("NotificationListItemOptionConfirmation.react"),{notificationOptions:t.nextNotificationOptions?this.$NotificationListItemBase14(t.nextNotificationOptions):null,onUndoClick:this.$NotificationListItemBase13,onMenuOptionClick:this.$NotificationListItemBase7,undoText:t.undoText,undoToken:t.undoToken}))))}var u=c("React").createElement(c("NotificationListItemContents.react"),this.props),v=this.props.renderLink(u);return c("React").createElement("li",{className:q,"data-gt":r,"data-alert-id":this.$NotificationListItemBase3(),"data-testid":c("NotifTestIDs").NOTIF_LIST_ITEM},c("React").createElement(c("LogicalGridRow.react"),{className:"_dre anchorContainer",rowIndex:s,component:c("React").createElement("div",null)},c("React").createElement(c("LogicalGridCell.react"),{columnIndex:0,component:c("React").createElement("div",null)},v),c("React").createElement("ul",{className:"_55mc"},c("React").createElement(c("LogicalGridCell.react"),{columnIndex:1,component:c("React").createElement("li",{className:"_h_c"})},this.$NotificationListItemBase5()),c("React").createElement(c("LogicalGridCell.react"),{columnIndex:2,component:c("React").createElement("li",{className:"_h_d"}),disableFocusRecovery:true},this.$NotificationListItemBase6()))))};f.exports=p}),null);
__d("XLiveVideoLoadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/live/video/load/",{video_id:{type:"FBID",required:true}})}),null);
__d("NotificationListRendererUtils",["AsyncRequest","Bootloader","NotificationURI","PageTransitions","URI","VideoChainingCaller","XLiveVideoLoadController","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=10;function i(event,m){c("Bootloader").loadModules(["FBStoriesLiveNotificationHandler"],function(n){n.renderLiveStory(m)},"NotificationListRendererUtils")}function j(event,m,n){c("Bootloader").loadModules(["TahoeController"],function(o){var p,q=c("NotificationURI").localize(new(c("URI"))(n.url)),r=m.video_channel_caller;o.openFromVideoLink(new(c("URI"))(q),{channelID:m.video_channel_id,caller:r?(p=c("VideoChainingCaller"))!=null?p[r]:p:null})},"NotificationListRendererUtils")}function k(event,m,n){c("Bootloader").loadModules(["VideoChannelHandleLink"],function(o){o.openChannel(m.video_channel_id,m.video_channel_caller,m.video_id);var p=new(c("URI"))(c("NotificationURI").localize(new(c("URI"))(n.url))),q=function q(p){if(p.getQueryData().ref!=="notif_channel")return false;c("PageTransitions").transitionComplete();return true};c("PageTransitions").registerHandler(q,h);c("PageTransitions").go(new(c("URI"))(p.getPath()).addQueryData("ref","notif_channel"))},"NotificationListRendererUtils")}var l={openNotification:function m(event,n){var o=n.renderer_data;if(o.__typename==="LiveVideoNotificationRendererData"){event.preventDefault();var p=c("XLiveVideoLoadController").getURIBuilder().setFBID("video_id",o.video_id).getURI(),q=new(c("AsyncRequest"))(p).setHandler(function(r){if(r.payload)l.openNotificationInSurface(event,n);else c("PageTransitions").go(n.url)});q.send()}},openNotificationInSurface:function m(event,n){var o=n.renderer_data;if(o.bucket_data)i(event,o);else if(o.can_render_in_tahoe)j(event,o,n);else if(!o.can_render_in_tahoe&&o.video_channel_id)k(event,o,n)}};f.exports=l}),null);
__d("NotificationListItem.react",["cx","Bootloader","Event","Keys","Link.react","NotificationListConfig","NotificationListDelights.react","NotificationListDelightUtils","NotificationListItemBase.react","NotificationListRendererUtils","NotificationURI","NotificationUserActions","PageTransitions","React","URI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$NotificationListItem6=function(q){this.props.onClick&&this.props.onClick(this.$NotificationListItem4());this.$NotificationListItem7(q);c("NotificationListRendererUtils").openNotification(q,this.props.notification)}.bind(this),this.$NotificationListItem8=function(q){if(c("Event").getKeyCode(q.nativeEvent)==c("Keys").RETURN){var r=this.$NotificationListItem4();this.props.onSelected&&this.props.onSelected(r);this.$NotificationListItem7(q)}}.bind(this),this.$NotificationListItem7=function(q){var r=this.$NotificationListItem4();if(this.props.onRead&&q)this.props.onRead(r);c("NotificationUserActions").markNotificationsAsRead([r],null)}.bind(this),this.$NotificationListItem9=function(){var q=this.$NotificationListItem4();c("NotificationUserActions").markNotificationsAsUnread([q],null)}.bind(this),this.$NotificationListItem11=function(q){var r=c("NotificationURI").localize(new(c("URI"))(this.props.notification.url));return c("React").createElement("a",babelHelpers["extends"]({},this.props.notification.primerAttributes,{href:r,role:"button",tabIndex:0,className:"_33e _1_0e",onClick:this.$NotificationListItem5.bind(this,r),onClickCapture:this.$NotificationListItem6,onKeyUp:this.$NotificationListItem8}),q,this.$NotificationListItem10())}.bind(this),m}k.prototype.$NotificationListItem2=function(){return c("NotificationListConfig").canMarkUnread||(this.props.enableHubView||false)&&c("NotificationListConfig").canMarkUnreadInHub};k.prototype.$NotificationListItem3=function(){var l=this.props,m=l.notification,n=l.isRead,o=l.rowIndex;return c("NotificationListDelightUtils").canShowHeartDelight(m,n,o)};k.prototype.$NotificationListItem4=function(){return this.props.notification.alert_id};k.prototype.$NotificationListItem5=function(l,m){__p&&__p();var n,o=this.props.notification,p=o.primerAttributes,q=o.url;if(p&&p.ajaxify)(function(){var u=new(c("URI"))(p.ajaxify),v=u.getQueryData(),w=v.app_id,x=v.page_id,y=v.post_id,z=v.ref;if(z==="aymt_auto_opened_dialog")c("Bootloader").loadModules(["BoostedComponentAYMTActionsV2"],function(A){A.aymtAutoOpenDialogLinkClick(w,x,y,"",z)},"NotificationListItem.react")})();else if(q){var r=new(c("URI"))(q),s=r.getQueryData(),t=s.aymt_tip;if(t==="1")c("PageTransitions").go(r.addQueryData("aymt_link_click",Date.now()))}};k.prototype.$NotificationListItem10=function(){if(!this.$NotificationListItem3()||!this.props.paused)return null;return c("React").createElement(c("NotificationListDelights.react"),{notification:this.props.notification,rowIndex:this.props.rowIndex})};k.prototype.render=function(){return c("React").createElement(c("NotificationListItemBase.react"),babelHelpers["extends"]({},this.props,{canMarkUnread:this.$NotificationListItem2(),hasCustomForeground:this.$NotificationListItem3(),renderLink:this.$NotificationListItem11,onMarkItemRead:this.$NotificationListItem7,onMarkItemUnread:this.$NotificationListItem9,hideIcon:false}))};f.exports=k}),null);
__d("NotificationListPropTypes",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i={tracking:h.string,notifs:h.object,afterScroll:h.func,onChevronShow:h.func,onChevronHide:h.func,onRead:h.func,canFetchMore:h.bool,hiddenState:h.object,readState:h.object,showingChevron:h.bool,paused:h.bool,maxHeight:h.number,shouldScroll:h.bool,listItemRenderer:h.func};f.exports=i}),null);
__d("NotificationVPVs",["MarauderLogger","Set","getElementRect"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("Set"))();function i(o){if(j(o))return;c("MarauderLogger").log("notifications_vpv",undefined,null,"notification",o);h.add(o)}function j(o){return h.has(o)}function k(){h.clear()}function l(o,p){if(!o||!p)return false;return!(o.bottom<p.top||o.top>p.bottom||o.right<p.left||o.left>p.right)}function m(o){var p=c("getElementRect")(o);if(!p||p.top==0&&p.bottom==0&&p.left==0&&p.right==0)return null;return p}var n={logImpression:i,clearImpressions:k,hasLoggedImpression:j,getValidatedRectangle:m,areRectsOverlapping:l};f.exports=n}),null);
__d("WebNotificationsBottomCollisionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:WebNotificationsBottomCollisionsLoggerConfig",this.$WebNotificationsBottomCollisionsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:WebNotificationsBottomCollisionsLoggerConfig",this.$WebNotificationsBottomCollisionsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$WebNotificationsBottomCollisionsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$WebNotificationsBottomCollisionsTypedLogger1=babelHelpers["extends"]({},this.$WebNotificationsBottomCollisionsTypedLogger1,j);return this};h.prototype.setVC=function(j){this.$WebNotificationsBottomCollisionsTypedLogger1.vc=j;return this};var i={vc:true};f.exports=h}),null);
__d("NotificationJewelList.react",["cx","fbt","Animation","ErrorBoundary.react","Event","EventProfiler","FunnelLogger","JewelLogger","LogicalGrid.react","NotificationBucket.react","NotificationJewelFunnelLoggingConstants","NotificationListConfig","NotificationListItem.react","NotificationListPropTypes","NotificationVPVs","NotifTestIDs","QE2Logger","React","ReactDOM","ScrollableArea.react","SubscriptionsHandler","TimeSlice","Vector","WebNotificationsBottomCollisionsTypedLogger","XUISpinner.react","debounce","getObjectValues","isEmpty","performanceNowNoFallback","throttle"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_NAME,m=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_EVENT,n=c("NotificationListConfig").numStoriesFromEndBeforeAFetchIsTriggered,o=160,p=530,q=61,r=Math.ceil(q*n),s=430,t=void 0;function u(w){if(t!=w){new(c("WebNotificationsBottomCollisionsTypedLogger"))().log();t=w}}j=babelHelpers.inherits(v,c("React").Component);k=j&&j.prototype;function v(){__p&&__p();var w,x;"use strict";for(var y=arguments.length,z=Array(y),A=0;A<y;A++)z[A]=arguments[A];return x=(w=k.constructor).call.apply(w,[this].concat(z)),this.state={lastMeasuredHeight:null},this.$NotificationJewelList2=[],this.$NotificationJewelList6=new(c("SubscriptionsHandler"))(),this.$NotificationJewelList7=false,this.$NotificationJewelList8=false,this.$NotificationJewelList11=function(){__p&&__p();if(!this.$NotificationJewelList3||!this.$NotificationJewelList5)return;var B=c("ReactDOM").findDOMNode(this.$NotificationJewelList3);if(!B)return;var C=c("ReactDOM").findDOMNode(this.$NotificationJewelList5);if(!C)return;var D=c("NotificationVPVs").getValidatedRectangle(C);if(this.props.afterScroll){var E=function(){this.props.afterScroll(this.$NotificationJewelList9(),B,D)}.bind(this),F=c("Vector").getElementDimensions(C).y,G=this.$NotificationJewelList5&&this.$NotificationJewelList5.getArea();if(G&&G.getContentHeight()>0&&this.$NotificationJewelList7===false&&c("performanceNowNoFallback")&&c("getObjectValues")(this.props.notifs).length>0){this.$NotificationJewelList7=true;c("JewelLogger").logJewelListComponentEvent({jewelName:"notifications",eventName:"list_population_initial",timestamp:c("performanceNowNoFallback")()})}if(G&&F>0&&G.getContentHeight()>=F){if(this.$NotificationJewelList8===false&&c("performanceNowNoFallback")){this.$NotificationJewelList8=true;c("JewelLogger").logJewelListComponentEvent({jewelName:"notifications",eventName:"list_populated",timestamp:c("performanceNowNoFallback")()})}c("TimeSlice").guard(E,"NotificationJewelList afterScrollCallback",{isContinuation:false})()}else E()}}.bind(this),this.$NotificationJewelList12=function(){return c("getObjectValues")(this.props.notifs).map(function(B){return JSON.stringify(B)})}.bind(this),this.$NotificationJewelList16=function(B,C){__p&&__p();var D,E=this,F=this.$NotificationJewelList13(C);if(B.ids&&B.ids.length){var D=function(){var G=E.props.notifs,H=B.ids.filter(function(I){return!!G[I]});if(H.length===0)return{v:null}}();if(typeof D==="object")return D.v}return c("React").createElement("li",{key:C},c("React").createElement(c("NotificationBucket.react"),{bucket:B,listRenderer:this.$NotificationJewelList17,startIndex:F}))}.bind(this),this.$NotificationJewelList17=function(B,C){C=C||0;return B.map(function(D,E){var F=this.props.notifs[D];if(!F)return null;var G=E+C;return this.$NotificationJewelList18(F,G,G)}.bind(this))}.bind(this),this.$NotificationJewelList19=function(){this.setState(function(B){return babelHelpers["extends"]({},B,{lastMeasuredHeight:this.$NotificationJewelList10()})}.bind(this))}.bind(this),this.$NotificationJewelList20=function(){var B=c("debounce")(this.$NotificationJewelList19);this.$NotificationJewelList6.addSubscriptions(B);return B}.bind(this)(),this.$NotificationJewelList23=function(){c("FunnelLogger").appendAction(l,m.SCROLL_TO_FETCH);this.$NotificationJewelList11()}.bind(this),this.$NotificationJewelList24=c("throttle").acrossTransitionsWithBlocking(this.$NotificationJewelList23),x}v.prototype.$NotificationJewelList9=function(){"use strict";__p&&__p();if(!this.$NotificationJewelList4||!this.$NotificationJewelList5)return false;var w=c("ReactDOM").findDOMNode(this.$NotificationJewelList5);if(!w)return false;var x=c("ReactDOM").findDOMNode(this.$NotificationJewelList4);if(!x)return false;var y=c("Vector").getElementDimensions(w).y;if(y===0)return false;var z=c("Vector").getElementPosition(w).y+y,A=c("Vector").getElementPosition(x).y,B=this.$NotificationJewelList5&&this.$NotificationJewelList5.getArea();if(B&&B.getScrollTop()>0&&A<z)u(c("getObjectValues")(this.props.notifs).length);c("QE2Logger").logExposureForUser("www_notifications_perf_h2_2017");return A-r<z};v.prototype.$NotificationJewelList10=function(){"use strict";var w=c("Vector").getViewportDimensions().y,x=Math.min(this.props.maxHeight||p,w-o);return x};v.prototype.$NotificationJewelList13=function(w){"use strict";return this.$NotificationJewelList2.slice(0,w).reduce(function(x,y){return x+y},0)};v.prototype.$NotificationJewelList14=function(w){"use strict";this.$NotificationJewelList2=w?w.map(function(x){return x.ids.length}):[]};v.prototype.$NotificationJewelList15=function(){"use strict";if(!this.props.buckets)return null;return this.props.buckets.map(this.$NotificationJewelList16)};v.prototype.$NotificationJewelList18=function(w,x,y){"use strict";var z=w.alert_id;return c("React").createElement(c("ErrorBoundary.react"),{key:z},c("React").createElement(c("NotificationListItem.react"),{getDebugData:this.$NotificationJewelList12,isRead:this.props.readState[z],onChevronHide:this.props.onChevronHide,onChevronShow:this.props.onChevronShow,onClick:this.props.onClick,onRead:this.props.onRead,parent:this,paused:this.props.paused,row:x,rowIndex:y,shortenTimestamp:this.props.shortenTimestamp,visible:!this.props.hiddenState[z],notification:w}))};v.prototype.$NotificationJewelList21=function(w){"use strict";if(this.props.onNumNotificationsViewableChange)this.props.onNumNotificationsViewableChange(w/q)};v.prototype.componentWillMount=function(){"use strict";this.$NotificationJewelList14(this.props.buckets);this.$NotificationJewelList6.addSubscriptions(c("Event").listen(window,"resize",this.$NotificationJewelList20));this.$NotificationJewelList19()};v.prototype.componentDidMount=function(){"use strict";var w=this.state.lastMeasuredHeight;if(w!=null)this.$NotificationJewelList21(w);if(c("performanceNowNoFallback"))c("JewelLogger").logJewelListComponentEvent({jewelName:"notifications",eventName:"list_did_mount",timestamp:c("performanceNowNoFallback")()})};v.prototype.componentWillReceiveProps=function(w){"use strict";if(w.buckets===this.props.buckets)return;this.$NotificationJewelList14(w.buckets)};v.prototype.componentDidUpdate=function(w,x){"use strict";__p&&__p();if(this.props.paused&&!w.paused)if(this.props.shouldScroll&&this.$NotificationJewelList5){var y=this.$NotificationJewelList5.getArea();if(y)y.scrollToTop(false)}var z=this.state.lastMeasuredHeight;if(z!=null&&z!==x.lastMeasuredHeight){this.$NotificationJewelList21(z);if(this.$NotificationJewelList1){this.$NotificationJewelList1.stop();delete this.$NotificationJewelList1}if(!c("isEmpty")(this.props.notifs)){var A=c("ReactDOM").findDOMNode(this.$NotificationJewelList5);if(A)this.$NotificationJewelList1=new(c("Animation"))(A).to("height",z+"px").duration(100).go()}}var B=setTimeout(this.$NotificationJewelList11,0);this.$NotificationJewelList6.addSubscriptions({remove:function C(){clearTimeout(B)}})};v.prototype.componentWillUnmount=function(){"use strict";this.$NotificationJewelList6.release();if(this.$NotificationJewelList1){this.$NotificationJewelList1.stop();delete this.$NotificationJewelList1}};v.prototype.$NotificationJewelList22=function(w,x){"use strict";return x.indexOf(w)};v.prototype.$NotificationJewelList25=function(){"use strict";if(this.props.buckets&&this.props.buckets.length)return this.$NotificationJewelList15();var w=c("getObjectValues")(this.props.notifs).filter(Boolean).map(function(x){return x.alert_id});return c("getObjectValues")(this.props.notifs).filter(Boolean).map(function(x,y){var z=x.alert_id,A=this.$NotificationJewelList22(z,w);return this.$NotificationJewelList18(x,A,y)}.bind(this))};v.prototype.render=function(){"use strict";__p&&__p();var w=this.props.notifs,x=null,y=null,z=s,A=null,B=c("React").createElement("ul",{"data-gt":this.props.tracking,"data-testid":c("NotifTestIDs").REACT_NOTIF_LIST});if(!c("isEmpty")(w)){x=c("React").createElement(c("LogicalGrid.react"),{ref:function(G){return this.$NotificationJewelList3=G}.bind(this),component:B},this.$NotificationJewelList25());y=this.state.lastMeasuredHeight}else if(!this.props.canFetchMore)x=c("React").createElement("div",{className:"_572e","data-testid":c("NotifTestIDs").REACT_NOTIF_LIST},i._("No new notifications"));if(this.props.canFetchMore)A=c("React").createElement(c("XUISpinner.react"),{ref:function(G){return this.$NotificationJewelList4=G}.bind(this),paused:!this.props.currentlyFetching,className:"jewelLoading"});var C=null;if(this.props.upsell){var D=this.props.upsell.module;C=c("React").createElement(D,this.props.upsell.props)}var E="_50-t"+(this.props.showingChevron?" _2iy1":""),F=c("React").createElement(c("ScrollableArea.react"),{ref:function(G){return this.$NotificationJewelList5=G}.bind(this),width:z,fade:true,persistent:true,onScroll:this.$NotificationJewelList24},x,A);return c("React").createElement("div",{style:y?{height:y+"px"}:{},className:E},F,C)};v.propTypes=c("NotificationListPropTypes");f.exports=v}),null);
__d("NotificationList.react",["Arbiter","FunnelLogger","NotificationBucketStore","NotificationConstants","NotificationHiddenState","NotificationJewelFunnelLoggingConstants","NotificationListConfig","NotificationsDefaultEndpointURI","NotificationSeenState","NotificationStore","NotificationUpdates","NotificationUserActions","NotificationVPVs","NotifType","React","SubscriptionsHandler","TimeSlice","getObjectValues","isEmpty","mapObject"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_NAME,k=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_EVENT,l=c("React").PropTypes,m=c("NotificationConstants").PayloadSourceType.LIVE_SEND,n="notification_clicked";function o(q){return{classification:q.classification,endpointURI:q.endpoint!=null?q.endpoint:c("NotificationsDefaultEndpointURI"),readness:q.readness}}h=babelHelpers.inherits(p,c("React").Component);i=h&&h.prototype;function p(q){__p&&__p();var r;"use strict";for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];(r=i.constructor).call.apply(r,[this,q].concat(t));this.$NotificationList1={};this.$NotificationList2=false;this.$NotificationList3=new(c("SubscriptionsHandler"))();this.$NotificationList4=0;this.$NotificationList9=function(){var x={};Object.keys(this.$NotificationList1).forEach(function(y){var z=c("NotificationHiddenState").isHidden(y);if(z!=this.state.hiddenState[y])x[y]=z}.bind(this));if(!c("isEmpty")(x))this.setState({hiddenState:babelHelpers["extends"]({},this.state.hiddenState,x)});this.$NotificationList1={};this.$NotificationList8(c("NotificationStore").getCount(o(this.props)))}.bind(this);this.$NotificationList11=function(x,y,z){if(this.state.currentlyFetching||!this.state.canFetchMore)return;if(x){c("FunnelLogger").appendAction(j,k.FETCH_NEXT_SET);this.$NotificationList10()}this.$NotificationList12(y,z)}.bind(this);this.$NotificationList13=function(){this.setState({showingChevron:true})}.bind(this);this.$NotificationList14=function(){this.setState({showingChevron:false})}.bind(this);this.$NotificationList17=function(x){c("Arbiter").inform(n,{endpointConfig:o(this.props),alertID:x})}.bind(this);this.$NotificationList18=function(x){if(this.props.paused&&this.props.readness==="UNREAD"){var y=babelHelpers["extends"]({},this.state.readWhilePausedOrNavigating);y[x]=true;this.setState({readWhilePausedOrNavigating:y})}}.bind(this);this.$NotificationList19=function(x){this.$NotificationList4=x}.bind(this);var v=o(q);c("NotificationStore").registerEndpoint(v);var w=c("NotificationStore").getAll(v);this.state={currentlyFetching:false,canFetchMore:c("NotificationStore").canFetchMore(v),notifs:w,hiddenState:c("mapObject")(w,function(x,y){return c("NotificationHiddenState").isHidden(y)}),readState:c("mapObject")(w,function(x,y){return c("NotificationSeenState").isRead(y)}),showingChevron:false,readWhilePausedOrNavigating:{}}}p.prototype.componentWillMount=function(){"use strict";__p&&__p();c("FunnelLogger").appendAction(j,k.FETCH_NOTIFICATIONS);this.$NotificationList3.addSubscriptions(c("NotificationUpdates").subscribe("notifications-updated",function(q,r){if(r.source==m&&!c("isEmpty")(r.updates)){this.$NotificationList2=true;var s=this.props.paused;if(s){this.$NotificationList1=babelHelpers["extends"]({},this.$NotificationList1,r.updates);return}}this.$NotificationList5(c("NotificationStore").getAll(o(this.props)))}.bind(this)),c("NotificationUpdates").subscribe(["hidden-state-updated","read-state-updated"],function(q,r){__p&&__p();if(q=="hidden-state-updated"){if(r.source!==m||!this.props.paused){var s=c("mapObject")(r.updates,function(u,v){return c("NotificationHiddenState").isHidden(v)});this.setState({hiddenState:babelHelpers["extends"]({},this.state.hiddenState,s)})}}else{var t=c("mapObject")(r.updates,function(u,v){return c("NotificationSeenState").isRead(v)});this.setState({readState:babelHelpers["extends"]({},this.state.readState,t)})}}.bind(this)))};p.prototype.componentWillUnmount=function(){"use strict";this.$NotificationList3.release()};p.prototype.componentWillReceiveProps=function(q){"use strict";if(!this.$NotificationList6(q)&&q.paused)return;if(this.props.enableHubView&&this.props.readness==="UNREAD")return;this.setState({readWhilePausedOrNavigating:{}})};p.prototype.$NotificationList6=function(q){"use strict";return q.classification!==this.props.classification||q.readness!==this.props.readness};p.prototype.$NotificationList7=function(q){"use strict";__p&&__p();var r=Object.keys(this.state.notifs),s=Object.keys(q).filter(function(u){return!this.state.notifs[u]}.bind(this));r=r.concat(s);var t={};r.forEach(function(u){if(this.$NotificationList1[u]){if(this.state.notifs[u])t[u]=this.state.notifs[u]}else t[u]=q[u]||this.state.notifs[u]}.bind(this));return t};p.prototype.$NotificationList5=function(q){"use strict";var r=c("isEmpty")(this.$NotificationList1)?q:this.$NotificationList7(q),s={},t={};c("getObjectValues")(r).forEach(function(v){var w=v.alert_id;s[w]=c("NotificationSeenState").isRead(w);t[w]=c("NotificationHiddenState").isHidden(w)});var u=o(this.props);this.setState({notifs:r,canFetchMore:c("NotificationStore").canFetchMore(u)||c("NotificationStore").getCount(u)!==Object.keys(r).length,readState:babelHelpers["extends"]({},this.state.readState,s),hiddenState:babelHelpers["extends"]({},this.state.hiddenState,t)})};p.prototype.$NotificationList8=function(q){"use strict";this.setState({currentlyFetching:true});this.$NotificationList3.addSubscriptions(c("NotificationStore").getNotifications(q,o(this.props),function(r){this.setState({currentlyFetching:false});this.$NotificationList5(r)}.bind(this)))};p.prototype.$NotificationList10=function(){"use strict";if(!this.state.currentlyFetching){var q=Object.keys(this.state.notifs).length;this.$NotificationList8(q+this.props.numPerPage)}};p.prototype.$NotificationList12=function(q,r){"use strict";__p&&__p();if(!q||!r)return;for(var s=0,t=q.children.length;s<t;s++){var u=q.children[s];if(u){var v=u.getAttribute("data-alert-id");if(v&&!c("NotificationVPVs").hasLoggedImpression(v)){var w=c("NotificationVPVs").getValidatedRectangle(u);if(w&&c("NotificationVPVs").areRectsOverlapping(r,w))c("NotificationVPVs").logImpression(v)}}}};p.prototype.$NotificationList15=function(q){"use strict";if(c("NotificationListConfig").requestFullViewportOfNotificationsOnFirstOpen){var r=Math.max(this.props.numPerPage,Math.ceil(this.$NotificationList4));if(r>0)this.$NotificationList8(r)}else if(q.length>this.props.numPerPage)this.$NotificationList8(q.length);else this.$NotificationList10()};p.prototype.$NotificationList16=function(q){"use strict";__p&&__p();var r=c("NotificationSeenState").getUnseenIDs();if(!c("isEmpty")(this.$NotificationList1))r=r.filter(function(s){return!this.$NotificationList1[s]}.bind(this));if(r.length&&(this.props.paused||this.props.enableHubView))c("TimeSlice").guard(function(){return c("NotificationUserActions").markNotificationsAsSeen(r)},"NotificationList _populateList markNotificationsAsSeen",{isContinuation:false})();if(this.props.hasEverBeenOpened)if(!q||!q.hasEverBeenOpened)this.$NotificationList15(r)};p.isReaction=function(q){"use strict";return q===c("NotifType").LIKE||q===c("NotifType").OPEN_GRAPH_ACTION_LIKE||q===c("NotifType").LIKE_TAGGED||q===c("NotifType").PAGE_FAN||q===c("NotifType").IG_MEDIA_LIKE||q===c("NotifType").FEEDBACK_REACTION_GENERIC||q===c("NotifType").FEEDBACK_REACTION_GENERIC_TAGGED||q===c("NotifType").MESSENGER_REACTIONS};p.prototype.componentDidUpdate=function(q){__p&&__p();var r,s=this,t;"use strict";this.$NotificationList16(q);if(q.paused&&!this.props.paused){var r=function(){s.$NotificationList2=false;var u=setTimeout(s.$NotificationList9,0);s.$NotificationList3.addSubscriptions({remove:function v(){clearTimeout(u)}});return{v:void 0}}();if(typeof r==="object")return r.v}if(this.props.paused&&this.$NotificationList6(q)){var t=function(){var u=setTimeout(s.$NotificationList9,0);s.$NotificationList3.addSubscriptions({remove:function v(){clearTimeout(u)}});return{v:void 0}}();if(typeof t==="object")return t.v}};p.prototype.componentDidMount=function(){"use strict";this.$NotificationList16()};p.prototype.render=function(){__p&&__p();var q;"use strict";var r=this.props.listRenderer,s=this.state,t=s.notifs,u=s.readState,v=s.readWhilePausedOrNavigating,w={};if(this.props.readness==null)w=t;else Object.keys(t).forEach(function(z){var A=t[z],B=A.alert_id,C=u[B];if(this.props.readness==="UNREAD")C=!C||Object.prototype.hasOwnProperty.call(v,B);if(C)w[B]=A}.bind(this));if(this.props.hideReactions)(function(){var z={};Object.keys(w).forEach(function(A){var B=t[A];if(!p.isReaction(B.notif_type))z[B.alert_id]=B});w=z})();var x=this.props.classification;if(x)Object.keys(t).forEach(function(z){var A=t[z];if(!A.classifications||!A.classifications.includes(x))delete w[A.alert_id]});var y=!c("NotificationBucketStore").isEmptyBucketListData()?c("NotificationBucketStore").getBucketListData():null;return c("React").createElement(r,{paused:this.props.paused,tracking:this.props.tracking,shortenTimestamp:this.props.shortenTimestamp,maxHeight:this.props.maxHeight,useChevron:this.props.useChevron,chevronType:this.props.chevronType,buckets:y,notifs:w,afterScroll:this.$NotificationList11,onChevronShow:this.$NotificationList13,onChevronHide:this.$NotificationList14,currentlyFetching:this.state.currentlyFetching,canFetchMore:this.state.canFetchMore,hiddenState:this.state.hiddenState,readState:this.state.readState,showingChevron:this.state.showingChevron,shouldScroll:this.$NotificationList2,upsell:this.props.upsell||null,isRHC:this.props.isRHC,enableMarkUnread:this.props.enableMarkUnread,onClick:this.$NotificationList17,onRead:this.$NotificationList18,onNumNotificationsViewableChange:this.$NotificationList19})};p.propTypes={hasEverBeenOpened:l.bool,enableHubView:l.bool,enableMarkUnread:l.bool,maxHeight:l.number,paused:l.bool,tracking:l.string,useChevron:l.bool,chevronType:l.string,numPerPage:l.number.isRequired,listRenderer:l.func.isRequired,upsell:l.object,endpoint:l.string,readness:l.string,classification:l.string};f.exports=p}),null);