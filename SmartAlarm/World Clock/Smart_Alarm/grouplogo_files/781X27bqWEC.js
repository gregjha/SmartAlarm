if (self.CavalryLogger) { CavalryLogger.start_js(["d95Kn"]); }

__d("MessengerInfoPanelManageReview.react",["cx","fbt","Bootloader","ImmutableObject","MercuryIDs","MercuryParticipants","MNCommerceDialogStateActions","React","ShimButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MessengerInfoPanelManageReview2=function(event){event.preventDefault();c("Bootloader").loadModules(["MNCommerceReviewDialogContainer.react"],function(s){c("MNCommerceDialogStateActions").showDialog(s,{pageID:this.props.thread.other_user_fbid,onConfirmButtonClick:this.$MessengerInfoPanelManageReview3})}.bind(this),"MessengerInfoPanelManageReview.react")}.bind(this),o}m.prototype.render=function(){if(!this.$MessengerInfoPanelManageReview1())return null;return c("React").createElement("div",{className:"_3szn _3szo"},c("React").createElement("div",{className:"_3szp"}),c("React").createElement(c("ShimButton.react"),{className:"_3szq",inline:true,onClick:this.$MessengerInfoPanelManageReview2},i._("Leave Feedback")))};m.prototype.$MessengerInfoPanelManageReview1=function(){var n=c("MercuryIDs").getParticipantIDFromFromThreadID(this.props.thread.thread_id);if(!n)return false;var o=c("MercuryParticipants").getNow(n);return!!(o&&o.accepts_messenger_user_feedback)};m.prototype.$MessengerInfoPanelManageReview3=function(n,o,p){if(o===0)return;c("Bootloader").loadModules(["MessengerPlatformBotReviewWriteDataManager"],function(q){q.review(n,o,p.trim())},"MessengerInfoPanelManageReview.react")};m.propTypes={thread:l.instanceOf(c("ImmutableObject")).isRequired,viewer:l.string.isRequired};f.exports=m}),null);