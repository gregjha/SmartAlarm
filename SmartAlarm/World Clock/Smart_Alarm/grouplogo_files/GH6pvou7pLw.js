if (self.CavalryLogger) { CavalryLogger.start_js(["CH34N"]); }

__d("MessengerPlatformCTAShareMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1517047784999597"};j.getQueryID=function(){"use strict";return"156612948261507"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("messengerTextWithEmojiInputReact",["ReasonReact","bs_js_null_undefined","MessengerTextWithEmojiInput.react"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k,l,m,n,o){return c("ReasonReact").wrapJsForReason(c("MessengerTextWithEmojiInput.react"),{className:c("bs_js_null_undefined").from_opt(i),onReturn:c("bs_js_null_undefined").from_opt(j),maxLength:c("bs_js_null_undefined").from_opt(k),onChange:c("bs_js_null_undefined").from_opt(l),placeholder:c("bs_js_null_undefined").from_opt(m),initialValue:c("bs_js_null_undefined").from_opt(n)},o)}g.make=h}),null);
__d("messengerPreviewDialogReact",["ix","cx","fbt","bs_block","bs_curry","React","immutable","imageReact","bs_js_boolean","CurrentUser","fbglyph","ReasonReact","AsyncRequest","bs_js_primitive","MercuryLocalIDs","messengerDialogReact","messengerSpinnerReact","messengerDialogBodyReact","messengerComposeViewHeaderReact","messengerTextWithEmojiInputReact","MessengerPlatformCTAShareMutationWebGraphQLMutation"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=j._("Send"),l=c("ReasonReact").reducerComponent("messengerPreviewDialogReact");function m(t,u){u[2][3][0]=t==null?0:[t];return 0}function n(t){return c("bs_block").__(0,[t])}function o(t){return c("bs_block").__(1,[t])}function p(){return 0}function q(t,u,v){new(c("AsyncRequest"))(t.getURI(u)).setMethod("POST").setHandler(v).send();return 0}function r(t,u,v,w,x,y,z,A,B,C){__p&&__p();var D=function D(H){if(H)return 0;else return c("bs_curry")._1(z,0)},E=function E(H){if(H.payload.success)return 2;else return c("bs_block").__(2,[c("bs_js_primitive").null_undefined_to_opt(H.payload.error)])},F=function F(C,H){var I=H[2],J={},K=I[3][0],L=K?[K[0].getValue()]:0;I[0].forEach(function(M,C,N){J[String(c("MercuryLocalIDs").generateOfflineThreadingID(undefined))]=M.getUniqueID();return true});q(c("MessengerPlatformCTAShareMutationWebGraphQLMutation"),{cta_id:y,message_id:A,thread_ids:J,message_text:String(L)},c("bs_curry")._1(H[1],E));c("bs_curry")._2(H[1],function(){return 1},0);return D(false)},G=l.slice();G[9]=function(H){__p&&__p();var I=H[2],J=I[2],K=I[1],L;if(J!==0)L=c("React").createElement("div",undefined,c("ReasonReact").element(0,0,c("messengerSpinnerReact").make(0,0,0,[])),c("React").createElement("span",{className:"_3b2o _3-99"},j._("Sending...")));else if(K){var M=h("141787");L=c("React").createElement("div",{className:"_3b2o"},c("ReasonReact").element(0,0,c("imageReact").make(0,0,[M],0,0,0,0,[])),c("React").createElement("span",{className:"_3-99"},K[0]))}else L=null;return c("ReasonReact").element(0,0,c("messengerDialogReact").Dialog[0](0,D,0,[B],0,0,[560],[c("ReasonReact").element(0,0,c("messengerDialogReact").Header[0](0,0,c("ReasonReact").element(0,0,c("messengerDialogReact").Title[0](0,[t])))),c("ReasonReact").element(0,0,c("messengerDialogBodyReact").make(["_3b2u"],[c("React").createElement("div",{className:"_3b2s"},c("ReasonReact").element(0,[c("bs_curry")._1(H[0],m)],c("messengerTextWithEmojiInputReact").make(["_3b2r"],0,0,0,["Write a message..."],0,[]))),c("React").createElement("div",{className:"_3b2s"},c("React").createElement("div",{className:"_3b2p"},c("ReasonReact").element(0,0,c("imageReact").make(0,0,[w],0,0,0,0,[]))),c("React").createElement("div",{className:"_3b2v"},c("React").createElement("div",{className:"_3b2y _3b30"},u),c("React").createElement("div",{className:"_3b30"},v),c("React").createElement("div",{className:"_3b2_ _3b2w"},x))),c("ReasonReact").element(0,0,c("messengerComposeViewHeaderReact").make(["_wl1"],0,[c("bs_curry")._1(H[1],p)],c("bs_curry")._1(H[1],n),c("bs_curry")._1(H[1],o),function(){return 0},I[0],c("CurrentUser").getID(),[]))])),c("ReasonReact").element(0,0,c("messengerDialogReact").Footer[0](0,[L],[c("ReasonReact").element(0,0,c("messengerDialogReact").CancelButton[0](0,[])),c("ReasonReact").element(0,0,c("messengerDialogReact").Button[0]([2],[k],[+I[0].isEmpty()||I[2]],0,[c("bs_curry")._1(H[0],F)],[0],0,0,[]))]))]))};G[10]=function(){return[c("immutable").List([]),0,0,[0]]};G[12]=function(H,I){__p&&__p();if(typeof H==="number")switch(H){case 0:return c("bs_block").__(0,[[c("immutable").List([]),I[1],I[2],I[3]]]);case 1:return c("bs_block").__(0,[[I[0],0,1,I[3]]]);case 2:return c("bs_block").__(3,[[c("immutable").List([]),0,0,[0]],function(){return c("bs_curry")._1(z,0)}])}else switch(H.tag|0){case 0:return c("bs_block").__(0,[[I[0].push(H[0]),I[1],I[2],I[3]]]);case 1:var J=H[0];return c("bs_block").__(0,[[I[0].filter(function(K){return c("bs_js_boolean").to_js_boolean(+(K!==J))}),I[1],I[2],I[3]]]);case 2:return c("bs_block").__(0,[[I[0],H[0],0,I[3]]])}};return G}var s=c("ReasonReact").wrapReasonForJs(l,function(t){return r(t.title,t.preview_title,t.preview_subtitle,t.image_url,t.target_display,t.attachmentID,t.onClose,t.messageID,+t.shown,[])});g.sendButtonLabel=k;g.component=l;g.setInput=m;g.handleAddRecipient=n;g.handleRemoveRecipient=o;g.handleClear=p;g.sendData=q;g.make=r;g.jsComponent=s}),null);